<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.compiler/share/classes/com/sun/tools/javac/util/Names.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../tree/TreeScanner.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/toolkit/util/Utils.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/util/Names.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 1999, 2019, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package com.sun.tools.javac.util;
 27 
<span class="line-removed"> 28 import java.util.Set;</span>
<span class="line-removed"> 29 </span>
 30 /**
 31  * Access to the compiler&#39;s name table.  Standard names are defined,
 32  * as well as methods to create new names.
 33  *
 34  *  &lt;p&gt;&lt;b&gt;This is NOT part of any supported API.
 35  *  If you write code that depends on this, you do so at your own risk.
 36  *  This code and its internal interfaces are subject to change or
 37  *  deletion without notice.&lt;/b&gt;
 38  */
 39 public class Names {
 40 
 41     public static final Context.Key&lt;Names&gt; namesKey = new Context.Key&lt;&gt;();
 42 
 43     public static Names instance(Context context) {
 44         Names instance = context.get(namesKey);
 45         if (instance == null) {
 46             instance = new Names(context);
 47             context.put(namesKey, instance);
 48         }
 49         return instance;
</pre>
<hr />
<pre>
150     public final Name MethodParameters;
151     public final Name Module;
152     public final Name ModuleResolution;
153     public final Name NestHost;
154     public final Name NestMembers;
155     public final Name Record;
156     public final Name RuntimeInvisibleAnnotations;
157     public final Name RuntimeInvisibleParameterAnnotations;
158     public final Name RuntimeInvisibleTypeAnnotations;
159     public final Name RuntimeVisibleAnnotations;
160     public final Name RuntimeVisibleParameterAnnotations;
161     public final Name RuntimeVisibleTypeAnnotations;
162     public final Name Signature;
163     public final Name SourceFile;
164     public final Name SourceID;
165     public final Name StackMap;
166     public final Name StackMapTable;
167     public final Name Synthetic;
168     public final Name Value;
169     public final Name Varargs;

170 
171     // members of java.lang.annotation.ElementType
172     public final Name ANNOTATION_TYPE;
173     public final Name CONSTRUCTOR;
174     public final Name FIELD;
175     public final Name LOCAL_VARIABLE;
176     public final Name METHOD;
177     public final Name MODULE;
178     public final Name PACKAGE;
179     public final Name PARAMETER;
180     public final Name TYPE;
181     public final Name TYPE_PARAMETER;
182     public final Name TYPE_USE;
183     public final Name RECORD_COMPONENT;
184 
185     // members of java.lang.annotation.RetentionPolicy
186     public final Name CLASS;
187     public final Name RUNTIME;
188     public final Name SOURCE;
189 
</pre>
<hr />
<pre>
198     public final Name lambda;
199     public final Name metafactory;
200     public final Name altMetafactory;
201     public final Name dollarThis;
202 
203     // string concat
204     public final Name makeConcat;
205     public final Name makeConcatWithConstants;
206 
207     // values
208     public final Name dollarValue;
209     public final Name ref;
210     public final Name val;
211 
212 
213     // record related
214     // members of java.lang.runtime.ObjectMethods
215     public final Name bootstrap;
216 
217     public final Name record;

218 
219     // serialization members, used by records too
220     public final Name serialPersistentFields;
221     public final Name writeObject;
222     public final Name writeReplace;
223     public final Name readObjectNoData;
224 




225     public final Name.Table table;
226 
227     public Names(Context context) {
228         Options options = Options.instance(context);
229         table = createTable(options);
230 
231         // operators and punctuation
232         asterisk = fromString(&quot;*&quot;);
233         comma = fromString(&quot;,&quot;);
234         empty = fromString(&quot;&quot;);
235         hyphen = fromString(&quot;-&quot;);
236         one = fromString(&quot;1&quot;);
237         slash = fromString(&quot;/&quot;);
238 
239         // keywords
240         _class = fromString(&quot;class&quot;);
241         _default = fromString(&quot;default&quot;);
242         _super = fromString(&quot;super&quot;);
243         _this = fromString(&quot;this&quot;);
244         var = fromString(&quot;var&quot;);
</pre>
<hr />
<pre>
330         MethodParameters = fromString(&quot;MethodParameters&quot;);
331         Module = fromString(&quot;Module&quot;);
332         ModuleResolution = fromString(&quot;ModuleResolution&quot;);
333         NestHost = fromString(&quot;NestHost&quot;);
334         NestMembers = fromString(&quot;NestMembers&quot;);
335         Record = fromString(&quot;Record&quot;);
336         RuntimeInvisibleAnnotations = fromString(&quot;RuntimeInvisibleAnnotations&quot;);
337         RuntimeInvisibleParameterAnnotations = fromString(&quot;RuntimeInvisibleParameterAnnotations&quot;);
338         RuntimeInvisibleTypeAnnotations = fromString(&quot;RuntimeInvisibleTypeAnnotations&quot;);
339         RuntimeVisibleAnnotations = fromString(&quot;RuntimeVisibleAnnotations&quot;);
340         RuntimeVisibleParameterAnnotations = fromString(&quot;RuntimeVisibleParameterAnnotations&quot;);
341         RuntimeVisibleTypeAnnotations = fromString(&quot;RuntimeVisibleTypeAnnotations&quot;);
342         Signature = fromString(&quot;Signature&quot;);
343         SourceFile = fromString(&quot;SourceFile&quot;);
344         SourceID = fromString(&quot;SourceID&quot;);
345         StackMap = fromString(&quot;StackMap&quot;);
346         StackMapTable = fromString(&quot;StackMapTable&quot;);
347         Synthetic = fromString(&quot;Synthetic&quot;);
348         Value = fromString(&quot;Value&quot;);
349         Varargs = fromString(&quot;Varargs&quot;);

350 
351         // members of java.lang.annotation.ElementType
352         ANNOTATION_TYPE = fromString(&quot;ANNOTATION_TYPE&quot;);
353         CONSTRUCTOR = fromString(&quot;CONSTRUCTOR&quot;);
354         FIELD = fromString(&quot;FIELD&quot;);
355         LOCAL_VARIABLE = fromString(&quot;LOCAL_VARIABLE&quot;);
356         METHOD = fromString(&quot;METHOD&quot;);
357         MODULE = fromString(&quot;MODULE&quot;);
358         PACKAGE = fromString(&quot;PACKAGE&quot;);
359         PARAMETER = fromString(&quot;PARAMETER&quot;);
360         TYPE = fromString(&quot;TYPE&quot;);
361         TYPE_PARAMETER = fromString(&quot;TYPE_PARAMETER&quot;);
362         TYPE_USE = fromString(&quot;TYPE_USE&quot;);
363         RECORD_COMPONENT = fromString(&quot;RECORD_COMPONENT&quot;);
364 
365         // members of java.lang.annotation.RetentionPolicy
366         CLASS = fromString(&quot;CLASS&quot;);
367         RUNTIME = fromString(&quot;RUNTIME&quot;);
368         SOURCE = fromString(&quot;SOURCE&quot;);
369 
</pre>
<hr />
<pre>
373         module_info = fromString(&quot;module-info&quot;);
374         package_info = fromString(&quot;package-info&quot;);
375         requireNonNull = fromString(&quot;requireNonNull&quot;);
376 
377         //lambda-related
378         lambda = fromString(&quot;lambda$&quot;);
379         metafactory = fromString(&quot;metafactory&quot;);
380         altMetafactory = fromString(&quot;altMetafactory&quot;);
381 
382         // string concat
383         makeConcat = fromString(&quot;makeConcat&quot;);
384         makeConcatWithConstants = fromString(&quot;makeConcatWithConstants&quot;);
385 
386         // value types
387         dollarValue = fromString(&quot;$value&quot;);
388         ref = fromString(&quot;ref&quot;);
389         val = fromString(&quot;val&quot;);
390 
391         bootstrap = fromString(&quot;bootstrap&quot;);
392         record = fromString(&quot;record&quot;);

393 
394         serialPersistentFields = fromString(&quot;serialPersistentFields&quot;);
395         writeObject = fromString(&quot;writeObject&quot;);
396         writeReplace = fromString(&quot;writeReplace&quot;);
397         readObjectNoData = fromString(&quot;readObjectNoData&quot;);




398     }
399 
400     protected Name.Table createTable(Options options) {
401         boolean useUnsharedTable = options.isSet(&quot;useUnsharedTable&quot;);
402         if (useUnsharedTable)
403             return UnsharedNameTable.create(this);
404         else
405             return SharedNameTable.create(this);
406     }
407 
408     public void dispose() {
409         table.dispose();
410     }
411 
412     public Name fromChars(char[] cs, int start, int len) {
413         return table.fromChars(cs, start, len);
414     }
415 
416     public Name fromString(String s) {
417         return table.fromString(s);
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 1999, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package com.sun.tools.javac.util;
 27 


 28 /**
 29  * Access to the compiler&#39;s name table.  Standard names are defined,
 30  * as well as methods to create new names.
 31  *
 32  *  &lt;p&gt;&lt;b&gt;This is NOT part of any supported API.
 33  *  If you write code that depends on this, you do so at your own risk.
 34  *  This code and its internal interfaces are subject to change or
 35  *  deletion without notice.&lt;/b&gt;
 36  */
 37 public class Names {
 38 
 39     public static final Context.Key&lt;Names&gt; namesKey = new Context.Key&lt;&gt;();
 40 
 41     public static Names instance(Context context) {
 42         Names instance = context.get(namesKey);
 43         if (instance == null) {
 44             instance = new Names(context);
 45             context.put(namesKey, instance);
 46         }
 47         return instance;
</pre>
<hr />
<pre>
148     public final Name MethodParameters;
149     public final Name Module;
150     public final Name ModuleResolution;
151     public final Name NestHost;
152     public final Name NestMembers;
153     public final Name Record;
154     public final Name RuntimeInvisibleAnnotations;
155     public final Name RuntimeInvisibleParameterAnnotations;
156     public final Name RuntimeInvisibleTypeAnnotations;
157     public final Name RuntimeVisibleAnnotations;
158     public final Name RuntimeVisibleParameterAnnotations;
159     public final Name RuntimeVisibleTypeAnnotations;
160     public final Name Signature;
161     public final Name SourceFile;
162     public final Name SourceID;
163     public final Name StackMap;
164     public final Name StackMapTable;
165     public final Name Synthetic;
166     public final Name Value;
167     public final Name Varargs;
<span class="line-added">168     public final Name PermittedSubclasses;</span>
169 
170     // members of java.lang.annotation.ElementType
171     public final Name ANNOTATION_TYPE;
172     public final Name CONSTRUCTOR;
173     public final Name FIELD;
174     public final Name LOCAL_VARIABLE;
175     public final Name METHOD;
176     public final Name MODULE;
177     public final Name PACKAGE;
178     public final Name PARAMETER;
179     public final Name TYPE;
180     public final Name TYPE_PARAMETER;
181     public final Name TYPE_USE;
182     public final Name RECORD_COMPONENT;
183 
184     // members of java.lang.annotation.RetentionPolicy
185     public final Name CLASS;
186     public final Name RUNTIME;
187     public final Name SOURCE;
188 
</pre>
<hr />
<pre>
197     public final Name lambda;
198     public final Name metafactory;
199     public final Name altMetafactory;
200     public final Name dollarThis;
201 
202     // string concat
203     public final Name makeConcat;
204     public final Name makeConcatWithConstants;
205 
206     // values
207     public final Name dollarValue;
208     public final Name ref;
209     public final Name val;
210 
211 
212     // record related
213     // members of java.lang.runtime.ObjectMethods
214     public final Name bootstrap;
215 
216     public final Name record;
<span class="line-added">217     public final Name non;</span>
218 
219     // serialization members, used by records too
220     public final Name serialPersistentFields;
221     public final Name writeObject;
222     public final Name writeReplace;
223     public final Name readObjectNoData;
224 
<span class="line-added">225     // sealed types</span>
<span class="line-added">226     public final Name permits;</span>
<span class="line-added">227     public final Name sealed;</span>
<span class="line-added">228 </span>
229     public final Name.Table table;
230 
231     public Names(Context context) {
232         Options options = Options.instance(context);
233         table = createTable(options);
234 
235         // operators and punctuation
236         asterisk = fromString(&quot;*&quot;);
237         comma = fromString(&quot;,&quot;);
238         empty = fromString(&quot;&quot;);
239         hyphen = fromString(&quot;-&quot;);
240         one = fromString(&quot;1&quot;);
241         slash = fromString(&quot;/&quot;);
242 
243         // keywords
244         _class = fromString(&quot;class&quot;);
245         _default = fromString(&quot;default&quot;);
246         _super = fromString(&quot;super&quot;);
247         _this = fromString(&quot;this&quot;);
248         var = fromString(&quot;var&quot;);
</pre>
<hr />
<pre>
334         MethodParameters = fromString(&quot;MethodParameters&quot;);
335         Module = fromString(&quot;Module&quot;);
336         ModuleResolution = fromString(&quot;ModuleResolution&quot;);
337         NestHost = fromString(&quot;NestHost&quot;);
338         NestMembers = fromString(&quot;NestMembers&quot;);
339         Record = fromString(&quot;Record&quot;);
340         RuntimeInvisibleAnnotations = fromString(&quot;RuntimeInvisibleAnnotations&quot;);
341         RuntimeInvisibleParameterAnnotations = fromString(&quot;RuntimeInvisibleParameterAnnotations&quot;);
342         RuntimeInvisibleTypeAnnotations = fromString(&quot;RuntimeInvisibleTypeAnnotations&quot;);
343         RuntimeVisibleAnnotations = fromString(&quot;RuntimeVisibleAnnotations&quot;);
344         RuntimeVisibleParameterAnnotations = fromString(&quot;RuntimeVisibleParameterAnnotations&quot;);
345         RuntimeVisibleTypeAnnotations = fromString(&quot;RuntimeVisibleTypeAnnotations&quot;);
346         Signature = fromString(&quot;Signature&quot;);
347         SourceFile = fromString(&quot;SourceFile&quot;);
348         SourceID = fromString(&quot;SourceID&quot;);
349         StackMap = fromString(&quot;StackMap&quot;);
350         StackMapTable = fromString(&quot;StackMapTable&quot;);
351         Synthetic = fromString(&quot;Synthetic&quot;);
352         Value = fromString(&quot;Value&quot;);
353         Varargs = fromString(&quot;Varargs&quot;);
<span class="line-added">354         PermittedSubclasses = fromString(&quot;PermittedSubclasses&quot;);</span>
355 
356         // members of java.lang.annotation.ElementType
357         ANNOTATION_TYPE = fromString(&quot;ANNOTATION_TYPE&quot;);
358         CONSTRUCTOR = fromString(&quot;CONSTRUCTOR&quot;);
359         FIELD = fromString(&quot;FIELD&quot;);
360         LOCAL_VARIABLE = fromString(&quot;LOCAL_VARIABLE&quot;);
361         METHOD = fromString(&quot;METHOD&quot;);
362         MODULE = fromString(&quot;MODULE&quot;);
363         PACKAGE = fromString(&quot;PACKAGE&quot;);
364         PARAMETER = fromString(&quot;PARAMETER&quot;);
365         TYPE = fromString(&quot;TYPE&quot;);
366         TYPE_PARAMETER = fromString(&quot;TYPE_PARAMETER&quot;);
367         TYPE_USE = fromString(&quot;TYPE_USE&quot;);
368         RECORD_COMPONENT = fromString(&quot;RECORD_COMPONENT&quot;);
369 
370         // members of java.lang.annotation.RetentionPolicy
371         CLASS = fromString(&quot;CLASS&quot;);
372         RUNTIME = fromString(&quot;RUNTIME&quot;);
373         SOURCE = fromString(&quot;SOURCE&quot;);
374 
</pre>
<hr />
<pre>
378         module_info = fromString(&quot;module-info&quot;);
379         package_info = fromString(&quot;package-info&quot;);
380         requireNonNull = fromString(&quot;requireNonNull&quot;);
381 
382         //lambda-related
383         lambda = fromString(&quot;lambda$&quot;);
384         metafactory = fromString(&quot;metafactory&quot;);
385         altMetafactory = fromString(&quot;altMetafactory&quot;);
386 
387         // string concat
388         makeConcat = fromString(&quot;makeConcat&quot;);
389         makeConcatWithConstants = fromString(&quot;makeConcatWithConstants&quot;);
390 
391         // value types
392         dollarValue = fromString(&quot;$value&quot;);
393         ref = fromString(&quot;ref&quot;);
394         val = fromString(&quot;val&quot;);
395 
396         bootstrap = fromString(&quot;bootstrap&quot;);
397         record = fromString(&quot;record&quot;);
<span class="line-added">398         non = fromString(&quot;non&quot;);</span>
399 
400         serialPersistentFields = fromString(&quot;serialPersistentFields&quot;);
401         writeObject = fromString(&quot;writeObject&quot;);
402         writeReplace = fromString(&quot;writeReplace&quot;);
403         readObjectNoData = fromString(&quot;readObjectNoData&quot;);
<span class="line-added">404 </span>
<span class="line-added">405         // sealed types</span>
<span class="line-added">406         permits = fromString(&quot;permits&quot;);</span>
<span class="line-added">407         sealed = fromString(&quot;sealed&quot;);</span>
408     }
409 
410     protected Name.Table createTable(Options options) {
411         boolean useUnsharedTable = options.isSet(&quot;useUnsharedTable&quot;);
412         if (useUnsharedTable)
413             return UnsharedNameTable.create(this);
414         else
415             return SharedNameTable.create(this);
416     }
417 
418     public void dispose() {
419         table.dispose();
420     }
421 
422     public Name fromChars(char[] cs, int start, int len) {
423         return table.fromChars(cs, start, len);
424     }
425 
426     public Name fromString(String s) {
427         return table.fromString(s);
</pre>
</td>
</tr>
</table>
<center><a href="../tree/TreeScanner.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/toolkit/util/Utils.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>