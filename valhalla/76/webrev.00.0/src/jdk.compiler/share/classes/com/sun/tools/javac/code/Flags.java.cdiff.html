<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.compiler/share/classes/com/sun/tools/javac/code/Flags.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../doclint/Checker.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Source.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/code/Flags.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 383,10 ***</span>
<span class="line-new-header">--- 383,20 ---</span>
      /** Flag is set for compiler-generated record members, it could be applied to
       *  accessors and fields
       */
      public static final int GENERATED_MEMBER = 1&lt;&lt;24; // MethodSymbols and VarSymbols
  
<span class="line-added">+     /**</span>
<span class="line-added">+      * Flag to indicate sealed class/interface declaration.</span>
<span class="line-added">+      */</span>
<span class="line-added">+     public static final long SEALED = 1L&lt;&lt;62; // ClassSymbols</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * Flag to indicate that the class/interface was declared with the non-sealed modifier.</span>
<span class="line-added">+      */</span>
<span class="line-added">+     public static final long NON_SEALED = 1L&lt;&lt;63; // ClassSymbols</span>
<span class="line-added">+ </span>
      /** Modifier masks.
       */
      public static final int
          AccessFlags           = PUBLIC | PROTECTED | PRIVATE,
          LocalClassFlags       = FINAL | ABSTRACT | STRICTFP | ENUM | SYNTHETIC | VALUE,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 400,29 ***</span>
          MethodFlags           = AccessFlags | ABSTRACT | STATIC | NATIVE |
                                  SYNCHRONIZED | FINAL | STRICTFP,
          RecordMethodFlags     = AccessFlags | ABSTRACT | STATIC |
                                  SYNCHRONIZED | FINAL | STRICTFP;
      public static final long
<span class="line-modified">!         ExtendedStandardFlags       = (long)StandardFlags | DEFAULT | VALUE,</span>
<span class="line-modified">!         ModifierFlags               = ((long)StandardFlags &amp; ~INTERFACE) | DEFAULT,</span>
          InterfaceMethodMask         = ABSTRACT | PRIVATE | STATIC | PUBLIC | STRICTFP | DEFAULT,
          AnnotationTypeElementMask   = ABSTRACT | PUBLIC,
          LocalVarFlags               = FINAL | PARAMETER,
          VarFlags              = AccessFlags | FINAL | STATIC |
                                  VOLATILE | TRANSIENT | ENUM,
          ReceiverParamFlags          = PARAMETER;
  
<span class="line-modified">! </span>
      public static Set&lt;Modifier&gt; asModifierSet(long flags) {
          Set&lt;Modifier&gt; modifiers = modifierSets.get(flags);
          if (modifiers == null) {
              modifiers = java.util.EnumSet.noneOf(Modifier.class);
              if (0 != (flags &amp; PUBLIC))    modifiers.add(Modifier.PUBLIC);
              if (0 != (flags &amp; PROTECTED)) modifiers.add(Modifier.PROTECTED);
              if (0 != (flags &amp; PRIVATE))   modifiers.add(Modifier.PRIVATE);
              if (0 != (flags &amp; ABSTRACT))  modifiers.add(Modifier.ABSTRACT);
              if (0 != (flags &amp; STATIC))    modifiers.add(Modifier.STATIC);
              if (0 != (flags &amp; FINAL))     modifiers.add(Modifier.FINAL);
              if (0 != (flags &amp; TRANSIENT)) modifiers.add(Modifier.TRANSIENT);
              if (0 != (flags &amp; VOLATILE))  modifiers.add(Modifier.VOLATILE);
              if (0 != (flags &amp; SYNCHRONIZED))
                                            modifiers.add(Modifier.SYNCHRONIZED);
<span class="line-new-header">--- 410,34 ---</span>
          MethodFlags           = AccessFlags | ABSTRACT | STATIC | NATIVE |
                                  SYNCHRONIZED | FINAL | STRICTFP,
          RecordMethodFlags     = AccessFlags | ABSTRACT | STATIC |
                                  SYNCHRONIZED | FINAL | STRICTFP;
      public static final long
<span class="line-modified">!         ExtendedStandardFlags       = (long)StandardFlags | DEFAULT | SEALED | NON_SEALED | VALUE,</span>
<span class="line-modified">!         ExtendedMemberClassFlags    = (long)MemberClassFlags | SEALED | NON_SEALED,</span>
<span class="line-added">+         ExtendedClassFlags          = (long)ClassFlags | SEALED | NON_SEALED,</span>
<span class="line-added">+         ModifierFlags               = ((long)StandardFlags &amp; ~INTERFACE) | DEFAULT | SEALED | NON_SEALED,</span>
          InterfaceMethodMask         = ABSTRACT | PRIVATE | STATIC | PUBLIC | STRICTFP | DEFAULT,
          AnnotationTypeElementMask   = ABSTRACT | PUBLIC,
          LocalVarFlags               = FINAL | PARAMETER,
          VarFlags              = AccessFlags | FINAL | STATIC |
                                  VOLATILE | TRANSIENT | ENUM,
          ReceiverParamFlags          = PARAMETER;
  
<span class="line-modified">!     @SuppressWarnings(&quot;preview&quot;)</span>
      public static Set&lt;Modifier&gt; asModifierSet(long flags) {
          Set&lt;Modifier&gt; modifiers = modifierSets.get(flags);
          if (modifiers == null) {
              modifiers = java.util.EnumSet.noneOf(Modifier.class);
              if (0 != (flags &amp; PUBLIC))    modifiers.add(Modifier.PUBLIC);
              if (0 != (flags &amp; PROTECTED)) modifiers.add(Modifier.PROTECTED);
              if (0 != (flags &amp; PRIVATE))   modifiers.add(Modifier.PRIVATE);
              if (0 != (flags &amp; ABSTRACT))  modifiers.add(Modifier.ABSTRACT);
              if (0 != (flags &amp; STATIC))    modifiers.add(Modifier.STATIC);
<span class="line-added">+             if (0 != (flags &amp; SEALED))    modifiers.add(Modifier.SEALED);</span>
<span class="line-added">+             if (0 != (flags &amp; NON_SEALED))</span>
<span class="line-added">+                                           modifiers.add(Modifier.NON_SEALED);</span>
              if (0 != (flags &amp; FINAL))     modifiers.add(Modifier.FINAL);
              if (0 != (flags &amp; TRANSIENT)) modifiers.add(Modifier.TRANSIENT);
              if (0 != (flags &amp; VOLATILE))  modifiers.add(Modifier.VOLATILE);
              if (0 != (flags &amp; SYNCHRONIZED))
                                            modifiers.add(Modifier.SYNCHRONIZED);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 514,11 ***</span>
          NAME_FILLED(Flags.NAME_FILLED),
          PREVIEW_API(Flags.PREVIEW_API),
          PREVIEW_ESSENTIAL_API(Flags.PREVIEW_ESSENTIAL_API),
          MATCH_BINDING(Flags.MATCH_BINDING),
          MATCH_BINDING_TO_OUTER(Flags.MATCH_BINDING_TO_OUTER),
<span class="line-modified">!         RECORD(Flags.RECORD);</span>
  
          Flag(long flag) {
              this.value = flag;
              this.lowercaseName = StringUtils.toLowerCase(name());
          }
<span class="line-new-header">--- 529,18 ---</span>
          NAME_FILLED(Flags.NAME_FILLED),
          PREVIEW_API(Flags.PREVIEW_API),
          PREVIEW_ESSENTIAL_API(Flags.PREVIEW_ESSENTIAL_API),
          MATCH_BINDING(Flags.MATCH_BINDING),
          MATCH_BINDING_TO_OUTER(Flags.MATCH_BINDING_TO_OUTER),
<span class="line-modified">!         RECORD(Flags.RECORD),</span>
<span class="line-added">+         SEALED(Flags.SEALED),</span>
<span class="line-added">+         NON_SEALED(Flags.NON_SEALED) {</span>
<span class="line-added">+             @Override</span>
<span class="line-added">+             public String toString() {</span>
<span class="line-added">+                 return &quot;non-sealed&quot;;</span>
<span class="line-added">+             }</span>
<span class="line-added">+         };</span>
  
          Flag(long flag) {
              this.value = flag;
              this.lowercaseName = StringUtils.toLowerCase(name());
          }
</pre>
<center><a href="../../doclint/Checker.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Source.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>