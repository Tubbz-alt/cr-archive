<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/cpu/aarch64/macroAssembler_aarch64.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="c1_LIRGenerator_aarch64.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="macroAssembler_aarch64.hpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/aarch64/macroAssembler_aarch64.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 59,15 ***</span>
  #include &quot;opto/output.hpp&quot;
  #endif
  
  #ifdef PRODUCT
  #define BLOCK_COMMENT(str) /* nothing */
<span class="line-removed">- #define STOP(error) stop(error)</span>
  #else
  #define BLOCK_COMMENT(str) block_comment(str)
<span class="line-modified">! #define STOP(error) block_comment(error); stop(error)</span>
<span class="line-removed">- #endif</span>
  #define STOP(str) stop(str);
  #define BIND(label) bind(label); BLOCK_COMMENT(#label &quot;:&quot;)
  
  // Patch any kind of instruction; there may be several instructions.
  // Return the total length (in bytes) of the instructions.
<span class="line-new-header">--- 59,13 ---</span>
  #include &quot;opto/output.hpp&quot;
  #endif
  
  #ifdef PRODUCT
  #define BLOCK_COMMENT(str) /* nothing */
  #else
  #define BLOCK_COMMENT(str) block_comment(str)
<span class="line-modified">! #endif</span>
  #define STOP(str) stop(str);
  #define BIND(label) bind(label); BLOCK_COMMENT(#label &quot;:&quot;)
  
  // Patch any kind of instruction; there may be several instructions.
  // Return the total length (in bytes) of the instructions.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2267,26 ***</span>
    verify_oop(value);
    bind(done);
  }
  
  void MacroAssembler::stop(const char* msg) {
<span class="line-modified">!   address ip = pc();</span>
<span class="line-modified">!   pusha();</span>
<span class="line-modified">!   mov(c_rarg0, (address)msg);</span>
<span class="line-removed">-   mov(c_rarg1, (address)ip);</span>
<span class="line-removed">-   mov(c_rarg2, sp);</span>
<span class="line-removed">-   mov(c_rarg3, CAST_FROM_FN_PTR(address, MacroAssembler::debug64));</span>
<span class="line-removed">-   blr(c_rarg3);</span>
<span class="line-removed">-   hlt(0);</span>
<span class="line-removed">- }</span>
<span class="line-removed">- </span>
<span class="line-removed">- void MacroAssembler::warn(const char* msg) {</span>
<span class="line-removed">-   pusha();</span>
<span class="line-removed">-   mov(c_rarg0, (address)msg);</span>
<span class="line-removed">-   mov(lr, CAST_FROM_FN_PTR(address, warning));</span>
<span class="line-removed">-   blr(lr);</span>
<span class="line-removed">-   popa();</span>
  }
  
  void MacroAssembler::unimplemented(const char* what) {
    const char* buf = NULL;
    {
<span class="line-new-header">--- 2265,13 ---</span>
    verify_oop(value);
    bind(done);
  }
  
  void MacroAssembler::stop(const char* msg) {
<span class="line-modified">!   BLOCK_COMMENT(msg);</span>
<span class="line-modified">!   dcps1(0xdeae);</span>
<span class="line-modified">!   emit_int64((uintptr_t)msg);</span>
  }
  
  void MacroAssembler::unimplemented(const char* what) {
    const char* buf = NULL;
    {
</pre>
<center><a href="c1_LIRGenerator_aarch64.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="macroAssembler_aarch64.hpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>