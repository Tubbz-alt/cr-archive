<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/jdk/internal/org/objectweb/asm/ClassReader.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../java/lang/invoke/VarHandles.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Constants.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/jdk/internal/org/objectweb/asm/ClassReader.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 497,12 ***</span>
          String moduleMainClass = null;
          // - The string corresponding to the NestHost attribute, or null.
          String nestHostClass = null;
          // - The offset of the NestMembers attribute, or 0.
          int nestMembersOffset = 0;
<span class="line-modified">!         // - The offset of the PermittedSubtypes attribute, or 0</span>
<span class="line-modified">!         int permittedSubtypesOffset = 0;</span>
          // - The offset of the Record attribute, or 0.
          int recordOffset = 0;
          // - The non standard attributes (linked with their {@link Attribute#nextAttribute} field).
          //   This list in the &lt;i&gt;reverse order&lt;/i&gt; or their order in the ClassFile structure.
          Attribute attributes = null;
<span class="line-new-header">--- 497,12 ---</span>
          String moduleMainClass = null;
          // - The string corresponding to the NestHost attribute, or null.
          String nestHostClass = null;
          // - The offset of the NestMembers attribute, or 0.
          int nestMembersOffset = 0;
<span class="line-modified">!         // - The offset of the PermittedSubclasses attribute, or 0</span>
<span class="line-modified">!         int permittedSubclassesOffset = 0;</span>
          // - The offset of the Record attribute, or 0.
          int recordOffset = 0;
          // - The non standard attributes (linked with their {@link Attribute#nextAttribute} field).
          //   This list in the &lt;i&gt;reverse order&lt;/i&gt; or their order in the ClassFile structure.
          Attribute attributes = null;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 523,12 ***</span>
                  enclosingMethodOffset = currentAttributeOffset;
              } else if (Constants.NEST_HOST.equals(attributeName)) {
                  nestHostClass = readClass(currentAttributeOffset, charBuffer);
              } else if (Constants.NEST_MEMBERS.equals(attributeName)) {
                  nestMembersOffset = currentAttributeOffset;
<span class="line-modified">!             } else if (Constants.PERMITTED_SUBTYPES.equals(attributeName)) {</span>
<span class="line-modified">!                 permittedSubtypesOffset = currentAttributeOffset;</span>
              } else if (Constants.SIGNATURE.equals(attributeName)) {
                  signature = readUTF8(currentAttributeOffset, charBuffer);
              } else if (Constants.RUNTIME_VISIBLE_ANNOTATIONS.equals(attributeName)) {
                  runtimeVisibleAnnotationsOffset = currentAttributeOffset;
              } else if (Constants.RUNTIME_VISIBLE_TYPE_ANNOTATIONS.equals(attributeName)) {
<span class="line-new-header">--- 523,12 ---</span>
                  enclosingMethodOffset = currentAttributeOffset;
              } else if (Constants.NEST_HOST.equals(attributeName)) {
                  nestHostClass = readClass(currentAttributeOffset, charBuffer);
              } else if (Constants.NEST_MEMBERS.equals(attributeName)) {
                  nestMembersOffset = currentAttributeOffset;
<span class="line-modified">!             } else if (Constants.PERMITTED_SUBCLASSES.equals(attributeName)) {</span>
<span class="line-modified">!                 permittedSubclassesOffset = currentAttributeOffset;</span>
              } else if (Constants.SIGNATURE.equals(attributeName)) {
                  signature = readUTF8(currentAttributeOffset, charBuffer);
              } else if (Constants.RUNTIME_VISIBLE_ANNOTATIONS.equals(attributeName)) {
                  runtimeVisibleAnnotationsOffset = currentAttributeOffset;
              } else if (Constants.RUNTIME_VISIBLE_TYPE_ANNOTATIONS.equals(attributeName)) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 702,18 ***</span>
                  classVisitor.visitNestMember(readClass(currentNestMemberOffset, charBuffer));
                  currentNestMemberOffset += 2;
              }
          }
  
<span class="line-modified">!         // Visit the PermittedSubtypes attribute.</span>
<span class="line-modified">!         if (permittedSubtypesOffset != 0) {</span>
<span class="line-modified">!             int numberOfPermittedSubtypes = readUnsignedShort(permittedSubtypesOffset);</span>
<span class="line-modified">!             int currentPermittedSubtypeOffset = permittedSubtypesOffset + 2;</span>
<span class="line-modified">!             while (numberOfPermittedSubtypes-- &gt; 0) {</span>
<span class="line-modified">!                 classVisitor.visitPermittedSubtypeExperimental(</span>
<span class="line-modified">!                         readClass(currentPermittedSubtypeOffset, charBuffer));</span>
<span class="line-modified">!                 currentPermittedSubtypeOffset += 2;</span>
              }
          }
  
          // Visit the InnerClasses attribute.
          if (innerClassesOffset != 0) {
<span class="line-new-header">--- 702,18 ---</span>
                  classVisitor.visitNestMember(readClass(currentNestMemberOffset, charBuffer));
                  currentNestMemberOffset += 2;
              }
          }
  
<span class="line-modified">!         // Visit the PermittedSubclasses attribute.</span>
<span class="line-modified">!         if (permittedSubclassesOffset != 0) {</span>
<span class="line-modified">!             int numberOfPermittedSubclasses = readUnsignedShort(permittedSubclassesOffset);</span>
<span class="line-modified">!             int currentPermittedSubclassOffset = permittedSubclassesOffset + 2;</span>
<span class="line-modified">!             while (numberOfPermittedSubclasses-- &gt; 0) {</span>
<span class="line-modified">!                 classVisitor.visitPermittedSubclassExperimental(</span>
<span class="line-modified">!                         readClass(currentPermittedSubclassOffset, charBuffer));</span>
<span class="line-modified">!                 currentPermittedSubclassOffset += 2;</span>
              }
          }
  
          // Visit the InnerClasses attribute.
          if (innerClassesOffset != 0) {
</pre>
<center><a href="../../../../../java/lang/invoke/VarHandles.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Constants.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>