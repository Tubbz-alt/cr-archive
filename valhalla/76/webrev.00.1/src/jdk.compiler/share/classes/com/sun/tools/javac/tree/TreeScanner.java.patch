diff a/src/jdk.compiler/share/classes/com/sun/tools/javac/tree/TreeScanner.java b/src/jdk.compiler/share/classes/com/sun/tools/javac/tree/TreeScanner.java
--- a/src/jdk.compiler/share/classes/com/sun/tools/javac/tree/TreeScanner.java
+++ b/src/jdk.compiler/share/classes/com/sun/tools/javac/tree/TreeScanner.java
@@ -152,10 +152,15 @@
     public void visitWhileLoop(JCWhileLoop tree) {
         scan(tree.cond);
         scan(tree.body);
     }
 
+    public void visitWithField(JCWithField tree) {
+        scan(tree.field);
+        scan(tree.value);
+    }
+
     public void visitForLoop(JCForLoop tree) {
         scan(tree.init);
         scan(tree.cond);
         scan(tree.step);
         scan(tree.body);
