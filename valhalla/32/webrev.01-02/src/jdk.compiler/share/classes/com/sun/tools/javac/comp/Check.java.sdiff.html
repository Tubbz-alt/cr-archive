<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.compiler/share/classes/com/sun/tools/javac/comp/Check.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../code/Types.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/comp/Check.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 881     }
 882 
 883     /** Check that flag set does not contain elements of two conflicting sets. s
 884      *  Return true if it doesn&#39;t.
 885      *  @param pos           Position to be used for error reporting.
 886      *  @param flags         The set of flags to be checked.
 887      *  @param set1          Conflicting flags set #1.
 888      *  @param set2          Conflicting flags set #2.
 889      */
 890     boolean checkDisjoint(DiagnosticPosition pos, long flags, long set1, long set2) {
 891         if ((flags &amp; set1) != 0 &amp;&amp; (flags &amp; set2) != 0) {
 892             log.error(pos,
 893                       Errors.IllegalCombinationOfModifiers(asFlagSet(TreeInfo.firstFlag(flags &amp; set1)),
 894                                                            asFlagSet(TreeInfo.firstFlag(flags &amp; set2))));
 895             return false;
 896         } else
 897             return true;
 898     }
 899 
 900     void checkParameterizationWithValues(DiagnosticPosition pos, Type t) {
<span class="line-modified"> 901         if (t.tsym != syms.classType.tsym) { // tolerate Value.class for now.</span>
 902             valueParameterizationChecker.visit(t, pos);
 903         }
 904     }
 905 
 906     /** valueParameterizationChecker: A type visitor that descends down the given type looking for instances of value types
 907      *  being used as type arguments and issues error against those usages.
 908      */
 909     private final Types.SimpleVisitor&lt;Void, DiagnosticPosition&gt; valueParameterizationChecker = new Types.SimpleVisitor&lt;Void, DiagnosticPosition&gt;() {
 910 
 911         @Override
 912         public Void visitType(Type t, DiagnosticPosition pos) {
 913             return null;
 914         }
 915 
 916         @Override
 917         public Void visitClassType(ClassType t, DiagnosticPosition pos) {
 918             for (Type targ : t.allparams()) {
 919                 if (types.isValue(targ)) {
 920                     log.error(pos, Errors.GenericParameterizationWithValueType(t));
 921                 }
</pre>
</td>
<td>
<hr />
<pre>
 881     }
 882 
 883     /** Check that flag set does not contain elements of two conflicting sets. s
 884      *  Return true if it doesn&#39;t.
 885      *  @param pos           Position to be used for error reporting.
 886      *  @param flags         The set of flags to be checked.
 887      *  @param set1          Conflicting flags set #1.
 888      *  @param set2          Conflicting flags set #2.
 889      */
 890     boolean checkDisjoint(DiagnosticPosition pos, long flags, long set1, long set2) {
 891         if ((flags &amp; set1) != 0 &amp;&amp; (flags &amp; set2) != 0) {
 892             log.error(pos,
 893                       Errors.IllegalCombinationOfModifiers(asFlagSet(TreeInfo.firstFlag(flags &amp; set1)),
 894                                                            asFlagSet(TreeInfo.firstFlag(flags &amp; set2))));
 895             return false;
 896         } else
 897             return true;
 898     }
 899 
 900     void checkParameterizationWithValues(DiagnosticPosition pos, Type t) {
<span class="line-modified"> 901         if (t.tsym != syms.classType.tsym) { // tolerate Value.class.</span>
 902             valueParameterizationChecker.visit(t, pos);
 903         }
 904     }
 905 
 906     /** valueParameterizationChecker: A type visitor that descends down the given type looking for instances of value types
 907      *  being used as type arguments and issues error against those usages.
 908      */
 909     private final Types.SimpleVisitor&lt;Void, DiagnosticPosition&gt; valueParameterizationChecker = new Types.SimpleVisitor&lt;Void, DiagnosticPosition&gt;() {
 910 
 911         @Override
 912         public Void visitType(Type t, DiagnosticPosition pos) {
 913             return null;
 914         }
 915 
 916         @Override
 917         public Void visitClassType(ClassType t, DiagnosticPosition pos) {
 918             for (Type targ : t.allparams()) {
 919                 if (types.isValue(targ)) {
 920                     log.error(pos, Errors.GenericParameterizationWithValueType(t));
 921                 }
</pre>
</td>
</tr>
</table>
<center><a href="../code/Types.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>