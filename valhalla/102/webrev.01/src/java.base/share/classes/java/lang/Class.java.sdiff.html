<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/lang/Class.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../index.html" target="_top">index</a> <a href="invoke/AbstractValidatingLambdaMetafactory.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/lang/Class.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 550 
 551         if (cl != null) {
 552             return cl.loadClass(module, name);
 553         } else {
 554             return BootLoader.loadClass(module, name);
 555         }
 556     }
 557 
 558     /**
 559      * Returns {@code true} if this class is an inline class.
 560      *
 561      * @return {@code true} if this class is an inline class
 562      * @since Valhalla
 563      */
 564     public boolean isInlineClass() {
 565         return (this.getModifiers() &amp; INLINE) != 0;
 566     }
 567 
 568     /**
 569      * Returns a {@code Class} object representing the &lt;em&gt;value projection&lt;/em&gt;
<span class="line-modified"> 570      * type of this class if this {@code Class} is the reference projection type</span>
<span class="line-modified"> 571      * of an {@linkplain #isInlineClass() inline class}.  Otherwise an empty</span>
<span class="line-modified"> 572      * {@link Optional} is returned.</span>


 573      *
 574      * @return the {@code Class} object representing the value projection type of
<span class="line-modified"> 575      *         this class if this class is the reference projection type of an</span>
<span class="line-modified"> 576      *         inline class; an empty {@link Optional} otherwise</span>

 577      * @since Valhalla
 578      */
 579     public Optional&lt;Class&lt;T&gt;&gt; valueType() {
 580         return Optional.ofNullable(valType);
 581     }
 582 
 583     /**
 584      * Returns a {@code Class} object representing the &lt;em&gt;reference projection&lt;/em&gt;
<span class="line-modified"> 585      * type of this class if this class is an {@linkplain #isInlineClass() inline class}</span>
<span class="line-modified"> 586      * with a reference projection.</span>
<span class="line-modified"> 587      * If this class is an {@linkplain #isInlineClass() inline class}</span>
<span class="line-modified"> 588      * without a reference projection or this class is not an inline class,</span>


 589      * then this method returns an empty {@link Optional}.
 590      *
 591      * @return the {@code Class} object representing the value projection type of
<span class="line-modified"> 592      *         this class if this class is the reference projection type of an</span>
<span class="line-modified"> 593      *         inline class; an empty {@link Optional} otherwise</span>

 594      * @since Valhalla
 595      */
 596     public Optional&lt;Class&lt;T&gt;&gt; referenceType() {
 597         return valType != null ? Optional.ofNullable(refType) : Optional.of(this);
 598     }
 599 
 600     // set by VM if this class is an inline type
 601     // otherwise, these two fields are null
 602     private transient Class&lt;T&gt; valType;
 603     private transient Class&lt;T&gt; refType;
 604 
 605     /**
 606      * Creates a new instance of the class represented by this {@code Class}
 607      * object.  The class is instantiated as if by a {@code new}
 608      * expression with an empty argument list.  The class is initialized if it
 609      * has not already been initialized.
 610      *
 611      * @deprecated This method propagates any exception thrown by the
 612      * nullary constructor, including a checked exception.  Use of
 613      * this method effectively bypasses the compile-time exception
</pre>
</td>
<td>
<hr />
<pre>
 550 
 551         if (cl != null) {
 552             return cl.loadClass(module, name);
 553         } else {
 554             return BootLoader.loadClass(module, name);
 555         }
 556     }
 557 
 558     /**
 559      * Returns {@code true} if this class is an inline class.
 560      *
 561      * @return {@code true} if this class is an inline class
 562      * @since Valhalla
 563      */
 564     public boolean isInlineClass() {
 565         return (this.getModifiers() &amp; INLINE) != 0;
 566     }
 567 
 568     /**
 569      * Returns a {@code Class} object representing the &lt;em&gt;value projection&lt;/em&gt;
<span class="line-modified"> 570      * type of this class if this {@code Class} represents the reference projection</span>
<span class="line-modified"> 571      * type of an {@linkplain #isInlineClass() inline class}.</span>
<span class="line-modified"> 572      * If this {@code Class} represents the value projection type</span>
<span class="line-added"> 573      * of an inline class, then this method returns this class.</span>
<span class="line-added"> 574      * Otherwise an empty {@link Optional} is returned.</span>
 575      *
 576      * @return the {@code Class} object representing the value projection type of
<span class="line-modified"> 577      *         this class if this class is the value projection type</span>
<span class="line-modified"> 578      *         or the reference projection type of an inline class;</span>
<span class="line-added"> 579      *         an empty {@link Optional} otherwise</span>
 580      * @since Valhalla
 581      */
 582     public Optional&lt;Class&lt;T&gt;&gt; valueType() {
 583         return Optional.ofNullable(valType);
 584     }
 585 
 586     /**
 587      * Returns a {@code Class} object representing the &lt;em&gt;reference projection&lt;/em&gt;
<span class="line-modified"> 588      * type of this class if this {@code Class} represents an</span>
<span class="line-modified"> 589      * {@linkplain #isInlineClass() inline class} with a reference projection</span>
<span class="line-modified"> 590      * type. If this {@code Class} represents the reference projection type</span>
<span class="line-modified"> 591      * of an inline class, then this method returns this class.</span>
<span class="line-added"> 592      * If this class is not an {@linkplain #isInlineClass() inline class}</span>
<span class="line-added"> 593      * or this class is an inline class without a reference projection,</span>
 594      * then this method returns an empty {@link Optional}.
 595      *
 596      * @return the {@code Class} object representing the value projection type of
<span class="line-modified"> 597      *         this class if this class is an inline class with a reference</span>
<span class="line-modified"> 598      *         projection type or this class is the reference projection type;</span>
<span class="line-added"> 599      *         an empty {@link Optional} otherwise</span>
 600      * @since Valhalla
 601      */
 602     public Optional&lt;Class&lt;T&gt;&gt; referenceType() {
 603         return valType != null ? Optional.ofNullable(refType) : Optional.of(this);
 604     }
 605 
 606     // set by VM if this class is an inline type
 607     // otherwise, these two fields are null
 608     private transient Class&lt;T&gt; valType;
 609     private transient Class&lt;T&gt; refType;
 610 
 611     /**
 612      * Creates a new instance of the class represented by this {@code Class}
 613      * object.  The class is instantiated as if by a {@code new}
 614      * expression with an empty argument list.  The class is initialized if it
 615      * has not already been initialized.
 616      *
 617      * @deprecated This method propagates any exception thrown by the
 618      * nullary constructor, including a checked exception.  Use of
 619      * this method effectively bypasses the compile-time exception
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../index.html" target="_top">index</a> <a href="invoke/AbstractValidatingLambdaMetafactory.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>