diff a/src/hotspot/share/runtime/vframe_hp.cpp b/src/hotspot/share/runtime/vframe_hp.cpp
--- a/src/hotspot/share/runtime/vframe_hp.cpp
+++ b/src/hotspot/share/runtime/vframe_hp.cpp
@@ -386,10 +386,11 @@
       break;
     case T_LONG:
       locals->set_long_at(index, value.j);
       break;
     case T_OBJECT:
+    case T_VALUETYPE:
       {
         Handle obj(Thread::current(), (oop)value.l);
         locals->set_obj_at(index, obj);
       }
       break;
