<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/classfile/classLoader.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="classListParser.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="classLoaderData.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/classfile/classLoader.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 581,11 ***</span>
    Thread* THREAD = Thread::current();
    GrowableArray&lt;ModulePatchPath*&gt;* patch_mod_args = Arguments::get_patch_mod_prefix();
    int num_of_entries = patch_mod_args-&gt;length();
  
    // Set up the boot loader&#39;s _patch_mod_entries list
<span class="line-modified">!   _patch_mod_entries = new (ResourceObj::C_HEAP, mtModule) GrowableArray&lt;ModuleClassPathList*&gt;(num_of_entries, true);</span>
  
    for (int i = 0; i &lt; num_of_entries; i++) {
      const char* module_name = (patch_mod_args-&gt;at(i))-&gt;module_name();
      Symbol* const module_sym = SymbolTable::new_symbol(module_name);
      assert(module_sym != NULL, &quot;Failed to obtain Symbol for module name&quot;);
<span class="line-new-header">--- 581,11 ---</span>
    Thread* THREAD = Thread::current();
    GrowableArray&lt;ModulePatchPath*&gt;* patch_mod_args = Arguments::get_patch_mod_prefix();
    int num_of_entries = patch_mod_args-&gt;length();
  
    // Set up the boot loader&#39;s _patch_mod_entries list
<span class="line-modified">!   _patch_mod_entries = new (ResourceObj::C_HEAP, mtModule) GrowableArray&lt;ModuleClassPathList*&gt;(num_of_entries, mtModule);</span>
  
    for (int i = 0; i &lt; num_of_entries; i++) {
      const char* module_name = (patch_mod_args-&gt;at(i))-&gt;module_name();
      Symbol* const module_sym = SymbolTable::new_symbol(module_name);
      assert(module_sym != NULL, &quot;Failed to obtain Symbol for module name&quot;);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1607,11 ***</span>
      // Set up the boot loader&#39;s _exploded_entries list.  Note that this gets
      // done before loading any classes, by the same thread that will
      // subsequently do the first class load. So, no lock is needed for this.
      assert(_exploded_entries == NULL, &quot;Should only get initialized once&quot;);
      _exploded_entries = new (ResourceObj::C_HEAP, mtModule)
<span class="line-modified">!       GrowableArray&lt;ModuleClassPathList*&gt;(EXPLODED_ENTRY_SIZE, true);</span>
      add_to_exploded_build_list(vmSymbols::java_base(), CHECK);
    }
  }
  
  bool ClassLoader::get_canonical_path(const char* orig, char* out, int len) {
<span class="line-new-header">--- 1607,11 ---</span>
      // Set up the boot loader&#39;s _exploded_entries list.  Note that this gets
      // done before loading any classes, by the same thread that will
      // subsequently do the first class load. So, no lock is needed for this.
      assert(_exploded_entries == NULL, &quot;Should only get initialized once&quot;);
      _exploded_entries = new (ResourceObj::C_HEAP, mtModule)
<span class="line-modified">!       GrowableArray&lt;ModuleClassPathList*&gt;(EXPLODED_ENTRY_SIZE, mtModule);</span>
      add_to_exploded_build_list(vmSymbols::java_base(), CHECK);
    }
  }
  
  bool ClassLoader::get_canonical_path(const char* orig, char* out, int len) {
</pre>
<center><a href="classListParser.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="classLoaderData.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>