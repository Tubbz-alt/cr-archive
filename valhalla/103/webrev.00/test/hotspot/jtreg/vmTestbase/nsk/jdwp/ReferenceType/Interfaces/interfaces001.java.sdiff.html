<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/hotspot/jtreg/vmTestbase/nsk/jdwp/ReferenceType/Interfaces/interfaces001.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>test/hotspot/jtreg/vmTestbase/nsk/jdwp/ReferenceType/Interfaces/interfaces001.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
109                     command.addReferenceTypeID(typeID);
110                     command.setLength();
111 
112                     log.display(&quot;Sending command packet:\n&quot; + command);
113                     transport.write(command);
114 
115                     log.display(&quot;Waiting for reply packet&quot;);
116                     ReplyPacket reply = new ReplyPacket();
117                     transport.read(reply);
118                     log.display(&quot;Reply packet received:\n&quot; + reply);
119 
120                     log.display(&quot;Checking reply packet header&quot;);
121                     reply.checkHeader(command.getPacketID());
122 
123                     log.display(&quot;Parsing reply packet:&quot;);
124                     reply.resetPosition();
125 
126                     int interfaces = reply.getInt();
127                     log.display(&quot;  interfaces: &quot; + interfaces);
128 
<span class="line-modified">129                     // Adding one to the number of interfaces because of the injection of IdentityObject by the VM</span>
<span class="line-removed">130                     if (interfaces != DECLARED_INTERFACES + 1) {</span>
131                         log.complain(&quot;Unexpected number of declared interfaces in the reply packet:&quot; + interfaces
132                                     + &quot; (expected: &quot; + DECLARED_INTERFACES + &quot;)&quot;);
133                         success = false;
134                     }
135 
136                     for (int i = 0; i &lt; interfaces; i++ ) {
137 
138                         log.display(&quot;  interface #&quot; + i);
139 
140                         long interfaceID = reply.getReferenceTypeID();
141                         log.display(&quot;    interfaceID: &quot; + interfaceID);
142 
143                         if (i &lt; DECLARED_INTERFACES) {
144                             if (interfaceID != interfaceIDs[i]) {
145                                 log.complain(&quot;Unexpected interface ID for interface #&quot; + i + &quot; in the reply packet: &quot; + interfaceID
146                                              + &quot; (expected: &quot; + interfaceIDs[i] + &quot;)&quot;);
147                                 success = false;
148                             }
149                         } else {
150                             if (interfaceID != identityObjectID) {
</pre>
</td>
<td>
<hr />
<pre>
109                     command.addReferenceTypeID(typeID);
110                     command.setLength();
111 
112                     log.display(&quot;Sending command packet:\n&quot; + command);
113                     transport.write(command);
114 
115                     log.display(&quot;Waiting for reply packet&quot;);
116                     ReplyPacket reply = new ReplyPacket();
117                     transport.read(reply);
118                     log.display(&quot;Reply packet received:\n&quot; + reply);
119 
120                     log.display(&quot;Checking reply packet header&quot;);
121                     reply.checkHeader(command.getPacketID());
122 
123                     log.display(&quot;Parsing reply packet:&quot;);
124                     reply.resetPosition();
125 
126                     int interfaces = reply.getInt();
127                     log.display(&quot;  interfaces: &quot; + interfaces);
128 
<span class="line-modified">129                     if (interfaces != DECLARED_INTERFACES) {</span>

130                         log.complain(&quot;Unexpected number of declared interfaces in the reply packet:&quot; + interfaces
131                                     + &quot; (expected: &quot; + DECLARED_INTERFACES + &quot;)&quot;);
132                         success = false;
133                     }
134 
135                     for (int i = 0; i &lt; interfaces; i++ ) {
136 
137                         log.display(&quot;  interface #&quot; + i);
138 
139                         long interfaceID = reply.getReferenceTypeID();
140                         log.display(&quot;    interfaceID: &quot; + interfaceID);
141 
142                         if (i &lt; DECLARED_INTERFACES) {
143                             if (interfaceID != interfaceIDs[i]) {
144                                 log.complain(&quot;Unexpected interface ID for interface #&quot; + i + &quot; in the reply packet: &quot; + interfaceID
145                                              + &quot; (expected: &quot; + interfaceIDs[i] + &quot;)&quot;);
146                                 success = false;
147                             }
148                         } else {
149                             if (interfaceID != identityObjectID) {
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>