<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames test/jdk/java/lang/invoke/VarHandles/VarHandleTestMethodTypeByte.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>   1 /*
   2  * Copyright (c) 2015, 2020, Oracle and/or its affiliates. All rights reserved.
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.
   8  *
   9  * This code is distributed in the hope that it will be useful, but WITHOUT
  10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  12  * version 2 for more details (a copy is included in the LICENSE file that
  13  * accompanied this code).
  14  *
  15  * You should have received a copy of the GNU General Public License version
  16  * 2 along with this work; if not, write to the Free Software Foundation,
  17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  18  *
  19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  20  * or visit www.oracle.com if you need additional information or have any
  21  * questions.
  22  */
  23 
<a name="1" id="anc1"></a><span class="line-added">  24 // -- This file was mechanically generated: Do not edit! -- //</span>
<span class="line-added">  25 </span>
  26 /*
  27  * @test
  28  * @bug 8156486
  29  * @run testng/othervm VarHandleTestMethodTypeByte
  30  * @run testng/othervm -Djava.lang.invoke.VarHandle.VAR_HANDLE_GUARDS=true -Djava.lang.invoke.VarHandle.VAR_HANDLE_IDENTITY_ADAPT=true VarHandleTestMethodTypeByte
  31  * @run testng/othervm -Djava.lang.invoke.VarHandle.VAR_HANDLE_GUARDS=false -Djava.lang.invoke.VarHandle.VAR_HANDLE_IDENTITY_ADAPT=false VarHandleTestMethodTypeByte
  32  * @run testng/othervm -Djava.lang.invoke.VarHandle.VAR_HANDLE_GUARDS=false -Djava.lang.invoke.VarHandle.VAR_HANDLE_IDENTITY_ADAPT=true VarHandleTestMethodTypeByte
  33  */
  34 
  35 import org.testng.annotations.BeforeClass;
  36 import org.testng.annotations.DataProvider;
  37 import org.testng.annotations.Test;
  38 
  39 import java.lang.invoke.MethodHandles;
  40 import java.lang.invoke.VarHandle;
  41 import java.util.ArrayList;
  42 import java.util.Arrays;
  43 import java.util.List;
  44 
  45 import static org.testng.Assert.*;
  46 
  47 import static java.lang.invoke.MethodType.*;
  48 
  49 public class VarHandleTestMethodTypeByte extends VarHandleBaseTest {
  50     static final byte static_final_v = (byte)0x01;
  51 
  52     static byte static_v = (byte)0x01;
  53 
  54     final byte final_v = (byte)0x01;
  55 
  56     byte v = (byte)0x01;
  57 
  58     VarHandle vhFinalField;
  59 
  60     VarHandle vhField;
  61 
  62     VarHandle vhStaticField;
  63 
  64     VarHandle vhStaticFinalField;
  65 
  66     VarHandle vhArray;
  67 
  68     @BeforeClass
  69     public void setup() throws Exception {
  70         vhFinalField = MethodHandles.lookup().findVarHandle(
  71                 VarHandleTestMethodTypeByte.class, &quot;final_v&quot;, byte.class);
  72 
  73         vhField = MethodHandles.lookup().findVarHandle(
  74                 VarHandleTestMethodTypeByte.class, &quot;v&quot;, byte.class);
  75 
  76         vhStaticFinalField = MethodHandles.lookup().findStaticVarHandle(
  77             VarHandleTestMethodTypeByte.class, &quot;static_final_v&quot;, byte.class);
  78 
  79         vhStaticField = MethodHandles.lookup().findStaticVarHandle(
  80             VarHandleTestMethodTypeByte.class, &quot;static_v&quot;, byte.class);
  81 
  82         vhArray = MethodHandles.arrayElementVarHandle(byte[].class);
  83     }
  84 
  85     @DataProvider
  86     public Object[][] accessTestCaseProvider() throws Exception {
  87         List&lt;AccessTestCase&lt;?&gt;&gt; cases = new ArrayList&lt;&gt;();
  88 
  89         cases.add(new VarHandleAccessTestCase(&quot;Instance field&quot;,
  90                                               vhField, vh -&gt; testInstanceFieldWrongMethodType(this, vh),
  91                                               false));
  92 
  93         cases.add(new VarHandleAccessTestCase(&quot;Static field&quot;,
  94                                               vhStaticField, VarHandleTestMethodTypeByte::testStaticFieldWrongMethodType,
  95                                               false));
  96 
  97         cases.add(new VarHandleAccessTestCase(&quot;Array&quot;,
  98                                               vhArray, VarHandleTestMethodTypeByte::testArrayWrongMethodType,
  99                                               false));
 100 
 101         for (VarHandleToMethodHandle f : VarHandleToMethodHandle.values()) {
 102             cases.add(new MethodHandleAccessTestCase(&quot;Instance field&quot;,
 103                                                      vhField, f, hs -&gt; testInstanceFieldWrongMethodType(this, hs),
 104                                                      false));
 105 
 106             cases.add(new MethodHandleAccessTestCase(&quot;Static field&quot;,
 107                                                      vhStaticField, f, VarHandleTestMethodTypeByte::testStaticFieldWrongMethodType,
 108                                                      false));
 109 
 110             cases.add(new MethodHandleAccessTestCase(&quot;Array&quot;,
 111                                                      vhArray, f, VarHandleTestMethodTypeByte::testArrayWrongMethodType,
 112                                                      false));
 113         }
 114         // Work around issue with jtreg summary reporting which truncates
 115         // the String result of Object.toString to 30 characters, hence
 116         // the first dummy argument
 117         return cases.stream().map(tc -&gt; new Object[]{tc.toString(), tc}).toArray(Object[][]::new);
 118     }
 119 
 120     @Test(dataProvider = &quot;accessTestCaseProvider&quot;)
 121     public &lt;T&gt; void testAccess(String desc, AccessTestCase&lt;T&gt; atc) throws Throwable {
 122         T t = atc.get();
 123         int iters = atc.requiresLoop() ? ITERS : 1;
 124         for (int c = 0; c &lt; iters; c++) {
 125             atc.testAccess(t);
 126         }
 127     }
 128 
 129 
 130     static void testInstanceFieldWrongMethodType(VarHandleTestMethodTypeByte recv, VarHandle vh) throws Throwable {
 131         // Get
 132         // Incorrect argument types
 133         checkNPE(() -&gt; { // null receiver
 134             byte x = (byte) vh.get(null);
 135         });
 136         checkCCE(() -&gt; { // receiver reference class
 137             byte x = (byte) vh.get(Void.class);
 138         });
 139         checkWMTE(() -&gt; { // receiver primitive class
 140             byte x = (byte) vh.get(0);
 141         });
 142         // Incorrect return type
 143         checkWMTE(() -&gt; { // reference class
 144             Void x = (Void) vh.get(recv);
 145         });
 146         checkWMTE(() -&gt; { // primitive class
 147             boolean x = (boolean) vh.get(recv);
 148         });
 149         // Incorrect arity
 150         checkWMTE(() -&gt; { // 0
 151             byte x = (byte) vh.get();
 152         });
 153         checkWMTE(() -&gt; { // &gt;
 154             byte x = (byte) vh.get(recv, Void.class);
 155         });
 156 
 157 
 158         // Set
 159         // Incorrect argument types
 160         checkNPE(() -&gt; { // null receiver
 161             vh.set(null, (byte)0x01);
 162         });
 163         checkCCE(() -&gt; { // receiver reference class
 164             vh.set(Void.class, (byte)0x01);
 165         });
 166         checkWMTE(() -&gt; { // value reference class
 167             vh.set(recv, Void.class);
 168         });
 169         checkWMTE(() -&gt; { // receiver primitive class
 170             vh.set(0, (byte)0x01);
 171         });
 172         // Incorrect arity
 173         checkWMTE(() -&gt; { // 0
 174             vh.set();
 175         });
 176         checkWMTE(() -&gt; { // &gt;
 177             vh.set(recv, (byte)0x01, Void.class);
 178         });
 179 
 180 
 181         // GetVolatile
 182         // Incorrect argument types
 183         checkNPE(() -&gt; { // null receiver
 184             byte x = (byte) vh.getVolatile(null);
 185         });
 186         checkCCE(() -&gt; { // receiver reference class
 187             byte x = (byte) vh.getVolatile(Void.class);
 188         });
 189         checkWMTE(() -&gt; { // receiver primitive class
 190             byte x = (byte) vh.getVolatile(0);
 191         });
 192         // Incorrect return type
 193         checkWMTE(() -&gt; { // reference class
 194             Void x = (Void) vh.getVolatile(recv);
 195         });
 196         checkWMTE(() -&gt; { // primitive class
 197             boolean x = (boolean) vh.getVolatile(recv);
 198         });
 199         // Incorrect arity
 200         checkWMTE(() -&gt; { // 0
 201             byte x = (byte) vh.getVolatile();
 202         });
 203         checkWMTE(() -&gt; { // &gt;
 204             byte x = (byte) vh.getVolatile(recv, Void.class);
 205         });
 206 
 207 
 208         // SetVolatile
 209         // Incorrect argument types
 210         checkNPE(() -&gt; { // null receiver
 211             vh.setVolatile(null, (byte)0x01);
 212         });
 213         checkCCE(() -&gt; { // receiver reference class
 214             vh.setVolatile(Void.class, (byte)0x01);
 215         });
 216         checkWMTE(() -&gt; { // value reference class
 217             vh.setVolatile(recv, Void.class);
 218         });
 219         checkWMTE(() -&gt; { // receiver primitive class
 220             vh.setVolatile(0, (byte)0x01);
 221         });
 222         // Incorrect arity
 223         checkWMTE(() -&gt; { // 0
 224             vh.setVolatile();
 225         });
 226         checkWMTE(() -&gt; { // &gt;
 227             vh.setVolatile(recv, (byte)0x01, Void.class);
 228         });
 229 
 230 
 231         // GetOpaque
 232         // Incorrect argument types
 233         checkNPE(() -&gt; { // null receiver
 234             byte x = (byte) vh.getOpaque(null);
 235         });
 236         checkCCE(() -&gt; { // receiver reference class
 237             byte x = (byte) vh.getOpaque(Void.class);
 238         });
 239         checkWMTE(() -&gt; { // receiver primitive class
 240             byte x = (byte) vh.getOpaque(0);
 241         });
 242         // Incorrect return type
 243         checkWMTE(() -&gt; { // reference class
 244             Void x = (Void) vh.getOpaque(recv);
 245         });
 246         checkWMTE(() -&gt; { // primitive class
 247             boolean x = (boolean) vh.getOpaque(recv);
 248         });
 249         // Incorrect arity
 250         checkWMTE(() -&gt; { // 0
 251             byte x = (byte) vh.getOpaque();
 252         });
 253         checkWMTE(() -&gt; { // &gt;
 254             byte x = (byte) vh.getOpaque(recv, Void.class);
 255         });
 256 
 257 
 258         // SetOpaque
 259         // Incorrect argument types
 260         checkNPE(() -&gt; { // null receiver
 261             vh.setOpaque(null, (byte)0x01);
 262         });
 263         checkCCE(() -&gt; { // receiver reference class
 264             vh.setOpaque(Void.class, (byte)0x01);
 265         });
 266         checkWMTE(() -&gt; { // value reference class
 267             vh.setOpaque(recv, Void.class);
 268         });
 269         checkWMTE(() -&gt; { // receiver primitive class
 270             vh.setOpaque(0, (byte)0x01);
 271         });
 272         // Incorrect arity
 273         checkWMTE(() -&gt; { // 0
 274             vh.setOpaque();
 275         });
 276         checkWMTE(() -&gt; { // &gt;
 277             vh.setOpaque(recv, (byte)0x01, Void.class);
 278         });
 279 
 280 
 281         // GetAcquire
 282         // Incorrect argument types
 283         checkNPE(() -&gt; { // null receiver
 284             byte x = (byte) vh.getAcquire(null);
 285         });
 286         checkCCE(() -&gt; { // receiver reference class
 287             byte x = (byte) vh.getAcquire(Void.class);
 288         });
 289         checkWMTE(() -&gt; { // receiver primitive class
 290             byte x = (byte) vh.getAcquire(0);
 291         });
 292         // Incorrect return type
 293         checkWMTE(() -&gt; { // reference class
 294             Void x = (Void) vh.getAcquire(recv);
 295         });
 296         checkWMTE(() -&gt; { // primitive class
 297             boolean x = (boolean) vh.getAcquire(recv);
 298         });
 299         // Incorrect arity
 300         checkWMTE(() -&gt; { // 0
 301             byte x = (byte) vh.getAcquire();
 302         });
 303         checkWMTE(() -&gt; { // &gt;
 304             byte x = (byte) vh.getAcquire(recv, Void.class);
 305         });
 306 
 307 
 308         // SetRelease
 309         // Incorrect argument types
 310         checkNPE(() -&gt; { // null receiver
 311             vh.setRelease(null, (byte)0x01);
 312         });
 313         checkCCE(() -&gt; { // receiver reference class
 314             vh.setRelease(Void.class, (byte)0x01);
 315         });
 316         checkWMTE(() -&gt; { // value reference class
 317             vh.setRelease(recv, Void.class);
 318         });
 319         checkWMTE(() -&gt; { // receiver primitive class
 320             vh.setRelease(0, (byte)0x01);
 321         });
 322         // Incorrect arity
 323         checkWMTE(() -&gt; { // 0
 324             vh.setRelease();
 325         });
 326         checkWMTE(() -&gt; { // &gt;
 327             vh.setRelease(recv, (byte)0x01, Void.class);
 328         });
 329 
 330 
 331         // CompareAndSet
 332         // Incorrect argument types
 333         checkNPE(() -&gt; { // null receiver
 334             boolean r = vh.compareAndSet(null, (byte)0x01, (byte)0x01);
 335         });
 336         checkCCE(() -&gt; { // receiver reference class
 337             boolean r = vh.compareAndSet(Void.class, (byte)0x01, (byte)0x01);
 338         });
 339         checkWMTE(() -&gt; { // expected reference class
 340             boolean r = vh.compareAndSet(recv, Void.class, (byte)0x01);
 341         });
 342         checkWMTE(() -&gt; { // actual reference class
 343             boolean r = vh.compareAndSet(recv, (byte)0x01, Void.class);
 344         });
 345         checkWMTE(() -&gt; { // receiver primitive class
 346             boolean r = vh.compareAndSet(0, (byte)0x01, (byte)0x01);
 347         });
 348         // Incorrect arity
 349         checkWMTE(() -&gt; { // 0
 350             boolean r = vh.compareAndSet();
 351         });
 352         checkWMTE(() -&gt; { // &gt;
 353             boolean r = vh.compareAndSet(recv, (byte)0x01, (byte)0x01, Void.class);
 354         });
 355 
 356 
 357         // WeakCompareAndSet
 358         // Incorrect argument types
 359         checkNPE(() -&gt; { // null receiver
 360             boolean r = vh.weakCompareAndSetPlain(null, (byte)0x01, (byte)0x01);
 361         });
 362         checkCCE(() -&gt; { // receiver reference class
 363             boolean r = vh.weakCompareAndSetPlain(Void.class, (byte)0x01, (byte)0x01);
 364         });
 365         checkWMTE(() -&gt; { // expected reference class
 366             boolean r = vh.weakCompareAndSetPlain(recv, Void.class, (byte)0x01);
 367         });
 368         checkWMTE(() -&gt; { // actual reference class
 369             boolean r = vh.weakCompareAndSetPlain(recv, (byte)0x01, Void.class);
 370         });
 371         checkWMTE(() -&gt; { // receiver primitive class
 372             boolean r = vh.weakCompareAndSetPlain(0, (byte)0x01, (byte)0x01);
 373         });
 374         // Incorrect arity
 375         checkWMTE(() -&gt; { // 0
 376             boolean r = vh.weakCompareAndSetPlain();
 377         });
 378         checkWMTE(() -&gt; { // &gt;
 379             boolean r = vh.weakCompareAndSetPlain(recv, (byte)0x01, (byte)0x01, Void.class);
 380         });
 381 
 382 
 383         // WeakCompareAndSetVolatile
 384         // Incorrect argument types
 385         checkNPE(() -&gt; { // null receiver
 386             boolean r = vh.weakCompareAndSet(null, (byte)0x01, (byte)0x01);
 387         });
 388         checkCCE(() -&gt; { // receiver reference class
 389             boolean r = vh.weakCompareAndSet(Void.class, (byte)0x01, (byte)0x01);
 390         });
 391         checkWMTE(() -&gt; { // expected reference class
 392             boolean r = vh.weakCompareAndSet(recv, Void.class, (byte)0x01);
 393         });
 394         checkWMTE(() -&gt; { // actual reference class
 395             boolean r = vh.weakCompareAndSet(recv, (byte)0x01, Void.class);
 396         });
 397         checkWMTE(() -&gt; { // receiver primitive class
 398             boolean r = vh.weakCompareAndSet(0, (byte)0x01, (byte)0x01);
 399         });
 400         // Incorrect arity
 401         checkWMTE(() -&gt; { // 0
 402             boolean r = vh.weakCompareAndSet();
 403         });
 404         checkWMTE(() -&gt; { // &gt;
 405             boolean r = vh.weakCompareAndSet(recv, (byte)0x01, (byte)0x01, Void.class);
 406         });
 407 
 408 
 409         // WeakCompareAndSetAcquire
 410         // Incorrect argument types
 411         checkNPE(() -&gt; { // null receiver
 412             boolean r = vh.weakCompareAndSetAcquire(null, (byte)0x01, (byte)0x01);
 413         });
 414         checkCCE(() -&gt; { // receiver reference class
 415             boolean r = vh.weakCompareAndSetAcquire(Void.class, (byte)0x01, (byte)0x01);
 416         });
 417         checkWMTE(() -&gt; { // expected reference class
 418             boolean r = vh.weakCompareAndSetAcquire(recv, Void.class, (byte)0x01);
 419         });
 420         checkWMTE(() -&gt; { // actual reference class
 421             boolean r = vh.weakCompareAndSetAcquire(recv, (byte)0x01, Void.class);
 422         });
 423         checkWMTE(() -&gt; { // receiver primitive class
 424             boolean r = vh.weakCompareAndSetAcquire(0, (byte)0x01, (byte)0x01);
 425         });
 426         // Incorrect arity
 427         checkWMTE(() -&gt; { // 0
 428             boolean r = vh.weakCompareAndSetAcquire();
 429         });
 430         checkWMTE(() -&gt; { // &gt;
 431             boolean r = vh.weakCompareAndSetAcquire(recv, (byte)0x01, (byte)0x01, Void.class);
 432         });
 433 
 434 
 435         // WeakCompareAndSetRelease
 436         // Incorrect argument types
 437         checkNPE(() -&gt; { // null receiver
 438             boolean r = vh.weakCompareAndSetRelease(null, (byte)0x01, (byte)0x01);
 439         });
 440         checkCCE(() -&gt; { // receiver reference class
 441             boolean r = vh.weakCompareAndSetRelease(Void.class, (byte)0x01, (byte)0x01);
 442         });
 443         checkWMTE(() -&gt; { // expected reference class
 444             boolean r = vh.weakCompareAndSetRelease(recv, Void.class, (byte)0x01);
 445         });
 446         checkWMTE(() -&gt; { // actual reference class
 447             boolean r = vh.weakCompareAndSetRelease(recv, (byte)0x01, Void.class);
 448         });
 449         checkWMTE(() -&gt; { // receiver primitive class
 450             boolean r = vh.weakCompareAndSetRelease(0, (byte)0x01, (byte)0x01);
 451         });
 452         // Incorrect arity
 453         checkWMTE(() -&gt; { // 0
 454             boolean r = vh.weakCompareAndSetRelease();
 455         });
 456         checkWMTE(() -&gt; { // &gt;
 457             boolean r = vh.weakCompareAndSetRelease(recv, (byte)0x01, (byte)0x01, Void.class);
 458         });
 459 
 460 
 461         // CompareAndExchange
 462         // Incorrect argument types
 463         checkNPE(() -&gt; { // null receiver
 464             byte x = (byte) vh.compareAndExchange(null, (byte)0x01, (byte)0x01);
 465         });
 466         checkCCE(() -&gt; { // receiver reference class
 467             byte x = (byte) vh.compareAndExchange(Void.class, (byte)0x01, (byte)0x01);
 468         });
 469         checkWMTE(() -&gt; { // expected reference class
 470             byte x = (byte) vh.compareAndExchange(recv, Void.class, (byte)0x01);
 471         });
 472         checkWMTE(() -&gt; { // actual reference class
 473             byte x = (byte) vh.compareAndExchange(recv, (byte)0x01, Void.class);
 474         });
 475         checkWMTE(() -&gt; { // reciever primitive class
 476             byte x = (byte) vh.compareAndExchange(0, (byte)0x01, (byte)0x01);
 477         });
 478         // Incorrect return type
 479         checkWMTE(() -&gt; { // reference class
 480             Void r = (Void) vh.compareAndExchange(recv, (byte)0x01, (byte)0x01);
 481         });
 482         checkWMTE(() -&gt; { // primitive class
 483             boolean x = (boolean) vh.compareAndExchange(recv, (byte)0x01, (byte)0x01);
 484         });
 485         // Incorrect arity
 486         checkWMTE(() -&gt; { // 0
 487             byte x = (byte) vh.compareAndExchange();
 488         });
 489         checkWMTE(() -&gt; { // &gt;
 490             byte x = (byte) vh.compareAndExchange(recv, (byte)0x01, (byte)0x01, Void.class);
 491         });
 492 
 493 
 494         // CompareAndExchangeAcquire
 495         // Incorrect argument types
 496         checkNPE(() -&gt; { // null receiver
 497             byte x = (byte) vh.compareAndExchangeAcquire(null, (byte)0x01, (byte)0x01);
 498         });
 499         checkCCE(() -&gt; { // receiver reference class
 500             byte x = (byte) vh.compareAndExchangeAcquire(Void.class, (byte)0x01, (byte)0x01);
 501         });
 502         checkWMTE(() -&gt; { // expected reference class
 503             byte x = (byte) vh.compareAndExchangeAcquire(recv, Void.class, (byte)0x01);
 504         });
 505         checkWMTE(() -&gt; { // actual reference class
 506             byte x = (byte) vh.compareAndExchangeAcquire(recv, (byte)0x01, Void.class);
 507         });
 508         checkWMTE(() -&gt; { // reciever primitive class
 509             byte x = (byte) vh.compareAndExchangeAcquire(0, (byte)0x01, (byte)0x01);
 510         });
 511         // Incorrect return type
 512         checkWMTE(() -&gt; { // reference class
 513             Void r = (Void) vh.compareAndExchangeAcquire(recv, (byte)0x01, (byte)0x01);
 514         });
 515         checkWMTE(() -&gt; { // primitive class
 516             boolean x = (boolean) vh.compareAndExchangeAcquire(recv, (byte)0x01, (byte)0x01);
 517         });
 518         // Incorrect arity
 519         checkWMTE(() -&gt; { // 0
 520             byte x = (byte) vh.compareAndExchangeAcquire();
 521         });
 522         checkWMTE(() -&gt; { // &gt;
 523             byte x = (byte) vh.compareAndExchangeAcquire(recv, (byte)0x01, (byte)0x01, Void.class);
 524         });
 525 
 526 
 527         // CompareAndExchangeRelease
 528         // Incorrect argument types
 529         checkNPE(() -&gt; { // null receiver
 530             byte x = (byte) vh.compareAndExchangeRelease(null, (byte)0x01, (byte)0x01);
 531         });
 532         checkCCE(() -&gt; { // receiver reference class
 533             byte x = (byte) vh.compareAndExchangeRelease(Void.class, (byte)0x01, (byte)0x01);
 534         });
 535         checkWMTE(() -&gt; { // expected reference class
 536             byte x = (byte) vh.compareAndExchangeRelease(recv, Void.class, (byte)0x01);
 537         });
 538         checkWMTE(() -&gt; { // actual reference class
 539             byte x = (byte) vh.compareAndExchangeRelease(recv, (byte)0x01, Void.class);
 540         });
 541         checkWMTE(() -&gt; { // reciever primitive class
 542             byte x = (byte) vh.compareAndExchangeRelease(0, (byte)0x01, (byte)0x01);
 543         });
 544         // Incorrect return type
 545         checkWMTE(() -&gt; { // reference class
 546             Void r = (Void) vh.compareAndExchangeRelease(recv, (byte)0x01, (byte)0x01);
 547         });
 548         checkWMTE(() -&gt; { // primitive class
 549             boolean x = (boolean) vh.compareAndExchangeRelease(recv, (byte)0x01, (byte)0x01);
 550         });
 551         // Incorrect arity
 552         checkWMTE(() -&gt; { // 0
 553             byte x = (byte) vh.compareAndExchangeRelease();
 554         });
 555         checkWMTE(() -&gt; { // &gt;
 556             byte x = (byte) vh.compareAndExchangeRelease(recv, (byte)0x01, (byte)0x01, Void.class);
 557         });
 558 
 559 
 560         // GetAndSet
 561         // Incorrect argument types
 562         checkNPE(() -&gt; { // null receiver
 563             byte x = (byte) vh.getAndSet(null, (byte)0x01);
 564         });
 565         checkCCE(() -&gt; { // receiver reference class
 566             byte x = (byte) vh.getAndSet(Void.class, (byte)0x01);
 567         });
 568         checkWMTE(() -&gt; { // value reference class
 569             byte x = (byte) vh.getAndSet(recv, Void.class);
 570         });
 571         checkWMTE(() -&gt; { // reciever primitive class
 572             byte x = (byte) vh.getAndSet(0, (byte)0x01);
 573         });
 574         // Incorrect return type
 575         checkWMTE(() -&gt; { // reference class
 576             Void r = (Void) vh.getAndSet(recv, (byte)0x01);
 577         });
 578         checkWMTE(() -&gt; { // primitive class
 579             boolean x = (boolean) vh.getAndSet(recv, (byte)0x01);
 580         });
 581         // Incorrect arity
 582         checkWMTE(() -&gt; { // 0
 583             byte x = (byte) vh.getAndSet();
 584         });
 585         checkWMTE(() -&gt; { // &gt;
 586             byte x = (byte) vh.getAndSet(recv, (byte)0x01, Void.class);
 587         });
 588 
 589         // GetAndSetAcquire
 590         // Incorrect argument types
 591         checkNPE(() -&gt; { // null receiver
 592             byte x = (byte) vh.getAndSetAcquire(null, (byte)0x01);
 593         });
 594         checkCCE(() -&gt; { // receiver reference class
 595             byte x = (byte) vh.getAndSetAcquire(Void.class, (byte)0x01);
 596         });
 597         checkWMTE(() -&gt; { // value reference class
 598             byte x = (byte) vh.getAndSetAcquire(recv, Void.class);
 599         });
 600         checkWMTE(() -&gt; { // reciever primitive class
 601             byte x = (byte) vh.getAndSetAcquire(0, (byte)0x01);
 602         });
 603         // Incorrect return type
 604         checkWMTE(() -&gt; { // reference class
 605             Void r = (Void) vh.getAndSetAcquire(recv, (byte)0x01);
 606         });
 607         checkWMTE(() -&gt; { // primitive class
 608             boolean x = (boolean) vh.getAndSetAcquire(recv, (byte)0x01);
 609         });
 610         // Incorrect arity
 611         checkWMTE(() -&gt; { // 0
 612             byte x = (byte) vh.getAndSetAcquire();
 613         });
 614         checkWMTE(() -&gt; { // &gt;
 615             byte x = (byte) vh.getAndSetAcquire(recv, (byte)0x01, Void.class);
 616         });
 617 
 618         // GetAndSetRelease
 619         // Incorrect argument types
 620         checkNPE(() -&gt; { // null receiver
 621             byte x = (byte) vh.getAndSetRelease(null, (byte)0x01);
 622         });
 623         checkCCE(() -&gt; { // receiver reference class
 624             byte x = (byte) vh.getAndSetRelease(Void.class, (byte)0x01);
 625         });
 626         checkWMTE(() -&gt; { // value reference class
 627             byte x = (byte) vh.getAndSetRelease(recv, Void.class);
 628         });
 629         checkWMTE(() -&gt; { // reciever primitive class
 630             byte x = (byte) vh.getAndSetRelease(0, (byte)0x01);
 631         });
 632         // Incorrect return type
 633         checkWMTE(() -&gt; { // reference class
 634             Void r = (Void) vh.getAndSetRelease(recv, (byte)0x01);
 635         });
 636         checkWMTE(() -&gt; { // primitive class
 637             boolean x = (boolean) vh.getAndSetRelease(recv, (byte)0x01);
 638         });
 639         // Incorrect arity
 640         checkWMTE(() -&gt; { // 0
 641             byte x = (byte) vh.getAndSetRelease();
 642         });
 643         checkWMTE(() -&gt; { // &gt;
 644             byte x = (byte) vh.getAndSetRelease(recv, (byte)0x01, Void.class);
 645         });
 646 
 647         // GetAndAdd
 648         // Incorrect argument types
 649         checkNPE(() -&gt; { // null receiver
 650             byte x = (byte) vh.getAndAdd(null, (byte)0x01);
 651         });
 652         checkCCE(() -&gt; { // receiver reference class
 653             byte x = (byte) vh.getAndAdd(Void.class, (byte)0x01);
 654         });
 655         checkWMTE(() -&gt; { // value reference class
 656             byte x = (byte) vh.getAndAdd(recv, Void.class);
 657         });
 658         checkWMTE(() -&gt; { // reciever primitive class
 659             byte x = (byte) vh.getAndAdd(0, (byte)0x01);
 660         });
 661         // Incorrect return type
 662         checkWMTE(() -&gt; { // reference class
 663             Void r = (Void) vh.getAndAdd(recv, (byte)0x01);
 664         });
 665         checkWMTE(() -&gt; { // primitive class
 666             boolean x = (boolean) vh.getAndAdd(recv, (byte)0x01);
 667         });
 668         // Incorrect arity
 669         checkWMTE(() -&gt; { // 0
 670             byte x = (byte) vh.getAndAdd();
 671         });
 672         checkWMTE(() -&gt; { // &gt;
 673             byte x = (byte) vh.getAndAdd(recv, (byte)0x01, Void.class);
 674         });
 675 
 676         // GetAndAddAcquire
 677         // Incorrect argument types
 678         checkNPE(() -&gt; { // null receiver
 679             byte x = (byte) vh.getAndAddAcquire(null, (byte)0x01);
 680         });
 681         checkCCE(() -&gt; { // receiver reference class
 682             byte x = (byte) vh.getAndAddAcquire(Void.class, (byte)0x01);
 683         });
 684         checkWMTE(() -&gt; { // value reference class
 685             byte x = (byte) vh.getAndAddAcquire(recv, Void.class);
 686         });
 687         checkWMTE(() -&gt; { // reciever primitive class
 688             byte x = (byte) vh.getAndAddAcquire(0, (byte)0x01);
 689         });
 690         // Incorrect return type
 691         checkWMTE(() -&gt; { // reference class
 692             Void r = (Void) vh.getAndAddAcquire(recv, (byte)0x01);
 693         });
 694         checkWMTE(() -&gt; { // primitive class
 695             boolean x = (boolean) vh.getAndAddAcquire(recv, (byte)0x01);
 696         });
 697         // Incorrect arity
 698         checkWMTE(() -&gt; { // 0
 699             byte x = (byte) vh.getAndAddAcquire();
 700         });
 701         checkWMTE(() -&gt; { // &gt;
 702             byte x = (byte) vh.getAndAddAcquire(recv, (byte)0x01, Void.class);
 703         });
 704 
 705         // GetAndAddRelease
 706         // Incorrect argument types
 707         checkNPE(() -&gt; { // null receiver
 708             byte x = (byte) vh.getAndAddRelease(null, (byte)0x01);
 709         });
 710         checkCCE(() -&gt; { // receiver reference class
 711             byte x = (byte) vh.getAndAddRelease(Void.class, (byte)0x01);
 712         });
 713         checkWMTE(() -&gt; { // value reference class
 714             byte x = (byte) vh.getAndAddRelease(recv, Void.class);
 715         });
 716         checkWMTE(() -&gt; { // reciever primitive class
 717             byte x = (byte) vh.getAndAddRelease(0, (byte)0x01);
 718         });
 719         // Incorrect return type
 720         checkWMTE(() -&gt; { // reference class
 721             Void r = (Void) vh.getAndAddRelease(recv, (byte)0x01);
 722         });
 723         checkWMTE(() -&gt; { // primitive class
 724             boolean x = (boolean) vh.getAndAddRelease(recv, (byte)0x01);
 725         });
 726         // Incorrect arity
 727         checkWMTE(() -&gt; { // 0
 728             byte x = (byte) vh.getAndAddRelease();
 729         });
 730         checkWMTE(() -&gt; { // &gt;
 731             byte x = (byte) vh.getAndAddRelease(recv, (byte)0x01, Void.class);
 732         });
 733 
 734         // GetAndBitwiseOr
 735         // Incorrect argument types
 736         checkNPE(() -&gt; { // null receiver
 737             byte x = (byte) vh.getAndBitwiseOr(null, (byte)0x01);
 738         });
 739         checkCCE(() -&gt; { // receiver reference class
 740             byte x = (byte) vh.getAndBitwiseOr(Void.class, (byte)0x01);
 741         });
 742         checkWMTE(() -&gt; { // value reference class
 743             byte x = (byte) vh.getAndBitwiseOr(recv, Void.class);
 744         });
 745         checkWMTE(() -&gt; { // reciever primitive class
 746             byte x = (byte) vh.getAndBitwiseOr(0, (byte)0x01);
 747         });
 748         // Incorrect return type
 749         checkWMTE(() -&gt; { // reference class
 750             Void r = (Void) vh.getAndBitwiseOr(recv, (byte)0x01);
 751         });
 752         checkWMTE(() -&gt; { // primitive class
 753             boolean x = (boolean) vh.getAndBitwiseOr(recv, (byte)0x01);
 754         });
 755         // Incorrect arity
 756         checkWMTE(() -&gt; { // 0
 757             byte x = (byte) vh.getAndBitwiseOr();
 758         });
 759         checkWMTE(() -&gt; { // &gt;
 760             byte x = (byte) vh.getAndBitwiseOr(recv, (byte)0x01, Void.class);
 761         });
 762 
 763 
 764         // GetAndBitwiseOrAcquire
 765         // Incorrect argument types
 766         checkNPE(() -&gt; { // null receiver
 767             byte x = (byte) vh.getAndBitwiseOrAcquire(null, (byte)0x01);
 768         });
 769         checkCCE(() -&gt; { // receiver reference class
 770             byte x = (byte) vh.getAndBitwiseOrAcquire(Void.class, (byte)0x01);
 771         });
 772         checkWMTE(() -&gt; { // value reference class
 773             byte x = (byte) vh.getAndBitwiseOrAcquire(recv, Void.class);
 774         });
 775         checkWMTE(() -&gt; { // reciever primitive class
 776             byte x = (byte) vh.getAndBitwiseOrAcquire(0, (byte)0x01);
 777         });
 778         // Incorrect return type
 779         checkWMTE(() -&gt; { // reference class
 780             Void r = (Void) vh.getAndBitwiseOrAcquire(recv, (byte)0x01);
 781         });
 782         checkWMTE(() -&gt; { // primitive class
 783             boolean x = (boolean) vh.getAndBitwiseOrAcquire(recv, (byte)0x01);
 784         });
 785         // Incorrect arity
 786         checkWMTE(() -&gt; { // 0
 787             byte x = (byte) vh.getAndBitwiseOrAcquire();
 788         });
 789         checkWMTE(() -&gt; { // &gt;
 790             byte x = (byte) vh.getAndBitwiseOrAcquire(recv, (byte)0x01, Void.class);
 791         });
 792 
 793 
 794         // GetAndBitwiseOrRelease
 795         // Incorrect argument types
 796         checkNPE(() -&gt; { // null receiver
 797             byte x = (byte) vh.getAndBitwiseOrRelease(null, (byte)0x01);
 798         });
 799         checkCCE(() -&gt; { // receiver reference class
 800             byte x = (byte) vh.getAndBitwiseOr(Void.class, (byte)0x01);
 801         });
 802         checkWMTE(() -&gt; { // value reference class
 803             byte x = (byte) vh.getAndBitwiseOr(recv, Void.class);
 804         });
 805         checkWMTE(() -&gt; { // reciever primitive class
 806             byte x = (byte) vh.getAndBitwiseOr(0, (byte)0x01);
 807         });
 808         // Incorrect return type
 809         checkWMTE(() -&gt; { // reference class
 810             Void r = (Void) vh.getAndBitwiseOr(recv, (byte)0x01);
 811         });
 812         checkWMTE(() -&gt; { // primitive class
 813             boolean x = (boolean) vh.getAndBitwiseOr(recv, (byte)0x01);
 814         });
 815         // Incorrect arity
 816         checkWMTE(() -&gt; { // 0
 817             byte x = (byte) vh.getAndBitwiseOr();
 818         });
 819         checkWMTE(() -&gt; { // &gt;
 820             byte x = (byte) vh.getAndBitwiseOr(recv, (byte)0x01, Void.class);
 821         });
 822 
 823 
 824         // GetAndBitwiseAnd
 825         // Incorrect argument types
 826         checkNPE(() -&gt; { // null receiver
 827             byte x = (byte) vh.getAndBitwiseAnd(null, (byte)0x01);
 828         });
 829         checkCCE(() -&gt; { // receiver reference class
 830             byte x = (byte) vh.getAndBitwiseAnd(Void.class, (byte)0x01);
 831         });
 832         checkWMTE(() -&gt; { // value reference class
 833             byte x = (byte) vh.getAndBitwiseAnd(recv, Void.class);
 834         });
 835         checkWMTE(() -&gt; { // reciever primitive class
 836             byte x = (byte) vh.getAndBitwiseAnd(0, (byte)0x01);
 837         });
 838         // Incorrect return type
 839         checkWMTE(() -&gt; { // reference class
 840             Void r = (Void) vh.getAndBitwiseAnd(recv, (byte)0x01);
 841         });
 842         checkWMTE(() -&gt; { // primitive class
 843             boolean x = (boolean) vh.getAndBitwiseAnd(recv, (byte)0x01);
 844         });
 845         // Incorrect arity
 846         checkWMTE(() -&gt; { // 0
 847             byte x = (byte) vh.getAndBitwiseAnd();
 848         });
 849         checkWMTE(() -&gt; { // &gt;
 850             byte x = (byte) vh.getAndBitwiseAnd(recv, (byte)0x01, Void.class);
 851         });
 852 
 853 
 854         // GetAndBitwiseAndAcquire
 855         // Incorrect argument types
 856         checkNPE(() -&gt; { // null receiver
 857             byte x = (byte) vh.getAndBitwiseAndAcquire(null, (byte)0x01);
 858         });
 859         checkCCE(() -&gt; { // receiver reference class
 860             byte x = (byte) vh.getAndBitwiseAndAcquire(Void.class, (byte)0x01);
 861         });
 862         checkWMTE(() -&gt; { // value reference class
 863             byte x = (byte) vh.getAndBitwiseAndAcquire(recv, Void.class);
 864         });
 865         checkWMTE(() -&gt; { // reciever primitive class
 866             byte x = (byte) vh.getAndBitwiseAndAcquire(0, (byte)0x01);
 867         });
 868         // Incorrect return type
 869         checkWMTE(() -&gt; { // reference class
 870             Void r = (Void) vh.getAndBitwiseAndAcquire(recv, (byte)0x01);
 871         });
 872         checkWMTE(() -&gt; { // primitive class
 873             boolean x = (boolean) vh.getAndBitwiseAndAcquire(recv, (byte)0x01);
 874         });
 875         // Incorrect arity
 876         checkWMTE(() -&gt; { // 0
 877             byte x = (byte) vh.getAndBitwiseAndAcquire();
 878         });
 879         checkWMTE(() -&gt; { // &gt;
 880             byte x = (byte) vh.getAndBitwiseAndAcquire(recv, (byte)0x01, Void.class);
 881         });
 882 
 883 
 884         // GetAndBitwiseAndRelease
 885         // Incorrect argument types
 886         checkNPE(() -&gt; { // null receiver
 887             byte x = (byte) vh.getAndBitwiseAndRelease(null, (byte)0x01);
 888         });
 889         checkCCE(() -&gt; { // receiver reference class
 890             byte x = (byte) vh.getAndBitwiseAnd(Void.class, (byte)0x01);
 891         });
 892         checkWMTE(() -&gt; { // value reference class
 893             byte x = (byte) vh.getAndBitwiseAnd(recv, Void.class);
 894         });
 895         checkWMTE(() -&gt; { // reciever primitive class
 896             byte x = (byte) vh.getAndBitwiseAnd(0, (byte)0x01);
 897         });
 898         // Incorrect return type
 899         checkWMTE(() -&gt; { // reference class
 900             Void r = (Void) vh.getAndBitwiseAnd(recv, (byte)0x01);
 901         });
 902         checkWMTE(() -&gt; { // primitive class
 903             boolean x = (boolean) vh.getAndBitwiseAnd(recv, (byte)0x01);
 904         });
 905         // Incorrect arity
 906         checkWMTE(() -&gt; { // 0
 907             byte x = (byte) vh.getAndBitwiseAnd();
 908         });
 909         checkWMTE(() -&gt; { // &gt;
 910             byte x = (byte) vh.getAndBitwiseAnd(recv, (byte)0x01, Void.class);
 911         });
 912 
 913 
 914         // GetAndBitwiseXor
 915         // Incorrect argument types
 916         checkNPE(() -&gt; { // null receiver
 917             byte x = (byte) vh.getAndBitwiseXor(null, (byte)0x01);
 918         });
 919         checkCCE(() -&gt; { // receiver reference class
 920             byte x = (byte) vh.getAndBitwiseXor(Void.class, (byte)0x01);
 921         });
 922         checkWMTE(() -&gt; { // value reference class
 923             byte x = (byte) vh.getAndBitwiseXor(recv, Void.class);
 924         });
 925         checkWMTE(() -&gt; { // reciever primitive class
 926             byte x = (byte) vh.getAndBitwiseXor(0, (byte)0x01);
 927         });
 928         // Incorrect return type
 929         checkWMTE(() -&gt; { // reference class
 930             Void r = (Void) vh.getAndBitwiseXor(recv, (byte)0x01);
 931         });
 932         checkWMTE(() -&gt; { // primitive class
 933             boolean x = (boolean) vh.getAndBitwiseXor(recv, (byte)0x01);
 934         });
 935         // Incorrect arity
 936         checkWMTE(() -&gt; { // 0
 937             byte x = (byte) vh.getAndBitwiseXor();
 938         });
 939         checkWMTE(() -&gt; { // &gt;
 940             byte x = (byte) vh.getAndBitwiseXor(recv, (byte)0x01, Void.class);
 941         });
 942 
 943 
 944         // GetAndBitwiseXorAcquire
 945         // Incorrect argument types
 946         checkNPE(() -&gt; { // null receiver
 947             byte x = (byte) vh.getAndBitwiseXorAcquire(null, (byte)0x01);
 948         });
 949         checkCCE(() -&gt; { // receiver reference class
 950             byte x = (byte) vh.getAndBitwiseXorAcquire(Void.class, (byte)0x01);
 951         });
 952         checkWMTE(() -&gt; { // value reference class
 953             byte x = (byte) vh.getAndBitwiseXorAcquire(recv, Void.class);
 954         });
 955         checkWMTE(() -&gt; { // reciever primitive class
 956             byte x = (byte) vh.getAndBitwiseXorAcquire(0, (byte)0x01);
 957         });
 958         // Incorrect return type
 959         checkWMTE(() -&gt; { // reference class
 960             Void r = (Void) vh.getAndBitwiseXorAcquire(recv, (byte)0x01);
 961         });
 962         checkWMTE(() -&gt; { // primitive class
 963             boolean x = (boolean) vh.getAndBitwiseXorAcquire(recv, (byte)0x01);
 964         });
 965         // Incorrect arity
 966         checkWMTE(() -&gt; { // 0
 967             byte x = (byte) vh.getAndBitwiseXorAcquire();
 968         });
 969         checkWMTE(() -&gt; { // &gt;
 970             byte x = (byte) vh.getAndBitwiseXorAcquire(recv, (byte)0x01, Void.class);
 971         });
 972 
 973 
 974         // GetAndBitwiseXorRelease
 975         // Incorrect argument types
 976         checkNPE(() -&gt; { // null receiver
 977             byte x = (byte) vh.getAndBitwiseXorRelease(null, (byte)0x01);
 978         });
 979         checkCCE(() -&gt; { // receiver reference class
 980             byte x = (byte) vh.getAndBitwiseXor(Void.class, (byte)0x01);
 981         });
 982         checkWMTE(() -&gt; { // value reference class
 983             byte x = (byte) vh.getAndBitwiseXor(recv, Void.class);
 984         });
 985         checkWMTE(() -&gt; { // reciever primitive class
 986             byte x = (byte) vh.getAndBitwiseXor(0, (byte)0x01);
 987         });
 988         // Incorrect return type
 989         checkWMTE(() -&gt; { // reference class
 990             Void r = (Void) vh.getAndBitwiseXor(recv, (byte)0x01);
 991         });
 992         checkWMTE(() -&gt; { // primitive class
 993             boolean x = (boolean) vh.getAndBitwiseXor(recv, (byte)0x01);
 994         });
 995         // Incorrect arity
 996         checkWMTE(() -&gt; { // 0
 997             byte x = (byte) vh.getAndBitwiseXor();
 998         });
 999         checkWMTE(() -&gt; { // &gt;
1000             byte x = (byte) vh.getAndBitwiseXor(recv, (byte)0x01, Void.class);
1001         });
1002     }
1003 
1004     static void testInstanceFieldWrongMethodType(VarHandleTestMethodTypeByte recv, Handles hs) throws Throwable {
1005         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET)) {
1006             // Incorrect argument types
1007             checkNPE(() -&gt; { // null receiver
1008                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class)).
1009                     invokeExact((VarHandleTestMethodTypeByte) null);
1010             });
1011             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
1012                 byte x = (byte) hs.get(am, methodType(byte.class, Class.class)).
1013                     invokeExact(Void.class);
1014             });
1015             checkWMTE(() -&gt; { // receiver primitive class
1016                 byte x = (byte) hs.get(am, methodType(byte.class, int.class)).
1017                     invokeExact(0);
1018             });
1019             // Incorrect return type
1020             checkWMTE(() -&gt; { // reference class
1021                 Void x = (Void) hs.get(am, methodType(Void.class, VarHandleTestMethodTypeByte.class)).
1022                     invokeExact(recv);
1023             });
1024             checkWMTE(() -&gt; { // primitive class
1025                 boolean x = (boolean) hs.get(am, methodType(boolean.class, VarHandleTestMethodTypeByte.class)).
1026                     invokeExact(recv);
1027             });
1028             // Incorrect arity
1029             checkWMTE(() -&gt; { // 0
1030                 byte x = (byte) hs.get(am, methodType(byte.class)).
1031                     invokeExact();
1032             });
1033             checkWMTE(() -&gt; { // &gt;
1034                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class, Class.class)).
1035                     invokeExact(recv, Void.class);
1036             });
1037         }
1038 
1039         for (TestAccessMode am : testAccessModesOfType(TestAccessType.SET)) {
1040             // Incorrect argument types
1041             checkNPE(() -&gt; { // null receiver
1042                 hs.get(am, methodType(void.class, VarHandleTestMethodTypeByte.class, byte.class)).
1043                     invokeExact((VarHandleTestMethodTypeByte) null, (byte)0x01);
1044             });
1045             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
1046                 hs.get(am, methodType(void.class, Class.class, byte.class)).
1047                     invokeExact(Void.class, (byte)0x01);
1048             });
1049             checkWMTE(() -&gt; { // value reference class
1050                 hs.get(am, methodType(void.class, VarHandleTestMethodTypeByte.class, Class.class)).
1051                     invokeExact(recv, Void.class);
1052             });
1053             checkWMTE(() -&gt; { // receiver primitive class
1054                 hs.get(am, methodType(void.class, int.class, byte.class)).
1055                     invokeExact(0, (byte)0x01);
1056             });
1057             // Incorrect arity
1058             checkWMTE(() -&gt; { // 0
1059                 hs.get(am, methodType(void.class)).
1060                     invokeExact();
1061             });
1062             checkWMTE(() -&gt; { // &gt;
1063                 hs.get(am, methodType(void.class, VarHandleTestMethodTypeByte.class, byte.class, Class.class)).
1064                     invokeExact(recv, (byte)0x01, Void.class);
1065             });
1066         }
1067 
1068         for (TestAccessMode am : testAccessModesOfType(TestAccessType.COMPARE_AND_SET)) {
1069             // Incorrect argument types
1070             checkNPE(() -&gt; { // null receiver
1071                 boolean r = (boolean) hs.get(am, methodType(boolean.class, VarHandleTestMethodTypeByte.class, byte.class, byte.class)).
1072                     invokeExact((VarHandleTestMethodTypeByte) null, (byte)0x01, (byte)0x01);
1073             });
1074             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
1075                 boolean r = (boolean) hs.get(am, methodType(boolean.class, Class.class, byte.class, byte.class)).
1076                     invokeExact(Void.class, (byte)0x01, (byte)0x01);
1077             });
1078             checkWMTE(() -&gt; { // expected reference class
1079                 boolean r = (boolean) hs.get(am, methodType(boolean.class, VarHandleTestMethodTypeByte.class, Class.class, byte.class)).
1080                     invokeExact(recv, Void.class, (byte)0x01);
1081             });
1082             checkWMTE(() -&gt; { // actual reference class
1083                 boolean r = (boolean) hs.get(am, methodType(boolean.class, VarHandleTestMethodTypeByte.class, byte.class, Class.class)).
1084                     invokeExact(recv, (byte)0x01, Void.class);
1085             });
1086             checkWMTE(() -&gt; { // receiver primitive class
1087                 boolean r = (boolean) hs.get(am, methodType(boolean.class, int.class , byte.class, byte.class)).
1088                     invokeExact(0, (byte)0x01, (byte)0x01);
1089             });
1090             // Incorrect arity
1091             checkWMTE(() -&gt; { // 0
1092                 boolean r = (boolean) hs.get(am, methodType(boolean.class)).
1093                     invokeExact();
1094             });
1095             checkWMTE(() -&gt; { // &gt;
1096                 boolean r = (boolean) hs.get(am, methodType(boolean.class, VarHandleTestMethodTypeByte.class, byte.class, byte.class, Class.class)).
1097                     invokeExact(recv, (byte)0x01, (byte)0x01, Void.class);
1098             });
1099         }
1100 
1101         for (TestAccessMode am : testAccessModesOfType(TestAccessType.COMPARE_AND_EXCHANGE)) {
1102             checkNPE(() -&gt; { // null receiver
1103                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class, byte.class, byte.class)).
1104                     invokeExact((VarHandleTestMethodTypeByte) null, (byte)0x01, (byte)0x01);
1105             });
1106             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
1107                 byte x = (byte) hs.get(am, methodType(byte.class, Class.class, byte.class, byte.class)).
1108                     invokeExact(Void.class, (byte)0x01, (byte)0x01);
1109             });
1110             checkWMTE(() -&gt; { // expected reference class
1111                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class, Class.class, byte.class)).
1112                     invokeExact(recv, Void.class, (byte)0x01);
1113             });
1114             checkWMTE(() -&gt; { // actual reference class
1115                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class, byte.class, Class.class)).
1116                     invokeExact(recv, (byte)0x01, Void.class);
1117             });
1118             checkWMTE(() -&gt; { // reciever primitive class
1119                 byte x = (byte) hs.get(am, methodType(byte.class, int.class , byte.class, byte.class)).
1120                     invokeExact(0, (byte)0x01, (byte)0x01);
1121             });
1122             // Incorrect return type
1123             checkWMTE(() -&gt; { // reference class
1124                 Void r = (Void) hs.get(am, methodType(Void.class, VarHandleTestMethodTypeByte.class , byte.class, byte.class)).
1125                     invokeExact(recv, (byte)0x01, (byte)0x01);
1126             });
1127             checkWMTE(() -&gt; { // primitive class
1128                 boolean x = (boolean) hs.get(am, methodType(boolean.class, VarHandleTestMethodTypeByte.class , byte.class, byte.class)).
1129                     invokeExact(recv, (byte)0x01, (byte)0x01);
1130             });
1131             // Incorrect arity
1132             checkWMTE(() -&gt; { // 0
1133                 byte x = (byte) hs.get(am, methodType(byte.class)).
1134                     invokeExact();
1135             });
1136             checkWMTE(() -&gt; { // &gt;
1137                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class, byte.class, byte.class, Class.class)).
1138                     invokeExact(recv, (byte)0x01, (byte)0x01, Void.class);
1139             });
1140         }
1141 
1142         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_SET)) {
1143             checkNPE(() -&gt; { // null receiver
1144                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class, byte.class)).
1145                     invokeExact((VarHandleTestMethodTypeByte) null, (byte)0x01);
1146             });
1147             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
1148                 byte x = (byte) hs.get(am, methodType(byte.class, Class.class, byte.class)).
1149                     invokeExact(Void.class, (byte)0x01);
1150             });
1151             checkWMTE(() -&gt; { // value reference class
1152                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class, Class.class)).
1153                     invokeExact(recv, Void.class);
1154             });
1155             checkWMTE(() -&gt; { // reciever primitive class
1156                 byte x = (byte) hs.get(am, methodType(byte.class, int.class, byte.class)).
1157                     invokeExact(0, (byte)0x01);
1158             });
1159             // Incorrect return type
1160             checkWMTE(() -&gt; { // reference class
1161                 Void r = (Void) hs.get(am, methodType(Void.class, VarHandleTestMethodTypeByte.class, byte.class)).
1162                     invokeExact(recv, (byte)0x01);
1163             });
1164             checkWMTE(() -&gt; { // primitive class
1165                 boolean x = (boolean) hs.get(am, methodType(boolean.class, VarHandleTestMethodTypeByte.class, byte.class)).
1166                     invokeExact(recv, (byte)0x01);
1167             });
1168             // Incorrect arity
1169             checkWMTE(() -&gt; { // 0
1170                 byte x = (byte) hs.get(am, methodType(byte.class)).
1171                     invokeExact();
1172             });
1173             checkWMTE(() -&gt; { // &gt;
1174                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class, byte.class)).
1175                     invokeExact(recv, (byte)0x01, Void.class);
1176             });
1177         }
1178 
1179         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_ADD)) {
1180             checkNPE(() -&gt; { // null receiver
1181                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class, byte.class)).
1182                     invokeExact((VarHandleTestMethodTypeByte) null, (byte)0x01);
1183             });
1184             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
1185                 byte x = (byte) hs.get(am, methodType(byte.class, Class.class, byte.class)).
1186                     invokeExact(Void.class, (byte)0x01);
1187             });
1188             checkWMTE(() -&gt; { // value reference class
1189                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class, Class.class)).
1190                     invokeExact(recv, Void.class);
1191             });
1192             checkWMTE(() -&gt; { // reciever primitive class
1193                 byte x = (byte) hs.get(am, methodType(byte.class, int.class, byte.class)).
1194                     invokeExact(0, (byte)0x01);
1195             });
1196             // Incorrect return type
1197             checkWMTE(() -&gt; { // reference class
1198                 Void r = (Void) hs.get(am, methodType(Void.class, VarHandleTestMethodTypeByte.class, byte.class)).
1199                     invokeExact(recv, (byte)0x01);
1200             });
1201             checkWMTE(() -&gt; { // primitive class
1202                 boolean x = (boolean) hs.get(am, methodType(boolean.class, VarHandleTestMethodTypeByte.class, byte.class)).
1203                     invokeExact(recv, (byte)0x01);
1204             });
1205             // Incorrect arity
1206             checkWMTE(() -&gt; { // 0
1207                 byte x = (byte) hs.get(am, methodType(byte.class)).
1208                     invokeExact();
1209             });
1210             checkWMTE(() -&gt; { // &gt;
1211                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class, byte.class)).
1212                     invokeExact(recv, (byte)0x01, Void.class);
1213             });
1214         }
1215 
1216         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_BITWISE)) {
1217             checkNPE(() -&gt; { // null receiver
1218                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class, byte.class)).
1219                     invokeExact((VarHandleTestMethodTypeByte) null, (byte)0x01);
1220             });
1221             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
1222                 byte x = (byte) hs.get(am, methodType(byte.class, Class.class, byte.class)).
1223                     invokeExact(Void.class, (byte)0x01);
1224             });
1225             checkWMTE(() -&gt; { // value reference class
1226                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class, Class.class)).
1227                     invokeExact(recv, Void.class);
1228             });
1229             checkWMTE(() -&gt; { // reciever primitive class
1230                 byte x = (byte) hs.get(am, methodType(byte.class, int.class, byte.class)).
1231                     invokeExact(0, (byte)0x01);
1232             });
1233             // Incorrect return type
1234             checkWMTE(() -&gt; { // reference class
1235                 Void r = (Void) hs.get(am, methodType(Void.class, VarHandleTestMethodTypeByte.class, byte.class)).
1236                     invokeExact(recv, (byte)0x01);
1237             });
1238             checkWMTE(() -&gt; { // primitive class
1239                 boolean x = (boolean) hs.get(am, methodType(boolean.class, VarHandleTestMethodTypeByte.class, byte.class)).
1240                     invokeExact(recv, (byte)0x01);
1241             });
1242             // Incorrect arity
1243             checkWMTE(() -&gt; { // 0
1244                 byte x = (byte) hs.get(am, methodType(byte.class)).
1245                     invokeExact();
1246             });
1247             checkWMTE(() -&gt; { // &gt;
1248                 byte x = (byte) hs.get(am, methodType(byte.class, VarHandleTestMethodTypeByte.class, byte.class)).
1249                     invokeExact(recv, (byte)0x01, Void.class);
1250             });
1251         }
1252     }
1253 
1254 
1255     static void testStaticFieldWrongMethodType(VarHandle vh) throws Throwable {
1256         // Get
1257         // Incorrect return type
1258         checkWMTE(() -&gt; { // reference class
1259             Void x = (Void) vh.get();
1260         });
1261         checkWMTE(() -&gt; { // primitive class
1262             boolean x = (boolean) vh.get();
1263         });
1264         // Incorrect arity
1265         checkWMTE(() -&gt; { // &gt;
1266             byte x = (byte) vh.get(Void.class);
1267         });
1268 
1269 
1270         // Set
1271         // Incorrect argument types
1272         checkWMTE(() -&gt; { // value reference class
1273             vh.set(Void.class);
1274         });
1275         // Incorrect arity
1276         checkWMTE(() -&gt; { // 0
1277             vh.set();
1278         });
1279         checkWMTE(() -&gt; { // &gt;
1280             vh.set((byte)0x01, Void.class);
1281         });
1282 
1283 
1284         // GetVolatile
1285         // Incorrect return type
1286         checkWMTE(() -&gt; { // reference class
1287             Void x = (Void) vh.getVolatile();
1288         });
1289         checkWMTE(() -&gt; { // primitive class
1290             boolean x = (boolean) vh.getVolatile();
1291         });
1292         checkWMTE(() -&gt; { // &gt;
1293             byte x = (byte) vh.getVolatile(Void.class);
1294         });
1295 
1296 
1297         // SetVolatile
1298         // Incorrect argument types
1299         checkWMTE(() -&gt; { // value reference class
1300             vh.setVolatile(Void.class);
1301         });
1302         // Incorrect arity
1303         checkWMTE(() -&gt; { // 0
1304             vh.setVolatile();
1305         });
1306         checkWMTE(() -&gt; { // &gt;
1307             vh.setVolatile((byte)0x01, Void.class);
1308         });
1309 
1310 
1311         // GetOpaque
1312         // Incorrect return type
1313         checkWMTE(() -&gt; { // reference class
1314             Void x = (Void) vh.getOpaque();
1315         });
1316         checkWMTE(() -&gt; { // primitive class
1317             boolean x = (boolean) vh.getOpaque();
1318         });
1319         checkWMTE(() -&gt; { // &gt;
1320             byte x = (byte) vh.getOpaque(Void.class);
1321         });
1322 
1323 
1324         // SetOpaque
1325         // Incorrect argument types
1326         checkWMTE(() -&gt; { // value reference class
1327             vh.setOpaque(Void.class);
1328         });
1329         // Incorrect arity
1330         checkWMTE(() -&gt; { // 0
1331             vh.setOpaque();
1332         });
1333         checkWMTE(() -&gt; { // &gt;
1334             vh.setOpaque((byte)0x01, Void.class);
1335         });
1336 
1337 
1338         // GetAcquire
1339         // Incorrect return type
1340         checkWMTE(() -&gt; { // reference class
1341             Void x = (Void) vh.getAcquire();
1342         });
1343         checkWMTE(() -&gt; { // primitive class
1344             boolean x = (boolean) vh.getAcquire();
1345         });
1346         checkWMTE(() -&gt; { // &gt;
1347             byte x = (byte) vh.getAcquire(Void.class);
1348         });
1349 
1350 
1351         // SetRelease
1352         // Incorrect argument types
1353         checkWMTE(() -&gt; { // value reference class
1354             vh.setRelease(Void.class);
1355         });
1356         // Incorrect arity
1357         checkWMTE(() -&gt; { // 0
1358             vh.setRelease();
1359         });
1360         checkWMTE(() -&gt; { // &gt;
1361             vh.setRelease((byte)0x01, Void.class);
1362         });
1363 
1364 
1365         // CompareAndSet
1366         // Incorrect argument types
1367         checkWMTE(() -&gt; { // expected reference class
1368             boolean r = vh.compareAndSet(Void.class, (byte)0x01);
1369         });
1370         checkWMTE(() -&gt; { // actual reference class
1371             boolean r = vh.compareAndSet((byte)0x01, Void.class);
1372         });
1373         // Incorrect arity
1374         checkWMTE(() -&gt; { // 0
1375             boolean r = vh.compareAndSet();
1376         });
1377         checkWMTE(() -&gt; { // &gt;
1378             boolean r = vh.compareAndSet((byte)0x01, (byte)0x01, Void.class);
1379         });
1380 
1381 
1382         // WeakCompareAndSet
1383         // Incorrect argument types
1384         checkWMTE(() -&gt; { // expected reference class
1385             boolean r = vh.weakCompareAndSetPlain(Void.class, (byte)0x01);
1386         });
1387         checkWMTE(() -&gt; { // actual reference class
1388             boolean r = vh.weakCompareAndSetPlain((byte)0x01, Void.class);
1389         });
1390         // Incorrect arity
1391         checkWMTE(() -&gt; { // 0
1392             boolean r = vh.weakCompareAndSetPlain();
1393         });
1394         checkWMTE(() -&gt; { // &gt;
1395             boolean r = vh.weakCompareAndSetPlain((byte)0x01, (byte)0x01, Void.class);
1396         });
1397 
1398 
1399         // WeakCompareAndSetVolatile
1400         // Incorrect argument types
1401         checkWMTE(() -&gt; { // expected reference class
1402             boolean r = vh.weakCompareAndSet(Void.class, (byte)0x01);
1403         });
1404         checkWMTE(() -&gt; { // actual reference class
1405             boolean r = vh.weakCompareAndSet((byte)0x01, Void.class);
1406         });
1407         // Incorrect arity
1408         checkWMTE(() -&gt; { // 0
1409             boolean r = vh.weakCompareAndSet();
1410         });
1411         checkWMTE(() -&gt; { // &gt;
1412             boolean r = vh.weakCompareAndSet((byte)0x01, (byte)0x01, Void.class);
1413         });
1414 
1415 
1416         // WeakCompareAndSetAcquire
1417         // Incorrect argument types
1418         checkWMTE(() -&gt; { // expected reference class
1419             boolean r = vh.weakCompareAndSetAcquire(Void.class, (byte)0x01);
1420         });
1421         checkWMTE(() -&gt; { // actual reference class
1422             boolean r = vh.weakCompareAndSetAcquire((byte)0x01, Void.class);
1423         });
1424         // Incorrect arity
1425         checkWMTE(() -&gt; { // 0
1426             boolean r = vh.weakCompareAndSetAcquire();
1427         });
1428         checkWMTE(() -&gt; { // &gt;
1429             boolean r = vh.weakCompareAndSetAcquire((byte)0x01, (byte)0x01, Void.class);
1430         });
1431 
1432 
1433         // WeakCompareAndSetRelease
1434         // Incorrect argument types
1435         checkWMTE(() -&gt; { // expected reference class
1436             boolean r = vh.weakCompareAndSetRelease(Void.class, (byte)0x01);
1437         });
1438         checkWMTE(() -&gt; { // actual reference class
1439             boolean r = vh.weakCompareAndSetRelease((byte)0x01, Void.class);
1440         });
1441         // Incorrect arity
1442         checkWMTE(() -&gt; { // 0
1443             boolean r = vh.weakCompareAndSetRelease();
1444         });
1445         checkWMTE(() -&gt; { // &gt;
1446             boolean r = vh.weakCompareAndSetRelease((byte)0x01, (byte)0x01, Void.class);
1447         });
1448 
1449 
1450         // CompareAndExchange
1451         // Incorrect argument types
1452         checkWMTE(() -&gt; { // expected reference class
1453             byte x = (byte) vh.compareAndExchange(Void.class, (byte)0x01);
1454         });
1455         checkWMTE(() -&gt; { // actual reference class
1456             byte x = (byte) vh.compareAndExchange((byte)0x01, Void.class);
1457         });
1458         // Incorrect return type
1459         checkWMTE(() -&gt; { // reference class
1460             Void r = (Void) vh.compareAndExchange((byte)0x01, (byte)0x01);
1461         });
1462         checkWMTE(() -&gt; { // primitive class
1463             boolean x = (boolean) vh.compareAndExchange((byte)0x01, (byte)0x01);
1464         });
1465         // Incorrect arity
1466         checkWMTE(() -&gt; { // 0
1467             byte x = (byte) vh.compareAndExchange();
1468         });
1469         checkWMTE(() -&gt; { // &gt;
1470             byte x = (byte) vh.compareAndExchange((byte)0x01, (byte)0x01, Void.class);
1471         });
1472 
1473 
1474         // CompareAndExchangeAcquire
1475         // Incorrect argument types
1476         checkWMTE(() -&gt; { // expected reference class
1477             byte x = (byte) vh.compareAndExchangeAcquire(Void.class, (byte)0x01);
1478         });
1479         checkWMTE(() -&gt; { // actual reference class
1480             byte x = (byte) vh.compareAndExchangeAcquire((byte)0x01, Void.class);
1481         });
1482         // Incorrect return type
1483         checkWMTE(() -&gt; { // reference class
1484             Void r = (Void) vh.compareAndExchangeAcquire((byte)0x01, (byte)0x01);
1485         });
1486         checkWMTE(() -&gt; { // primitive class
1487             boolean x = (boolean) vh.compareAndExchangeAcquire((byte)0x01, (byte)0x01);
1488         });
1489         // Incorrect arity
1490         checkWMTE(() -&gt; { // 0
1491             byte x = (byte) vh.compareAndExchangeAcquire();
1492         });
1493         checkWMTE(() -&gt; { // &gt;
1494             byte x = (byte) vh.compareAndExchangeAcquire((byte)0x01, (byte)0x01, Void.class);
1495         });
1496 
1497 
1498         // CompareAndExchangeRelease
1499         // Incorrect argument types
1500         checkWMTE(() -&gt; { // expected reference class
1501             byte x = (byte) vh.compareAndExchangeRelease(Void.class, (byte)0x01);
1502         });
1503         checkWMTE(() -&gt; { // actual reference class
1504             byte x = (byte) vh.compareAndExchangeRelease((byte)0x01, Void.class);
1505         });
1506         // Incorrect return type
1507         checkWMTE(() -&gt; { // reference class
1508             Void r = (Void) vh.compareAndExchangeRelease((byte)0x01, (byte)0x01);
1509         });
1510         checkWMTE(() -&gt; { // primitive class
1511             boolean x = (boolean) vh.compareAndExchangeRelease((byte)0x01, (byte)0x01);
1512         });
1513         // Incorrect arity
1514         checkWMTE(() -&gt; { // 0
1515             byte x = (byte) vh.compareAndExchangeRelease();
1516         });
1517         checkWMTE(() -&gt; { // &gt;
1518             byte x = (byte) vh.compareAndExchangeRelease((byte)0x01, (byte)0x01, Void.class);
1519         });
1520 
1521 
1522         // GetAndSet
1523         // Incorrect argument types
1524         checkWMTE(() -&gt; { // value reference class
1525             byte x = (byte) vh.getAndSet(Void.class);
1526         });
1527         // Incorrect return type
1528         checkWMTE(() -&gt; { // reference class
1529             Void r = (Void) vh.getAndSet((byte)0x01);
1530         });
1531         checkWMTE(() -&gt; { // primitive class
1532             boolean x = (boolean) vh.getAndSet((byte)0x01);
1533         });
1534         // Incorrect arity
1535         checkWMTE(() -&gt; { // 0
1536             byte x = (byte) vh.getAndSet();
1537         });
1538         checkWMTE(() -&gt; { // &gt;
1539             byte x = (byte) vh.getAndSet((byte)0x01, Void.class);
1540         });
1541 
1542 
1543         // GetAndSetAcquire
1544         // Incorrect argument types
1545         checkWMTE(() -&gt; { // value reference class
1546             byte x = (byte) vh.getAndSetAcquire(Void.class);
1547         });
1548         // Incorrect return type
1549         checkWMTE(() -&gt; { // reference class
1550             Void r = (Void) vh.getAndSetAcquire((byte)0x01);
1551         });
1552         checkWMTE(() -&gt; { // primitive class
1553             boolean x = (boolean) vh.getAndSetAcquire((byte)0x01);
1554         });
1555         // Incorrect arity
1556         checkWMTE(() -&gt; { // 0
1557             byte x = (byte) vh.getAndSetAcquire();
1558         });
1559         checkWMTE(() -&gt; { // &gt;
1560             byte x = (byte) vh.getAndSetAcquire((byte)0x01, Void.class);
1561         });
1562 
1563 
1564         // GetAndSetRelease
1565         // Incorrect argument types
1566         checkWMTE(() -&gt; { // value reference class
1567             byte x = (byte) vh.getAndSetRelease(Void.class);
1568         });
1569         // Incorrect return type
1570         checkWMTE(() -&gt; { // reference class
1571             Void r = (Void) vh.getAndSetRelease((byte)0x01);
1572         });
1573         checkWMTE(() -&gt; { // primitive class
1574             boolean x = (boolean) vh.getAndSetRelease((byte)0x01);
1575         });
1576         // Incorrect arity
1577         checkWMTE(() -&gt; { // 0
1578             byte x = (byte) vh.getAndSetRelease();
1579         });
1580         checkWMTE(() -&gt; { // &gt;
1581             byte x = (byte) vh.getAndSetRelease((byte)0x01, Void.class);
1582         });
1583 
1584         // GetAndAdd
1585         // Incorrect argument types
1586         checkWMTE(() -&gt; { // value reference class
1587             byte x = (byte) vh.getAndAdd(Void.class);
1588         });
1589         // Incorrect return type
1590         checkWMTE(() -&gt; { // reference class
1591             Void r = (Void) vh.getAndAdd((byte)0x01);
1592         });
1593         checkWMTE(() -&gt; { // primitive class
1594             boolean x = (boolean) vh.getAndAdd((byte)0x01);
1595         });
1596         // Incorrect arity
1597         checkWMTE(() -&gt; { // 0
1598             byte x = (byte) vh.getAndAdd();
1599         });
1600         checkWMTE(() -&gt; { // &gt;
1601             byte x = (byte) vh.getAndAdd((byte)0x01, Void.class);
1602         });
1603 
1604 
1605         // GetAndAddAcquire
1606         // Incorrect argument types
1607         checkWMTE(() -&gt; { // value reference class
1608             byte x = (byte) vh.getAndAddAcquire(Void.class);
1609         });
1610         // Incorrect return type
1611         checkWMTE(() -&gt; { // reference class
1612             Void r = (Void) vh.getAndAddAcquire((byte)0x01);
1613         });
1614         checkWMTE(() -&gt; { // primitive class
1615             boolean x = (boolean) vh.getAndAddAcquire((byte)0x01);
1616         });
1617         // Incorrect arity
1618         checkWMTE(() -&gt; { // 0
1619             byte x = (byte) vh.getAndAddAcquire();
1620         });
1621         checkWMTE(() -&gt; { // &gt;
1622             byte x = (byte) vh.getAndAddAcquire((byte)0x01, Void.class);
1623         });
1624 
1625 
1626         // GetAndAddRelease
1627         // Incorrect argument types
1628         checkWMTE(() -&gt; { // value reference class
1629             byte x = (byte) vh.getAndAddRelease(Void.class);
1630         });
1631         // Incorrect return type
1632         checkWMTE(() -&gt; { // reference class
1633             Void r = (Void) vh.getAndAddRelease((byte)0x01);
1634         });
1635         checkWMTE(() -&gt; { // primitive class
1636             boolean x = (boolean) vh.getAndAddRelease((byte)0x01);
1637         });
1638         // Incorrect arity
1639         checkWMTE(() -&gt; { // 0
1640             byte x = (byte) vh.getAndAddRelease();
1641         });
1642         checkWMTE(() -&gt; { // &gt;
1643             byte x = (byte) vh.getAndAddRelease((byte)0x01, Void.class);
1644         });
1645 
1646         // GetAndBitwiseOr
1647         // Incorrect argument types
1648         checkWMTE(() -&gt; { // value reference class
1649             byte x = (byte) vh.getAndBitwiseOr(Void.class);
1650         });
1651         // Incorrect return type
1652         checkWMTE(() -&gt; { // reference class
1653             Void r = (Void) vh.getAndBitwiseOr((byte)0x01);
1654         });
1655         checkWMTE(() -&gt; { // primitive class
1656             boolean x = (boolean) vh.getAndBitwiseOr((byte)0x01);
1657         });
1658         // Incorrect arity
1659         checkWMTE(() -&gt; { // 0
1660             byte x = (byte) vh.getAndBitwiseOr();
1661         });
1662         checkWMTE(() -&gt; { // &gt;
1663             byte x = (byte) vh.getAndBitwiseOr((byte)0x01, Void.class);
1664         });
1665 
1666 
1667         // GetAndBitwiseOrAcquire
1668         // Incorrect argument types
1669         checkWMTE(() -&gt; { // value reference class
1670             byte x = (byte) vh.getAndBitwiseOrAcquire(Void.class);
1671         });
1672         // Incorrect return type
1673         checkWMTE(() -&gt; { // reference class
1674             Void r = (Void) vh.getAndBitwiseOrAcquire((byte)0x01);
1675         });
1676         checkWMTE(() -&gt; { // primitive class
1677             boolean x = (boolean) vh.getAndBitwiseOrAcquire((byte)0x01);
1678         });
1679         // Incorrect arity
1680         checkWMTE(() -&gt; { // 0
1681             byte x = (byte) vh.getAndBitwiseOrAcquire();
1682         });
1683         checkWMTE(() -&gt; { // &gt;
1684             byte x = (byte) vh.getAndBitwiseOrAcquire((byte)0x01, Void.class);
1685         });
1686 
1687 
1688         // GetAndBitwiseOrReleaseRelease
1689         // Incorrect argument types
1690         checkWMTE(() -&gt; { // value reference class
1691             byte x = (byte) vh.getAndBitwiseOrRelease(Void.class);
1692         });
1693         // Incorrect return type
1694         checkWMTE(() -&gt; { // reference class
1695             Void r = (Void) vh.getAndBitwiseOrRelease((byte)0x01);
1696         });
1697         checkWMTE(() -&gt; { // primitive class
1698             boolean x = (boolean) vh.getAndBitwiseOrRelease((byte)0x01);
1699         });
1700         // Incorrect arity
1701         checkWMTE(() -&gt; { // 0
1702             byte x = (byte) vh.getAndBitwiseOrRelease();
1703         });
1704         checkWMTE(() -&gt; { // &gt;
1705             byte x = (byte) vh.getAndBitwiseOrRelease((byte)0x01, Void.class);
1706         });
1707 
1708 
1709         // GetAndBitwiseAnd
1710         // Incorrect argument types
1711         checkWMTE(() -&gt; { // value reference class
1712             byte x = (byte) vh.getAndBitwiseAnd(Void.class);
1713         });
1714         // Incorrect return type
1715         checkWMTE(() -&gt; { // reference class
1716             Void r = (Void) vh.getAndBitwiseAnd((byte)0x01);
1717         });
1718         checkWMTE(() -&gt; { // primitive class
1719             boolean x = (boolean) vh.getAndBitwiseAnd((byte)0x01);
1720         });
1721         // Incorrect arity
1722         checkWMTE(() -&gt; { // 0
1723             byte x = (byte) vh.getAndBitwiseAnd();
1724         });
1725         checkWMTE(() -&gt; { // &gt;
1726             byte x = (byte) vh.getAndBitwiseAnd((byte)0x01, Void.class);
1727         });
1728 
1729 
1730         // GetAndBitwiseAndAcquire
1731         // Incorrect argument types
1732         checkWMTE(() -&gt; { // value reference class
1733             byte x = (byte) vh.getAndBitwiseAndAcquire(Void.class);
1734         });
1735         // Incorrect return type
1736         checkWMTE(() -&gt; { // reference class
1737             Void r = (Void) vh.getAndBitwiseAndAcquire((byte)0x01);
1738         });
1739         checkWMTE(() -&gt; { // primitive class
1740             boolean x = (boolean) vh.getAndBitwiseAndAcquire((byte)0x01);
1741         });
1742         // Incorrect arity
1743         checkWMTE(() -&gt; { // 0
1744             byte x = (byte) vh.getAndBitwiseAndAcquire();
1745         });
1746         checkWMTE(() -&gt; { // &gt;
1747             byte x = (byte) vh.getAndBitwiseAndAcquire((byte)0x01, Void.class);
1748         });
1749 
1750 
1751         // GetAndBitwiseAndReleaseRelease
1752         // Incorrect argument types
1753         checkWMTE(() -&gt; { // value reference class
1754             byte x = (byte) vh.getAndBitwiseAndRelease(Void.class);
1755         });
1756         // Incorrect return type
1757         checkWMTE(() -&gt; { // reference class
1758             Void r = (Void) vh.getAndBitwiseAndRelease((byte)0x01);
1759         });
1760         checkWMTE(() -&gt; { // primitive class
1761             boolean x = (boolean) vh.getAndBitwiseAndRelease((byte)0x01);
1762         });
1763         // Incorrect arity
1764         checkWMTE(() -&gt; { // 0
1765             byte x = (byte) vh.getAndBitwiseAndRelease();
1766         });
1767         checkWMTE(() -&gt; { // &gt;
1768             byte x = (byte) vh.getAndBitwiseAndRelease((byte)0x01, Void.class);
1769         });
1770 
1771 
1772         // GetAndBitwiseXor
1773         // Incorrect argument types
1774         checkWMTE(() -&gt; { // value reference class
1775             byte x = (byte) vh.getAndBitwiseXor(Void.class);
1776         });
1777         // Incorrect return type
1778         checkWMTE(() -&gt; { // reference class
1779             Void r = (Void) vh.getAndBitwiseXor((byte)0x01);
1780         });
1781         checkWMTE(() -&gt; { // primitive class
1782             boolean x = (boolean) vh.getAndBitwiseXor((byte)0x01);
1783         });
1784         // Incorrect arity
1785         checkWMTE(() -&gt; { // 0
1786             byte x = (byte) vh.getAndBitwiseXor();
1787         });
1788         checkWMTE(() -&gt; { // &gt;
1789             byte x = (byte) vh.getAndBitwiseXor((byte)0x01, Void.class);
1790         });
1791 
1792 
1793         // GetAndBitwiseXorAcquire
1794         // Incorrect argument types
1795         checkWMTE(() -&gt; { // value reference class
1796             byte x = (byte) vh.getAndBitwiseXorAcquire(Void.class);
1797         });
1798         // Incorrect return type
1799         checkWMTE(() -&gt; { // reference class
1800             Void r = (Void) vh.getAndBitwiseXorAcquire((byte)0x01);
1801         });
1802         checkWMTE(() -&gt; { // primitive class
1803             boolean x = (boolean) vh.getAndBitwiseXorAcquire((byte)0x01);
1804         });
1805         // Incorrect arity
1806         checkWMTE(() -&gt; { // 0
1807             byte x = (byte) vh.getAndBitwiseXorAcquire();
1808         });
1809         checkWMTE(() -&gt; { // &gt;
1810             byte x = (byte) vh.getAndBitwiseXorAcquire((byte)0x01, Void.class);
1811         });
1812 
1813 
1814         // GetAndBitwiseXorReleaseRelease
1815         // Incorrect argument types
1816         checkWMTE(() -&gt; { // value reference class
1817             byte x = (byte) vh.getAndBitwiseXorRelease(Void.class);
1818         });
1819         // Incorrect return type
1820         checkWMTE(() -&gt; { // reference class
1821             Void r = (Void) vh.getAndBitwiseXorRelease((byte)0x01);
1822         });
1823         checkWMTE(() -&gt; { // primitive class
1824             boolean x = (boolean) vh.getAndBitwiseXorRelease((byte)0x01);
1825         });
1826         // Incorrect arity
1827         checkWMTE(() -&gt; { // 0
1828             byte x = (byte) vh.getAndBitwiseXorRelease();
1829         });
1830         checkWMTE(() -&gt; { // &gt;
1831             byte x = (byte) vh.getAndBitwiseXorRelease((byte)0x01, Void.class);
1832         });
1833     }
1834 
1835     static void testStaticFieldWrongMethodType(Handles hs) throws Throwable {
1836         int i = 0;
1837 
1838         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET)) {
1839             // Incorrect return type
1840             checkWMTE(() -&gt; { // reference class
1841                 Void x = (Void) hs.get(am, methodType(Void.class)).
1842                     invokeExact();
1843             });
1844             checkWMTE(() -&gt; { // primitive class
1845                 boolean x = (boolean) hs.get(am, methodType(boolean.class)).
1846                     invokeExact();
1847             });
1848             // Incorrect arity
1849             checkWMTE(() -&gt; { // &gt;
1850                 byte x = (byte) hs.get(am, methodType(Class.class)).
1851                     invokeExact(Void.class);
1852             });
1853         }
1854 
1855         for (TestAccessMode am : testAccessModesOfType(TestAccessType.SET)) {
1856             checkWMTE(() -&gt; { // value reference class
1857                 hs.get(am, methodType(void.class, Class.class)).
1858                     invokeExact(Void.class);
1859             });
1860             // Incorrect arity
1861             checkWMTE(() -&gt; { // 0
1862                 hs.get(am, methodType(void.class)).
1863                     invokeExact();
1864             });
1865             checkWMTE(() -&gt; { // &gt;
1866                 hs.get(am, methodType(void.class, byte.class, Class.class)).
1867                     invokeExact((byte)0x01, Void.class);
1868             });
1869         }
1870         for (TestAccessMode am : testAccessModesOfType(TestAccessType.COMPARE_AND_SET)) {
1871             // Incorrect argument types
1872             checkWMTE(() -&gt; { // expected reference class
1873                 boolean r = (boolean) hs.get(am, methodType(boolean.class, Class.class, byte.class)).
1874                     invokeExact(Void.class, (byte)0x01);
1875             });
1876             checkWMTE(() -&gt; { // actual reference class
1877                 boolean r = (boolean) hs.get(am, methodType(boolean.class, byte.class, Class.class)).
1878                     invokeExact((byte)0x01, Void.class);
1879             });
1880             // Incorrect arity
1881             checkWMTE(() -&gt; { // 0
1882                 boolean r = (boolean) hs.get(am, methodType(boolean.class)).
1883                     invokeExact();
1884             });
1885             checkWMTE(() -&gt; { // &gt;
1886                 boolean r = (boolean) hs.get(am, methodType(boolean.class, byte.class, byte.class, Class.class)).
1887                     invokeExact((byte)0x01, (byte)0x01, Void.class);
1888             });
1889         }
1890 
1891         for (TestAccessMode am : testAccessModesOfType(TestAccessType.COMPARE_AND_EXCHANGE)) {
1892             // Incorrect argument types
1893             checkWMTE(() -&gt; { // expected reference class
1894                 byte x = (byte) hs.get(am, methodType(byte.class, Class.class, byte.class)).
1895                     invokeExact(Void.class, (byte)0x01);
1896             });
1897             checkWMTE(() -&gt; { // actual reference class
1898                 byte x = (byte) hs.get(am, methodType(byte.class, byte.class, Class.class)).
1899                     invokeExact((byte)0x01, Void.class);
1900             });
1901             // Incorrect return type
1902             checkWMTE(() -&gt; { // reference class
1903                 Void r = (Void) hs.get(am, methodType(Void.class, byte.class, byte.class)).
1904                     invokeExact((byte)0x01, (byte)0x01);
1905             });
1906             checkWMTE(() -&gt; { // primitive class
1907                 boolean x = (boolean) hs.get(am, methodType(boolean.class, byte.class, byte.class)).
1908                     invokeExact((byte)0x01, (byte)0x01);
1909             });
1910             // Incorrect arity
1911             checkWMTE(() -&gt; { // 0
1912                 byte x = (byte) hs.get(am, methodType(byte.class)).
1913                     invokeExact();
1914             });
1915             checkWMTE(() -&gt; { // &gt;
1916                 byte x = (byte) hs.get(am, methodType(byte.class, byte.class, byte.class, Class.class)).
1917                     invokeExact((byte)0x01, (byte)0x01, Void.class);
1918             });
1919         }
1920 
1921         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_SET)) {
1922             // Incorrect argument types
1923             checkWMTE(() -&gt; { // value reference class
1924                 byte x = (byte) hs.get(am, methodType(byte.class, Class.class)).
1925                     invokeExact(Void.class);
1926             });
1927             // Incorrect return type
1928             checkWMTE(() -&gt; { // reference class
1929                 Void r = (Void) hs.get(am, methodType(Void.class, byte.class)).
1930                     invokeExact((byte)0x01);
1931             });
1932             checkWMTE(() -&gt; { // primitive class
1933                 boolean x = (boolean) hs.get(am, methodType(boolean.class, byte.class)).
1934                     invokeExact((byte)0x01);
1935             });
1936             // Incorrect arity
1937             checkWMTE(() -&gt; { // 0
1938                 byte x = (byte) hs.get(am, methodType(byte.class)).
1939                     invokeExact();
1940             });
1941             checkWMTE(() -&gt; { // &gt;
1942                 byte x = (byte) hs.get(am, methodType(byte.class, byte.class, Class.class)).
1943                     invokeExact((byte)0x01, Void.class);
1944             });
1945         }
1946 
1947         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_ADD)) {
1948             // Incorrect argument types
1949             checkWMTE(() -&gt; { // value reference class
1950                 byte x = (byte) hs.get(am, methodType(byte.class, Class.class)).
1951                     invokeExact(Void.class);
1952             });
1953             // Incorrect return type
1954             checkWMTE(() -&gt; { // reference class
1955                 Void r = (Void) hs.get(am, methodType(Void.class, byte.class)).
1956                     invokeExact((byte)0x01);
1957             });
1958             checkWMTE(() -&gt; { // primitive class
1959                 boolean x = (boolean) hs.get(am, methodType(boolean.class, byte.class)).
1960                     invokeExact((byte)0x01);
1961             });
1962             // Incorrect arity
1963             checkWMTE(() -&gt; { // 0
1964                 byte x = (byte) hs.get(am, methodType(byte.class)).
1965                     invokeExact();
1966             });
1967             checkWMTE(() -&gt; { // &gt;
1968                 byte x = (byte) hs.get(am, methodType(byte.class, byte.class, Class.class)).
1969                     invokeExact((byte)0x01, Void.class);
1970             });
1971         }
1972 
1973         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_BITWISE)) {
1974             // Incorrect argument types
1975             checkWMTE(() -&gt; { // value reference class
1976                 byte x = (byte) hs.get(am, methodType(byte.class, Class.class)).
1977                     invokeExact(Void.class);
1978             });
1979             // Incorrect return type
1980             checkWMTE(() -&gt; { // reference class
1981                 Void r = (Void) hs.get(am, methodType(Void.class, byte.class)).
1982                     invokeExact((byte)0x01);
1983             });
1984             checkWMTE(() -&gt; { // primitive class
1985                 boolean x = (boolean) hs.get(am, methodType(boolean.class, byte.class)).
1986                     invokeExact((byte)0x01);
1987             });
1988             // Incorrect arity
1989             checkWMTE(() -&gt; { // 0
1990                 byte x = (byte) hs.get(am, methodType(byte.class)).
1991                     invokeExact();
1992             });
1993             checkWMTE(() -&gt; { // &gt;
1994                 byte x = (byte) hs.get(am, methodType(byte.class, byte.class, Class.class)).
1995                     invokeExact((byte)0x01, Void.class);
1996             });
1997         }
1998     }
1999 
2000 
2001     static void testArrayWrongMethodType(VarHandle vh) throws Throwable {
2002         byte[] array = new byte[10];
2003         Arrays.fill(array, (byte)0x01);
2004 
2005         // Get
2006         // Incorrect argument types
2007         checkNPE(() -&gt; { // null array
2008             byte x = (byte) vh.get(null, 0);
2009         });
2010         checkCCE(() -&gt; { // array reference class
2011             byte x = (byte) vh.get(Void.class, 0);
2012         });
2013         checkWMTE(() -&gt; { // array primitive class
2014             byte x = (byte) vh.get(0, 0);
2015         });
2016         checkWMTE(() -&gt; { // index reference class
2017             byte x = (byte) vh.get(array, Void.class);
2018         });
2019         // Incorrect return type
2020         checkWMTE(() -&gt; { // reference class
2021             Void x = (Void) vh.get(array, 0);
2022         });
2023         checkWMTE(() -&gt; { // primitive class
2024             boolean x = (boolean) vh.get(array, 0);
2025         });
2026         // Incorrect arity
2027         checkWMTE(() -&gt; { // 0
2028             byte x = (byte) vh.get();
2029         });
2030         checkWMTE(() -&gt; { // &gt;
2031             byte x = (byte) vh.get(array, 0, Void.class);
2032         });
2033 
2034 
2035         // Set
2036         // Incorrect argument types
2037         checkNPE(() -&gt; { // null array
2038             vh.set(null, 0, (byte)0x01);
2039         });
2040         checkCCE(() -&gt; { // array reference class
2041             vh.set(Void.class, 0, (byte)0x01);
2042         });
2043         checkWMTE(() -&gt; { // value reference class
2044             vh.set(array, 0, Void.class);
2045         });
2046         checkWMTE(() -&gt; { // receiver primitive class
2047             vh.set(0, 0, (byte)0x01);
2048         });
2049         checkWMTE(() -&gt; { // index reference class
2050             vh.set(array, Void.class, (byte)0x01);
2051         });
2052         // Incorrect arity
2053         checkWMTE(() -&gt; { // 0
2054             vh.set();
2055         });
2056         checkWMTE(() -&gt; { // &gt;
2057             vh.set(array, 0, (byte)0x01, Void.class);
2058         });
2059 
2060 
2061         // GetVolatile
2062         // Incorrect argument types
2063         checkNPE(() -&gt; { // null array
2064             byte x = (byte) vh.getVolatile(null, 0);
2065         });
2066         checkCCE(() -&gt; { // array reference class
2067             byte x = (byte) vh.getVolatile(Void.class, 0);
2068         });
2069         checkWMTE(() -&gt; { // array primitive class
2070             byte x = (byte) vh.getVolatile(0, 0);
2071         });
2072         checkWMTE(() -&gt; { // index reference class
2073             byte x = (byte) vh.getVolatile(array, Void.class);
2074         });
2075         // Incorrect return type
2076         checkWMTE(() -&gt; { // reference class
2077             Void x = (Void) vh.getVolatile(array, 0);
2078         });
2079         checkWMTE(() -&gt; { // primitive class
2080             boolean x = (boolean) vh.getVolatile(array, 0);
2081         });
2082         // Incorrect arity
2083         checkWMTE(() -&gt; { // 0
2084             byte x = (byte) vh.getVolatile();
2085         });
2086         checkWMTE(() -&gt; { // &gt;
2087             byte x = (byte) vh.getVolatile(array, 0, Void.class);
2088         });
2089 
2090 
2091         // SetVolatile
2092         // Incorrect argument types
2093         checkNPE(() -&gt; { // null array
2094             vh.setVolatile(null, 0, (byte)0x01);
2095         });
2096         checkCCE(() -&gt; { // array reference class
2097             vh.setVolatile(Void.class, 0, (byte)0x01);
2098         });
2099         checkWMTE(() -&gt; { // value reference class
2100             vh.setVolatile(array, 0, Void.class);
2101         });
2102         checkWMTE(() -&gt; { // receiver primitive class
2103             vh.setVolatile(0, 0, (byte)0x01);
2104         });
2105         checkWMTE(() -&gt; { // index reference class
2106             vh.setVolatile(array, Void.class, (byte)0x01);
2107         });
2108         // Incorrect arity
2109         checkWMTE(() -&gt; { // 0
2110             vh.setVolatile();
2111         });
2112         checkWMTE(() -&gt; { // &gt;
2113             vh.setVolatile(array, 0, (byte)0x01, Void.class);
2114         });
2115 
2116 
2117         // GetOpaque
2118         // Incorrect argument types
2119         checkNPE(() -&gt; { // null array
2120             byte x = (byte) vh.getOpaque(null, 0);
2121         });
2122         checkCCE(() -&gt; { // array reference class
2123             byte x = (byte) vh.getOpaque(Void.class, 0);
2124         });
2125         checkWMTE(() -&gt; { // array primitive class
2126             byte x = (byte) vh.getOpaque(0, 0);
2127         });
2128         checkWMTE(() -&gt; { // index reference class
2129             byte x = (byte) vh.getOpaque(array, Void.class);
2130         });
2131         // Incorrect return type
2132         checkWMTE(() -&gt; { // reference class
2133             Void x = (Void) vh.getOpaque(array, 0);
2134         });
2135         checkWMTE(() -&gt; { // primitive class
2136             boolean x = (boolean) vh.getOpaque(array, 0);
2137         });
2138         // Incorrect arity
2139         checkWMTE(() -&gt; { // 0
2140             byte x = (byte) vh.getOpaque();
2141         });
2142         checkWMTE(() -&gt; { // &gt;
2143             byte x = (byte) vh.getOpaque(array, 0, Void.class);
2144         });
2145 
2146 
2147         // SetOpaque
2148         // Incorrect argument types
2149         checkNPE(() -&gt; { // null array
2150             vh.setOpaque(null, 0, (byte)0x01);
2151         });
2152         checkCCE(() -&gt; { // array reference class
2153             vh.setOpaque(Void.class, 0, (byte)0x01);
2154         });
2155         checkWMTE(() -&gt; { // value reference class
2156             vh.setOpaque(array, 0, Void.class);
2157         });
2158         checkWMTE(() -&gt; { // receiver primitive class
2159             vh.setOpaque(0, 0, (byte)0x01);
2160         });
2161         checkWMTE(() -&gt; { // index reference class
2162             vh.setOpaque(array, Void.class, (byte)0x01);
2163         });
2164         // Incorrect arity
2165         checkWMTE(() -&gt; { // 0
2166             vh.setOpaque();
2167         });
2168         checkWMTE(() -&gt; { // &gt;
2169             vh.setOpaque(array, 0, (byte)0x01, Void.class);
2170         });
2171 
2172 
2173         // GetAcquire
2174         // Incorrect argument types
2175         checkNPE(() -&gt; { // null array
2176             byte x = (byte) vh.getAcquire(null, 0);
2177         });
2178         checkCCE(() -&gt; { // array reference class
2179             byte x = (byte) vh.getAcquire(Void.class, 0);
2180         });
2181         checkWMTE(() -&gt; { // array primitive class
2182             byte x = (byte) vh.getAcquire(0, 0);
2183         });
2184         checkWMTE(() -&gt; { // index reference class
2185             byte x = (byte) vh.getAcquire(array, Void.class);
2186         });
2187         // Incorrect return type
2188         checkWMTE(() -&gt; { // reference class
2189             Void x = (Void) vh.getAcquire(array, 0);
2190         });
2191         checkWMTE(() -&gt; { // primitive class
2192             boolean x = (boolean) vh.getAcquire(array, 0);
2193         });
2194         // Incorrect arity
2195         checkWMTE(() -&gt; { // 0
2196             byte x = (byte) vh.getAcquire();
2197         });
2198         checkWMTE(() -&gt; { // &gt;
2199             byte x = (byte) vh.getAcquire(array, 0, Void.class);
2200         });
2201 
2202 
2203         // SetRelease
2204         // Incorrect argument types
2205         checkNPE(() -&gt; { // null array
2206             vh.setRelease(null, 0, (byte)0x01);
2207         });
2208         checkCCE(() -&gt; { // array reference class
2209             vh.setRelease(Void.class, 0, (byte)0x01);
2210         });
2211         checkWMTE(() -&gt; { // value reference class
2212             vh.setRelease(array, 0, Void.class);
2213         });
2214         checkWMTE(() -&gt; { // receiver primitive class
2215             vh.setRelease(0, 0, (byte)0x01);
2216         });
2217         checkWMTE(() -&gt; { // index reference class
2218             vh.setRelease(array, Void.class, (byte)0x01);
2219         });
2220         // Incorrect arity
2221         checkWMTE(() -&gt; { // 0
2222             vh.setRelease();
2223         });
2224         checkWMTE(() -&gt; { // &gt;
2225             vh.setRelease(array, 0, (byte)0x01, Void.class);
2226         });
2227 
2228 
2229         // CompareAndSet
2230         // Incorrect argument types
2231         checkNPE(() -&gt; { // null receiver
2232             boolean r = vh.compareAndSet(null, 0, (byte)0x01, (byte)0x01);
2233         });
2234         checkCCE(() -&gt; { // receiver reference class
2235             boolean r = vh.compareAndSet(Void.class, 0, (byte)0x01, (byte)0x01);
2236         });
2237         checkWMTE(() -&gt; { // expected reference class
2238             boolean r = vh.compareAndSet(array, 0, Void.class, (byte)0x01);
2239         });
2240         checkWMTE(() -&gt; { // actual reference class
2241             boolean r = vh.compareAndSet(array, 0, (byte)0x01, Void.class);
2242         });
2243         checkWMTE(() -&gt; { // receiver primitive class
2244             boolean r = vh.compareAndSet(0, 0, (byte)0x01, (byte)0x01);
2245         });
2246         checkWMTE(() -&gt; { // index reference class
2247             boolean r = vh.compareAndSet(array, Void.class, (byte)0x01, (byte)0x01);
2248         });
2249         // Incorrect arity
2250         checkWMTE(() -&gt; { // 0
2251             boolean r = vh.compareAndSet();
2252         });
2253         checkWMTE(() -&gt; { // &gt;
2254             boolean r = vh.compareAndSet(array, 0, (byte)0x01, (byte)0x01, Void.class);
2255         });
2256 
2257 
2258         // WeakCompareAndSet
2259         // Incorrect argument types
2260         checkNPE(() -&gt; { // null receiver
2261             boolean r = vh.weakCompareAndSetPlain(null, 0, (byte)0x01, (byte)0x01);
2262         });
2263         checkCCE(() -&gt; { // receiver reference class
2264             boolean r = vh.weakCompareAndSetPlain(Void.class, 0, (byte)0x01, (byte)0x01);
2265         });
2266         checkWMTE(() -&gt; { // expected reference class
2267             boolean r = vh.weakCompareAndSetPlain(array, 0, Void.class, (byte)0x01);
2268         });
2269         checkWMTE(() -&gt; { // actual reference class
2270             boolean r = vh.weakCompareAndSetPlain(array, 0, (byte)0x01, Void.class);
2271         });
2272         checkWMTE(() -&gt; { // receiver primitive class
2273             boolean r = vh.weakCompareAndSetPlain(0, 0, (byte)0x01, (byte)0x01);
2274         });
2275         checkWMTE(() -&gt; { // index reference class
2276             boolean r = vh.weakCompareAndSetPlain(array, Void.class, (byte)0x01, (byte)0x01);
2277         });
2278         // Incorrect arity
2279         checkWMTE(() -&gt; { // 0
2280             boolean r = vh.weakCompareAndSetPlain();
2281         });
2282         checkWMTE(() -&gt; { // &gt;
2283             boolean r = vh.weakCompareAndSetPlain(array, 0, (byte)0x01, (byte)0x01, Void.class);
2284         });
2285 
2286 
2287         // WeakCompareAndSetVolatile
2288         // Incorrect argument types
2289         checkNPE(() -&gt; { // null receiver
2290             boolean r = vh.weakCompareAndSet(null, 0, (byte)0x01, (byte)0x01);
2291         });
2292         checkCCE(() -&gt; { // receiver reference class
2293             boolean r = vh.weakCompareAndSet(Void.class, 0, (byte)0x01, (byte)0x01);
2294         });
2295         checkWMTE(() -&gt; { // expected reference class
2296             boolean r = vh.weakCompareAndSet(array, 0, Void.class, (byte)0x01);
2297         });
2298         checkWMTE(() -&gt; { // actual reference class
2299             boolean r = vh.weakCompareAndSet(array, 0, (byte)0x01, Void.class);
2300         });
2301         checkWMTE(() -&gt; { // receiver primitive class
2302             boolean r = vh.weakCompareAndSet(0, 0, (byte)0x01, (byte)0x01);
2303         });
2304         checkWMTE(() -&gt; { // index reference class
2305             boolean r = vh.weakCompareAndSet(array, Void.class, (byte)0x01, (byte)0x01);
2306         });
2307         // Incorrect arity
2308         checkWMTE(() -&gt; { // 0
2309             boolean r = vh.weakCompareAndSet();
2310         });
2311         checkWMTE(() -&gt; { // &gt;
2312             boolean r = vh.weakCompareAndSet(array, 0, (byte)0x01, (byte)0x01, Void.class);
2313         });
2314 
2315 
2316         // WeakCompareAndSetAcquire
2317         // Incorrect argument types
2318         checkNPE(() -&gt; { // null receiver
2319             boolean r = vh.weakCompareAndSetAcquire(null, 0, (byte)0x01, (byte)0x01);
2320         });
2321         checkCCE(() -&gt; { // receiver reference class
2322             boolean r = vh.weakCompareAndSetAcquire(Void.class, 0, (byte)0x01, (byte)0x01);
2323         });
2324         checkWMTE(() -&gt; { // expected reference class
2325             boolean r = vh.weakCompareAndSetAcquire(array, 0, Void.class, (byte)0x01);
2326         });
2327         checkWMTE(() -&gt; { // actual reference class
2328             boolean r = vh.weakCompareAndSetAcquire(array, 0, (byte)0x01, Void.class);
2329         });
2330         checkWMTE(() -&gt; { // receiver primitive class
2331             boolean r = vh.weakCompareAndSetAcquire(0, 0, (byte)0x01, (byte)0x01);
2332         });
2333         checkWMTE(() -&gt; { // index reference class
2334             boolean r = vh.weakCompareAndSetAcquire(array, Void.class, (byte)0x01, (byte)0x01);
2335         });
2336         // Incorrect arity
2337         checkWMTE(() -&gt; { // 0
2338             boolean r = vh.weakCompareAndSetAcquire();
2339         });
2340         checkWMTE(() -&gt; { // &gt;
2341             boolean r = vh.weakCompareAndSetAcquire(array, 0, (byte)0x01, (byte)0x01, Void.class);
2342         });
2343 
2344 
2345         // WeakCompareAndSetRelease
2346         // Incorrect argument types
2347         checkNPE(() -&gt; { // null receiver
2348             boolean r = vh.weakCompareAndSetRelease(null, 0, (byte)0x01, (byte)0x01);
2349         });
2350         checkCCE(() -&gt; { // receiver reference class
2351             boolean r = vh.weakCompareAndSetRelease(Void.class, 0, (byte)0x01, (byte)0x01);
2352         });
2353         checkWMTE(() -&gt; { // expected reference class
2354             boolean r = vh.weakCompareAndSetRelease(array, 0, Void.class, (byte)0x01);
2355         });
2356         checkWMTE(() -&gt; { // actual reference class
2357             boolean r = vh.weakCompareAndSetRelease(array, 0, (byte)0x01, Void.class);
2358         });
2359         checkWMTE(() -&gt; { // receiver primitive class
2360             boolean r = vh.weakCompareAndSetRelease(0, 0, (byte)0x01, (byte)0x01);
2361         });
2362         checkWMTE(() -&gt; { // index reference class
2363             boolean r = vh.weakCompareAndSetRelease(array, Void.class, (byte)0x01, (byte)0x01);
2364         });
2365         // Incorrect arity
2366         checkWMTE(() -&gt; { // 0
2367             boolean r = vh.weakCompareAndSetRelease();
2368         });
2369         checkWMTE(() -&gt; { // &gt;
2370             boolean r = vh.weakCompareAndSetRelease(array, 0, (byte)0x01, (byte)0x01, Void.class);
2371         });
2372 
2373 
2374         // CompareAndExchange
2375         // Incorrect argument types
2376         checkNPE(() -&gt; { // null receiver
2377             byte x = (byte) vh.compareAndExchange(null, 0, (byte)0x01, (byte)0x01);
2378         });
2379         checkCCE(() -&gt; { // array reference class
2380             byte x = (byte) vh.compareAndExchange(Void.class, 0, (byte)0x01, (byte)0x01);
2381         });
2382         checkWMTE(() -&gt; { // expected reference class
2383             byte x = (byte) vh.compareAndExchange(array, 0, Void.class, (byte)0x01);
2384         });
2385         checkWMTE(() -&gt; { // actual reference class
2386             byte x = (byte) vh.compareAndExchange(array, 0, (byte)0x01, Void.class);
2387         });
2388         checkWMTE(() -&gt; { // array primitive class
2389             byte x = (byte) vh.compareAndExchange(0, 0, (byte)0x01, (byte)0x01);
2390         });
2391         checkWMTE(() -&gt; { // index reference class
2392             byte x = (byte) vh.compareAndExchange(array, Void.class, (byte)0x01, (byte)0x01);
2393         });
2394         // Incorrect return type
2395         checkWMTE(() -&gt; { // reference class
2396             Void r = (Void) vh.compareAndExchange(array, 0, (byte)0x01, (byte)0x01);
2397         });
2398         checkWMTE(() -&gt; { // primitive class
2399             boolean x = (boolean) vh.compareAndExchange(array, 0, (byte)0x01, (byte)0x01);
2400         });
2401         // Incorrect arity
2402         checkWMTE(() -&gt; { // 0
2403             byte x = (byte) vh.compareAndExchange();
2404         });
2405         checkWMTE(() -&gt; { // &gt;
2406             byte x = (byte) vh.compareAndExchange(array, 0, (byte)0x01, (byte)0x01, Void.class);
2407         });
2408 
2409 
2410         // CompareAndExchangeAcquire
2411         // Incorrect argument types
2412         checkNPE(() -&gt; { // null receiver
2413             byte x = (byte) vh.compareAndExchangeAcquire(null, 0, (byte)0x01, (byte)0x01);
2414         });
2415         checkCCE(() -&gt; { // array reference class
2416             byte x = (byte) vh.compareAndExchangeAcquire(Void.class, 0, (byte)0x01, (byte)0x01);
2417         });
2418         checkWMTE(() -&gt; { // expected reference class
2419             byte x = (byte) vh.compareAndExchangeAcquire(array, 0, Void.class, (byte)0x01);
2420         });
2421         checkWMTE(() -&gt; { // actual reference class
2422             byte x = (byte) vh.compareAndExchangeAcquire(array, 0, (byte)0x01, Void.class);
2423         });
2424         checkWMTE(() -&gt; { // array primitive class
2425             byte x = (byte) vh.compareAndExchangeAcquire(0, 0, (byte)0x01, (byte)0x01);
2426         });
2427         checkWMTE(() -&gt; { // index reference class
2428             byte x = (byte) vh.compareAndExchangeAcquire(array, Void.class, (byte)0x01, (byte)0x01);
2429         });
2430         // Incorrect return type
2431         checkWMTE(() -&gt; { // reference class
2432             Void r = (Void) vh.compareAndExchangeAcquire(array, 0, (byte)0x01, (byte)0x01);
2433         });
2434         checkWMTE(() -&gt; { // primitive class
2435             boolean x = (boolean) vh.compareAndExchangeAcquire(array, 0, (byte)0x01, (byte)0x01);
2436         });
2437         // Incorrect arity
2438         checkWMTE(() -&gt; { // 0
2439             byte x = (byte) vh.compareAndExchangeAcquire();
2440         });
2441         checkWMTE(() -&gt; { // &gt;
2442             byte x = (byte) vh.compareAndExchangeAcquire(array, 0, (byte)0x01, (byte)0x01, Void.class);
2443         });
2444 
2445 
2446         // CompareAndExchangeRelease
2447         // Incorrect argument types
2448         checkNPE(() -&gt; { // null receiver
2449             byte x = (byte) vh.compareAndExchangeRelease(null, 0, (byte)0x01, (byte)0x01);
2450         });
2451         checkCCE(() -&gt; { // array reference class
2452             byte x = (byte) vh.compareAndExchangeRelease(Void.class, 0, (byte)0x01, (byte)0x01);
2453         });
2454         checkWMTE(() -&gt; { // expected reference class
2455             byte x = (byte) vh.compareAndExchangeRelease(array, 0, Void.class, (byte)0x01);
2456         });
2457         checkWMTE(() -&gt; { // actual reference class
2458             byte x = (byte) vh.compareAndExchangeRelease(array, 0, (byte)0x01, Void.class);
2459         });
2460         checkWMTE(() -&gt; { // array primitive class
2461             byte x = (byte) vh.compareAndExchangeRelease(0, 0, (byte)0x01, (byte)0x01);
2462         });
2463         checkWMTE(() -&gt; { // index reference class
2464             byte x = (byte) vh.compareAndExchangeRelease(array, Void.class, (byte)0x01, (byte)0x01);
2465         });
2466         // Incorrect return type
2467         checkWMTE(() -&gt; { // reference class
2468             Void r = (Void) vh.compareAndExchangeRelease(array, 0, (byte)0x01, (byte)0x01);
2469         });
2470         checkWMTE(() -&gt; { // primitive class
2471             boolean x = (boolean) vh.compareAndExchangeRelease(array, 0, (byte)0x01, (byte)0x01);
2472         });
2473         // Incorrect arity
2474         checkWMTE(() -&gt; { // 0
2475             byte x = (byte) vh.compareAndExchangeRelease();
2476         });
2477         checkWMTE(() -&gt; { // &gt;
2478             byte x = (byte) vh.compareAndExchangeRelease(array, 0, (byte)0x01, (byte)0x01, Void.class);
2479         });
2480 
2481 
2482         // GetAndSet
2483         // Incorrect argument types
2484         checkNPE(() -&gt; { // null array
2485             byte x = (byte) vh.getAndSet(null, 0, (byte)0x01);
2486         });
2487         checkCCE(() -&gt; { // array reference class
2488             byte x = (byte) vh.getAndSet(Void.class, 0, (byte)0x01);
2489         });
2490         checkWMTE(() -&gt; { // value reference class
2491             byte x = (byte) vh.getAndSet(array, 0, Void.class);
2492         });
2493         checkWMTE(() -&gt; { // reciarrayever primitive class
2494             byte x = (byte) vh.getAndSet(0, 0, (byte)0x01);
2495         });
2496         checkWMTE(() -&gt; { // index reference class
2497             byte x = (byte) vh.getAndSet(array, Void.class, (byte)0x01);
2498         });
2499         // Incorrect return type
2500         checkWMTE(() -&gt; { // reference class
2501             Void r = (Void) vh.getAndSet(array, 0, (byte)0x01);
2502         });
2503         checkWMTE(() -&gt; { // primitive class
2504             boolean x = (boolean) vh.getAndSet(array, 0, (byte)0x01);
2505         });
2506         // Incorrect arity
2507         checkWMTE(() -&gt; { // 0
2508             byte x = (byte) vh.getAndSet();
2509         });
2510         checkWMTE(() -&gt; { // &gt;
2511             byte x = (byte) vh.getAndSet(array, 0, (byte)0x01, Void.class);
2512         });
2513 
2514 
2515         // GetAndSetAcquire
2516         // Incorrect argument types
2517         checkNPE(() -&gt; { // null array
2518             byte x = (byte) vh.getAndSetAcquire(null, 0, (byte)0x01);
2519         });
2520         checkCCE(() -&gt; { // array reference class
2521             byte x = (byte) vh.getAndSetAcquire(Void.class, 0, (byte)0x01);
2522         });
2523         checkWMTE(() -&gt; { // value reference class
2524             byte x = (byte) vh.getAndSetAcquire(array, 0, Void.class);
2525         });
2526         checkWMTE(() -&gt; { // reciarrayever primitive class
2527             byte x = (byte) vh.getAndSetAcquire(0, 0, (byte)0x01);
2528         });
2529         checkWMTE(() -&gt; { // index reference class
2530             byte x = (byte) vh.getAndSetAcquire(array, Void.class, (byte)0x01);
2531         });
2532         // Incorrect return type
2533         checkWMTE(() -&gt; { // reference class
2534             Void r = (Void) vh.getAndSetAcquire(array, 0, (byte)0x01);
2535         });
2536         checkWMTE(() -&gt; { // primitive class
2537             boolean x = (boolean) vh.getAndSetAcquire(array, 0, (byte)0x01);
2538         });
2539         // Incorrect arity
2540         checkWMTE(() -&gt; { // 0
2541             byte x = (byte) vh.getAndSetAcquire();
2542         });
2543         checkWMTE(() -&gt; { // &gt;
2544             byte x = (byte) vh.getAndSetAcquire(array, 0, (byte)0x01, Void.class);
2545         });
2546 
2547 
2548         // GetAndSetRelease
2549         // Incorrect argument types
2550         checkNPE(() -&gt; { // null array
2551             byte x = (byte) vh.getAndSetRelease(null, 0, (byte)0x01);
2552         });
2553         checkCCE(() -&gt; { // array reference class
2554             byte x = (byte) vh.getAndSetRelease(Void.class, 0, (byte)0x01);
2555         });
2556         checkWMTE(() -&gt; { // value reference class
2557             byte x = (byte) vh.getAndSetRelease(array, 0, Void.class);
2558         });
2559         checkWMTE(() -&gt; { // reciarrayever primitive class
2560             byte x = (byte) vh.getAndSetRelease(0, 0, (byte)0x01);
2561         });
2562         checkWMTE(() -&gt; { // index reference class
2563             byte x = (byte) vh.getAndSetRelease(array, Void.class, (byte)0x01);
2564         });
2565         // Incorrect return type
2566         checkWMTE(() -&gt; { // reference class
2567             Void r = (Void) vh.getAndSetRelease(array, 0, (byte)0x01);
2568         });
2569         checkWMTE(() -&gt; { // primitive class
2570             boolean x = (boolean) vh.getAndSetRelease(array, 0, (byte)0x01);
2571         });
2572         // Incorrect arity
2573         checkWMTE(() -&gt; { // 0
2574             byte x = (byte) vh.getAndSetRelease();
2575         });
2576         checkWMTE(() -&gt; { // &gt;
2577             byte x = (byte) vh.getAndSetRelease(array, 0, (byte)0x01, Void.class);
2578         });
2579 
2580         // GetAndAdd
2581         // Incorrect argument types
2582         checkNPE(() -&gt; { // null array
2583             byte x = (byte) vh.getAndAdd(null, 0, (byte)0x01);
2584         });
2585         checkCCE(() -&gt; { // array reference class
2586             byte x = (byte) vh.getAndAdd(Void.class, 0, (byte)0x01);
2587         });
2588         checkWMTE(() -&gt; { // value reference class
2589             byte x = (byte) vh.getAndAdd(array, 0, Void.class);
2590         });
2591         checkWMTE(() -&gt; { // array primitive class
2592             byte x = (byte) vh.getAndAdd(0, 0, (byte)0x01);
2593         });
2594         checkWMTE(() -&gt; { // index reference class
2595             byte x = (byte) vh.getAndAdd(array, Void.class, (byte)0x01);
2596         });
2597         // Incorrect return type
2598         checkWMTE(() -&gt; { // reference class
2599             Void r = (Void) vh.getAndAdd(array, 0, (byte)0x01);
2600         });
2601         checkWMTE(() -&gt; { // primitive class
2602             boolean x = (boolean) vh.getAndAdd(array, 0, (byte)0x01);
2603         });
2604         // Incorrect arity
2605         checkWMTE(() -&gt; { // 0
2606             byte x = (byte) vh.getAndAdd();
2607         });
2608         checkWMTE(() -&gt; { // &gt;
2609             byte x = (byte) vh.getAndAdd(array, 0, (byte)0x01, Void.class);
2610         });
2611 
2612 
2613         // GetAndAddAcquire
2614         // Incorrect argument types
2615         checkNPE(() -&gt; { // null array
2616             byte x = (byte) vh.getAndAddAcquire(null, 0, (byte)0x01);
2617         });
2618         checkCCE(() -&gt; { // array reference class
2619             byte x = (byte) vh.getAndAddAcquire(Void.class, 0, (byte)0x01);
2620         });
2621         checkWMTE(() -&gt; { // value reference class
2622             byte x = (byte) vh.getAndAddAcquire(array, 0, Void.class);
2623         });
2624         checkWMTE(() -&gt; { // array primitive class
2625             byte x = (byte) vh.getAndAddAcquire(0, 0, (byte)0x01);
2626         });
2627         checkWMTE(() -&gt; { // index reference class
2628             byte x = (byte) vh.getAndAddAcquire(array, Void.class, (byte)0x01);
2629         });
2630         // Incorrect return type
2631         checkWMTE(() -&gt; { // reference class
2632             Void r = (Void) vh.getAndAddAcquire(array, 0, (byte)0x01);
2633         });
2634         checkWMTE(() -&gt; { // primitive class
2635             boolean x = (boolean) vh.getAndAddAcquire(array, 0, (byte)0x01);
2636         });
2637         // Incorrect arity
2638         checkWMTE(() -&gt; { // 0
2639             byte x = (byte) vh.getAndAddAcquire();
2640         });
2641         checkWMTE(() -&gt; { // &gt;
2642             byte x = (byte) vh.getAndAddAcquire(array, 0, (byte)0x01, Void.class);
2643         });
2644 
2645 
2646         // GetAndAddRelease
2647         // Incorrect argument types
2648         checkNPE(() -&gt; { // null array
2649             byte x = (byte) vh.getAndAddRelease(null, 0, (byte)0x01);
2650         });
2651         checkCCE(() -&gt; { // array reference class
2652             byte x = (byte) vh.getAndAddRelease(Void.class, 0, (byte)0x01);
2653         });
2654         checkWMTE(() -&gt; { // value reference class
2655             byte x = (byte) vh.getAndAddRelease(array, 0, Void.class);
2656         });
2657         checkWMTE(() -&gt; { // array primitive class
2658             byte x = (byte) vh.getAndAddRelease(0, 0, (byte)0x01);
2659         });
2660         checkWMTE(() -&gt; { // index reference class
2661             byte x = (byte) vh.getAndAddRelease(array, Void.class, (byte)0x01);
2662         });
2663         // Incorrect return type
2664         checkWMTE(() -&gt; { // reference class
2665             Void r = (Void) vh.getAndAddRelease(array, 0, (byte)0x01);
2666         });
2667         checkWMTE(() -&gt; { // primitive class
2668             boolean x = (boolean) vh.getAndAddRelease(array, 0, (byte)0x01);
2669         });
2670         // Incorrect arity
2671         checkWMTE(() -&gt; { // 0
2672             byte x = (byte) vh.getAndAddRelease();
2673         });
2674         checkWMTE(() -&gt; { // &gt;
2675             byte x = (byte) vh.getAndAddRelease(array, 0, (byte)0x01, Void.class);
2676         });
2677 
2678         // GetAndBitwiseOr
2679         // Incorrect argument types
2680         checkNPE(() -&gt; { // null array
2681             byte x = (byte) vh.getAndBitwiseOr(null, 0, (byte)0x01);
2682         });
2683         checkCCE(() -&gt; { // array reference class
2684             byte x = (byte) vh.getAndBitwiseOr(Void.class, 0, (byte)0x01);
2685         });
2686         checkWMTE(() -&gt; { // value reference class
2687             byte x = (byte) vh.getAndBitwiseOr(array, 0, Void.class);
2688         });
2689         checkWMTE(() -&gt; { // array primitive class
2690             byte x = (byte) vh.getAndBitwiseOr(0, 0, (byte)0x01);
2691         });
2692         checkWMTE(() -&gt; { // index reference class
2693             byte x = (byte) vh.getAndBitwiseOr(array, Void.class, (byte)0x01);
2694         });
2695         // Incorrect return type
2696         checkWMTE(() -&gt; { // reference class
2697             Void r = (Void) vh.getAndBitwiseOr(array, 0, (byte)0x01);
2698         });
2699         checkWMTE(() -&gt; { // primitive class
2700             boolean x = (boolean) vh.getAndBitwiseOr(array, 0, (byte)0x01);
2701         });
2702         // Incorrect arity
2703         checkWMTE(() -&gt; { // 0
2704             byte x = (byte) vh.getAndBitwiseOr();
2705         });
2706         checkWMTE(() -&gt; { // &gt;
2707             byte x = (byte) vh.getAndBitwiseOr(array, 0, (byte)0x01, Void.class);
2708         });
2709 
2710 
2711         // GetAndBitwiseOrAcquire
2712         // Incorrect argument types
2713         checkNPE(() -&gt; { // null array
2714             byte x = (byte) vh.getAndBitwiseOrAcquire(null, 0, (byte)0x01);
2715         });
2716         checkCCE(() -&gt; { // array reference class
2717             byte x = (byte) vh.getAndBitwiseOrAcquire(Void.class, 0, (byte)0x01);
2718         });
2719         checkWMTE(() -&gt; { // value reference class
2720             byte x = (byte) vh.getAndBitwiseOrAcquire(array, 0, Void.class);
2721         });
2722         checkWMTE(() -&gt; { // array primitive class
2723             byte x = (byte) vh.getAndBitwiseOrAcquire(0, 0, (byte)0x01);
2724         });
2725         checkWMTE(() -&gt; { // index reference class
2726             byte x = (byte) vh.getAndBitwiseOrAcquire(array, Void.class, (byte)0x01);
2727         });
2728         // Incorrect return type
2729         checkWMTE(() -&gt; { // reference class
2730             Void r = (Void) vh.getAndBitwiseOrAcquire(array, 0, (byte)0x01);
2731         });
2732         checkWMTE(() -&gt; { // primitive class
2733             boolean x = (boolean) vh.getAndBitwiseOrAcquire(array, 0, (byte)0x01);
2734         });
2735         // Incorrect arity
2736         checkWMTE(() -&gt; { // 0
2737             byte x = (byte) vh.getAndBitwiseOrAcquire();
2738         });
2739         checkWMTE(() -&gt; { // &gt;
2740             byte x = (byte) vh.getAndBitwiseOrAcquire(array, 0, (byte)0x01, Void.class);
2741         });
2742 
2743 
2744         // GetAndBitwiseOrRelease
2745         // Incorrect argument types
2746         checkNPE(() -&gt; { // null array
2747             byte x = (byte) vh.getAndBitwiseOrRelease(null, 0, (byte)0x01);
2748         });
2749         checkCCE(() -&gt; { // array reference class
2750             byte x = (byte) vh.getAndBitwiseOrRelease(Void.class, 0, (byte)0x01);
2751         });
2752         checkWMTE(() -&gt; { // value reference class
2753             byte x = (byte) vh.getAndBitwiseOrRelease(array, 0, Void.class);
2754         });
2755         checkWMTE(() -&gt; { // array primitive class
2756             byte x = (byte) vh.getAndBitwiseOrRelease(0, 0, (byte)0x01);
2757         });
2758         checkWMTE(() -&gt; { // index reference class
2759             byte x = (byte) vh.getAndBitwiseOrRelease(array, Void.class, (byte)0x01);
2760         });
2761         // Incorrect return type
2762         checkWMTE(() -&gt; { // reference class
2763             Void r = (Void) vh.getAndBitwiseOrRelease(array, 0, (byte)0x01);
2764         });
2765         checkWMTE(() -&gt; { // primitive class
2766             boolean x = (boolean) vh.getAndBitwiseOrRelease(array, 0, (byte)0x01);
2767         });
2768         // Incorrect arity
2769         checkWMTE(() -&gt; { // 0
2770             byte x = (byte) vh.getAndBitwiseOrRelease();
2771         });
2772         checkWMTE(() -&gt; { // &gt;
2773             byte x = (byte) vh.getAndBitwiseOrRelease(array, 0, (byte)0x01, Void.class);
2774         });
2775 
2776 
2777         // GetAndBitwiseAnd
2778         // Incorrect argument types
2779         checkNPE(() -&gt; { // null array
2780             byte x = (byte) vh.getAndBitwiseAnd(null, 0, (byte)0x01);
2781         });
2782         checkCCE(() -&gt; { // array reference class
2783             byte x = (byte) vh.getAndBitwiseAnd(Void.class, 0, (byte)0x01);
2784         });
2785         checkWMTE(() -&gt; { // value reference class
2786             byte x = (byte) vh.getAndBitwiseAnd(array, 0, Void.class);
2787         });
2788         checkWMTE(() -&gt; { // array primitive class
2789             byte x = (byte) vh.getAndBitwiseAnd(0, 0, (byte)0x01);
2790         });
2791         checkWMTE(() -&gt; { // index reference class
2792             byte x = (byte) vh.getAndBitwiseAnd(array, Void.class, (byte)0x01);
2793         });
2794         // Incorrect return type
2795         checkWMTE(() -&gt; { // reference class
2796             Void r = (Void) vh.getAndBitwiseAnd(array, 0, (byte)0x01);
2797         });
2798         checkWMTE(() -&gt; { // primitive class
2799             boolean x = (boolean) vh.getAndBitwiseAnd(array, 0, (byte)0x01);
2800         });
2801         // Incorrect arity
2802         checkWMTE(() -&gt; { // 0
2803             byte x = (byte) vh.getAndBitwiseAnd();
2804         });
2805         checkWMTE(() -&gt; { // &gt;
2806             byte x = (byte) vh.getAndBitwiseAnd(array, 0, (byte)0x01, Void.class);
2807         });
2808 
2809 
2810         // GetAndBitwiseAndAcquire
2811         // Incorrect argument types
2812         checkNPE(() -&gt; { // null array
2813             byte x = (byte) vh.getAndBitwiseAndAcquire(null, 0, (byte)0x01);
2814         });
2815         checkCCE(() -&gt; { // array reference class
2816             byte x = (byte) vh.getAndBitwiseAndAcquire(Void.class, 0, (byte)0x01);
2817         });
2818         checkWMTE(() -&gt; { // value reference class
2819             byte x = (byte) vh.getAndBitwiseAndAcquire(array, 0, Void.class);
2820         });
2821         checkWMTE(() -&gt; { // array primitive class
2822             byte x = (byte) vh.getAndBitwiseAndAcquire(0, 0, (byte)0x01);
2823         });
2824         checkWMTE(() -&gt; { // index reference class
2825             byte x = (byte) vh.getAndBitwiseAndAcquire(array, Void.class, (byte)0x01);
2826         });
2827         // Incorrect return type
2828         checkWMTE(() -&gt; { // reference class
2829             Void r = (Void) vh.getAndBitwiseAndAcquire(array, 0, (byte)0x01);
2830         });
2831         checkWMTE(() -&gt; { // primitive class
2832             boolean x = (boolean) vh.getAndBitwiseAndAcquire(array, 0, (byte)0x01);
2833         });
2834         // Incorrect arity
2835         checkWMTE(() -&gt; { // 0
2836             byte x = (byte) vh.getAndBitwiseAndAcquire();
2837         });
2838         checkWMTE(() -&gt; { // &gt;
2839             byte x = (byte) vh.getAndBitwiseAndAcquire(array, 0, (byte)0x01, Void.class);
2840         });
2841 
2842 
2843         // GetAndBitwiseAndRelease
2844         // Incorrect argument types
2845         checkNPE(() -&gt; { // null array
2846             byte x = (byte) vh.getAndBitwiseAndRelease(null, 0, (byte)0x01);
2847         });
2848         checkCCE(() -&gt; { // array reference class
2849             byte x = (byte) vh.getAndBitwiseAndRelease(Void.class, 0, (byte)0x01);
2850         });
2851         checkWMTE(() -&gt; { // value reference class
2852             byte x = (byte) vh.getAndBitwiseAndRelease(array, 0, Void.class);
2853         });
2854         checkWMTE(() -&gt; { // array primitive class
2855             byte x = (byte) vh.getAndBitwiseAndRelease(0, 0, (byte)0x01);
2856         });
2857         checkWMTE(() -&gt; { // index reference class
2858             byte x = (byte) vh.getAndBitwiseAndRelease(array, Void.class, (byte)0x01);
2859         });
2860         // Incorrect return type
2861         checkWMTE(() -&gt; { // reference class
2862             Void r = (Void) vh.getAndBitwiseAndRelease(array, 0, (byte)0x01);
2863         });
2864         checkWMTE(() -&gt; { // primitive class
2865             boolean x = (boolean) vh.getAndBitwiseAndRelease(array, 0, (byte)0x01);
2866         });
2867         // Incorrect arity
2868         checkWMTE(() -&gt; { // 0
2869             byte x = (byte) vh.getAndBitwiseAndRelease();
2870         });
2871         checkWMTE(() -&gt; { // &gt;
2872             byte x = (byte) vh.getAndBitwiseAndRelease(array, 0, (byte)0x01, Void.class);
2873         });
2874 
2875 
2876         // GetAndBitwiseXor
2877         // Incorrect argument types
2878         checkNPE(() -&gt; { // null array
2879             byte x = (byte) vh.getAndBitwiseXor(null, 0, (byte)0x01);
2880         });
2881         checkCCE(() -&gt; { // array reference class
2882             byte x = (byte) vh.getAndBitwiseXor(Void.class, 0, (byte)0x01);
2883         });
2884         checkWMTE(() -&gt; { // value reference class
2885             byte x = (byte) vh.getAndBitwiseXor(array, 0, Void.class);
2886         });
2887         checkWMTE(() -&gt; { // array primitive class
2888             byte x = (byte) vh.getAndBitwiseXor(0, 0, (byte)0x01);
2889         });
2890         checkWMTE(() -&gt; { // index reference class
2891             byte x = (byte) vh.getAndBitwiseXor(array, Void.class, (byte)0x01);
2892         });
2893         // Incorrect return type
2894         checkWMTE(() -&gt; { // reference class
2895             Void r = (Void) vh.getAndBitwiseXor(array, 0, (byte)0x01);
2896         });
2897         checkWMTE(() -&gt; { // primitive class
2898             boolean x = (boolean) vh.getAndBitwiseXor(array, 0, (byte)0x01);
2899         });
2900         // Incorrect arity
2901         checkWMTE(() -&gt; { // 0
2902             byte x = (byte) vh.getAndBitwiseXor();
2903         });
2904         checkWMTE(() -&gt; { // &gt;
2905             byte x = (byte) vh.getAndBitwiseXor(array, 0, (byte)0x01, Void.class);
2906         });
2907 
2908 
2909         // GetAndBitwiseXorAcquire
2910         // Incorrect argument types
2911         checkNPE(() -&gt; { // null array
2912             byte x = (byte) vh.getAndBitwiseXorAcquire(null, 0, (byte)0x01);
2913         });
2914         checkCCE(() -&gt; { // array reference class
2915             byte x = (byte) vh.getAndBitwiseXorAcquire(Void.class, 0, (byte)0x01);
2916         });
2917         checkWMTE(() -&gt; { // value reference class
2918             byte x = (byte) vh.getAndBitwiseXorAcquire(array, 0, Void.class);
2919         });
2920         checkWMTE(() -&gt; { // array primitive class
2921             byte x = (byte) vh.getAndBitwiseXorAcquire(0, 0, (byte)0x01);
2922         });
2923         checkWMTE(() -&gt; { // index reference class
2924             byte x = (byte) vh.getAndBitwiseXorAcquire(array, Void.class, (byte)0x01);
2925         });
2926         // Incorrect return type
2927         checkWMTE(() -&gt; { // reference class
2928             Void r = (Void) vh.getAndBitwiseXorAcquire(array, 0, (byte)0x01);
2929         });
2930         checkWMTE(() -&gt; { // primitive class
2931             boolean x = (boolean) vh.getAndBitwiseXorAcquire(array, 0, (byte)0x01);
2932         });
2933         // Incorrect arity
2934         checkWMTE(() -&gt; { // 0
2935             byte x = (byte) vh.getAndBitwiseXorAcquire();
2936         });
2937         checkWMTE(() -&gt; { // &gt;
2938             byte x = (byte) vh.getAndBitwiseXorAcquire(array, 0, (byte)0x01, Void.class);
2939         });
2940 
2941 
2942         // GetAndBitwiseXorRelease
2943         // Incorrect argument types
2944         checkNPE(() -&gt; { // null array
2945             byte x = (byte) vh.getAndBitwiseXorRelease(null, 0, (byte)0x01);
2946         });
2947         checkCCE(() -&gt; { // array reference class
2948             byte x = (byte) vh.getAndBitwiseXorRelease(Void.class, 0, (byte)0x01);
2949         });
2950         checkWMTE(() -&gt; { // value reference class
2951             byte x = (byte) vh.getAndBitwiseXorRelease(array, 0, Void.class);
2952         });
2953         checkWMTE(() -&gt; { // array primitive class
2954             byte x = (byte) vh.getAndBitwiseXorRelease(0, 0, (byte)0x01);
2955         });
2956         checkWMTE(() -&gt; { // index reference class
2957             byte x = (byte) vh.getAndBitwiseXorRelease(array, Void.class, (byte)0x01);
2958         });
2959         // Incorrect return type
2960         checkWMTE(() -&gt; { // reference class
2961             Void r = (Void) vh.getAndBitwiseXorRelease(array, 0, (byte)0x01);
2962         });
2963         checkWMTE(() -&gt; { // primitive class
2964             boolean x = (boolean) vh.getAndBitwiseXorRelease(array, 0, (byte)0x01);
2965         });
2966         // Incorrect arity
2967         checkWMTE(() -&gt; { // 0
2968             byte x = (byte) vh.getAndBitwiseXorRelease();
2969         });
2970         checkWMTE(() -&gt; { // &gt;
2971             byte x = (byte) vh.getAndBitwiseXorRelease(array, 0, (byte)0x01, Void.class);
2972         });
2973     }
2974 
2975     static void testArrayWrongMethodType(Handles hs) throws Throwable {
2976         byte[] array = new byte[10];
2977         Arrays.fill(array, (byte)0x01);
2978 
2979         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET)) {
2980             // Incorrect argument types
2981             checkNPE(() -&gt; { // null array
2982                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class)).
2983                     invokeExact((byte[]) null, 0);
2984             });
2985             hs.checkWMTEOrCCE(() -&gt; { // array reference class
2986                 byte x = (byte) hs.get(am, methodType(byte.class, Class.class, int.class)).
2987                     invokeExact(Void.class, 0);
2988             });
2989             checkWMTE(() -&gt; { // array primitive class
2990                 byte x = (byte) hs.get(am, methodType(byte.class, int.class, int.class)).
2991                     invokeExact(0, 0);
2992             });
2993             checkWMTE(() -&gt; { // index reference class
2994                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, Class.class)).
2995                     invokeExact(array, Void.class);
2996             });
2997             // Incorrect return type
2998             checkWMTE(() -&gt; { // reference class
2999                 Void x = (Void) hs.get(am, methodType(Void.class, byte[].class, int.class)).
3000                     invokeExact(array, 0);
3001             });
3002             checkWMTE(() -&gt; { // primitive class
3003                 boolean x = (boolean) hs.get(am, methodType(boolean.class, byte[].class, int.class)).
3004                     invokeExact(array, 0);
3005             });
3006             // Incorrect arity
3007             checkWMTE(() -&gt; { // 0
3008                 byte x = (byte) hs.get(am, methodType(byte.class)).
3009                     invokeExact();
3010             });
3011             checkWMTE(() -&gt; { // &gt;
3012                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class, Class.class)).
3013                     invokeExact(array, 0, Void.class);
3014             });
3015         }
3016 
3017         for (TestAccessMode am : testAccessModesOfType(TestAccessType.SET)) {
3018             // Incorrect argument types
3019             checkNPE(() -&gt; { // null array
3020                 hs.get(am, methodType(void.class, byte[].class, int.class, byte.class)).
3021                     invokeExact((byte[]) null, 0, (byte)0x01);
3022             });
3023             hs.checkWMTEOrCCE(() -&gt; { // array reference class
3024                 hs.get(am, methodType(void.class, Class.class, int.class, byte.class)).
3025                     invokeExact(Void.class, 0, (byte)0x01);
3026             });
3027             checkWMTE(() -&gt; { // value reference class
3028                 hs.get(am, methodType(void.class, byte[].class, int.class, Class.class)).
3029                     invokeExact(array, 0, Void.class);
3030             });
3031             checkWMTE(() -&gt; { // receiver primitive class
3032                 hs.get(am, methodType(void.class, int.class, int.class, byte.class)).
3033                     invokeExact(0, 0, (byte)0x01);
3034             });
3035             checkWMTE(() -&gt; { // index reference class
3036                 hs.get(am, methodType(void.class, byte[].class, Class.class, byte.class)).
3037                     invokeExact(array, Void.class, (byte)0x01);
3038             });
3039             // Incorrect arity
3040             checkWMTE(() -&gt; { // 0
3041                 hs.get(am, methodType(void.class)).
3042                     invokeExact();
3043             });
3044             checkWMTE(() -&gt; { // &gt;
3045                 hs.get(am, methodType(void.class, byte[].class, int.class, Class.class)).
3046                     invokeExact(array, 0, (byte)0x01, Void.class);
3047             });
3048         }
3049         for (TestAccessMode am : testAccessModesOfType(TestAccessType.COMPARE_AND_SET)) {
3050             // Incorrect argument types
3051             checkNPE(() -&gt; { // null receiver
3052                 boolean r = (boolean) hs.get(am, methodType(boolean.class, byte[].class, int.class, byte.class, byte.class)).
3053                     invokeExact((byte[]) null, 0, (byte)0x01, (byte)0x01);
3054             });
3055             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
3056                 boolean r = (boolean) hs.get(am, methodType(boolean.class, Class.class, int.class, byte.class, byte.class)).
3057                     invokeExact(Void.class, 0, (byte)0x01, (byte)0x01);
3058             });
3059             checkWMTE(() -&gt; { // expected reference class
3060                 boolean r = (boolean) hs.get(am, methodType(boolean.class, byte[].class, int.class, Class.class, byte.class)).
3061                     invokeExact(array, 0, Void.class, (byte)0x01);
3062             });
3063             checkWMTE(() -&gt; { // actual reference class
3064                 boolean r = (boolean) hs.get(am, methodType(boolean.class, byte[].class, int.class, byte.class, Class.class)).
3065                     invokeExact(array, 0, (byte)0x01, Void.class);
3066             });
3067             checkWMTE(() -&gt; { // receiver primitive class
3068                 boolean r = (boolean) hs.get(am, methodType(boolean.class, int.class, int.class, byte.class, byte.class)).
3069                     invokeExact(0, 0, (byte)0x01, (byte)0x01);
3070             });
3071             checkWMTE(() -&gt; { // index reference class
3072                 boolean r = (boolean) hs.get(am, methodType(boolean.class, byte[].class, Class.class, byte.class, byte.class)).
3073                     invokeExact(array, Void.class, (byte)0x01, (byte)0x01);
3074             });
3075             // Incorrect arity
3076             checkWMTE(() -&gt; { // 0
3077                 boolean r = (boolean) hs.get(am, methodType(boolean.class)).
3078                     invokeExact();
3079             });
3080             checkWMTE(() -&gt; { // &gt;
3081                 boolean r = (boolean) hs.get(am, methodType(boolean.class, byte[].class, int.class, byte.class, byte.class, Class.class)).
3082                     invokeExact(array, 0, (byte)0x01, (byte)0x01, Void.class);
3083             });
3084         }
3085 
3086         for (TestAccessMode am : testAccessModesOfType(TestAccessType.COMPARE_AND_EXCHANGE)) {
3087             // Incorrect argument types
3088             checkNPE(() -&gt; { // null receiver
3089                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class, byte.class, byte.class)).
3090                     invokeExact((byte[]) null, 0, (byte)0x01, (byte)0x01);
3091             });
3092             hs.checkWMTEOrCCE(() -&gt; { // array reference class
3093                 byte x = (byte) hs.get(am, methodType(byte.class, Class.class, int.class, byte.class, byte.class)).
3094                     invokeExact(Void.class, 0, (byte)0x01, (byte)0x01);
3095             });
3096             checkWMTE(() -&gt; { // expected reference class
3097                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class, Class.class, byte.class)).
3098                     invokeExact(array, 0, Void.class, (byte)0x01);
3099             });
3100             checkWMTE(() -&gt; { // actual reference class
3101                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class, byte.class, Class.class)).
3102                     invokeExact(array, 0, (byte)0x01, Void.class);
3103             });
3104             checkWMTE(() -&gt; { // array primitive class
3105                 byte x = (byte) hs.get(am, methodType(byte.class, int.class, int.class, byte.class, byte.class)).
3106                     invokeExact(0, 0, (byte)0x01, (byte)0x01);
3107             });
3108             checkWMTE(() -&gt; { // index reference class
3109                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, Class.class, byte.class, byte.class)).
3110                     invokeExact(array, Void.class, (byte)0x01, (byte)0x01);
3111             });
3112             // Incorrect return type
3113             checkWMTE(() -&gt; { // reference class
3114                 Void r = (Void) hs.get(am, methodType(Void.class, byte[].class, int.class, byte.class, byte.class)).
3115                     invokeExact(array, 0, (byte)0x01, (byte)0x01);
3116             });
3117             checkWMTE(() -&gt; { // primitive class
3118                 boolean x = (boolean) hs.get(am, methodType(boolean.class, byte[].class, int.class, byte.class, byte.class)).
3119                     invokeExact(array, 0, (byte)0x01, (byte)0x01);
3120             });
3121             // Incorrect arity
3122             checkWMTE(() -&gt; { // 0
3123                 byte x = (byte) hs.get(am, methodType(byte.class)).
3124                     invokeExact();
3125             });
3126             checkWMTE(() -&gt; { // &gt;
3127                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class, byte.class, byte.class, Class.class)).
3128                     invokeExact(array, 0, (byte)0x01, (byte)0x01, Void.class);
3129             });
3130         }
3131 
3132         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_SET)) {
3133             // Incorrect argument types
3134             checkNPE(() -&gt; { // null array
3135                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class, byte.class)).
3136                     invokeExact((byte[]) null, 0, (byte)0x01);
3137             });
3138             hs.checkWMTEOrCCE(() -&gt; { // array reference class
3139                 byte x = (byte) hs.get(am, methodType(byte.class, Class.class, int.class, byte.class)).
3140                     invokeExact(Void.class, 0, (byte)0x01);
3141             });
3142             checkWMTE(() -&gt; { // value reference class
3143                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class, Class.class)).
3144                     invokeExact(array, 0, Void.class);
3145             });
3146             checkWMTE(() -&gt; { // array primitive class
3147                 byte x = (byte) hs.get(am, methodType(byte.class, int.class, int.class, byte.class)).
3148                     invokeExact(0, 0, (byte)0x01);
3149             });
3150             checkWMTE(() -&gt; { // index reference class
3151                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, Class.class, byte.class)).
3152                     invokeExact(array, Void.class, (byte)0x01);
3153             });
3154             // Incorrect return type
3155             checkWMTE(() -&gt; { // reference class
3156                 Void r = (Void) hs.get(am, methodType(Void.class, byte[].class, int.class, byte.class)).
3157                     invokeExact(array, 0, (byte)0x01);
3158             });
3159             checkWMTE(() -&gt; { // primitive class
3160                 boolean x = (boolean) hs.get(am, methodType(boolean.class, byte[].class, int.class, byte.class)).
3161                     invokeExact(array, 0, (byte)0x01);
3162             });
3163             // Incorrect arity
3164             checkWMTE(() -&gt; { // 0
3165                 byte x = (byte) hs.get(am, methodType(byte.class)).
3166                     invokeExact();
3167             });
3168             checkWMTE(() -&gt; { // &gt;
3169                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class, byte.class, Class.class)).
3170                     invokeExact(array, 0, (byte)0x01, Void.class);
3171             });
3172         }
3173 
3174         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_ADD)) {
3175             // Incorrect argument types
3176             checkNPE(() -&gt; { // null array
3177                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class, byte.class)).
3178                     invokeExact((byte[]) null, 0, (byte)0x01);
3179             });
3180             hs.checkWMTEOrCCE(() -&gt; { // array reference class
3181                 byte x = (byte) hs.get(am, methodType(byte.class, Class.class, int.class, byte.class)).
3182                     invokeExact(Void.class, 0, (byte)0x01);
3183             });
3184             checkWMTE(() -&gt; { // value reference class
3185                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class, Class.class)).
3186                     invokeExact(array, 0, Void.class);
3187             });
3188             checkWMTE(() -&gt; { // array primitive class
3189                 byte x = (byte) hs.get(am, methodType(byte.class, int.class, int.class, byte.class)).
3190                     invokeExact(0, 0, (byte)0x01);
3191             });
3192             checkWMTE(() -&gt; { // index reference class
3193                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, Class.class, byte.class)).
3194                     invokeExact(array, Void.class, (byte)0x01);
3195             });
3196             // Incorrect return type
3197             checkWMTE(() -&gt; { // reference class
3198                 Void r = (Void) hs.get(am, methodType(Void.class, byte[].class, int.class, byte.class)).
3199                     invokeExact(array, 0, (byte)0x01);
3200             });
3201             checkWMTE(() -&gt; { // primitive class
3202                 boolean x = (boolean) hs.get(am, methodType(boolean.class, byte[].class, int.class, byte.class)).
3203                     invokeExact(array, 0, (byte)0x01);
3204             });
3205             // Incorrect arity
3206             checkWMTE(() -&gt; { // 0
3207                 byte x = (byte) hs.get(am, methodType(byte.class)).
3208                     invokeExact();
3209             });
3210             checkWMTE(() -&gt; { // &gt;
3211                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class, byte.class, Class.class)).
3212                     invokeExact(array, 0, (byte)0x01, Void.class);
3213             });
3214         }
3215 
3216         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_BITWISE)) {
3217             // Incorrect argument types
3218             checkNPE(() -&gt; { // null array
3219                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class, byte.class)).
3220                     invokeExact((byte[]) null, 0, (byte)0x01);
3221             });
3222             hs.checkWMTEOrCCE(() -&gt; { // array reference class
3223                 byte x = (byte) hs.get(am, methodType(byte.class, Class.class, int.class, byte.class)).
3224                     invokeExact(Void.class, 0, (byte)0x01);
3225             });
3226             checkWMTE(() -&gt; { // value reference class
3227                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class, Class.class)).
3228                     invokeExact(array, 0, Void.class);
3229             });
3230             checkWMTE(() -&gt; { // array primitive class
3231                 byte x = (byte) hs.get(am, methodType(byte.class, int.class, int.class, byte.class)).
3232                     invokeExact(0, 0, (byte)0x01);
3233             });
3234             checkWMTE(() -&gt; { // index reference class
3235                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, Class.class, byte.class)).
3236                     invokeExact(array, Void.class, (byte)0x01);
3237             });
3238             // Incorrect return type
3239             checkWMTE(() -&gt; { // reference class
3240                 Void r = (Void) hs.get(am, methodType(Void.class, byte[].class, int.class, byte.class)).
3241                     invokeExact(array, 0, (byte)0x01);
3242             });
3243             checkWMTE(() -&gt; { // primitive class
3244                 boolean x = (boolean) hs.get(am, methodType(boolean.class, byte[].class, int.class, byte.class)).
3245                     invokeExact(array, 0, (byte)0x01);
3246             });
3247             // Incorrect arity
3248             checkWMTE(() -&gt; { // 0
3249                 byte x = (byte) hs.get(am, methodType(byte.class)).
3250                     invokeExact();
3251             });
3252             checkWMTE(() -&gt; { // &gt;
3253                 byte x = (byte) hs.get(am, methodType(byte.class, byte[].class, int.class, byte.class, Class.class)).
3254                     invokeExact(array, 0, (byte)0x01, Void.class);
3255             });
3256         }
3257     }
3258 }
<a name="2" id="anc2"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="2" type="hidden" />
</body>
</html>