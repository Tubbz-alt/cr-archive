<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old test/jdk/java/lang/invoke/VarHandles/X-VarHandleTestMethodType.java.template</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
  <body>
    <pre>
   1 /*
   2  * Copyright (c) 2015, 2019, Oracle and/or its affiliates. All rights reserved.
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.
   8  *
   9  * This code is distributed in the hope that it will be useful, but WITHOUT
  10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  12  * version 2 for more details (a copy is included in the LICENSE file that
  13  * accompanied this code).
  14  *
  15  * You should have received a copy of the GNU General Public License version
  16  * 2 along with this work; if not, write to the Free Software Foundation,
  17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  18  *
  19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  20  * or visit www.oracle.com if you need additional information or have any
  21  * questions.
  22  */
  23 
  24 #warn
  25 
  26 #if[Value]
  27 /*
  28  * @test
  29  * @bug 8156486
  30  * @run testng/othervm VarHandleTestMethodType$Type$
  31  * @run testng/othervm -Djava.lang.invoke.VarHandle.VAR_HANDLE_GUARDS=false VarHandleTestMethodType$Type$
  32  */
  33 #else[Value]
  34 /*
  35  * @test
  36  * @bug 8156486
  37  * @run testng/othervm VarHandleTestMethodType$Type$
  38  * @run testng/othervm -Djava.lang.invoke.VarHandle.VAR_HANDLE_GUARDS=false VarHandleTestMethodType$Type$
  39  */
  40 #end[Value]
  41 
  42 import org.testng.annotations.BeforeClass;
  43 import org.testng.annotations.DataProvider;
  44 import org.testng.annotations.Test;
  45 
  46 import java.lang.invoke.MethodHandles;
  47 import java.lang.invoke.VarHandle;
  48 import java.util.ArrayList;
  49 import java.util.Arrays;
  50 import java.util.List;
  51 
  52 import static org.testng.Assert.*;
  53 
  54 import static java.lang.invoke.MethodType.*;
  55 
  56 public class VarHandleTestMethodType$Type$ extends VarHandleBaseTest {
  57     static final $type$ static_final_v = $value1$;
  58 
  59     static $type$ static_v = $value1$;
  60 
  61     final $type$ final_v = $value1$;
  62 
  63     $type$ v = $value1$;
  64 
  65     VarHandle vhFinalField;
  66 
  67     VarHandle vhField;
  68 
  69     VarHandle vhStaticField;
  70 
  71     VarHandle vhStaticFinalField;
  72 
  73     VarHandle vhArray;
  74 
  75     @BeforeClass
  76     public void setup() throws Exception {
  77         vhFinalField = MethodHandles.lookup().findVarHandle(
  78                 VarHandleTestMethodType$Type$.class, &quot;final_v&quot;, $type$.class);
  79 
  80         vhField = MethodHandles.lookup().findVarHandle(
  81                 VarHandleTestMethodType$Type$.class, &quot;v&quot;, $type$.class);
  82 
  83         vhStaticFinalField = MethodHandles.lookup().findStaticVarHandle(
  84             VarHandleTestMethodType$Type$.class, &quot;static_final_v&quot;, $type$.class);
  85 
  86         vhStaticField = MethodHandles.lookup().findStaticVarHandle(
  87             VarHandleTestMethodType$Type$.class, &quot;static_v&quot;, $type$.class);
  88 
  89         vhArray = MethodHandles.arrayElementVarHandle($type$[].class);
  90     }
  91 
  92     @DataProvider
  93     public Object[][] accessTestCaseProvider() throws Exception {
  94         List&lt;AccessTestCase&lt;?&gt;&gt; cases = new ArrayList&lt;&gt;();
  95 
  96         cases.add(new VarHandleAccessTestCase(&quot;Instance field&quot;,
  97                                               vhField, vh -&gt; testInstanceFieldWrongMethodType(this, vh),
  98                                               false));
  99 
 100         cases.add(new VarHandleAccessTestCase(&quot;Static field&quot;,
 101                                               vhStaticField, VarHandleTestMethodType$Type$::testStaticFieldWrongMethodType,
 102                                               false));
 103 
 104         cases.add(new VarHandleAccessTestCase(&quot;Array&quot;,
 105                                               vhArray, VarHandleTestMethodType$Type$::testArrayWrongMethodType,
 106                                               false));
 107 
 108         for (VarHandleToMethodHandle f : VarHandleToMethodHandle.values()) {
 109             cases.add(new MethodHandleAccessTestCase(&quot;Instance field&quot;,
 110                                                      vhField, f, hs -&gt; testInstanceFieldWrongMethodType(this, hs),
 111                                                      false));
 112 
 113             cases.add(new MethodHandleAccessTestCase(&quot;Static field&quot;,
 114                                                      vhStaticField, f, VarHandleTestMethodType$Type$::testStaticFieldWrongMethodType,
 115                                                      false));
 116 
 117             cases.add(new MethodHandleAccessTestCase(&quot;Array&quot;,
 118                                                      vhArray, f, VarHandleTestMethodType$Type$::testArrayWrongMethodType,
 119                                                      false));
 120         }
 121         // Work around issue with jtreg summary reporting which truncates
 122         // the String result of Object.toString to 30 characters, hence
 123         // the first dummy argument
 124         return cases.stream().map(tc -&gt; new Object[]{tc.toString(), tc}).toArray(Object[][]::new);
 125     }
 126 
 127     @Test(dataProvider = &quot;accessTestCaseProvider&quot;)
 128     public &lt;T&gt; void testAccess(String desc, AccessTestCase&lt;T&gt; atc) throws Throwable {
 129         T t = atc.get();
 130         int iters = atc.requiresLoop() ? ITERS : 1;
 131         for (int c = 0; c &lt; iters; c++) {
 132             atc.testAccess(t);
 133         }
 134     }
 135 
 136 
 137     static void testInstanceFieldWrongMethodType(VarHandleTestMethodType$Type$ recv, VarHandle vh) throws Throwable {
 138         // Get
 139         // Incorrect argument types
 140         checkNPE(() -&gt; { // null receiver
 141             $type$ x = ($type$) vh.get(null);
 142         });
 143         checkCCE(() -&gt; { // receiver reference class
 144             $type$ x = ($type$) vh.get(Void.class);
 145         });
 146         checkWMTE(() -&gt; { // receiver primitive class
 147             $type$ x = ($type$) vh.get(0);
 148         });
 149         // Incorrect return type
 150         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 151             Void x = (Void) vh.get(recv);
 152         });
 153         checkWMTE(() -&gt; { // primitive class
 154             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.get(recv);
 155         });
 156         // Incorrect arity
 157         checkWMTE(() -&gt; { // 0
 158             $type$ x = ($type$) vh.get();
 159         });
 160         checkWMTE(() -&gt; { // &gt;
 161             $type$ x = ($type$) vh.get(recv, Void.class);
 162         });
 163 
 164 
 165         // Set
 166         // Incorrect argument types
 167         checkNPE(() -&gt; { // null receiver
 168             vh.set(null, $value1$);
 169         });
 170         checkCCE(() -&gt; { // receiver reference class
 171             vh.set(Void.class, $value1$);
 172         });
 173         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 174             vh.set(recv, Void.class);
 175         });
 176         checkWMTE(() -&gt; { // receiver primitive class
 177             vh.set(0, $value1$);
 178         });
 179         // Incorrect arity
 180         checkWMTE(() -&gt; { // 0
 181             vh.set();
 182         });
 183         checkWMTE(() -&gt; { // &gt;
 184             vh.set(recv, $value1$, Void.class);
 185         });
 186 
 187 
 188         // GetVolatile
 189         // Incorrect argument types
 190         checkNPE(() -&gt; { // null receiver
 191             $type$ x = ($type$) vh.getVolatile(null);
 192         });
 193         checkCCE(() -&gt; { // receiver reference class
 194             $type$ x = ($type$) vh.getVolatile(Void.class);
 195         });
 196         checkWMTE(() -&gt; { // receiver primitive class
 197             $type$ x = ($type$) vh.getVolatile(0);
 198         });
 199         // Incorrect return type
 200         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 201             Void x = (Void) vh.getVolatile(recv);
 202         });
 203         checkWMTE(() -&gt; { // primitive class
 204             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getVolatile(recv);
 205         });
 206         // Incorrect arity
 207         checkWMTE(() -&gt; { // 0
 208             $type$ x = ($type$) vh.getVolatile();
 209         });
 210         checkWMTE(() -&gt; { // &gt;
 211             $type$ x = ($type$) vh.getVolatile(recv, Void.class);
 212         });
 213 
 214 
 215         // SetVolatile
 216         // Incorrect argument types
 217         checkNPE(() -&gt; { // null receiver
 218             vh.setVolatile(null, $value1$);
 219         });
 220         checkCCE(() -&gt; { // receiver reference class
 221             vh.setVolatile(Void.class, $value1$);
 222         });
 223         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 224             vh.setVolatile(recv, Void.class);
 225         });
 226         checkWMTE(() -&gt; { // receiver primitive class
 227             vh.setVolatile(0, $value1$);
 228         });
 229         // Incorrect arity
 230         checkWMTE(() -&gt; { // 0
 231             vh.setVolatile();
 232         });
 233         checkWMTE(() -&gt; { // &gt;
 234             vh.setVolatile(recv, $value1$, Void.class);
 235         });
 236 
 237 
 238         // GetOpaque
 239         // Incorrect argument types
 240         checkNPE(() -&gt; { // null receiver
 241             $type$ x = ($type$) vh.getOpaque(null);
 242         });
 243         checkCCE(() -&gt; { // receiver reference class
 244             $type$ x = ($type$) vh.getOpaque(Void.class);
 245         });
 246         checkWMTE(() -&gt; { // receiver primitive class
 247             $type$ x = ($type$) vh.getOpaque(0);
 248         });
 249         // Incorrect return type
 250         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 251             Void x = (Void) vh.getOpaque(recv);
 252         });
 253         checkWMTE(() -&gt; { // primitive class
 254             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getOpaque(recv);
 255         });
 256         // Incorrect arity
 257         checkWMTE(() -&gt; { // 0
 258             $type$ x = ($type$) vh.getOpaque();
 259         });
 260         checkWMTE(() -&gt; { // &gt;
 261             $type$ x = ($type$) vh.getOpaque(recv, Void.class);
 262         });
 263 
 264 
 265         // SetOpaque
 266         // Incorrect argument types
 267         checkNPE(() -&gt; { // null receiver
 268             vh.setOpaque(null, $value1$);
 269         });
 270         checkCCE(() -&gt; { // receiver reference class
 271             vh.setOpaque(Void.class, $value1$);
 272         });
 273         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 274             vh.setOpaque(recv, Void.class);
 275         });
 276         checkWMTE(() -&gt; { // receiver primitive class
 277             vh.setOpaque(0, $value1$);
 278         });
 279         // Incorrect arity
 280         checkWMTE(() -&gt; { // 0
 281             vh.setOpaque();
 282         });
 283         checkWMTE(() -&gt; { // &gt;
 284             vh.setOpaque(recv, $value1$, Void.class);
 285         });
 286 
 287 
 288         // GetAcquire
 289         // Incorrect argument types
 290         checkNPE(() -&gt; { // null receiver
 291             $type$ x = ($type$) vh.getAcquire(null);
 292         });
 293         checkCCE(() -&gt; { // receiver reference class
 294             $type$ x = ($type$) vh.getAcquire(Void.class);
 295         });
 296         checkWMTE(() -&gt; { // receiver primitive class
 297             $type$ x = ($type$) vh.getAcquire(0);
 298         });
 299         // Incorrect return type
 300         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 301             Void x = (Void) vh.getAcquire(recv);
 302         });
 303         checkWMTE(() -&gt; { // primitive class
 304             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAcquire(recv);
 305         });
 306         // Incorrect arity
 307         checkWMTE(() -&gt; { // 0
 308             $type$ x = ($type$) vh.getAcquire();
 309         });
 310         checkWMTE(() -&gt; { // &gt;
 311             $type$ x = ($type$) vh.getAcquire(recv, Void.class);
 312         });
 313 
 314 
 315         // SetRelease
 316         // Incorrect argument types
 317         checkNPE(() -&gt; { // null receiver
 318             vh.setRelease(null, $value1$);
 319         });
 320         checkCCE(() -&gt; { // receiver reference class
 321             vh.setRelease(Void.class, $value1$);
 322         });
 323         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 324             vh.setRelease(recv, Void.class);
 325         });
 326         checkWMTE(() -&gt; { // receiver primitive class
 327             vh.setRelease(0, $value1$);
 328         });
 329         // Incorrect arity
 330         checkWMTE(() -&gt; { // 0
 331             vh.setRelease();
 332         });
 333         checkWMTE(() -&gt; { // &gt;
 334             vh.setRelease(recv, $value1$, Void.class);
 335         });
 336 
 337 
 338 #if[CAS]
 339         // CompareAndSet
 340         // Incorrect argument types
 341         checkNPE(() -&gt; { // null receiver
 342             boolean r = vh.compareAndSet(null, $value1$, $value1$);
 343         });
 344         checkCCE(() -&gt; { // receiver reference class
 345             boolean r = vh.compareAndSet(Void.class, $value1$, $value1$);
 346         });
 347         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
 348             boolean r = vh.compareAndSet(recv, Void.class, $value1$);
 349         });
 350         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
 351             boolean r = vh.compareAndSet(recv, $value1$, Void.class);
 352         });
 353         checkWMTE(() -&gt; { // receiver primitive class
 354             boolean r = vh.compareAndSet(0, $value1$, $value1$);
 355         });
 356         // Incorrect arity
 357         checkWMTE(() -&gt; { // 0
 358             boolean r = vh.compareAndSet();
 359         });
 360         checkWMTE(() -&gt; { // &gt;
 361             boolean r = vh.compareAndSet(recv, $value1$, $value1$, Void.class);
 362         });
 363 
 364 
 365         // WeakCompareAndSet
 366         // Incorrect argument types
 367         checkNPE(() -&gt; { // null receiver
 368             boolean r = vh.weakCompareAndSetPlain(null, $value1$, $value1$);
 369         });
 370         checkCCE(() -&gt; { // receiver reference class
 371             boolean r = vh.weakCompareAndSetPlain(Void.class, $value1$, $value1$);
 372         });
 373         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
 374             boolean r = vh.weakCompareAndSetPlain(recv, Void.class, $value1$);
 375         });
 376         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
 377             boolean r = vh.weakCompareAndSetPlain(recv, $value1$, Void.class);
 378         });
 379         checkWMTE(() -&gt; { // receiver primitive class
 380             boolean r = vh.weakCompareAndSetPlain(0, $value1$, $value1$);
 381         });
 382         // Incorrect arity
 383         checkWMTE(() -&gt; { // 0
 384             boolean r = vh.weakCompareAndSetPlain();
 385         });
 386         checkWMTE(() -&gt; { // &gt;
 387             boolean r = vh.weakCompareAndSetPlain(recv, $value1$, $value1$, Void.class);
 388         });
 389 
 390 
 391         // WeakCompareAndSetVolatile
 392         // Incorrect argument types
 393         checkNPE(() -&gt; { // null receiver
 394             boolean r = vh.weakCompareAndSet(null, $value1$, $value1$);
 395         });
 396         checkCCE(() -&gt; { // receiver reference class
 397             boolean r = vh.weakCompareAndSet(Void.class, $value1$, $value1$);
 398         });
 399         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
 400             boolean r = vh.weakCompareAndSet(recv, Void.class, $value1$);
 401         });
 402         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
 403             boolean r = vh.weakCompareAndSet(recv, $value1$, Void.class);
 404         });
 405         checkWMTE(() -&gt; { // receiver primitive class
 406             boolean r = vh.weakCompareAndSet(0, $value1$, $value1$);
 407         });
 408         // Incorrect arity
 409         checkWMTE(() -&gt; { // 0
 410             boolean r = vh.weakCompareAndSet();
 411         });
 412         checkWMTE(() -&gt; { // &gt;
 413             boolean r = vh.weakCompareAndSet(recv, $value1$, $value1$, Void.class);
 414         });
 415 
 416 
 417         // WeakCompareAndSetAcquire
 418         // Incorrect argument types
 419         checkNPE(() -&gt; { // null receiver
 420             boolean r = vh.weakCompareAndSetAcquire(null, $value1$, $value1$);
 421         });
 422         checkCCE(() -&gt; { // receiver reference class
 423             boolean r = vh.weakCompareAndSetAcquire(Void.class, $value1$, $value1$);
 424         });
 425         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
 426             boolean r = vh.weakCompareAndSetAcquire(recv, Void.class, $value1$);
 427         });
 428         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
 429             boolean r = vh.weakCompareAndSetAcquire(recv, $value1$, Void.class);
 430         });
 431         checkWMTE(() -&gt; { // receiver primitive class
 432             boolean r = vh.weakCompareAndSetAcquire(0, $value1$, $value1$);
 433         });
 434         // Incorrect arity
 435         checkWMTE(() -&gt; { // 0
 436             boolean r = vh.weakCompareAndSetAcquire();
 437         });
 438         checkWMTE(() -&gt; { // &gt;
 439             boolean r = vh.weakCompareAndSetAcquire(recv, $value1$, $value1$, Void.class);
 440         });
 441 
 442 
 443         // WeakCompareAndSetRelease
 444         // Incorrect argument types
 445         checkNPE(() -&gt; { // null receiver
 446             boolean r = vh.weakCompareAndSetRelease(null, $value1$, $value1$);
 447         });
 448         checkCCE(() -&gt; { // receiver reference class
 449             boolean r = vh.weakCompareAndSetRelease(Void.class, $value1$, $value1$);
 450         });
 451         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
 452             boolean r = vh.weakCompareAndSetRelease(recv, Void.class, $value1$);
 453         });
 454         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
 455             boolean r = vh.weakCompareAndSetRelease(recv, $value1$, Void.class);
 456         });
 457         checkWMTE(() -&gt; { // receiver primitive class
 458             boolean r = vh.weakCompareAndSetRelease(0, $value1$, $value1$);
 459         });
 460         // Incorrect arity
 461         checkWMTE(() -&gt; { // 0
 462             boolean r = vh.weakCompareAndSetRelease();
 463         });
 464         checkWMTE(() -&gt; { // &gt;
 465             boolean r = vh.weakCompareAndSetRelease(recv, $value1$, $value1$, Void.class);
 466         });
 467 
 468 
 469         // CompareAndExchange
 470         // Incorrect argument types
 471         checkNPE(() -&gt; { // null receiver
 472             $type$ x = ($type$) vh.compareAndExchange(null, $value1$, $value1$);
 473         });
 474         checkCCE(() -&gt; { // receiver reference class
 475             $type$ x = ($type$) vh.compareAndExchange(Void.class, $value1$, $value1$);
 476         });
 477         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
 478             $type$ x = ($type$) vh.compareAndExchange(recv, Void.class, $value1$);
 479         });
 480         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
 481             $type$ x = ($type$) vh.compareAndExchange(recv, $value1$, Void.class);
 482         });
 483         checkWMTE(() -&gt; { // reciever primitive class
 484             $type$ x = ($type$) vh.compareAndExchange(0, $value1$, $value1$);
 485         });
 486         // Incorrect return type
 487         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 488             Void r = (Void) vh.compareAndExchange(recv, $value1$, $value1$);
 489         });
 490         checkWMTE(() -&gt; { // primitive class
 491             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.compareAndExchange(recv, $value1$, $value1$);
 492         });
 493         // Incorrect arity
 494         checkWMTE(() -&gt; { // 0
 495             $type$ x = ($type$) vh.compareAndExchange();
 496         });
 497         checkWMTE(() -&gt; { // &gt;
 498             $type$ x = ($type$) vh.compareAndExchange(recv, $value1$, $value1$, Void.class);
 499         });
 500 
 501 
 502         // CompareAndExchangeAcquire
 503         // Incorrect argument types
 504         checkNPE(() -&gt; { // null receiver
 505             $type$ x = ($type$) vh.compareAndExchangeAcquire(null, $value1$, $value1$);
 506         });
 507         checkCCE(() -&gt; { // receiver reference class
 508             $type$ x = ($type$) vh.compareAndExchangeAcquire(Void.class, $value1$, $value1$);
 509         });
 510         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
 511             $type$ x = ($type$) vh.compareAndExchangeAcquire(recv, Void.class, $value1$);
 512         });
 513         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
 514             $type$ x = ($type$) vh.compareAndExchangeAcquire(recv, $value1$, Void.class);
 515         });
 516         checkWMTE(() -&gt; { // reciever primitive class
 517             $type$ x = ($type$) vh.compareAndExchangeAcquire(0, $value1$, $value1$);
 518         });
 519         // Incorrect return type
 520         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 521             Void r = (Void) vh.compareAndExchangeAcquire(recv, $value1$, $value1$);
 522         });
 523         checkWMTE(() -&gt; { // primitive class
 524             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.compareAndExchangeAcquire(recv, $value1$, $value1$);
 525         });
 526         // Incorrect arity
 527         checkWMTE(() -&gt; { // 0
 528             $type$ x = ($type$) vh.compareAndExchangeAcquire();
 529         });
 530         checkWMTE(() -&gt; { // &gt;
 531             $type$ x = ($type$) vh.compareAndExchangeAcquire(recv, $value1$, $value1$, Void.class);
 532         });
 533 
 534 
 535         // CompareAndExchangeRelease
 536         // Incorrect argument types
 537         checkNPE(() -&gt; { // null receiver
 538             $type$ x = ($type$) vh.compareAndExchangeRelease(null, $value1$, $value1$);
 539         });
 540         checkCCE(() -&gt; { // receiver reference class
 541             $type$ x = ($type$) vh.compareAndExchangeRelease(Void.class, $value1$, $value1$);
 542         });
 543         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
 544             $type$ x = ($type$) vh.compareAndExchangeRelease(recv, Void.class, $value1$);
 545         });
 546         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
 547             $type$ x = ($type$) vh.compareAndExchangeRelease(recv, $value1$, Void.class);
 548         });
 549         checkWMTE(() -&gt; { // reciever primitive class
 550             $type$ x = ($type$) vh.compareAndExchangeRelease(0, $value1$, $value1$);
 551         });
 552         // Incorrect return type
 553         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 554             Void r = (Void) vh.compareAndExchangeRelease(recv, $value1$, $value1$);
 555         });
 556         checkWMTE(() -&gt; { // primitive class
 557             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.compareAndExchangeRelease(recv, $value1$, $value1$);
 558         });
 559         // Incorrect arity
 560         checkWMTE(() -&gt; { // 0
 561             $type$ x = ($type$) vh.compareAndExchangeRelease();
 562         });
 563         checkWMTE(() -&gt; { // &gt;
 564             $type$ x = ($type$) vh.compareAndExchangeRelease(recv, $value1$, $value1$, Void.class);
 565         });
 566 
 567 
 568         // GetAndSet
 569         // Incorrect argument types
 570         checkNPE(() -&gt; { // null receiver
 571             $type$ x = ($type$) vh.getAndSet(null, $value1$);
 572         });
 573         checkCCE(() -&gt; { // receiver reference class
 574             $type$ x = ($type$) vh.getAndSet(Void.class, $value1$);
 575         });
 576         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 577             $type$ x = ($type$) vh.getAndSet(recv, Void.class);
 578         });
 579         checkWMTE(() -&gt; { // reciever primitive class
 580             $type$ x = ($type$) vh.getAndSet(0, $value1$);
 581         });
 582         // Incorrect return type
 583         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 584             Void r = (Void) vh.getAndSet(recv, $value1$);
 585         });
 586         checkWMTE(() -&gt; { // primitive class
 587             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndSet(recv, $value1$);
 588         });
 589         // Incorrect arity
 590         checkWMTE(() -&gt; { // 0
 591             $type$ x = ($type$) vh.getAndSet();
 592         });
 593         checkWMTE(() -&gt; { // &gt;
 594             $type$ x = ($type$) vh.getAndSet(recv, $value1$, Void.class);
 595         });
 596 
 597         // GetAndSetAcquire
 598         // Incorrect argument types
 599         checkNPE(() -&gt; { // null receiver
 600             $type$ x = ($type$) vh.getAndSetAcquire(null, $value1$);
 601         });
 602         checkCCE(() -&gt; { // receiver reference class
 603             $type$ x = ($type$) vh.getAndSetAcquire(Void.class, $value1$);
 604         });
 605         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 606             $type$ x = ($type$) vh.getAndSetAcquire(recv, Void.class);
 607         });
 608         checkWMTE(() -&gt; { // reciever primitive class
 609             $type$ x = ($type$) vh.getAndSetAcquire(0, $value1$);
 610         });
 611         // Incorrect return type
 612         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 613             Void r = (Void) vh.getAndSetAcquire(recv, $value1$);
 614         });
 615         checkWMTE(() -&gt; { // primitive class
 616             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndSetAcquire(recv, $value1$);
 617         });
 618         // Incorrect arity
 619         checkWMTE(() -&gt; { // 0
 620             $type$ x = ($type$) vh.getAndSetAcquire();
 621         });
 622         checkWMTE(() -&gt; { // &gt;
 623             $type$ x = ($type$) vh.getAndSetAcquire(recv, $value1$, Void.class);
 624         });
 625 
 626         // GetAndSetRelease
 627         // Incorrect argument types
 628         checkNPE(() -&gt; { // null receiver
 629             $type$ x = ($type$) vh.getAndSetRelease(null, $value1$);
 630         });
 631         checkCCE(() -&gt; { // receiver reference class
 632             $type$ x = ($type$) vh.getAndSetRelease(Void.class, $value1$);
 633         });
 634         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 635             $type$ x = ($type$) vh.getAndSetRelease(recv, Void.class);
 636         });
 637         checkWMTE(() -&gt; { // reciever primitive class
 638             $type$ x = ($type$) vh.getAndSetRelease(0, $value1$);
 639         });
 640         // Incorrect return type
 641         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 642             Void r = (Void) vh.getAndSetRelease(recv, $value1$);
 643         });
 644         checkWMTE(() -&gt; { // primitive class
 645             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndSetRelease(recv, $value1$);
 646         });
 647         // Incorrect arity
 648         checkWMTE(() -&gt; { // 0
 649             $type$ x = ($type$) vh.getAndSetRelease();
 650         });
 651         checkWMTE(() -&gt; { // &gt;
 652             $type$ x = ($type$) vh.getAndSetRelease(recv, $value1$, Void.class);
 653         });
 654 #end[CAS]
 655 
 656 #if[AtomicAdd]
 657         // GetAndAdd
 658         // Incorrect argument types
 659         checkNPE(() -&gt; { // null receiver
 660             $type$ x = ($type$) vh.getAndAdd(null, $value1$);
 661         });
 662         checkCCE(() -&gt; { // receiver reference class
 663             $type$ x = ($type$) vh.getAndAdd(Void.class, $value1$);
 664         });
 665         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 666             $type$ x = ($type$) vh.getAndAdd(recv, Void.class);
 667         });
 668         checkWMTE(() -&gt; { // reciever primitive class
 669             $type$ x = ($type$) vh.getAndAdd(0, $value1$);
 670         });
 671         // Incorrect return type
 672         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 673             Void r = (Void) vh.getAndAdd(recv, $value1$);
 674         });
 675         checkWMTE(() -&gt; { // primitive class
 676             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndAdd(recv, $value1$);
 677         });
 678         // Incorrect arity
 679         checkWMTE(() -&gt; { // 0
 680             $type$ x = ($type$) vh.getAndAdd();
 681         });
 682         checkWMTE(() -&gt; { // &gt;
 683             $type$ x = ($type$) vh.getAndAdd(recv, $value1$, Void.class);
 684         });
 685 
 686         // GetAndAddAcquire
 687         // Incorrect argument types
 688         checkNPE(() -&gt; { // null receiver
 689             $type$ x = ($type$) vh.getAndAddAcquire(null, $value1$);
 690         });
 691         checkCCE(() -&gt; { // receiver reference class
 692             $type$ x = ($type$) vh.getAndAddAcquire(Void.class, $value1$);
 693         });
 694         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 695             $type$ x = ($type$) vh.getAndAddAcquire(recv, Void.class);
 696         });
 697         checkWMTE(() -&gt; { // reciever primitive class
 698             $type$ x = ($type$) vh.getAndAddAcquire(0, $value1$);
 699         });
 700         // Incorrect return type
 701         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 702             Void r = (Void) vh.getAndAddAcquire(recv, $value1$);
 703         });
 704         checkWMTE(() -&gt; { // primitive class
 705             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndAddAcquire(recv, $value1$);
 706         });
 707         // Incorrect arity
 708         checkWMTE(() -&gt; { // 0
 709             $type$ x = ($type$) vh.getAndAddAcquire();
 710         });
 711         checkWMTE(() -&gt; { // &gt;
 712             $type$ x = ($type$) vh.getAndAddAcquire(recv, $value1$, Void.class);
 713         });
 714 
 715         // GetAndAddRelease
 716         // Incorrect argument types
 717         checkNPE(() -&gt; { // null receiver
 718             $type$ x = ($type$) vh.getAndAddRelease(null, $value1$);
 719         });
 720         checkCCE(() -&gt; { // receiver reference class
 721             $type$ x = ($type$) vh.getAndAddRelease(Void.class, $value1$);
 722         });
 723         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 724             $type$ x = ($type$) vh.getAndAddRelease(recv, Void.class);
 725         });
 726         checkWMTE(() -&gt; { // reciever primitive class
 727             $type$ x = ($type$) vh.getAndAddRelease(0, $value1$);
 728         });
 729         // Incorrect return type
 730         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 731             Void r = (Void) vh.getAndAddRelease(recv, $value1$);
 732         });
 733         checkWMTE(() -&gt; { // primitive class
 734             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndAddRelease(recv, $value1$);
 735         });
 736         // Incorrect arity
 737         checkWMTE(() -&gt; { // 0
 738             $type$ x = ($type$) vh.getAndAddRelease();
 739         });
 740         checkWMTE(() -&gt; { // &gt;
 741             $type$ x = ($type$) vh.getAndAddRelease(recv, $value1$, Void.class);
 742         });
 743 #end[AtomicAdd]
 744 
 745 #if[Bitwise]
 746         // GetAndBitwiseOr
 747         // Incorrect argument types
 748         checkNPE(() -&gt; { // null receiver
 749             $type$ x = ($type$) vh.getAndBitwiseOr(null, $value1$);
 750         });
 751         checkCCE(() -&gt; { // receiver reference class
 752             $type$ x = ($type$) vh.getAndBitwiseOr(Void.class, $value1$);
 753         });
 754         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 755             $type$ x = ($type$) vh.getAndBitwiseOr(recv, Void.class);
 756         });
 757         checkWMTE(() -&gt; { // reciever primitive class
 758             $type$ x = ($type$) vh.getAndBitwiseOr(0, $value1$);
 759         });
 760         // Incorrect return type
 761         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 762             Void r = (Void) vh.getAndBitwiseOr(recv, $value1$);
 763         });
 764         checkWMTE(() -&gt; { // primitive class
 765             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseOr(recv, $value1$);
 766         });
 767         // Incorrect arity
 768         checkWMTE(() -&gt; { // 0
 769             $type$ x = ($type$) vh.getAndBitwiseOr();
 770         });
 771         checkWMTE(() -&gt; { // &gt;
 772             $type$ x = ($type$) vh.getAndBitwiseOr(recv, $value1$, Void.class);
 773         });
 774 
 775 
 776         // GetAndBitwiseOrAcquire
 777         // Incorrect argument types
 778         checkNPE(() -&gt; { // null receiver
 779             $type$ x = ($type$) vh.getAndBitwiseOrAcquire(null, $value1$);
 780         });
 781         checkCCE(() -&gt; { // receiver reference class
 782             $type$ x = ($type$) vh.getAndBitwiseOrAcquire(Void.class, $value1$);
 783         });
 784         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 785             $type$ x = ($type$) vh.getAndBitwiseOrAcquire(recv, Void.class);
 786         });
 787         checkWMTE(() -&gt; { // reciever primitive class
 788             $type$ x = ($type$) vh.getAndBitwiseOrAcquire(0, $value1$);
 789         });
 790         // Incorrect return type
 791         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 792             Void r = (Void) vh.getAndBitwiseOrAcquire(recv, $value1$);
 793         });
 794         checkWMTE(() -&gt; { // primitive class
 795             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseOrAcquire(recv, $value1$);
 796         });
 797         // Incorrect arity
 798         checkWMTE(() -&gt; { // 0
 799             $type$ x = ($type$) vh.getAndBitwiseOrAcquire();
 800         });
 801         checkWMTE(() -&gt; { // &gt;
 802             $type$ x = ($type$) vh.getAndBitwiseOrAcquire(recv, $value1$, Void.class);
 803         });
 804 
 805 
 806         // GetAndBitwiseOrRelease
 807         // Incorrect argument types
 808         checkNPE(() -&gt; { // null receiver
 809             $type$ x = ($type$) vh.getAndBitwiseOrRelease(null, $value1$);
 810         });
 811         checkCCE(() -&gt; { // receiver reference class
 812             $type$ x = ($type$) vh.getAndBitwiseOr(Void.class, $value1$);
 813         });
 814         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 815             $type$ x = ($type$) vh.getAndBitwiseOr(recv, Void.class);
 816         });
 817         checkWMTE(() -&gt; { // reciever primitive class
 818             $type$ x = ($type$) vh.getAndBitwiseOr(0, $value1$);
 819         });
 820         // Incorrect return type
 821         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 822             Void r = (Void) vh.getAndBitwiseOr(recv, $value1$);
 823         });
 824         checkWMTE(() -&gt; { // primitive class
 825             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseOr(recv, $value1$);
 826         });
 827         // Incorrect arity
 828         checkWMTE(() -&gt; { // 0
 829             $type$ x = ($type$) vh.getAndBitwiseOr();
 830         });
 831         checkWMTE(() -&gt; { // &gt;
 832             $type$ x = ($type$) vh.getAndBitwiseOr(recv, $value1$, Void.class);
 833         });
 834 
 835 
 836         // GetAndBitwiseAnd
 837         // Incorrect argument types
 838         checkNPE(() -&gt; { // null receiver
 839             $type$ x = ($type$) vh.getAndBitwiseAnd(null, $value1$);
 840         });
 841         checkCCE(() -&gt; { // receiver reference class
 842             $type$ x = ($type$) vh.getAndBitwiseAnd(Void.class, $value1$);
 843         });
 844         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 845             $type$ x = ($type$) vh.getAndBitwiseAnd(recv, Void.class);
 846         });
 847         checkWMTE(() -&gt; { // reciever primitive class
 848             $type$ x = ($type$) vh.getAndBitwiseAnd(0, $value1$);
 849         });
 850         // Incorrect return type
 851         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 852             Void r = (Void) vh.getAndBitwiseAnd(recv, $value1$);
 853         });
 854         checkWMTE(() -&gt; { // primitive class
 855             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseAnd(recv, $value1$);
 856         });
 857         // Incorrect arity
 858         checkWMTE(() -&gt; { // 0
 859             $type$ x = ($type$) vh.getAndBitwiseAnd();
 860         });
 861         checkWMTE(() -&gt; { // &gt;
 862             $type$ x = ($type$) vh.getAndBitwiseAnd(recv, $value1$, Void.class);
 863         });
 864 
 865 
 866         // GetAndBitwiseAndAcquire
 867         // Incorrect argument types
 868         checkNPE(() -&gt; { // null receiver
 869             $type$ x = ($type$) vh.getAndBitwiseAndAcquire(null, $value1$);
 870         });
 871         checkCCE(() -&gt; { // receiver reference class
 872             $type$ x = ($type$) vh.getAndBitwiseAndAcquire(Void.class, $value1$);
 873         });
 874         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 875             $type$ x = ($type$) vh.getAndBitwiseAndAcquire(recv, Void.class);
 876         });
 877         checkWMTE(() -&gt; { // reciever primitive class
 878             $type$ x = ($type$) vh.getAndBitwiseAndAcquire(0, $value1$);
 879         });
 880         // Incorrect return type
 881         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 882             Void r = (Void) vh.getAndBitwiseAndAcquire(recv, $value1$);
 883         });
 884         checkWMTE(() -&gt; { // primitive class
 885             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseAndAcquire(recv, $value1$);
 886         });
 887         // Incorrect arity
 888         checkWMTE(() -&gt; { // 0
 889             $type$ x = ($type$) vh.getAndBitwiseAndAcquire();
 890         });
 891         checkWMTE(() -&gt; { // &gt;
 892             $type$ x = ($type$) vh.getAndBitwiseAndAcquire(recv, $value1$, Void.class);
 893         });
 894 
 895 
 896         // GetAndBitwiseAndRelease
 897         // Incorrect argument types
 898         checkNPE(() -&gt; { // null receiver
 899             $type$ x = ($type$) vh.getAndBitwiseAndRelease(null, $value1$);
 900         });
 901         checkCCE(() -&gt; { // receiver reference class
 902             $type$ x = ($type$) vh.getAndBitwiseAnd(Void.class, $value1$);
 903         });
 904         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 905             $type$ x = ($type$) vh.getAndBitwiseAnd(recv, Void.class);
 906         });
 907         checkWMTE(() -&gt; { // reciever primitive class
 908             $type$ x = ($type$) vh.getAndBitwiseAnd(0, $value1$);
 909         });
 910         // Incorrect return type
 911         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 912             Void r = (Void) vh.getAndBitwiseAnd(recv, $value1$);
 913         });
 914         checkWMTE(() -&gt; { // primitive class
 915             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseAnd(recv, $value1$);
 916         });
 917         // Incorrect arity
 918         checkWMTE(() -&gt; { // 0
 919             $type$ x = ($type$) vh.getAndBitwiseAnd();
 920         });
 921         checkWMTE(() -&gt; { // &gt;
 922             $type$ x = ($type$) vh.getAndBitwiseAnd(recv, $value1$, Void.class);
 923         });
 924 
 925 
 926         // GetAndBitwiseXor
 927         // Incorrect argument types
 928         checkNPE(() -&gt; { // null receiver
 929             $type$ x = ($type$) vh.getAndBitwiseXor(null, $value1$);
 930         });
 931         checkCCE(() -&gt; { // receiver reference class
 932             $type$ x = ($type$) vh.getAndBitwiseXor(Void.class, $value1$);
 933         });
 934         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 935             $type$ x = ($type$) vh.getAndBitwiseXor(recv, Void.class);
 936         });
 937         checkWMTE(() -&gt; { // reciever primitive class
 938             $type$ x = ($type$) vh.getAndBitwiseXor(0, $value1$);
 939         });
 940         // Incorrect return type
 941         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 942             Void r = (Void) vh.getAndBitwiseXor(recv, $value1$);
 943         });
 944         checkWMTE(() -&gt; { // primitive class
 945             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseXor(recv, $value1$);
 946         });
 947         // Incorrect arity
 948         checkWMTE(() -&gt; { // 0
 949             $type$ x = ($type$) vh.getAndBitwiseXor();
 950         });
 951         checkWMTE(() -&gt; { // &gt;
 952             $type$ x = ($type$) vh.getAndBitwiseXor(recv, $value1$, Void.class);
 953         });
 954 
 955 
 956         // GetAndBitwiseXorAcquire
 957         // Incorrect argument types
 958         checkNPE(() -&gt; { // null receiver
 959             $type$ x = ($type$) vh.getAndBitwiseXorAcquire(null, $value1$);
 960         });
 961         checkCCE(() -&gt; { // receiver reference class
 962             $type$ x = ($type$) vh.getAndBitwiseXorAcquire(Void.class, $value1$);
 963         });
 964         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 965             $type$ x = ($type$) vh.getAndBitwiseXorAcquire(recv, Void.class);
 966         });
 967         checkWMTE(() -&gt; { // reciever primitive class
 968             $type$ x = ($type$) vh.getAndBitwiseXorAcquire(0, $value1$);
 969         });
 970         // Incorrect return type
 971         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
 972             Void r = (Void) vh.getAndBitwiseXorAcquire(recv, $value1$);
 973         });
 974         checkWMTE(() -&gt; { // primitive class
 975             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseXorAcquire(recv, $value1$);
 976         });
 977         // Incorrect arity
 978         checkWMTE(() -&gt; { // 0
 979             $type$ x = ($type$) vh.getAndBitwiseXorAcquire();
 980         });
 981         checkWMTE(() -&gt; { // &gt;
 982             $type$ x = ($type$) vh.getAndBitwiseXorAcquire(recv, $value1$, Void.class);
 983         });
 984 
 985 
 986         // GetAndBitwiseXorRelease
 987         // Incorrect argument types
 988         checkNPE(() -&gt; { // null receiver
 989             $type$ x = ($type$) vh.getAndBitwiseXorRelease(null, $value1$);
 990         });
 991         checkCCE(() -&gt; { // receiver reference class
 992             $type$ x = ($type$) vh.getAndBitwiseXor(Void.class, $value1$);
 993         });
 994         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
 995             $type$ x = ($type$) vh.getAndBitwiseXor(recv, Void.class);
 996         });
 997         checkWMTE(() -&gt; { // reciever primitive class
 998             $type$ x = ($type$) vh.getAndBitwiseXor(0, $value1$);
 999         });
1000         // Incorrect return type
1001         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1002             Void r = (Void) vh.getAndBitwiseXor(recv, $value1$);
1003         });
1004         checkWMTE(() -&gt; { // primitive class
1005             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseXor(recv, $value1$);
1006         });
1007         // Incorrect arity
1008         checkWMTE(() -&gt; { // 0
1009             $type$ x = ($type$) vh.getAndBitwiseXor();
1010         });
1011         checkWMTE(() -&gt; { // &gt;
1012             $type$ x = ($type$) vh.getAndBitwiseXor(recv, $value1$, Void.class);
1013         });
1014 #end[Bitwise]
1015     }
1016 
1017     static void testInstanceFieldWrongMethodType(VarHandleTestMethodType$Type$ recv, Handles hs) throws Throwable {
1018         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET)) {
1019             // Incorrect argument types
1020             checkNPE(() -&gt; { // null receiver
1021                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class)).
1022                     invokeExact((VarHandleTestMethodType$Type$) null);
1023             });
1024             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
1025                 $type$ x = ($type$) hs.get(am, methodType($type$.class, Class.class)).
1026                     invokeExact(Void.class);
1027             });
1028             checkWMTE(() -&gt; { // receiver primitive class
1029                 $type$ x = ($type$) hs.get(am, methodType($type$.class, int.class)).
1030                     invokeExact(0);
1031             });
1032             // Incorrect return type
1033             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // reference class
1034                 Void x = (Void) hs.get(am, methodType(Void.class, VarHandleTestMethodType$Type$.class)).
1035                     invokeExact(recv);
1036             });
1037             checkWMTE(() -&gt; { // primitive class
1038                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class, VarHandleTestMethodType$Type$.class)).
1039                     invokeExact(recv);
1040             });
1041             // Incorrect arity
1042             checkWMTE(() -&gt; { // 0
1043                 $type$ x = ($type$) hs.get(am, methodType($type$.class)).
1044                     invokeExact();
1045             });
1046             checkWMTE(() -&gt; { // &gt;
1047                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class, Class.class)).
1048                     invokeExact(recv, Void.class);
1049             });
1050         }
1051 
1052         for (TestAccessMode am : testAccessModesOfType(TestAccessType.SET)) {
1053             // Incorrect argument types
1054             checkNPE(() -&gt; { // null receiver
1055                 hs.get(am, methodType(void.class, VarHandleTestMethodType$Type$.class, $type$.class)).
1056                     invokeExact((VarHandleTestMethodType$Type$) null, $value1$);
1057             });
1058             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
1059                 hs.get(am, methodType(void.class, Class.class, $type$.class)).
1060                     invokeExact(Void.class, $value1$);
1061             });
1062             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // value reference class
1063                 hs.get(am, methodType(void.class, VarHandleTestMethodType$Type$.class, Class.class)).
1064                     invokeExact(recv, Void.class);
1065             });
1066             checkWMTE(() -&gt; { // receiver primitive class
1067                 hs.get(am, methodType(void.class, int.class, $type$.class)).
1068                     invokeExact(0, $value1$);
1069             });
1070             // Incorrect arity
1071             checkWMTE(() -&gt; { // 0
1072                 hs.get(am, methodType(void.class)).
1073                     invokeExact();
1074             });
1075             checkWMTE(() -&gt; { // &gt;
1076                 hs.get(am, methodType(void.class, VarHandleTestMethodType$Type$.class, $type$.class, Class.class)).
1077                     invokeExact(recv, $value1$, Void.class);
1078             });
1079         }
1080 
1081 #if[CAS]
1082         for (TestAccessMode am : testAccessModesOfType(TestAccessType.COMPARE_AND_SET)) {
1083             // Incorrect argument types
1084             checkNPE(() -&gt; { // null receiver
1085                 boolean r = (boolean) hs.get(am, methodType(boolean.class, VarHandleTestMethodType$Type$.class, $type$.class, $type$.class)).
1086                     invokeExact((VarHandleTestMethodType$Type$) null, $value1$, $value1$);
1087             });
1088             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
1089                 boolean r = (boolean) hs.get(am, methodType(boolean.class, Class.class, $type$.class, $type$.class)).
1090                     invokeExact(Void.class, $value1$, $value1$);
1091             });
1092             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // expected reference class
1093                 boolean r = (boolean) hs.get(am, methodType(boolean.class, VarHandleTestMethodType$Type$.class, Class.class, $type$.class)).
1094                     invokeExact(recv, Void.class, $value1$);
1095             });
1096             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // actual reference class
1097                 boolean r = (boolean) hs.get(am, methodType(boolean.class, VarHandleTestMethodType$Type$.class, $type$.class, Class.class)).
1098                     invokeExact(recv, $value1$, Void.class);
1099             });
1100             checkWMTE(() -&gt; { // receiver primitive class
1101                 boolean r = (boolean) hs.get(am, methodType(boolean.class, int.class , $type$.class, $type$.class)).
1102                     invokeExact(0, $value1$, $value1$);
1103             });
1104             // Incorrect arity
1105             checkWMTE(() -&gt; { // 0
1106                 boolean r = (boolean) hs.get(am, methodType(boolean.class)).
1107                     invokeExact();
1108             });
1109             checkWMTE(() -&gt; { // &gt;
1110                 boolean r = (boolean) hs.get(am, methodType(boolean.class, VarHandleTestMethodType$Type$.class, $type$.class, $type$.class, Class.class)).
1111                     invokeExact(recv, $value1$, $value1$, Void.class);
1112             });
1113         }
1114 
1115         for (TestAccessMode am : testAccessModesOfType(TestAccessType.COMPARE_AND_EXCHANGE)) {
1116             checkNPE(() -&gt; { // null receiver
1117                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class, $type$.class, $type$.class)).
1118                     invokeExact((VarHandleTestMethodType$Type$) null, $value1$, $value1$);
1119             });
1120             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
1121                 $type$ x = ($type$) hs.get(am, methodType($type$.class, Class.class, $type$.class, $type$.class)).
1122                     invokeExact(Void.class, $value1$, $value1$);
1123             });
1124             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // expected reference class
1125                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class, Class.class, $type$.class)).
1126                     invokeExact(recv, Void.class, $value1$);
1127             });
1128             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // actual reference class
1129                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class, $type$.class, Class.class)).
1130                     invokeExact(recv, $value1$, Void.class);
1131             });
1132             checkWMTE(() -&gt; { // reciever primitive class
1133                 $type$ x = ($type$) hs.get(am, methodType($type$.class, int.class , $type$.class, $type$.class)).
1134                     invokeExact(0, $value1$, $value1$);
1135             });
1136             // Incorrect return type
1137             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // reference class
1138                 Void r = (Void) hs.get(am, methodType(Void.class, VarHandleTestMethodType$Type$.class , $type$.class, $type$.class)).
1139                     invokeExact(recv, $value1$, $value1$);
1140             });
1141             checkWMTE(() -&gt; { // primitive class
1142                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class, VarHandleTestMethodType$Type$.class , $type$.class, $type$.class)).
1143                     invokeExact(recv, $value1$, $value1$);
1144             });
1145             // Incorrect arity
1146             checkWMTE(() -&gt; { // 0
1147                 $type$ x = ($type$) hs.get(am, methodType($type$.class)).
1148                     invokeExact();
1149             });
1150             checkWMTE(() -&gt; { // &gt;
1151                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class, $type$.class, $type$.class, Class.class)).
1152                     invokeExact(recv, $value1$, $value1$, Void.class);
1153             });
1154         }
1155 
1156         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_SET)) {
1157             checkNPE(() -&gt; { // null receiver
1158                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class, $type$.class)).
1159                     invokeExact((VarHandleTestMethodType$Type$) null, $value1$);
1160             });
1161             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
1162                 $type$ x = ($type$) hs.get(am, methodType($type$.class, Class.class, $type$.class)).
1163                     invokeExact(Void.class, $value1$);
1164             });
1165             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // value reference class
1166                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class, Class.class)).
1167                     invokeExact(recv, Void.class);
1168             });
1169             checkWMTE(() -&gt; { // reciever primitive class
1170                 $type$ x = ($type$) hs.get(am, methodType($type$.class, int.class, $type$.class)).
1171                     invokeExact(0, $value1$);
1172             });
1173             // Incorrect return type
1174             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // reference class
1175                 Void r = (Void) hs.get(am, methodType(Void.class, VarHandleTestMethodType$Type$.class, $type$.class)).
1176                     invokeExact(recv, $value1$);
1177             });
1178             checkWMTE(() -&gt; { // primitive class
1179                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class, VarHandleTestMethodType$Type$.class, $type$.class)).
1180                     invokeExact(recv, $value1$);
1181             });
1182             // Incorrect arity
1183             checkWMTE(() -&gt; { // 0
1184                 $type$ x = ($type$) hs.get(am, methodType($type$.class)).
1185                     invokeExact();
1186             });
1187             checkWMTE(() -&gt; { // &gt;
1188                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class, $type$.class)).
1189                     invokeExact(recv, $value1$, Void.class);
1190             });
1191         }
1192 #end[CAS]
1193 
1194 #if[AtomicAdd]
1195         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_ADD)) {
1196             checkNPE(() -&gt; { // null receiver
1197                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class, $type$.class)).
1198                     invokeExact((VarHandleTestMethodType$Type$) null, $value1$);
1199             });
1200             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
1201                 $type$ x = ($type$) hs.get(am, methodType($type$.class, Class.class, $type$.class)).
1202                     invokeExact(Void.class, $value1$);
1203             });
1204             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // value reference class
1205                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class, Class.class)).
1206                     invokeExact(recv, Void.class);
1207             });
1208             checkWMTE(() -&gt; { // reciever primitive class
1209                 $type$ x = ($type$) hs.get(am, methodType($type$.class, int.class, $type$.class)).
1210                     invokeExact(0, $value1$);
1211             });
1212             // Incorrect return type
1213             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // reference class
1214                 Void r = (Void) hs.get(am, methodType(Void.class, VarHandleTestMethodType$Type$.class, $type$.class)).
1215                     invokeExact(recv, $value1$);
1216             });
1217             checkWMTE(() -&gt; { // primitive class
1218                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class, VarHandleTestMethodType$Type$.class, $type$.class)).
1219                     invokeExact(recv, $value1$);
1220             });
1221             // Incorrect arity
1222             checkWMTE(() -&gt; { // 0
1223                 $type$ x = ($type$) hs.get(am, methodType($type$.class)).
1224                     invokeExact();
1225             });
1226             checkWMTE(() -&gt; { // &gt;
1227                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class, $type$.class)).
1228                     invokeExact(recv, $value1$, Void.class);
1229             });
1230         }
1231 #end[AtomicAdd]
1232 
1233 #if[Bitwise]
1234         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_BITWISE)) {
1235             checkNPE(() -&gt; { // null receiver
1236                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class, $type$.class)).
1237                     invokeExact((VarHandleTestMethodType$Type$) null, $value1$);
1238             });
1239             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
1240                 $type$ x = ($type$) hs.get(am, methodType($type$.class, Class.class, $type$.class)).
1241                     invokeExact(Void.class, $value1$);
1242             });
1243             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // value reference class
1244                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class, Class.class)).
1245                     invokeExact(recv, Void.class);
1246             });
1247             checkWMTE(() -&gt; { // reciever primitive class
1248                 $type$ x = ($type$) hs.get(am, methodType($type$.class, int.class, $type$.class)).
1249                     invokeExact(0, $value1$);
1250             });
1251             // Incorrect return type
1252             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // reference class
1253                 Void r = (Void) hs.get(am, methodType(Void.class, VarHandleTestMethodType$Type$.class, $type$.class)).
1254                     invokeExact(recv, $value1$);
1255             });
1256             checkWMTE(() -&gt; { // primitive class
1257                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class, VarHandleTestMethodType$Type$.class, $type$.class)).
1258                     invokeExact(recv, $value1$);
1259             });
1260             // Incorrect arity
1261             checkWMTE(() -&gt; { // 0
1262                 $type$ x = ($type$) hs.get(am, methodType($type$.class)).
1263                     invokeExact();
1264             });
1265             checkWMTE(() -&gt; { // &gt;
1266                 $type$ x = ($type$) hs.get(am, methodType($type$.class, VarHandleTestMethodType$Type$.class, $type$.class)).
1267                     invokeExact(recv, $value1$, Void.class);
1268             });
1269         }
1270 #end[Bitwise]
1271     }
1272 
1273 
1274     static void testStaticFieldWrongMethodType(VarHandle vh) throws Throwable {
1275         // Get
1276         // Incorrect return type
1277         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1278             Void x = (Void) vh.get();
1279         });
1280         checkWMTE(() -&gt; { // primitive class
1281             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.get();
1282         });
1283         // Incorrect arity
1284         checkWMTE(() -&gt; { // &gt;
1285             $type$ x = ($type$) vh.get(Void.class);
1286         });
1287 
1288 
1289         // Set
1290         // Incorrect argument types
1291         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1292             vh.set(Void.class);
1293         });
1294         // Incorrect arity
1295         checkWMTE(() -&gt; { // 0
1296             vh.set();
1297         });
1298         checkWMTE(() -&gt; { // &gt;
1299             vh.set($value1$, Void.class);
1300         });
1301 
1302 
1303         // GetVolatile
1304         // Incorrect return type
1305         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1306             Void x = (Void) vh.getVolatile();
1307         });
1308         checkWMTE(() -&gt; { // primitive class
1309             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getVolatile();
1310         });
1311         checkWMTE(() -&gt; { // &gt;
1312             $type$ x = ($type$) vh.getVolatile(Void.class);
1313         });
1314 
1315 
1316         // SetVolatile
1317         // Incorrect argument types
1318         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1319             vh.setVolatile(Void.class);
1320         });
1321         // Incorrect arity
1322         checkWMTE(() -&gt; { // 0
1323             vh.setVolatile();
1324         });
1325         checkWMTE(() -&gt; { // &gt;
1326             vh.setVolatile($value1$, Void.class);
1327         });
1328 
1329 
1330         // GetOpaque
1331         // Incorrect return type
1332         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1333             Void x = (Void) vh.getOpaque();
1334         });
1335         checkWMTE(() -&gt; { // primitive class
1336             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getOpaque();
1337         });
1338         checkWMTE(() -&gt; { // &gt;
1339             $type$ x = ($type$) vh.getOpaque(Void.class);
1340         });
1341 
1342 
1343         // SetOpaque
1344         // Incorrect argument types
1345         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1346             vh.setOpaque(Void.class);
1347         });
1348         // Incorrect arity
1349         checkWMTE(() -&gt; { // 0
1350             vh.setOpaque();
1351         });
1352         checkWMTE(() -&gt; { // &gt;
1353             vh.setOpaque($value1$, Void.class);
1354         });
1355 
1356 
1357         // GetAcquire
1358         // Incorrect return type
1359         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1360             Void x = (Void) vh.getAcquire();
1361         });
1362         checkWMTE(() -&gt; { // primitive class
1363             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAcquire();
1364         });
1365         checkWMTE(() -&gt; { // &gt;
1366             $type$ x = ($type$) vh.getAcquire(Void.class);
1367         });
1368 
1369 
1370         // SetRelease
1371         // Incorrect argument types
1372         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1373             vh.setRelease(Void.class);
1374         });
1375         // Incorrect arity
1376         checkWMTE(() -&gt; { // 0
1377             vh.setRelease();
1378         });
1379         checkWMTE(() -&gt; { // &gt;
1380             vh.setRelease($value1$, Void.class);
1381         });
1382 
1383 
1384 #if[CAS]
1385         // CompareAndSet
1386         // Incorrect argument types
1387         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
1388             boolean r = vh.compareAndSet(Void.class, $value1$);
1389         });
1390         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
1391             boolean r = vh.compareAndSet($value1$, Void.class);
1392         });
1393         // Incorrect arity
1394         checkWMTE(() -&gt; { // 0
1395             boolean r = vh.compareAndSet();
1396         });
1397         checkWMTE(() -&gt; { // &gt;
1398             boolean r = vh.compareAndSet($value1$, $value1$, Void.class);
1399         });
1400 
1401 
1402         // WeakCompareAndSet
1403         // Incorrect argument types
1404         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
1405             boolean r = vh.weakCompareAndSetPlain(Void.class, $value1$);
1406         });
1407         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
1408             boolean r = vh.weakCompareAndSetPlain($value1$, Void.class);
1409         });
1410         // Incorrect arity
1411         checkWMTE(() -&gt; { // 0
1412             boolean r = vh.weakCompareAndSetPlain();
1413         });
1414         checkWMTE(() -&gt; { // &gt;
1415             boolean r = vh.weakCompareAndSetPlain($value1$, $value1$, Void.class);
1416         });
1417 
1418 
1419         // WeakCompareAndSetVolatile
1420         // Incorrect argument types
1421         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
1422             boolean r = vh.weakCompareAndSet(Void.class, $value1$);
1423         });
1424         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
1425             boolean r = vh.weakCompareAndSet($value1$, Void.class);
1426         });
1427         // Incorrect arity
1428         checkWMTE(() -&gt; { // 0
1429             boolean r = vh.weakCompareAndSet();
1430         });
1431         checkWMTE(() -&gt; { // &gt;
1432             boolean r = vh.weakCompareAndSet($value1$, $value1$, Void.class);
1433         });
1434 
1435 
1436         // WeakCompareAndSetAcquire
1437         // Incorrect argument types
1438         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
1439             boolean r = vh.weakCompareAndSetAcquire(Void.class, $value1$);
1440         });
1441         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
1442             boolean r = vh.weakCompareAndSetAcquire($value1$, Void.class);
1443         });
1444         // Incorrect arity
1445         checkWMTE(() -&gt; { // 0
1446             boolean r = vh.weakCompareAndSetAcquire();
1447         });
1448         checkWMTE(() -&gt; { // &gt;
1449             boolean r = vh.weakCompareAndSetAcquire($value1$, $value1$, Void.class);
1450         });
1451 
1452 
1453         // WeakCompareAndSetRelease
1454         // Incorrect argument types
1455         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
1456             boolean r = vh.weakCompareAndSetRelease(Void.class, $value1$);
1457         });
1458         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
1459             boolean r = vh.weakCompareAndSetRelease($value1$, Void.class);
1460         });
1461         // Incorrect arity
1462         checkWMTE(() -&gt; { // 0
1463             boolean r = vh.weakCompareAndSetRelease();
1464         });
1465         checkWMTE(() -&gt; { // &gt;
1466             boolean r = vh.weakCompareAndSetRelease($value1$, $value1$, Void.class);
1467         });
1468 
1469 
1470         // CompareAndExchange
1471         // Incorrect argument types
1472         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
1473             $type$ x = ($type$) vh.compareAndExchange(Void.class, $value1$);
1474         });
1475         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
1476             $type$ x = ($type$) vh.compareAndExchange($value1$, Void.class);
1477         });
1478         // Incorrect return type
1479         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1480             Void r = (Void) vh.compareAndExchange($value1$, $value1$);
1481         });
1482         checkWMTE(() -&gt; { // primitive class
1483             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.compareAndExchange($value1$, $value1$);
1484         });
1485         // Incorrect arity
1486         checkWMTE(() -&gt; { // 0
1487             $type$ x = ($type$) vh.compareAndExchange();
1488         });
1489         checkWMTE(() -&gt; { // &gt;
1490             $type$ x = ($type$) vh.compareAndExchange($value1$, $value1$, Void.class);
1491         });
1492 
1493 
1494         // CompareAndExchangeAcquire
1495         // Incorrect argument types
1496         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
1497             $type$ x = ($type$) vh.compareAndExchangeAcquire(Void.class, $value1$);
1498         });
1499         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
1500             $type$ x = ($type$) vh.compareAndExchangeAcquire($value1$, Void.class);
1501         });
1502         // Incorrect return type
1503         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1504             Void r = (Void) vh.compareAndExchangeAcquire($value1$, $value1$);
1505         });
1506         checkWMTE(() -&gt; { // primitive class
1507             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.compareAndExchangeAcquire($value1$, $value1$);
1508         });
1509         // Incorrect arity
1510         checkWMTE(() -&gt; { // 0
1511             $type$ x = ($type$) vh.compareAndExchangeAcquire();
1512         });
1513         checkWMTE(() -&gt; { // &gt;
1514             $type$ x = ($type$) vh.compareAndExchangeAcquire($value1$, $value1$, Void.class);
1515         });
1516 
1517 
1518         // CompareAndExchangeRelease
1519         // Incorrect argument types
1520         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
1521             $type$ x = ($type$) vh.compareAndExchangeRelease(Void.class, $value1$);
1522         });
1523         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
1524             $type$ x = ($type$) vh.compareAndExchangeRelease($value1$, Void.class);
1525         });
1526         // Incorrect return type
1527         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1528             Void r = (Void) vh.compareAndExchangeRelease($value1$, $value1$);
1529         });
1530         checkWMTE(() -&gt; { // primitive class
1531             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.compareAndExchangeRelease($value1$, $value1$);
1532         });
1533         // Incorrect arity
1534         checkWMTE(() -&gt; { // 0
1535             $type$ x = ($type$) vh.compareAndExchangeRelease();
1536         });
1537         checkWMTE(() -&gt; { // &gt;
1538             $type$ x = ($type$) vh.compareAndExchangeRelease($value1$, $value1$, Void.class);
1539         });
1540 
1541 
1542         // GetAndSet
1543         // Incorrect argument types
1544         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1545             $type$ x = ($type$) vh.getAndSet(Void.class);
1546         });
1547         // Incorrect return type
1548         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1549             Void r = (Void) vh.getAndSet($value1$);
1550         });
1551         checkWMTE(() -&gt; { // primitive class
1552             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndSet($value1$);
1553         });
1554         // Incorrect arity
1555         checkWMTE(() -&gt; { // 0
1556             $type$ x = ($type$) vh.getAndSet();
1557         });
1558         checkWMTE(() -&gt; { // &gt;
1559             $type$ x = ($type$) vh.getAndSet($value1$, Void.class);
1560         });
1561 
1562 
1563         // GetAndSetAcquire
1564         // Incorrect argument types
1565         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1566             $type$ x = ($type$) vh.getAndSetAcquire(Void.class);
1567         });
1568         // Incorrect return type
1569         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1570             Void r = (Void) vh.getAndSetAcquire($value1$);
1571         });
1572         checkWMTE(() -&gt; { // primitive class
1573             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndSetAcquire($value1$);
1574         });
1575         // Incorrect arity
1576         checkWMTE(() -&gt; { // 0
1577             $type$ x = ($type$) vh.getAndSetAcquire();
1578         });
1579         checkWMTE(() -&gt; { // &gt;
1580             $type$ x = ($type$) vh.getAndSetAcquire($value1$, Void.class);
1581         });
1582 
1583 
1584         // GetAndSetRelease
1585         // Incorrect argument types
1586         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1587             $type$ x = ($type$) vh.getAndSetRelease(Void.class);
1588         });
1589         // Incorrect return type
1590         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1591             Void r = (Void) vh.getAndSetRelease($value1$);
1592         });
1593         checkWMTE(() -&gt; { // primitive class
1594             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndSetRelease($value1$);
1595         });
1596         // Incorrect arity
1597         checkWMTE(() -&gt; { // 0
1598             $type$ x = ($type$) vh.getAndSetRelease();
1599         });
1600         checkWMTE(() -&gt; { // &gt;
1601             $type$ x = ($type$) vh.getAndSetRelease($value1$, Void.class);
1602         });
1603 #end[CAS]
1604 
1605 #if[AtomicAdd]
1606         // GetAndAdd
1607         // Incorrect argument types
1608         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1609             $type$ x = ($type$) vh.getAndAdd(Void.class);
1610         });
1611         // Incorrect return type
1612         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1613             Void r = (Void) vh.getAndAdd($value1$);
1614         });
1615         checkWMTE(() -&gt; { // primitive class
1616             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndAdd($value1$);
1617         });
1618         // Incorrect arity
1619         checkWMTE(() -&gt; { // 0
1620             $type$ x = ($type$) vh.getAndAdd();
1621         });
1622         checkWMTE(() -&gt; { // &gt;
1623             $type$ x = ($type$) vh.getAndAdd($value1$, Void.class);
1624         });
1625 
1626 
1627         // GetAndAddAcquire
1628         // Incorrect argument types
1629         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1630             $type$ x = ($type$) vh.getAndAddAcquire(Void.class);
1631         });
1632         // Incorrect return type
1633         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1634             Void r = (Void) vh.getAndAddAcquire($value1$);
1635         });
1636         checkWMTE(() -&gt; { // primitive class
1637             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndAddAcquire($value1$);
1638         });
1639         // Incorrect arity
1640         checkWMTE(() -&gt; { // 0
1641             $type$ x = ($type$) vh.getAndAddAcquire();
1642         });
1643         checkWMTE(() -&gt; { // &gt;
1644             $type$ x = ($type$) vh.getAndAddAcquire($value1$, Void.class);
1645         });
1646 
1647 
1648         // GetAndAddRelease
1649         // Incorrect argument types
1650         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1651             $type$ x = ($type$) vh.getAndAddRelease(Void.class);
1652         });
1653         // Incorrect return type
1654         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1655             Void r = (Void) vh.getAndAddRelease($value1$);
1656         });
1657         checkWMTE(() -&gt; { // primitive class
1658             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndAddRelease($value1$);
1659         });
1660         // Incorrect arity
1661         checkWMTE(() -&gt; { // 0
1662             $type$ x = ($type$) vh.getAndAddRelease();
1663         });
1664         checkWMTE(() -&gt; { // &gt;
1665             $type$ x = ($type$) vh.getAndAddRelease($value1$, Void.class);
1666         });
1667 #end[AtomicAdd]
1668 
1669 #if[Bitwise]
1670         // GetAndBitwiseOr
1671         // Incorrect argument types
1672         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1673             $type$ x = ($type$) vh.getAndBitwiseOr(Void.class);
1674         });
1675         // Incorrect return type
1676         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1677             Void r = (Void) vh.getAndBitwiseOr($value1$);
1678         });
1679         checkWMTE(() -&gt; { // primitive class
1680             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseOr($value1$);
1681         });
1682         // Incorrect arity
1683         checkWMTE(() -&gt; { // 0
1684             $type$ x = ($type$) vh.getAndBitwiseOr();
1685         });
1686         checkWMTE(() -&gt; { // &gt;
1687             $type$ x = ($type$) vh.getAndBitwiseOr($value1$, Void.class);
1688         });
1689 
1690 
1691         // GetAndBitwiseOrAcquire
1692         // Incorrect argument types
1693         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1694             $type$ x = ($type$) vh.getAndBitwiseOrAcquire(Void.class);
1695         });
1696         // Incorrect return type
1697         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1698             Void r = (Void) vh.getAndBitwiseOrAcquire($value1$);
1699         });
1700         checkWMTE(() -&gt; { // primitive class
1701             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseOrAcquire($value1$);
1702         });
1703         // Incorrect arity
1704         checkWMTE(() -&gt; { // 0
1705             $type$ x = ($type$) vh.getAndBitwiseOrAcquire();
1706         });
1707         checkWMTE(() -&gt; { // &gt;
1708             $type$ x = ($type$) vh.getAndBitwiseOrAcquire($value1$, Void.class);
1709         });
1710 
1711 
1712         // GetAndBitwiseOrReleaseRelease
1713         // Incorrect argument types
1714         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1715             $type$ x = ($type$) vh.getAndBitwiseOrRelease(Void.class);
1716         });
1717         // Incorrect return type
1718         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1719             Void r = (Void) vh.getAndBitwiseOrRelease($value1$);
1720         });
1721         checkWMTE(() -&gt; { // primitive class
1722             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseOrRelease($value1$);
1723         });
1724         // Incorrect arity
1725         checkWMTE(() -&gt; { // 0
1726             $type$ x = ($type$) vh.getAndBitwiseOrRelease();
1727         });
1728         checkWMTE(() -&gt; { // &gt;
1729             $type$ x = ($type$) vh.getAndBitwiseOrRelease($value1$, Void.class);
1730         });
1731 
1732 
1733         // GetAndBitwiseAnd
1734         // Incorrect argument types
1735         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1736             $type$ x = ($type$) vh.getAndBitwiseAnd(Void.class);
1737         });
1738         // Incorrect return type
1739         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1740             Void r = (Void) vh.getAndBitwiseAnd($value1$);
1741         });
1742         checkWMTE(() -&gt; { // primitive class
1743             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseAnd($value1$);
1744         });
1745         // Incorrect arity
1746         checkWMTE(() -&gt; { // 0
1747             $type$ x = ($type$) vh.getAndBitwiseAnd();
1748         });
1749         checkWMTE(() -&gt; { // &gt;
1750             $type$ x = ($type$) vh.getAndBitwiseAnd($value1$, Void.class);
1751         });
1752 
1753 
1754         // GetAndBitwiseAndAcquire
1755         // Incorrect argument types
1756         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1757             $type$ x = ($type$) vh.getAndBitwiseAndAcquire(Void.class);
1758         });
1759         // Incorrect return type
1760         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1761             Void r = (Void) vh.getAndBitwiseAndAcquire($value1$);
1762         });
1763         checkWMTE(() -&gt; { // primitive class
1764             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseAndAcquire($value1$);
1765         });
1766         // Incorrect arity
1767         checkWMTE(() -&gt; { // 0
1768             $type$ x = ($type$) vh.getAndBitwiseAndAcquire();
1769         });
1770         checkWMTE(() -&gt; { // &gt;
1771             $type$ x = ($type$) vh.getAndBitwiseAndAcquire($value1$, Void.class);
1772         });
1773 
1774 
1775         // GetAndBitwiseAndReleaseRelease
1776         // Incorrect argument types
1777         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1778             $type$ x = ($type$) vh.getAndBitwiseAndRelease(Void.class);
1779         });
1780         // Incorrect return type
1781         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1782             Void r = (Void) vh.getAndBitwiseAndRelease($value1$);
1783         });
1784         checkWMTE(() -&gt; { // primitive class
1785             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseAndRelease($value1$);
1786         });
1787         // Incorrect arity
1788         checkWMTE(() -&gt; { // 0
1789             $type$ x = ($type$) vh.getAndBitwiseAndRelease();
1790         });
1791         checkWMTE(() -&gt; { // &gt;
1792             $type$ x = ($type$) vh.getAndBitwiseAndRelease($value1$, Void.class);
1793         });
1794 
1795 
1796         // GetAndBitwiseXor
1797         // Incorrect argument types
1798         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1799             $type$ x = ($type$) vh.getAndBitwiseXor(Void.class);
1800         });
1801         // Incorrect return type
1802         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1803             Void r = (Void) vh.getAndBitwiseXor($value1$);
1804         });
1805         checkWMTE(() -&gt; { // primitive class
1806             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseXor($value1$);
1807         });
1808         // Incorrect arity
1809         checkWMTE(() -&gt; { // 0
1810             $type$ x = ($type$) vh.getAndBitwiseXor();
1811         });
1812         checkWMTE(() -&gt; { // &gt;
1813             $type$ x = ($type$) vh.getAndBitwiseXor($value1$, Void.class);
1814         });
1815 
1816 
1817         // GetAndBitwiseXorAcquire
1818         // Incorrect argument types
1819         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1820             $type$ x = ($type$) vh.getAndBitwiseXorAcquire(Void.class);
1821         });
1822         // Incorrect return type
1823         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1824             Void r = (Void) vh.getAndBitwiseXorAcquire($value1$);
1825         });
1826         checkWMTE(() -&gt; { // primitive class
1827             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseXorAcquire($value1$);
1828         });
1829         // Incorrect arity
1830         checkWMTE(() -&gt; { // 0
1831             $type$ x = ($type$) vh.getAndBitwiseXorAcquire();
1832         });
1833         checkWMTE(() -&gt; { // &gt;
1834             $type$ x = ($type$) vh.getAndBitwiseXorAcquire($value1$, Void.class);
1835         });
1836 
1837 
1838         // GetAndBitwiseXorReleaseRelease
1839         // Incorrect argument types
1840         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1841             $type$ x = ($type$) vh.getAndBitwiseXorRelease(Void.class);
1842         });
1843         // Incorrect return type
1844         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1845             Void r = (Void) vh.getAndBitwiseXorRelease($value1$);
1846         });
1847         checkWMTE(() -&gt; { // primitive class
1848             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseXorRelease($value1$);
1849         });
1850         // Incorrect arity
1851         checkWMTE(() -&gt; { // 0
1852             $type$ x = ($type$) vh.getAndBitwiseXorRelease();
1853         });
1854         checkWMTE(() -&gt; { // &gt;
1855             $type$ x = ($type$) vh.getAndBitwiseXorRelease($value1$, Void.class);
1856         });
1857 #end[Bitwise]
1858     }
1859 
1860     static void testStaticFieldWrongMethodType(Handles hs) throws Throwable {
1861         int i = 0;
1862 
1863         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET)) {
1864             // Incorrect return type
1865             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // reference class
1866                 Void x = (Void) hs.get(am, methodType(Void.class)).
1867                     invokeExact();
1868             });
1869             checkWMTE(() -&gt; { // primitive class
1870                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class)).
1871                     invokeExact();
1872             });
1873             // Incorrect arity
1874             checkWMTE(() -&gt; { // &gt;
1875                 $type$ x = ($type$) hs.get(am, methodType(Class.class)).
1876                     invokeExact(Void.class);
1877             });
1878         }
1879 
1880         for (TestAccessMode am : testAccessModesOfType(TestAccessType.SET)) {
1881             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // value reference class
1882                 hs.get(am, methodType(void.class, Class.class)).
1883                     invokeExact(Void.class);
1884             });
1885             // Incorrect arity
1886             checkWMTE(() -&gt; { // 0
1887                 hs.get(am, methodType(void.class)).
1888                     invokeExact();
1889             });
1890             checkWMTE(() -&gt; { // &gt;
1891                 hs.get(am, methodType(void.class, $type$.class, Class.class)).
1892                     invokeExact($value1$, Void.class);
1893             });
1894         }
1895 #if[CAS]
1896         for (TestAccessMode am : testAccessModesOfType(TestAccessType.COMPARE_AND_SET)) {
1897             // Incorrect argument types
1898             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // expected reference class
1899                 boolean r = (boolean) hs.get(am, methodType(boolean.class, Class.class, $type$.class)).
1900                     invokeExact(Void.class, $value1$);
1901             });
1902             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // actual reference class
1903                 boolean r = (boolean) hs.get(am, methodType(boolean.class, $type$.class, Class.class)).
1904                     invokeExact($value1$, Void.class);
1905             });
1906             // Incorrect arity
1907             checkWMTE(() -&gt; { // 0
1908                 boolean r = (boolean) hs.get(am, methodType(boolean.class)).
1909                     invokeExact();
1910             });
1911             checkWMTE(() -&gt; { // &gt;
1912                 boolean r = (boolean) hs.get(am, methodType(boolean.class, $type$.class, $type$.class, Class.class)).
1913                     invokeExact($value1$, $value1$, Void.class);
1914             });
1915         }
1916 
1917         for (TestAccessMode am : testAccessModesOfType(TestAccessType.COMPARE_AND_EXCHANGE)) {
1918             // Incorrect argument types
1919             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // expected reference class
1920                 $type$ x = ($type$) hs.get(am, methodType($type$.class, Class.class, $type$.class)).
1921                     invokeExact(Void.class, $value1$);
1922             });
1923             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // actual reference class
1924                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$.class, Class.class)).
1925                     invokeExact($value1$, Void.class);
1926             });
1927             // Incorrect return type
1928             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // reference class
1929                 Void r = (Void) hs.get(am, methodType(Void.class, $type$.class, $type$.class)).
1930                     invokeExact($value1$, $value1$);
1931             });
1932             checkWMTE(() -&gt; { // primitive class
1933                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class, $type$.class, $type$.class)).
1934                     invokeExact($value1$, $value1$);
1935             });
1936             // Incorrect arity
1937             checkWMTE(() -&gt; { // 0
1938                 $type$ x = ($type$) hs.get(am, methodType($type$.class)).
1939                     invokeExact();
1940             });
1941             checkWMTE(() -&gt; { // &gt;
1942                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$.class, $type$.class, Class.class)).
1943                     invokeExact($value1$, $value1$, Void.class);
1944             });
1945         }
1946 
1947         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_SET)) {
1948             // Incorrect argument types
1949             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // value reference class
1950                 $type$ x = ($type$) hs.get(am, methodType($type$.class, Class.class)).
1951                     invokeExact(Void.class);
1952             });
1953             // Incorrect return type
1954             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // reference class
1955                 Void r = (Void) hs.get(am, methodType(Void.class, $type$.class)).
1956                     invokeExact($value1$);
1957             });
1958             checkWMTE(() -&gt; { // primitive class
1959                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class, $type$.class)).
1960                     invokeExact($value1$);
1961             });
1962             // Incorrect arity
1963             checkWMTE(() -&gt; { // 0
1964                 $type$ x = ($type$) hs.get(am, methodType($type$.class)).
1965                     invokeExact();
1966             });
1967             checkWMTE(() -&gt; { // &gt;
1968                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$.class, Class.class)).
1969                     invokeExact($value1$, Void.class);
1970             });
1971         }
1972 #end[CAS]
1973 
1974 #if[AtomicAdd]
1975         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_ADD)) {
1976             // Incorrect argument types
1977             check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
1978                 $type$ x = ($type$) hs.get(am, methodType($type$.class, Class.class)).
1979                     invokeExact(Void.class);
1980             });
1981             // Incorrect return type
1982             check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
1983                 Void r = (Void) hs.get(am, methodType(Void.class, $type$.class)).
1984                     invokeExact($value1$);
1985             });
1986             checkWMTE(() -&gt; { // primitive class
1987                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class, $type$.class)).
1988                     invokeExact($value1$);
1989             });
1990             // Incorrect arity
1991             checkWMTE(() -&gt; { // 0
1992                 $type$ x = ($type$) hs.get(am, methodType($type$.class)).
1993                     invokeExact();
1994             });
1995             checkWMTE(() -&gt; { // &gt;
1996                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$.class, Class.class)).
1997                     invokeExact($value1$, Void.class);
1998             });
1999         }
2000 #end[AtomicAdd]
2001 
2002 #if[Bitwise]
2003         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_BITWISE)) {
2004             // Incorrect argument types
2005             check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2006                 $type$ x = ($type$) hs.get(am, methodType($type$.class, Class.class)).
2007                     invokeExact(Void.class);
2008             });
2009             // Incorrect return type
2010             check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2011                 Void r = (Void) hs.get(am, methodType(Void.class, $type$.class)).
2012                     invokeExact($value1$);
2013             });
2014             checkWMTE(() -&gt; { // primitive class
2015                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class, $type$.class)).
2016                     invokeExact($value1$);
2017             });
2018             // Incorrect arity
2019             checkWMTE(() -&gt; { // 0
2020                 $type$ x = ($type$) hs.get(am, methodType($type$.class)).
2021                     invokeExact();
2022             });
2023             checkWMTE(() -&gt; { // &gt;
2024                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$.class, Class.class)).
2025                     invokeExact($value1$, Void.class);
2026             });
2027         }
2028 #end[Bitwise]
2029     }
2030 
2031 
2032     static void testArrayWrongMethodType(VarHandle vh) throws Throwable {
2033         $type$[] array = new $type$[10];
2034         Arrays.fill(array, $value1$);
2035 
2036         // Get
2037         // Incorrect argument types
2038         checkNPE(() -&gt; { // null array
2039             $type$ x = ($type$) vh.get(null, 0);
2040         });
2041         checkCCE(() -&gt; { // array reference class
2042             $type$ x = ($type$) vh.get(Void.class, 0);
2043         });
2044         checkWMTE(() -&gt; { // array primitive class
2045             $type$ x = ($type$) vh.get(0, 0);
2046         });
2047         checkWMTE(() -&gt; { // index reference class
2048             $type$ x = ($type$) vh.get(array, Void.class);
2049         });
2050         // Incorrect return type
2051         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2052             Void x = (Void) vh.get(array, 0);
2053         });
2054         checkWMTE(() -&gt; { // primitive class
2055             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.get(array, 0);
2056         });
2057         // Incorrect arity
2058         checkWMTE(() -&gt; { // 0
2059             $type$ x = ($type$) vh.get();
2060         });
2061         checkWMTE(() -&gt; { // &gt;
2062             $type$ x = ($type$) vh.get(array, 0, Void.class);
2063         });
2064 
2065 
2066         // Set
2067         // Incorrect argument types
2068         checkNPE(() -&gt; { // null array
2069             vh.set(null, 0, $value1$);
2070         });
2071         checkCCE(() -&gt; { // array reference class
2072             vh.set(Void.class, 0, $value1$);
2073         });
2074         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2075             vh.set(array, 0, Void.class);
2076         });
2077         checkWMTE(() -&gt; { // receiver primitive class
2078             vh.set(0, 0, $value1$);
2079         });
2080         checkWMTE(() -&gt; { // index reference class
2081             vh.set(array, Void.class, $value1$);
2082         });
2083         // Incorrect arity
2084         checkWMTE(() -&gt; { // 0
2085             vh.set();
2086         });
2087         checkWMTE(() -&gt; { // &gt;
2088             vh.set(array, 0, $value1$, Void.class);
2089         });
2090 
2091 
2092         // GetVolatile
2093         // Incorrect argument types
2094         checkNPE(() -&gt; { // null array
2095             $type$ x = ($type$) vh.getVolatile(null, 0);
2096         });
2097         checkCCE(() -&gt; { // array reference class
2098             $type$ x = ($type$) vh.getVolatile(Void.class, 0);
2099         });
2100         checkWMTE(() -&gt; { // array primitive class
2101             $type$ x = ($type$) vh.getVolatile(0, 0);
2102         });
2103         checkWMTE(() -&gt; { // index reference class
2104             $type$ x = ($type$) vh.getVolatile(array, Void.class);
2105         });
2106         // Incorrect return type
2107         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2108             Void x = (Void) vh.getVolatile(array, 0);
2109         });
2110         checkWMTE(() -&gt; { // primitive class
2111             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getVolatile(array, 0);
2112         });
2113         // Incorrect arity
2114         checkWMTE(() -&gt; { // 0
2115             $type$ x = ($type$) vh.getVolatile();
2116         });
2117         checkWMTE(() -&gt; { // &gt;
2118             $type$ x = ($type$) vh.getVolatile(array, 0, Void.class);
2119         });
2120 
2121 
2122         // SetVolatile
2123         // Incorrect argument types
2124         checkNPE(() -&gt; { // null array
2125             vh.setVolatile(null, 0, $value1$);
2126         });
2127         checkCCE(() -&gt; { // array reference class
2128             vh.setVolatile(Void.class, 0, $value1$);
2129         });
2130         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2131             vh.setVolatile(array, 0, Void.class);
2132         });
2133         checkWMTE(() -&gt; { // receiver primitive class
2134             vh.setVolatile(0, 0, $value1$);
2135         });
2136         checkWMTE(() -&gt; { // index reference class
2137             vh.setVolatile(array, Void.class, $value1$);
2138         });
2139         // Incorrect arity
2140         checkWMTE(() -&gt; { // 0
2141             vh.setVolatile();
2142         });
2143         checkWMTE(() -&gt; { // &gt;
2144             vh.setVolatile(array, 0, $value1$, Void.class);
2145         });
2146 
2147 
2148         // GetOpaque
2149         // Incorrect argument types
2150         checkNPE(() -&gt; { // null array
2151             $type$ x = ($type$) vh.getOpaque(null, 0);
2152         });
2153         checkCCE(() -&gt; { // array reference class
2154             $type$ x = ($type$) vh.getOpaque(Void.class, 0);
2155         });
2156         checkWMTE(() -&gt; { // array primitive class
2157             $type$ x = ($type$) vh.getOpaque(0, 0);
2158         });
2159         checkWMTE(() -&gt; { // index reference class
2160             $type$ x = ($type$) vh.getOpaque(array, Void.class);
2161         });
2162         // Incorrect return type
2163         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2164             Void x = (Void) vh.getOpaque(array, 0);
2165         });
2166         checkWMTE(() -&gt; { // primitive class
2167             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getOpaque(array, 0);
2168         });
2169         // Incorrect arity
2170         checkWMTE(() -&gt; { // 0
2171             $type$ x = ($type$) vh.getOpaque();
2172         });
2173         checkWMTE(() -&gt; { // &gt;
2174             $type$ x = ($type$) vh.getOpaque(array, 0, Void.class);
2175         });
2176 
2177 
2178         // SetOpaque
2179         // Incorrect argument types
2180         checkNPE(() -&gt; { // null array
2181             vh.setOpaque(null, 0, $value1$);
2182         });
2183         checkCCE(() -&gt; { // array reference class
2184             vh.setOpaque(Void.class, 0, $value1$);
2185         });
2186         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2187             vh.setOpaque(array, 0, Void.class);
2188         });
2189         checkWMTE(() -&gt; { // receiver primitive class
2190             vh.setOpaque(0, 0, $value1$);
2191         });
2192         checkWMTE(() -&gt; { // index reference class
2193             vh.setOpaque(array, Void.class, $value1$);
2194         });
2195         // Incorrect arity
2196         checkWMTE(() -&gt; { // 0
2197             vh.setOpaque();
2198         });
2199         checkWMTE(() -&gt; { // &gt;
2200             vh.setOpaque(array, 0, $value1$, Void.class);
2201         });
2202 
2203 
2204         // GetAcquire
2205         // Incorrect argument types
2206         checkNPE(() -&gt; { // null array
2207             $type$ x = ($type$) vh.getAcquire(null, 0);
2208         });
2209         checkCCE(() -&gt; { // array reference class
2210             $type$ x = ($type$) vh.getAcquire(Void.class, 0);
2211         });
2212         checkWMTE(() -&gt; { // array primitive class
2213             $type$ x = ($type$) vh.getAcquire(0, 0);
2214         });
2215         checkWMTE(() -&gt; { // index reference class
2216             $type$ x = ($type$) vh.getAcquire(array, Void.class);
2217         });
2218         // Incorrect return type
2219         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2220             Void x = (Void) vh.getAcquire(array, 0);
2221         });
2222         checkWMTE(() -&gt; { // primitive class
2223             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAcquire(array, 0);
2224         });
2225         // Incorrect arity
2226         checkWMTE(() -&gt; { // 0
2227             $type$ x = ($type$) vh.getAcquire();
2228         });
2229         checkWMTE(() -&gt; { // &gt;
2230             $type$ x = ($type$) vh.getAcquire(array, 0, Void.class);
2231         });
2232 
2233 
2234         // SetRelease
2235         // Incorrect argument types
2236         checkNPE(() -&gt; { // null array
2237             vh.setRelease(null, 0, $value1$);
2238         });
2239         checkCCE(() -&gt; { // array reference class
2240             vh.setRelease(Void.class, 0, $value1$);
2241         });
2242         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2243             vh.setRelease(array, 0, Void.class);
2244         });
2245         checkWMTE(() -&gt; { // receiver primitive class
2246             vh.setRelease(0, 0, $value1$);
2247         });
2248         checkWMTE(() -&gt; { // index reference class
2249             vh.setRelease(array, Void.class, $value1$);
2250         });
2251         // Incorrect arity
2252         checkWMTE(() -&gt; { // 0
2253             vh.setRelease();
2254         });
2255         checkWMTE(() -&gt; { // &gt;
2256             vh.setRelease(array, 0, $value1$, Void.class);
2257         });
2258 
2259 
2260 #if[CAS]
2261         // CompareAndSet
2262         // Incorrect argument types
2263         checkNPE(() -&gt; { // null receiver
2264             boolean r = vh.compareAndSet(null, 0, $value1$, $value1$);
2265         });
2266         checkCCE(() -&gt; { // receiver reference class
2267             boolean r = vh.compareAndSet(Void.class, 0, $value1$, $value1$);
2268         });
2269         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
2270             boolean r = vh.compareAndSet(array, 0, Void.class, $value1$);
2271         });
2272         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
2273             boolean r = vh.compareAndSet(array, 0, $value1$, Void.class);
2274         });
2275         checkWMTE(() -&gt; { // receiver primitive class
2276             boolean r = vh.compareAndSet(0, 0, $value1$, $value1$);
2277         });
2278         checkWMTE(() -&gt; { // index reference class
2279             boolean r = vh.compareAndSet(array, Void.class, $value1$, $value1$);
2280         });
2281         // Incorrect arity
2282         checkWMTE(() -&gt; { // 0
2283             boolean r = vh.compareAndSet();
2284         });
2285         checkWMTE(() -&gt; { // &gt;
2286             boolean r = vh.compareAndSet(array, 0, $value1$, $value1$, Void.class);
2287         });
2288 
2289 
2290         // WeakCompareAndSet
2291         // Incorrect argument types
2292         checkNPE(() -&gt; { // null receiver
2293             boolean r = vh.weakCompareAndSetPlain(null, 0, $value1$, $value1$);
2294         });
2295         checkCCE(() -&gt; { // receiver reference class
2296             boolean r = vh.weakCompareAndSetPlain(Void.class, 0, $value1$, $value1$);
2297         });
2298         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
2299             boolean r = vh.weakCompareAndSetPlain(array, 0, Void.class, $value1$);
2300         });
2301         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
2302             boolean r = vh.weakCompareAndSetPlain(array, 0, $value1$, Void.class);
2303         });
2304         checkWMTE(() -&gt; { // receiver primitive class
2305             boolean r = vh.weakCompareAndSetPlain(0, 0, $value1$, $value1$);
2306         });
2307         checkWMTE(() -&gt; { // index reference class
2308             boolean r = vh.weakCompareAndSetPlain(array, Void.class, $value1$, $value1$);
2309         });
2310         // Incorrect arity
2311         checkWMTE(() -&gt; { // 0
2312             boolean r = vh.weakCompareAndSetPlain();
2313         });
2314         checkWMTE(() -&gt; { // &gt;
2315             boolean r = vh.weakCompareAndSetPlain(array, 0, $value1$, $value1$, Void.class);
2316         });
2317 
2318 
2319         // WeakCompareAndSetVolatile
2320         // Incorrect argument types
2321         checkNPE(() -&gt; { // null receiver
2322             boolean r = vh.weakCompareAndSet(null, 0, $value1$, $value1$);
2323         });
2324         checkCCE(() -&gt; { // receiver reference class
2325             boolean r = vh.weakCompareAndSet(Void.class, 0, $value1$, $value1$);
2326         });
2327         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
2328             boolean r = vh.weakCompareAndSet(array, 0, Void.class, $value1$);
2329         });
2330         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
2331             boolean r = vh.weakCompareAndSet(array, 0, $value1$, Void.class);
2332         });
2333         checkWMTE(() -&gt; { // receiver primitive class
2334             boolean r = vh.weakCompareAndSet(0, 0, $value1$, $value1$);
2335         });
2336         checkWMTE(() -&gt; { // index reference class
2337             boolean r = vh.weakCompareAndSet(array, Void.class, $value1$, $value1$);
2338         });
2339         // Incorrect arity
2340         checkWMTE(() -&gt; { // 0
2341             boolean r = vh.weakCompareAndSet();
2342         });
2343         checkWMTE(() -&gt; { // &gt;
2344             boolean r = vh.weakCompareAndSet(array, 0, $value1$, $value1$, Void.class);
2345         });
2346 
2347 
2348         // WeakCompareAndSetAcquire
2349         // Incorrect argument types
2350         checkNPE(() -&gt; { // null receiver
2351             boolean r = vh.weakCompareAndSetAcquire(null, 0, $value1$, $value1$);
2352         });
2353         checkCCE(() -&gt; { // receiver reference class
2354             boolean r = vh.weakCompareAndSetAcquire(Void.class, 0, $value1$, $value1$);
2355         });
2356         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
2357             boolean r = vh.weakCompareAndSetAcquire(array, 0, Void.class, $value1$);
2358         });
2359         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
2360             boolean r = vh.weakCompareAndSetAcquire(array, 0, $value1$, Void.class);
2361         });
2362         checkWMTE(() -&gt; { // receiver primitive class
2363             boolean r = vh.weakCompareAndSetAcquire(0, 0, $value1$, $value1$);
2364         });
2365         checkWMTE(() -&gt; { // index reference class
2366             boolean r = vh.weakCompareAndSetAcquire(array, Void.class, $value1$, $value1$);
2367         });
2368         // Incorrect arity
2369         checkWMTE(() -&gt; { // 0
2370             boolean r = vh.weakCompareAndSetAcquire();
2371         });
2372         checkWMTE(() -&gt; { // &gt;
2373             boolean r = vh.weakCompareAndSetAcquire(array, 0, $value1$, $value1$, Void.class);
2374         });
2375 
2376 
2377         // WeakCompareAndSetRelease
2378         // Incorrect argument types
2379         checkNPE(() -&gt; { // null receiver
2380             boolean r = vh.weakCompareAndSetRelease(null, 0, $value1$, $value1$);
2381         });
2382         checkCCE(() -&gt; { // receiver reference class
2383             boolean r = vh.weakCompareAndSetRelease(Void.class, 0, $value1$, $value1$);
2384         });
2385         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
2386             boolean r = vh.weakCompareAndSetRelease(array, 0, Void.class, $value1$);
2387         });
2388         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
2389             boolean r = vh.weakCompareAndSetRelease(array, 0, $value1$, Void.class);
2390         });
2391         checkWMTE(() -&gt; { // receiver primitive class
2392             boolean r = vh.weakCompareAndSetRelease(0, 0, $value1$, $value1$);
2393         });
2394         checkWMTE(() -&gt; { // index reference class
2395             boolean r = vh.weakCompareAndSetRelease(array, Void.class, $value1$, $value1$);
2396         });
2397         // Incorrect arity
2398         checkWMTE(() -&gt; { // 0
2399             boolean r = vh.weakCompareAndSetRelease();
2400         });
2401         checkWMTE(() -&gt; { // &gt;
2402             boolean r = vh.weakCompareAndSetRelease(array, 0, $value1$, $value1$, Void.class);
2403         });
2404 
2405 
2406         // CompareAndExchange
2407         // Incorrect argument types
2408         checkNPE(() -&gt; { // null receiver
2409             $type$ x = ($type$) vh.compareAndExchange(null, 0, $value1$, $value1$);
2410         });
2411         checkCCE(() -&gt; { // array reference class
2412             $type$ x = ($type$) vh.compareAndExchange(Void.class, 0, $value1$, $value1$);
2413         });
2414         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
2415             $type$ x = ($type$) vh.compareAndExchange(array, 0, Void.class, $value1$);
2416         });
2417         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
2418             $type$ x = ($type$) vh.compareAndExchange(array, 0, $value1$, Void.class);
2419         });
2420         checkWMTE(() -&gt; { // array primitive class
2421             $type$ x = ($type$) vh.compareAndExchange(0, 0, $value1$, $value1$);
2422         });
2423         checkWMTE(() -&gt; { // index reference class
2424             $type$ x = ($type$) vh.compareAndExchange(array, Void.class, $value1$, $value1$);
2425         });
2426         // Incorrect return type
2427         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2428             Void r = (Void) vh.compareAndExchange(array, 0, $value1$, $value1$);
2429         });
2430         checkWMTE(() -&gt; { // primitive class
2431             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.compareAndExchange(array, 0, $value1$, $value1$);
2432         });
2433         // Incorrect arity
2434         checkWMTE(() -&gt; { // 0
2435             $type$ x = ($type$) vh.compareAndExchange();
2436         });
2437         checkWMTE(() -&gt; { // &gt;
2438             $type$ x = ($type$) vh.compareAndExchange(array, 0, $value1$, $value1$, Void.class);
2439         });
2440 
2441 
2442         // CompareAndExchangeAcquire
2443         // Incorrect argument types
2444         checkNPE(() -&gt; { // null receiver
2445             $type$ x = ($type$) vh.compareAndExchangeAcquire(null, 0, $value1$, $value1$);
2446         });
2447         checkCCE(() -&gt; { // array reference class
2448             $type$ x = ($type$) vh.compareAndExchangeAcquire(Void.class, 0, $value1$, $value1$);
2449         });
2450         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
2451             $type$ x = ($type$) vh.compareAndExchangeAcquire(array, 0, Void.class, $value1$);
2452         });
2453         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
2454             $type$ x = ($type$) vh.compareAndExchangeAcquire(array, 0, $value1$, Void.class);
2455         });
2456         checkWMTE(() -&gt; { // array primitive class
2457             $type$ x = ($type$) vh.compareAndExchangeAcquire(0, 0, $value1$, $value1$);
2458         });
2459         checkWMTE(() -&gt; { // index reference class
2460             $type$ x = ($type$) vh.compareAndExchangeAcquire(array, Void.class, $value1$, $value1$);
2461         });
2462         // Incorrect return type
2463         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2464             Void r = (Void) vh.compareAndExchangeAcquire(array, 0, $value1$, $value1$);
2465         });
2466         checkWMTE(() -&gt; { // primitive class
2467             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.compareAndExchangeAcquire(array, 0, $value1$, $value1$);
2468         });
2469         // Incorrect arity
2470         checkWMTE(() -&gt; { // 0
2471             $type$ x = ($type$) vh.compareAndExchangeAcquire();
2472         });
2473         checkWMTE(() -&gt; { // &gt;
2474             $type$ x = ($type$) vh.compareAndExchangeAcquire(array, 0, $value1$, $value1$, Void.class);
2475         });
2476 
2477 
2478         // CompareAndExchangeRelease
2479         // Incorrect argument types
2480         checkNPE(() -&gt; { // null receiver
2481             $type$ x = ($type$) vh.compareAndExchangeRelease(null, 0, $value1$, $value1$);
2482         });
2483         checkCCE(() -&gt; { // array reference class
2484             $type$ x = ($type$) vh.compareAndExchangeRelease(Void.class, 0, $value1$, $value1$);
2485         });
2486         check{#if[Object]?CCE:WMTE}(() -&gt; { // expected reference class
2487             $type$ x = ($type$) vh.compareAndExchangeRelease(array, 0, Void.class, $value1$);
2488         });
2489         check{#if[Object]?CCE:WMTE}(() -&gt; { // actual reference class
2490             $type$ x = ($type$) vh.compareAndExchangeRelease(array, 0, $value1$, Void.class);
2491         });
2492         checkWMTE(() -&gt; { // array primitive class
2493             $type$ x = ($type$) vh.compareAndExchangeRelease(0, 0, $value1$, $value1$);
2494         });
2495         checkWMTE(() -&gt; { // index reference class
2496             $type$ x = ($type$) vh.compareAndExchangeRelease(array, Void.class, $value1$, $value1$);
2497         });
2498         // Incorrect return type
2499         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2500             Void r = (Void) vh.compareAndExchangeRelease(array, 0, $value1$, $value1$);
2501         });
2502         checkWMTE(() -&gt; { // primitive class
2503             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.compareAndExchangeRelease(array, 0, $value1$, $value1$);
2504         });
2505         // Incorrect arity
2506         checkWMTE(() -&gt; { // 0
2507             $type$ x = ($type$) vh.compareAndExchangeRelease();
2508         });
2509         checkWMTE(() -&gt; { // &gt;
2510             $type$ x = ($type$) vh.compareAndExchangeRelease(array, 0, $value1$, $value1$, Void.class);
2511         });
2512 
2513 
2514         // GetAndSet
2515         // Incorrect argument types
2516         checkNPE(() -&gt; { // null array
2517             $type$ x = ($type$) vh.getAndSet(null, 0, $value1$);
2518         });
2519         checkCCE(() -&gt; { // array reference class
2520             $type$ x = ($type$) vh.getAndSet(Void.class, 0, $value1$);
2521         });
2522         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2523             $type$ x = ($type$) vh.getAndSet(array, 0, Void.class);
2524         });
2525         checkWMTE(() -&gt; { // reciarrayever primitive class
2526             $type$ x = ($type$) vh.getAndSet(0, 0, $value1$);
2527         });
2528         checkWMTE(() -&gt; { // index reference class
2529             $type$ x = ($type$) vh.getAndSet(array, Void.class, $value1$);
2530         });
2531         // Incorrect return type
2532         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2533             Void r = (Void) vh.getAndSet(array, 0, $value1$);
2534         });
2535         checkWMTE(() -&gt; { // primitive class
2536             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndSet(array, 0, $value1$);
2537         });
2538         // Incorrect arity
2539         checkWMTE(() -&gt; { // 0
2540             $type$ x = ($type$) vh.getAndSet();
2541         });
2542         checkWMTE(() -&gt; { // &gt;
2543             $type$ x = ($type$) vh.getAndSet(array, 0, $value1$, Void.class);
2544         });
2545 
2546 
2547         // GetAndSetAcquire
2548         // Incorrect argument types
2549         checkNPE(() -&gt; { // null array
2550             $type$ x = ($type$) vh.getAndSetAcquire(null, 0, $value1$);
2551         });
2552         checkCCE(() -&gt; { // array reference class
2553             $type$ x = ($type$) vh.getAndSetAcquire(Void.class, 0, $value1$);
2554         });
2555         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2556             $type$ x = ($type$) vh.getAndSetAcquire(array, 0, Void.class);
2557         });
2558         checkWMTE(() -&gt; { // reciarrayever primitive class
2559             $type$ x = ($type$) vh.getAndSetAcquire(0, 0, $value1$);
2560         });
2561         checkWMTE(() -&gt; { // index reference class
2562             $type$ x = ($type$) vh.getAndSetAcquire(array, Void.class, $value1$);
2563         });
2564         // Incorrect return type
2565         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2566             Void r = (Void) vh.getAndSetAcquire(array, 0, $value1$);
2567         });
2568         checkWMTE(() -&gt; { // primitive class
2569             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndSetAcquire(array, 0, $value1$);
2570         });
2571         // Incorrect arity
2572         checkWMTE(() -&gt; { // 0
2573             $type$ x = ($type$) vh.getAndSetAcquire();
2574         });
2575         checkWMTE(() -&gt; { // &gt;
2576             $type$ x = ($type$) vh.getAndSetAcquire(array, 0, $value1$, Void.class);
2577         });
2578 
2579 
2580         // GetAndSetRelease
2581         // Incorrect argument types
2582         checkNPE(() -&gt; { // null array
2583             $type$ x = ($type$) vh.getAndSetRelease(null, 0, $value1$);
2584         });
2585         checkCCE(() -&gt; { // array reference class
2586             $type$ x = ($type$) vh.getAndSetRelease(Void.class, 0, $value1$);
2587         });
2588         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2589             $type$ x = ($type$) vh.getAndSetRelease(array, 0, Void.class);
2590         });
2591         checkWMTE(() -&gt; { // reciarrayever primitive class
2592             $type$ x = ($type$) vh.getAndSetRelease(0, 0, $value1$);
2593         });
2594         checkWMTE(() -&gt; { // index reference class
2595             $type$ x = ($type$) vh.getAndSetRelease(array, Void.class, $value1$);
2596         });
2597         // Incorrect return type
2598         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2599             Void r = (Void) vh.getAndSetRelease(array, 0, $value1$);
2600         });
2601         checkWMTE(() -&gt; { // primitive class
2602             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndSetRelease(array, 0, $value1$);
2603         });
2604         // Incorrect arity
2605         checkWMTE(() -&gt; { // 0
2606             $type$ x = ($type$) vh.getAndSetRelease();
2607         });
2608         checkWMTE(() -&gt; { // &gt;
2609             $type$ x = ($type$) vh.getAndSetRelease(array, 0, $value1$, Void.class);
2610         });
2611 #end[CAS]
2612 
2613 #if[AtomicAdd]
2614         // GetAndAdd
2615         // Incorrect argument types
2616         checkNPE(() -&gt; { // null array
2617             $type$ x = ($type$) vh.getAndAdd(null, 0, $value1$);
2618         });
2619         checkCCE(() -&gt; { // array reference class
2620             $type$ x = ($type$) vh.getAndAdd(Void.class, 0, $value1$);
2621         });
2622         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2623             $type$ x = ($type$) vh.getAndAdd(array, 0, Void.class);
2624         });
2625         checkWMTE(() -&gt; { // array primitive class
2626             $type$ x = ($type$) vh.getAndAdd(0, 0, $value1$);
2627         });
2628         checkWMTE(() -&gt; { // index reference class
2629             $type$ x = ($type$) vh.getAndAdd(array, Void.class, $value1$);
2630         });
2631         // Incorrect return type
2632         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2633             Void r = (Void) vh.getAndAdd(array, 0, $value1$);
2634         });
2635         checkWMTE(() -&gt; { // primitive class
2636             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndAdd(array, 0, $value1$);
2637         });
2638         // Incorrect arity
2639         checkWMTE(() -&gt; { // 0
2640             $type$ x = ($type$) vh.getAndAdd();
2641         });
2642         checkWMTE(() -&gt; { // &gt;
2643             $type$ x = ($type$) vh.getAndAdd(array, 0, $value1$, Void.class);
2644         });
2645 
2646 
2647         // GetAndAddAcquire
2648         // Incorrect argument types
2649         checkNPE(() -&gt; { // null array
2650             $type$ x = ($type$) vh.getAndAddAcquire(null, 0, $value1$);
2651         });
2652         checkCCE(() -&gt; { // array reference class
2653             $type$ x = ($type$) vh.getAndAddAcquire(Void.class, 0, $value1$);
2654         });
2655         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2656             $type$ x = ($type$) vh.getAndAddAcquire(array, 0, Void.class);
2657         });
2658         checkWMTE(() -&gt; { // array primitive class
2659             $type$ x = ($type$) vh.getAndAddAcquire(0, 0, $value1$);
2660         });
2661         checkWMTE(() -&gt; { // index reference class
2662             $type$ x = ($type$) vh.getAndAddAcquire(array, Void.class, $value1$);
2663         });
2664         // Incorrect return type
2665         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2666             Void r = (Void) vh.getAndAddAcquire(array, 0, $value1$);
2667         });
2668         checkWMTE(() -&gt; { // primitive class
2669             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndAddAcquire(array, 0, $value1$);
2670         });
2671         // Incorrect arity
2672         checkWMTE(() -&gt; { // 0
2673             $type$ x = ($type$) vh.getAndAddAcquire();
2674         });
2675         checkWMTE(() -&gt; { // &gt;
2676             $type$ x = ($type$) vh.getAndAddAcquire(array, 0, $value1$, Void.class);
2677         });
2678 
2679 
2680         // GetAndAddRelease
2681         // Incorrect argument types
2682         checkNPE(() -&gt; { // null array
2683             $type$ x = ($type$) vh.getAndAddRelease(null, 0, $value1$);
2684         });
2685         checkCCE(() -&gt; { // array reference class
2686             $type$ x = ($type$) vh.getAndAddRelease(Void.class, 0, $value1$);
2687         });
2688         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2689             $type$ x = ($type$) vh.getAndAddRelease(array, 0, Void.class);
2690         });
2691         checkWMTE(() -&gt; { // array primitive class
2692             $type$ x = ($type$) vh.getAndAddRelease(0, 0, $value1$);
2693         });
2694         checkWMTE(() -&gt; { // index reference class
2695             $type$ x = ($type$) vh.getAndAddRelease(array, Void.class, $value1$);
2696         });
2697         // Incorrect return type
2698         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2699             Void r = (Void) vh.getAndAddRelease(array, 0, $value1$);
2700         });
2701         checkWMTE(() -&gt; { // primitive class
2702             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndAddRelease(array, 0, $value1$);
2703         });
2704         // Incorrect arity
2705         checkWMTE(() -&gt; { // 0
2706             $type$ x = ($type$) vh.getAndAddRelease();
2707         });
2708         checkWMTE(() -&gt; { // &gt;
2709             $type$ x = ($type$) vh.getAndAddRelease(array, 0, $value1$, Void.class);
2710         });
2711 #end[AtomicAdd]
2712 
2713 #if[Bitwise]
2714         // GetAndBitwiseOr
2715         // Incorrect argument types
2716         checkNPE(() -&gt; { // null array
2717             $type$ x = ($type$) vh.getAndBitwiseOr(null, 0, $value1$);
2718         });
2719         checkCCE(() -&gt; { // array reference class
2720             $type$ x = ($type$) vh.getAndBitwiseOr(Void.class, 0, $value1$);
2721         });
2722         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2723             $type$ x = ($type$) vh.getAndBitwiseOr(array, 0, Void.class);
2724         });
2725         checkWMTE(() -&gt; { // array primitive class
2726             $type$ x = ($type$) vh.getAndBitwiseOr(0, 0, $value1$);
2727         });
2728         checkWMTE(() -&gt; { // index reference class
2729             $type$ x = ($type$) vh.getAndBitwiseOr(array, Void.class, $value1$);
2730         });
2731         // Incorrect return type
2732         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2733             Void r = (Void) vh.getAndBitwiseOr(array, 0, $value1$);
2734         });
2735         checkWMTE(() -&gt; { // primitive class
2736             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseOr(array, 0, $value1$);
2737         });
2738         // Incorrect arity
2739         checkWMTE(() -&gt; { // 0
2740             $type$ x = ($type$) vh.getAndBitwiseOr();
2741         });
2742         checkWMTE(() -&gt; { // &gt;
2743             $type$ x = ($type$) vh.getAndBitwiseOr(array, 0, $value1$, Void.class);
2744         });
2745 
2746 
2747         // GetAndBitwiseOrAcquire
2748         // Incorrect argument types
2749         checkNPE(() -&gt; { // null array
2750             $type$ x = ($type$) vh.getAndBitwiseOrAcquire(null, 0, $value1$);
2751         });
2752         checkCCE(() -&gt; { // array reference class
2753             $type$ x = ($type$) vh.getAndBitwiseOrAcquire(Void.class, 0, $value1$);
2754         });
2755         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2756             $type$ x = ($type$) vh.getAndBitwiseOrAcquire(array, 0, Void.class);
2757         });
2758         checkWMTE(() -&gt; { // array primitive class
2759             $type$ x = ($type$) vh.getAndBitwiseOrAcquire(0, 0, $value1$);
2760         });
2761         checkWMTE(() -&gt; { // index reference class
2762             $type$ x = ($type$) vh.getAndBitwiseOrAcquire(array, Void.class, $value1$);
2763         });
2764         // Incorrect return type
2765         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2766             Void r = (Void) vh.getAndBitwiseOrAcquire(array, 0, $value1$);
2767         });
2768         checkWMTE(() -&gt; { // primitive class
2769             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseOrAcquire(array, 0, $value1$);
2770         });
2771         // Incorrect arity
2772         checkWMTE(() -&gt; { // 0
2773             $type$ x = ($type$) vh.getAndBitwiseOrAcquire();
2774         });
2775         checkWMTE(() -&gt; { // &gt;
2776             $type$ x = ($type$) vh.getAndBitwiseOrAcquire(array, 0, $value1$, Void.class);
2777         });
2778 
2779 
2780         // GetAndBitwiseOrRelease
2781         // Incorrect argument types
2782         checkNPE(() -&gt; { // null array
2783             $type$ x = ($type$) vh.getAndBitwiseOrRelease(null, 0, $value1$);
2784         });
2785         checkCCE(() -&gt; { // array reference class
2786             $type$ x = ($type$) vh.getAndBitwiseOrRelease(Void.class, 0, $value1$);
2787         });
2788         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2789             $type$ x = ($type$) vh.getAndBitwiseOrRelease(array, 0, Void.class);
2790         });
2791         checkWMTE(() -&gt; { // array primitive class
2792             $type$ x = ($type$) vh.getAndBitwiseOrRelease(0, 0, $value1$);
2793         });
2794         checkWMTE(() -&gt; { // index reference class
2795             $type$ x = ($type$) vh.getAndBitwiseOrRelease(array, Void.class, $value1$);
2796         });
2797         // Incorrect return type
2798         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2799             Void r = (Void) vh.getAndBitwiseOrRelease(array, 0, $value1$);
2800         });
2801         checkWMTE(() -&gt; { // primitive class
2802             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseOrRelease(array, 0, $value1$);
2803         });
2804         // Incorrect arity
2805         checkWMTE(() -&gt; { // 0
2806             $type$ x = ($type$) vh.getAndBitwiseOrRelease();
2807         });
2808         checkWMTE(() -&gt; { // &gt;
2809             $type$ x = ($type$) vh.getAndBitwiseOrRelease(array, 0, $value1$, Void.class);
2810         });
2811 
2812 
2813         // GetAndBitwiseAnd
2814         // Incorrect argument types
2815         checkNPE(() -&gt; { // null array
2816             $type$ x = ($type$) vh.getAndBitwiseAnd(null, 0, $value1$);
2817         });
2818         checkCCE(() -&gt; { // array reference class
2819             $type$ x = ($type$) vh.getAndBitwiseAnd(Void.class, 0, $value1$);
2820         });
2821         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2822             $type$ x = ($type$) vh.getAndBitwiseAnd(array, 0, Void.class);
2823         });
2824         checkWMTE(() -&gt; { // array primitive class
2825             $type$ x = ($type$) vh.getAndBitwiseAnd(0, 0, $value1$);
2826         });
2827         checkWMTE(() -&gt; { // index reference class
2828             $type$ x = ($type$) vh.getAndBitwiseAnd(array, Void.class, $value1$);
2829         });
2830         // Incorrect return type
2831         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2832             Void r = (Void) vh.getAndBitwiseAnd(array, 0, $value1$);
2833         });
2834         checkWMTE(() -&gt; { // primitive class
2835             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseAnd(array, 0, $value1$);
2836         });
2837         // Incorrect arity
2838         checkWMTE(() -&gt; { // 0
2839             $type$ x = ($type$) vh.getAndBitwiseAnd();
2840         });
2841         checkWMTE(() -&gt; { // &gt;
2842             $type$ x = ($type$) vh.getAndBitwiseAnd(array, 0, $value1$, Void.class);
2843         });
2844 
2845 
2846         // GetAndBitwiseAndAcquire
2847         // Incorrect argument types
2848         checkNPE(() -&gt; { // null array
2849             $type$ x = ($type$) vh.getAndBitwiseAndAcquire(null, 0, $value1$);
2850         });
2851         checkCCE(() -&gt; { // array reference class
2852             $type$ x = ($type$) vh.getAndBitwiseAndAcquire(Void.class, 0, $value1$);
2853         });
2854         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2855             $type$ x = ($type$) vh.getAndBitwiseAndAcquire(array, 0, Void.class);
2856         });
2857         checkWMTE(() -&gt; { // array primitive class
2858             $type$ x = ($type$) vh.getAndBitwiseAndAcquire(0, 0, $value1$);
2859         });
2860         checkWMTE(() -&gt; { // index reference class
2861             $type$ x = ($type$) vh.getAndBitwiseAndAcquire(array, Void.class, $value1$);
2862         });
2863         // Incorrect return type
2864         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2865             Void r = (Void) vh.getAndBitwiseAndAcquire(array, 0, $value1$);
2866         });
2867         checkWMTE(() -&gt; { // primitive class
2868             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseAndAcquire(array, 0, $value1$);
2869         });
2870         // Incorrect arity
2871         checkWMTE(() -&gt; { // 0
2872             $type$ x = ($type$) vh.getAndBitwiseAndAcquire();
2873         });
2874         checkWMTE(() -&gt; { // &gt;
2875             $type$ x = ($type$) vh.getAndBitwiseAndAcquire(array, 0, $value1$, Void.class);
2876         });
2877 
2878 
2879         // GetAndBitwiseAndRelease
2880         // Incorrect argument types
2881         checkNPE(() -&gt; { // null array
2882             $type$ x = ($type$) vh.getAndBitwiseAndRelease(null, 0, $value1$);
2883         });
2884         checkCCE(() -&gt; { // array reference class
2885             $type$ x = ($type$) vh.getAndBitwiseAndRelease(Void.class, 0, $value1$);
2886         });
2887         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2888             $type$ x = ($type$) vh.getAndBitwiseAndRelease(array, 0, Void.class);
2889         });
2890         checkWMTE(() -&gt; { // array primitive class
2891             $type$ x = ($type$) vh.getAndBitwiseAndRelease(0, 0, $value1$);
2892         });
2893         checkWMTE(() -&gt; { // index reference class
2894             $type$ x = ($type$) vh.getAndBitwiseAndRelease(array, Void.class, $value1$);
2895         });
2896         // Incorrect return type
2897         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2898             Void r = (Void) vh.getAndBitwiseAndRelease(array, 0, $value1$);
2899         });
2900         checkWMTE(() -&gt; { // primitive class
2901             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseAndRelease(array, 0, $value1$);
2902         });
2903         // Incorrect arity
2904         checkWMTE(() -&gt; { // 0
2905             $type$ x = ($type$) vh.getAndBitwiseAndRelease();
2906         });
2907         checkWMTE(() -&gt; { // &gt;
2908             $type$ x = ($type$) vh.getAndBitwiseAndRelease(array, 0, $value1$, Void.class);
2909         });
2910 
2911 
2912         // GetAndBitwiseXor
2913         // Incorrect argument types
2914         checkNPE(() -&gt; { // null array
2915             $type$ x = ($type$) vh.getAndBitwiseXor(null, 0, $value1$);
2916         });
2917         checkCCE(() -&gt; { // array reference class
2918             $type$ x = ($type$) vh.getAndBitwiseXor(Void.class, 0, $value1$);
2919         });
2920         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2921             $type$ x = ($type$) vh.getAndBitwiseXor(array, 0, Void.class);
2922         });
2923         checkWMTE(() -&gt; { // array primitive class
2924             $type$ x = ($type$) vh.getAndBitwiseXor(0, 0, $value1$);
2925         });
2926         checkWMTE(() -&gt; { // index reference class
2927             $type$ x = ($type$) vh.getAndBitwiseXor(array, Void.class, $value1$);
2928         });
2929         // Incorrect return type
2930         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2931             Void r = (Void) vh.getAndBitwiseXor(array, 0, $value1$);
2932         });
2933         checkWMTE(() -&gt; { // primitive class
2934             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseXor(array, 0, $value1$);
2935         });
2936         // Incorrect arity
2937         checkWMTE(() -&gt; { // 0
2938             $type$ x = ($type$) vh.getAndBitwiseXor();
2939         });
2940         checkWMTE(() -&gt; { // &gt;
2941             $type$ x = ($type$) vh.getAndBitwiseXor(array, 0, $value1$, Void.class);
2942         });
2943 
2944 
2945         // GetAndBitwiseXorAcquire
2946         // Incorrect argument types
2947         checkNPE(() -&gt; { // null array
2948             $type$ x = ($type$) vh.getAndBitwiseXorAcquire(null, 0, $value1$);
2949         });
2950         checkCCE(() -&gt; { // array reference class
2951             $type$ x = ($type$) vh.getAndBitwiseXorAcquire(Void.class, 0, $value1$);
2952         });
2953         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2954             $type$ x = ($type$) vh.getAndBitwiseXorAcquire(array, 0, Void.class);
2955         });
2956         checkWMTE(() -&gt; { // array primitive class
2957             $type$ x = ($type$) vh.getAndBitwiseXorAcquire(0, 0, $value1$);
2958         });
2959         checkWMTE(() -&gt; { // index reference class
2960             $type$ x = ($type$) vh.getAndBitwiseXorAcquire(array, Void.class, $value1$);
2961         });
2962         // Incorrect return type
2963         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2964             Void r = (Void) vh.getAndBitwiseXorAcquire(array, 0, $value1$);
2965         });
2966         checkWMTE(() -&gt; { // primitive class
2967             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseXorAcquire(array, 0, $value1$);
2968         });
2969         // Incorrect arity
2970         checkWMTE(() -&gt; { // 0
2971             $type$ x = ($type$) vh.getAndBitwiseXorAcquire();
2972         });
2973         checkWMTE(() -&gt; { // &gt;
2974             $type$ x = ($type$) vh.getAndBitwiseXorAcquire(array, 0, $value1$, Void.class);
2975         });
2976 
2977 
2978         // GetAndBitwiseXorRelease
2979         // Incorrect argument types
2980         checkNPE(() -&gt; { // null array
2981             $type$ x = ($type$) vh.getAndBitwiseXorRelease(null, 0, $value1$);
2982         });
2983         checkCCE(() -&gt; { // array reference class
2984             $type$ x = ($type$) vh.getAndBitwiseXorRelease(Void.class, 0, $value1$);
2985         });
2986         check{#if[Object]?CCE:WMTE}(() -&gt; { // value reference class
2987             $type$ x = ($type$) vh.getAndBitwiseXorRelease(array, 0, Void.class);
2988         });
2989         checkWMTE(() -&gt; { // array primitive class
2990             $type$ x = ($type$) vh.getAndBitwiseXorRelease(0, 0, $value1$);
2991         });
2992         checkWMTE(() -&gt; { // index reference class
2993             $type$ x = ($type$) vh.getAndBitwiseXorRelease(array, Void.class, $value1$);
2994         });
2995         // Incorrect return type
2996         check{#if[Object]?CCE:WMTE}(() -&gt; { // reference class
2997             Void r = (Void) vh.getAndBitwiseXorRelease(array, 0, $value1$);
2998         });
2999         checkWMTE(() -&gt; { // primitive class
3000             $wrong_primitive_type$ x = ($wrong_primitive_type$) vh.getAndBitwiseXorRelease(array, 0, $value1$);
3001         });
3002         // Incorrect arity
3003         checkWMTE(() -&gt; { // 0
3004             $type$ x = ($type$) vh.getAndBitwiseXorRelease();
3005         });
3006         checkWMTE(() -&gt; { // &gt;
3007             $type$ x = ($type$) vh.getAndBitwiseXorRelease(array, 0, $value1$, Void.class);
3008         });
3009 #end[Bitwise]
3010     }
3011 
3012     static void testArrayWrongMethodType(Handles hs) throws Throwable {
3013         $type$[] array = new $type$[10];
3014         Arrays.fill(array, $value1$);
3015 
3016         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET)) {
3017             // Incorrect argument types
3018             checkNPE(() -&gt; { // null array
3019                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class)).
3020                     invokeExact(($type$[]) null, 0);
3021             });
3022             hs.checkWMTEOrCCE(() -&gt; { // array reference class
3023                 $type$ x = ($type$) hs.get(am, methodType($type$.class, Class.class, int.class)).
3024                     invokeExact(Void.class, 0);
3025             });
3026             checkWMTE(() -&gt; { // array primitive class
3027                 $type$ x = ($type$) hs.get(am, methodType($type$.class, int.class, int.class)).
3028                     invokeExact(0, 0);
3029             });
3030             checkWMTE(() -&gt; { // index reference class
3031                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, Class.class)).
3032                     invokeExact(array, Void.class);
3033             });
3034             // Incorrect return type
3035             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // reference class
3036                 Void x = (Void) hs.get(am, methodType(Void.class, $type$[].class, int.class)).
3037                     invokeExact(array, 0);
3038             });
3039             checkWMTE(() -&gt; { // primitive class
3040                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class, $type$[].class, int.class)).
3041                     invokeExact(array, 0);
3042             });
3043             // Incorrect arity
3044             checkWMTE(() -&gt; { // 0
3045                 $type$ x = ($type$) hs.get(am, methodType($type$.class)).
3046                     invokeExact();
3047             });
3048             checkWMTE(() -&gt; { // &gt;
3049                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class, Class.class)).
3050                     invokeExact(array, 0, Void.class);
3051             });
3052         }
3053 
3054         for (TestAccessMode am : testAccessModesOfType(TestAccessType.SET)) {
3055             // Incorrect argument types
3056             checkNPE(() -&gt; { // null array
3057                 hs.get(am, methodType(void.class, $type$[].class, int.class, $type$.class)).
3058                     invokeExact(($type$[]) null, 0, $value1$);
3059             });
3060             hs.checkWMTEOrCCE(() -&gt; { // array reference class
3061                 hs.get(am, methodType(void.class, Class.class, int.class, $type$.class)).
3062                     invokeExact(Void.class, 0, $value1$);
3063             });
3064             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // value reference class
3065                 hs.get(am, methodType(void.class, $type$[].class, int.class, Class.class)).
3066                     invokeExact(array, 0, Void.class);
3067             });
3068             checkWMTE(() -&gt; { // receiver primitive class
3069                 hs.get(am, methodType(void.class, int.class, int.class, $type$.class)).
3070                     invokeExact(0, 0, $value1$);
3071             });
3072             checkWMTE(() -&gt; { // index reference class
3073                 hs.get(am, methodType(void.class, $type$[].class, Class.class, $type$.class)).
3074                     invokeExact(array, Void.class, $value1$);
3075             });
3076             // Incorrect arity
3077             checkWMTE(() -&gt; { // 0
3078                 hs.get(am, methodType(void.class)).
3079                     invokeExact();
3080             });
3081             checkWMTE(() -&gt; { // &gt;
3082                 hs.get(am, methodType(void.class, $type$[].class, int.class, Class.class)).
3083                     invokeExact(array, 0, $value1$, Void.class);
3084             });
3085         }
3086 #if[CAS]
3087         for (TestAccessMode am : testAccessModesOfType(TestAccessType.COMPARE_AND_SET)) {
3088             // Incorrect argument types
3089             checkNPE(() -&gt; { // null receiver
3090                 boolean r = (boolean) hs.get(am, methodType(boolean.class, $type$[].class, int.class, $type$.class, $type$.class)).
3091                     invokeExact(($type$[]) null, 0, $value1$, $value1$);
3092             });
3093             hs.checkWMTEOrCCE(() -&gt; { // receiver reference class
3094                 boolean r = (boolean) hs.get(am, methodType(boolean.class, Class.class, int.class, $type$.class, $type$.class)).
3095                     invokeExact(Void.class, 0, $value1$, $value1$);
3096             });
3097             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // expected reference class
3098                 boolean r = (boolean) hs.get(am, methodType(boolean.class, $type$[].class, int.class, Class.class, $type$.class)).
3099                     invokeExact(array, 0, Void.class, $value1$);
3100             });
3101             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // actual reference class
3102                 boolean r = (boolean) hs.get(am, methodType(boolean.class, $type$[].class, int.class, $type$.class, Class.class)).
3103                     invokeExact(array, 0, $value1$, Void.class);
3104             });
3105             checkWMTE(() -&gt; { // receiver primitive class
3106                 boolean r = (boolean) hs.get(am, methodType(boolean.class, int.class, int.class, $type$.class, $type$.class)).
3107                     invokeExact(0, 0, $value1$, $value1$);
3108             });
3109             checkWMTE(() -&gt; { // index reference class
3110                 boolean r = (boolean) hs.get(am, methodType(boolean.class, $type$[].class, Class.class, $type$.class, $type$.class)).
3111                     invokeExact(array, Void.class, $value1$, $value1$);
3112             });
3113             // Incorrect arity
3114             checkWMTE(() -&gt; { // 0
3115                 boolean r = (boolean) hs.get(am, methodType(boolean.class)).
3116                     invokeExact();
3117             });
3118             checkWMTE(() -&gt; { // &gt;
3119                 boolean r = (boolean) hs.get(am, methodType(boolean.class, $type$[].class, int.class, $type$.class, $type$.class, Class.class)).
3120                     invokeExact(array, 0, $value1$, $value1$, Void.class);
3121             });
3122         }
3123 
3124         for (TestAccessMode am : testAccessModesOfType(TestAccessType.COMPARE_AND_EXCHANGE)) {
3125             // Incorrect argument types
3126             checkNPE(() -&gt; { // null receiver
3127                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class, $type$.class, $type$.class)).
3128                     invokeExact(($type$[]) null, 0, $value1$, $value1$);
3129             });
3130             hs.checkWMTEOrCCE(() -&gt; { // array reference class
3131                 $type$ x = ($type$) hs.get(am, methodType($type$.class, Class.class, int.class, $type$.class, $type$.class)).
3132                     invokeExact(Void.class, 0, $value1$, $value1$);
3133             });
3134             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // expected reference class
3135                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class, Class.class, $type$.class)).
3136                     invokeExact(array, 0, Void.class, $value1$);
3137             });
3138             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // actual reference class
3139                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class, $type$.class, Class.class)).
3140                     invokeExact(array, 0, $value1$, Void.class);
3141             });
3142             checkWMTE(() -&gt; { // array primitive class
3143                 $type$ x = ($type$) hs.get(am, methodType($type$.class, int.class, int.class, $type$.class, $type$.class)).
3144                     invokeExact(0, 0, $value1$, $value1$);
3145             });
3146             checkWMTE(() -&gt; { // index reference class
3147                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, Class.class, $type$.class, $type$.class)).
3148                     invokeExact(array, Void.class, $value1$, $value1$);
3149             });
3150             // Incorrect return type
3151             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // reference class
3152                 Void r = (Void) hs.get(am, methodType(Void.class, $type$[].class, int.class, $type$.class, $type$.class)).
3153                     invokeExact(array, 0, $value1$, $value1$);
3154             });
3155             checkWMTE(() -&gt; { // primitive class
3156                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class, $type$[].class, int.class, $type$.class, $type$.class)).
3157                     invokeExact(array, 0, $value1$, $value1$);
3158             });
3159             // Incorrect arity
3160             checkWMTE(() -&gt; { // 0
3161                 $type$ x = ($type$) hs.get(am, methodType($type$.class)).
3162                     invokeExact();
3163             });
3164             checkWMTE(() -&gt; { // &gt;
3165                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class, $type$.class, $type$.class, Class.class)).
3166                     invokeExact(array, 0, $value1$, $value1$, Void.class);
3167             });
3168         }
3169 
3170         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_SET)) {
3171             // Incorrect argument types
3172             checkNPE(() -&gt; { // null array
3173                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class, $type$.class)).
3174                     invokeExact(($type$[]) null, 0, $value1$);
3175             });
3176             hs.checkWMTEOrCCE(() -&gt; { // array reference class
3177                 $type$ x = ($type$) hs.get(am, methodType($type$.class, Class.class, int.class, $type$.class)).
3178                     invokeExact(Void.class, 0, $value1$);
3179             });
3180             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // value reference class
3181                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class, Class.class)).
3182                     invokeExact(array, 0, Void.class);
3183             });
3184             checkWMTE(() -&gt; { // array primitive class
3185                 $type$ x = ($type$) hs.get(am, methodType($type$.class, int.class, int.class, $type$.class)).
3186                     invokeExact(0, 0, $value1$);
3187             });
3188             checkWMTE(() -&gt; { // index reference class
3189                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, Class.class, $type$.class)).
3190                     invokeExact(array, Void.class, $value1$);
3191             });
3192             // Incorrect return type
3193             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // reference class
3194                 Void r = (Void) hs.get(am, methodType(Void.class, $type$[].class, int.class, $type$.class)).
3195                     invokeExact(array, 0, $value1$);
3196             });
3197             checkWMTE(() -&gt; { // primitive class
3198                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class, $type$[].class, int.class, $type$.class)).
3199                     invokeExact(array, 0, $value1$);
3200             });
3201             // Incorrect arity
3202             checkWMTE(() -&gt; { // 0
3203                 $type$ x = ($type$) hs.get(am, methodType($type$.class)).
3204                     invokeExact();
3205             });
3206             checkWMTE(() -&gt; { // &gt;
3207                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class, $type$.class, Class.class)).
3208                     invokeExact(array, 0, $value1$, Void.class);
3209             });
3210         }
3211 #end[CAS]
3212 
3213 #if[AtomicAdd]
3214         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_ADD)) {
3215             // Incorrect argument types
3216             checkNPE(() -&gt; { // null array
3217                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class, $type$.class)).
3218                     invokeExact(($type$[]) null, 0, $value1$);
3219             });
3220             hs.checkWMTEOrCCE(() -&gt; { // array reference class
3221                 $type$ x = ($type$) hs.get(am, methodType($type$.class, Class.class, int.class, $type$.class)).
3222                     invokeExact(Void.class, 0, $value1$);
3223             });
3224             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // value reference class
3225                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class, Class.class)).
3226                     invokeExact(array, 0, Void.class);
3227             });
3228             checkWMTE(() -&gt; { // array primitive class
3229                 $type$ x = ($type$) hs.get(am, methodType($type$.class, int.class, int.class, $type$.class)).
3230                     invokeExact(0, 0, $value1$);
3231             });
3232             checkWMTE(() -&gt; { // index reference class
3233                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, Class.class, $type$.class)).
3234                     invokeExact(array, Void.class, $value1$);
3235             });
3236             // Incorrect return type
3237             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // reference class
3238                 Void r = (Void) hs.get(am, methodType(Void.class, $type$[].class, int.class, $type$.class)).
3239                     invokeExact(array, 0, $value1$);
3240             });
3241             checkWMTE(() -&gt; { // primitive class
3242                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class, $type$[].class, int.class, $type$.class)).
3243                     invokeExact(array, 0, $value1$);
3244             });
3245             // Incorrect arity
3246             checkWMTE(() -&gt; { // 0
3247                 $type$ x = ($type$) hs.get(am, methodType($type$.class)).
3248                     invokeExact();
3249             });
3250             checkWMTE(() -&gt; { // &gt;
3251                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class, $type$.class, Class.class)).
3252                     invokeExact(array, 0, $value1$, Void.class);
3253             });
3254         }
3255 #end[AtomicAdd]
3256 
3257 #if[Bitwise]
3258         for (TestAccessMode am : testAccessModesOfType(TestAccessType.GET_AND_BITWISE)) {
3259             // Incorrect argument types
3260             checkNPE(() -&gt; { // null array
3261                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class, $type$.class)).
3262                     invokeExact(($type$[]) null, 0, $value1$);
3263             });
3264             hs.checkWMTEOrCCE(() -&gt; { // array reference class
3265                 $type$ x = ($type$) hs.get(am, methodType($type$.class, Class.class, int.class, $type$.class)).
3266                     invokeExact(Void.class, 0, $value1$);
3267             });
3268             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // value reference class
3269                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class, Class.class)).
3270                     invokeExact(array, 0, Void.class);
3271             });
3272             checkWMTE(() -&gt; { // array primitive class
3273                 $type$ x = ($type$) hs.get(am, methodType($type$.class, int.class, int.class, $type$.class)).
3274                     invokeExact(0, 0, $value1$);
3275             });
3276             checkWMTE(() -&gt; { // index reference class
3277                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, Class.class, $type$.class)).
3278                     invokeExact(array, Void.class, $value1$);
3279             });
3280             // Incorrect return type
3281             {#if[Object]?hs.checkWMTEOrCCE:checkWMTE}(() -&gt; { // reference class
3282                 Void r = (Void) hs.get(am, methodType(Void.class, $type$[].class, int.class, $type$.class)).
3283                     invokeExact(array, 0, $value1$);
3284             });
3285             checkWMTE(() -&gt; { // primitive class
3286                 $wrong_primitive_type$ x = ($wrong_primitive_type$) hs.get(am, methodType($wrong_primitive_type$.class, $type$[].class, int.class, $type$.class)).
3287                     invokeExact(array, 0, $value1$);
3288             });
3289             // Incorrect arity
3290             checkWMTE(() -&gt; { // 0
3291                 $type$ x = ($type$) hs.get(am, methodType($type$.class)).
3292                     invokeExact();
3293             });
3294             checkWMTE(() -&gt; { // &gt;
3295                 $type$ x = ($type$) hs.get(am, methodType($type$.class, $type$[].class, int.class, $type$.class, Class.class)).
3296                     invokeExact(array, 0, $value1$, Void.class);
3297             });
3298         }
3299 #end[Bitwise]
3300     }
3301 }
    </pre>
  </body>
</html>