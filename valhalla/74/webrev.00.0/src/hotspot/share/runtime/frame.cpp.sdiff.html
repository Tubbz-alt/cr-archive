<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/runtime/frame.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="deoptimization.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="globals.hpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/runtime/frame.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
1063   assert( Universe::heap()-&gt;is_in(owner), &quot;bad receiver&quot; );
1064   return owner;
1065 }
1066 
1067 void frame::oops_entry_do(OopClosure* f, const RegisterMap* map) {
1068   assert(map != NULL, &quot;map must be set&quot;);
1069   if (map-&gt;include_argument_oops()) {
1070     // must collect argument oops, as nobody else is doing it
1071     Thread *thread = Thread::current();
1072     methodHandle m (thread, entry_frame_call_wrapper()-&gt;callee_method());
1073     EntryFrameOopFinder finder(this, m-&gt;signature(), m-&gt;is_static());
1074     finder.arguments_do(f);
1075   }
1076   // Traverse the Handle Block saved in the entry frame
1077   entry_frame_call_wrapper()-&gt;oops_do(f);
1078 }
1079 
1080 
1081 void frame::oops_do_internal(OopClosure* f, CodeBlobClosure* cf, RegisterMap* map, bool use_interpreter_oop_map_cache) {
1082 #ifndef PRODUCT
<span class="line-removed">1083 #if defined(__SUNPRO_CC) &amp;&amp; __SUNPRO_CC &gt;= 0x5140</span>
<span class="line-removed">1084 #pragma error_messages(off, SEC_NULL_PTR_DEREF)</span>
<span class="line-removed">1085 #endif</span>
1086   // simulate GC crash here to dump java thread in error report
1087   if (CrashGCForDumpingJavaThread) {
1088     char *t = NULL;
1089     *t = &#39;c&#39;;
1090   }
1091 #endif
1092   if (is_interpreted_frame()) {
1093     oops_interpreted_do(f, map, use_interpreter_oop_map_cache);
1094   } else if (is_entry_frame()) {
1095     oops_entry_do(f, map);
1096   } else if (CodeCache::contains(pc())) {
1097     oops_code_blob_do(f, cf, map);
1098   } else {
1099     ShouldNotReachHere();
1100   }
1101 }
1102 
1103 void frame::nmethods_do(CodeBlobClosure* cf) {
1104   if (_cb != NULL &amp;&amp; _cb-&gt;is_nmethod()) {
1105     cf-&gt;do_code_blob(_cb);
</pre>
</td>
<td>
<hr />
<pre>
1063   assert( Universe::heap()-&gt;is_in(owner), &quot;bad receiver&quot; );
1064   return owner;
1065 }
1066 
1067 void frame::oops_entry_do(OopClosure* f, const RegisterMap* map) {
1068   assert(map != NULL, &quot;map must be set&quot;);
1069   if (map-&gt;include_argument_oops()) {
1070     // must collect argument oops, as nobody else is doing it
1071     Thread *thread = Thread::current();
1072     methodHandle m (thread, entry_frame_call_wrapper()-&gt;callee_method());
1073     EntryFrameOopFinder finder(this, m-&gt;signature(), m-&gt;is_static());
1074     finder.arguments_do(f);
1075   }
1076   // Traverse the Handle Block saved in the entry frame
1077   entry_frame_call_wrapper()-&gt;oops_do(f);
1078 }
1079 
1080 
1081 void frame::oops_do_internal(OopClosure* f, CodeBlobClosure* cf, RegisterMap* map, bool use_interpreter_oop_map_cache) {
1082 #ifndef PRODUCT



1083   // simulate GC crash here to dump java thread in error report
1084   if (CrashGCForDumpingJavaThread) {
1085     char *t = NULL;
1086     *t = &#39;c&#39;;
1087   }
1088 #endif
1089   if (is_interpreted_frame()) {
1090     oops_interpreted_do(f, map, use_interpreter_oop_map_cache);
1091   } else if (is_entry_frame()) {
1092     oops_entry_do(f, map);
1093   } else if (CodeCache::contains(pc())) {
1094     oops_code_blob_do(f, cf, map);
1095   } else {
1096     ShouldNotReachHere();
1097   }
1098 }
1099 
1100 void frame::nmethods_do(CodeBlobClosure* cf) {
1101   if (_cb != NULL &amp;&amp; _cb-&gt;is_nmethod()) {
1102     cf-&gt;do_code_blob(_cb);
</pre>
</td>
</tr>
</table>
<center><a href="deoptimization.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="globals.hpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>