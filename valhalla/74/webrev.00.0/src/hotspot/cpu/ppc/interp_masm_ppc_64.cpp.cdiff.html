<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/cpu/ppc/interp_masm_ppc_64.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="globals_ppc.hpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../x86/gc/shenandoah/shenandoahBarrierSetAssembler_x86.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/ppc/interp_masm_ppc_64.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 488,11 ***</span>
    Label index_ok;
    lwa(R0, arrayOopDesc::length_offset_in_bytes(), result);
    sldi(R0, R0, LogBytesPerHeapOop);
    cmpd(CCR0, tmp, R0);
    blt(CCR0, index_ok);
<span class="line-modified">!   stop(&quot;resolved reference index out of bounds&quot;, 0x09256);</span>
    bind(index_ok);
  #endif
    // Add in the index.
    add(result, tmp, result);
    load_heap_oop(result, arrayOopDesc::base_offset_in_bytes(T_OBJECT), result, tmp, R0, false, 0, L_handle_null);
<span class="line-new-header">--- 488,11 ---</span>
    Label index_ok;
    lwa(R0, arrayOopDesc::length_offset_in_bytes(), result);
    sldi(R0, R0, LogBytesPerHeapOop);
    cmpd(CCR0, tmp, R0);
    blt(CCR0, index_ok);
<span class="line-modified">!   stop(&quot;resolved reference index out of bounds&quot;);</span>
    bind(index_ok);
  #endif
    // Add in the index.
    add(result, tmp, result);
    load_heap_oop(result, arrayOopDesc::base_offset_in_bytes(T_OBJECT), result, tmp, R0, false, 0, L_handle_null);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1141,11 ***</span>
  
    save_interpreter_state(Rscratch2);
  #ifdef ASSERT
    ld(Rscratch1, _ijava_state_neg(top_frame_sp), Rscratch2); // Rscratch2 contains fp
    cmpd(CCR0, R21_sender_SP, Rscratch1);
<span class="line-modified">!   asm_assert_eq(&quot;top_frame_sp incorrect&quot;, 0x951);</span>
  #endif
  
    bctr();
  }
  
<span class="line-new-header">--- 1141,11 ---</span>
  
    save_interpreter_state(Rscratch2);
  #ifdef ASSERT
    ld(Rscratch1, _ijava_state_neg(top_frame_sp), Rscratch2); // Rscratch2 contains fp
    cmpd(CCR0, R21_sender_SP, Rscratch1);
<span class="line-modified">!   asm_assert_eq(&quot;top_frame_sp incorrect&quot;);</span>
  #endif
  
    bctr();
  }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2249,11 ***</span>
    {
      Label Lok;
      subf(R0, R1_SP, scratch);
      cmpdi(CCR0, R0, frame::abi_reg_args_size + frame::ijava_state_size);
      bge(CCR0, Lok);
<span class="line-modified">!     stop(&quot;frame too small (restore istate)&quot;, 0x5432);</span>
      bind(Lok);
    }
  #endif
  }
  
<span class="line-new-header">--- 2249,11 ---</span>
    {
      Label Lok;
      subf(R0, R1_SP, scratch);
      cmpdi(CCR0, R0, frame::abi_reg_args_size + frame::ijava_state_size);
      bge(CCR0, Lok);
<span class="line-modified">!     stop(&quot;frame too small (restore istate)&quot;);</span>
      bind(Lok);
    }
  #endif
  }
  
</pre>
<center><a href="globals_ppc.hpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../x86/gc/shenandoah/shenandoahBarrierSetAssembler_x86.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>