<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/jdk/valhalla/valuetypes/ValueArray.java</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="SubstitutabilityTest.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>test/jdk/valhalla/valuetypes/ValueArray.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 47,11 ***</span>
          assertTrue(arrayClass.isArray());
          assertTrue(array.getClass() == arrayClass);
      }
  
      private static Class&lt;?&gt; nullablePointArrayClass() {
<span class="line-modified">!         Object a = new Point?[0];</span>
          return a.getClass();
      }
  
      void run() {
          testClassName();
<span class="line-new-header">--- 47,11 ---</span>
          assertTrue(arrayClass.isArray());
          assertTrue(array.getClass() == arrayClass);
      }
  
      private static Class&lt;?&gt; nullablePointArrayClass() {
<span class="line-modified">!         Object a = new Point.ref[0];</span>
          return a.getClass();
      }
  
      void run() {
          testClassName();
</pre>
<hr />
<pre>
<span class="line-old-header">*** 151,11 ***</span>
                                           Point.makePoint(100, 200)}},
              new Object[] { Point[][].class,
                             new Point[][] { new Point[] { Point.makePoint(1, 2),
                                                           Point.makePoint(10, 20)}}},
              new Object[] { nullablePointArrayClass(),
<span class="line-modified">!                            new Point?[] { Point.makePoint(11, 22),</span>
                                            Point.makePoint(110, 220),
                                            null }},
              new Object[] { NonFlattenValue[].class,
                             new NonFlattenValue[] { NonFlattenValue.make(1, 2),
                                                     NonFlattenValue.make(10, 20),
<span class="line-new-header">--- 151,11 ---</span>
                                           Point.makePoint(100, 200)}},
              new Object[] { Point[][].class,
                             new Point[][] { new Point[] { Point.makePoint(1, 2),
                                                           Point.makePoint(10, 20)}}},
              new Object[] { nullablePointArrayClass(),
<span class="line-modified">!                            new Point.ref[] { Point.makePoint(11, 22),</span>
                                            Point.makePoint(110, 220),
                                            null }},
              new Object[] { NonFlattenValue[].class,
                             new NonFlattenValue[] { NonFlattenValue.make(1, 2),
                                                     NonFlattenValue.make(10, 20),
</pre>
<hr />
<pre>
<span class="line-old-header">*** 199,18 ***</span>
      }
  
      @Test
      static void testPointArray() {
          Point[] qArray = new Point[0];
<span class="line-modified">!         Point?[] lArray = new Point?[0];</span>
  
          ValueArray test = new ValueArray(Point[].class, qArray);
          test.run();
  
<span class="line-modified">!         ValueArray test1 = new ValueArray(Point?[].class, lArray);</span>
          test.run();
  
          // language instanceof
          assertTrue(qArray instanceof Point[]);
<span class="line-modified">!         assertTrue(lArray instanceof Point?[]);</span>
      }
  }
<span class="line-new-header">--- 199,18 ---</span>
      }
  
      @Test
      static void testPointArray() {
          Point[] qArray = new Point[0];
<span class="line-modified">!         Point.ref[] lArray = new Point.ref[0];</span>
  
          ValueArray test = new ValueArray(Point[].class, qArray);
          test.run();
  
<span class="line-modified">!         ValueArray test1 = new ValueArray(Point.ref[].class, lArray);</span>
          test.run();
  
          // language instanceof
          assertTrue(qArray instanceof Point[]);
<span class="line-modified">!         assertTrue(lArray instanceof Point.ref[]);</span>
      }
  }
</pre>
<center><a href="SubstitutabilityTest.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>