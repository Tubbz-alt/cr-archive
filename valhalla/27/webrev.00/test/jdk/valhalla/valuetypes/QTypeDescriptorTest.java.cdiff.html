<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/jdk/valhalla/valuetypes/QTypeDescriptorTest.java</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="ObjectMethods.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="Reflection.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/valhalla/valuetypes/QTypeDescriptorTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 123,13 ***</span>
          assertEquals(l.p2, NFV.pointValue());
      }
  
      @DataProvider
      static Object[][] descriptors() {
<span class="line-modified">!         Class&lt;?&gt; pointLType = Point.class.asIndirectType();</span>
          Class&lt;?&gt; pointQType = Point.class;
<span class="line-modified">!         Class&lt;?&gt; nonFlattenValueLType = NonFlattenValue.class.asIndirectType();</span>
          Class&lt;?&gt; nonFlattenValueQType = NonFlattenValue.class;
          return new Object[][]{
              { QTypeDescriptorTest.class, &quot;toLine&quot;, new Class&lt;?&gt;[] {pointQType, nonFlattenValueQType}, true},
              { QTypeDescriptorTest.class, &quot;toLine&quot;, new Class&lt;?&gt;[] {pointLType, nonFlattenValueQType}, false},
              { QTypeDescriptorTest.class, &quot;toLine&quot;, new Class&lt;?&gt;[] { Point[].class },                  true},
<span class="line-new-header">--- 123,13 ---</span>
          assertEquals(l.p2, NFV.pointValue());
      }
  
      @DataProvider
      static Object[][] descriptors() {
<span class="line-modified">!         Class&lt;?&gt; pointLType = Point.ref.class;</span>
          Class&lt;?&gt; pointQType = Point.class;
<span class="line-modified">!         Class&lt;?&gt; nonFlattenValueLType = NonFlattenValue.ref.class;</span>
          Class&lt;?&gt; nonFlattenValueQType = NonFlattenValue.class;
          return new Object[][]{
              { QTypeDescriptorTest.class, &quot;toLine&quot;, new Class&lt;?&gt;[] {pointQType, nonFlattenValueQType}, true},
              { QTypeDescriptorTest.class, &quot;toLine&quot;, new Class&lt;?&gt;[] {pointLType, nonFlattenValueQType}, false},
              { QTypeDescriptorTest.class, &quot;toLine&quot;, new Class&lt;?&gt;[] { Point[].class },                  true},
</pre>
<hr />
<pre>
<span class="line-old-header">*** 150,26 ***</span>
          }
      }
  
      @DataProvider
      static Object[][] methodTypes() {
<span class="line-modified">!         Class&lt;?&gt; pointLType = Point.class.asIndirectType();</span>
          Class&lt;?&gt; pointQType = Point.class;
          ClassLoader loader = QTypeDescriptorTest.class.getClassLoader();
          return new Object[][]{
              { &quot;point&quot;,      MethodType.methodType(pointLType),                            true },
              { &quot;pointValue&quot;, MethodType.methodType(pointQType),                            true },
              { &quot;has&quot;,        MethodType.methodType(boolean.class, pointQType, pointLType), true },
              { &quot;point&quot;,      MethodType.methodType(pointQType),                            false },
              { &quot;pointValue&quot;, MethodType.methodType(pointLType),                            false },
              { &quot;has&quot;,        MethodType.methodType(boolean.class, pointLType, pointQType), false },
<span class="line-modified">!             { &quot;point&quot;,      MethodType.fromMethodDescriptorString(&quot;()LPoint;&quot;, loader),         true },</span>
              { &quot;point&quot;,      MethodType.fromMethodDescriptorString(&quot;()QPoint;&quot;, loader),         false },
              { &quot;pointValue&quot;, MethodType.fromMethodDescriptorString(&quot;()QPoint;&quot;, loader),         true },
              { &quot;pointValue&quot;, MethodType.fromMethodDescriptorString(&quot;()LPoint;&quot;, loader),         false },
<span class="line-modified">!             { &quot;has&quot;,        MethodType.fromMethodDescriptorString(&quot;(QPoint;LPoint;)Z&quot;, loader), true },</span>
<span class="line-modified">!             { &quot;has&quot;,        MethodType.fromMethodDescriptorString(&quot;(LPoint;LPoint;)Z&quot;, loader), false },</span>
          };
      }
  
      @Test(dataProvider = &quot;methodTypes&quot;)
      public static void methodHandleLookup(String name, MethodType mtype, boolean found) throws Throwable {
<span class="line-new-header">--- 150,26 ---</span>
          }
      }
  
      @DataProvider
      static Object[][] methodTypes() {
<span class="line-modified">!         Class&lt;?&gt; pointLType = Point.ref.class;</span>
          Class&lt;?&gt; pointQType = Point.class;
          ClassLoader loader = QTypeDescriptorTest.class.getClassLoader();
          return new Object[][]{
              { &quot;point&quot;,      MethodType.methodType(pointLType),                            true },
              { &quot;pointValue&quot;, MethodType.methodType(pointQType),                            true },
              { &quot;has&quot;,        MethodType.methodType(boolean.class, pointQType, pointLType), true },
              { &quot;point&quot;,      MethodType.methodType(pointQType),                            false },
              { &quot;pointValue&quot;, MethodType.methodType(pointLType),                            false },
              { &quot;has&quot;,        MethodType.methodType(boolean.class, pointLType, pointQType), false },
<span class="line-modified">!             { &quot;point&quot;,      MethodType.fromMethodDescriptorString(&quot;()LPoint$ref;&quot;, loader),         true },</span>
              { &quot;point&quot;,      MethodType.fromMethodDescriptorString(&quot;()QPoint;&quot;, loader),         false },
              { &quot;pointValue&quot;, MethodType.fromMethodDescriptorString(&quot;()QPoint;&quot;, loader),         true },
              { &quot;pointValue&quot;, MethodType.fromMethodDescriptorString(&quot;()LPoint;&quot;, loader),         false },
<span class="line-modified">!             { &quot;has&quot;,        MethodType.fromMethodDescriptorString(&quot;(QPoint;LPoint$ref;)Z&quot;, loader), true },</span>
<span class="line-modified">!             { &quot;has&quot;,        MethodType.fromMethodDescriptorString(&quot;(LPoint$ref;LPoint$ref;)Z&quot;, loader), false },</span>
          };
      }
  
      @Test(dataProvider = &quot;methodTypes&quot;)
      public static void methodHandleLookup(String name, MethodType mtype, boolean found) throws Throwable {
</pre>
<center><a href="ObjectMethods.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="Reflection.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>