<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/conf/jib-profiles.js</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="../Images.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="../test/BuildMicrobenchmark.gmk.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/conf/jib-profiles.js</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 447 
 448         &quot;windows-x64&quot;: {
 449             target_os: &quot;windows&quot;,
 450             target_cpu: &quot;x64&quot;,
 451             dependencies: [&quot;devkit&quot;, &quot;pandoc&quot;, &quot;graalunit_lib&quot;],
 452             configure_args: concat(common.configure_args_64bit),
 453         },
 454 
 455         &quot;windows-x86&quot;: {
 456             target_os: &quot;windows&quot;,
 457             target_cpu: &quot;x86&quot;,
 458             build_cpu: &quot;x64&quot;,
 459             dependencies: [&quot;devkit&quot;],
 460             configure_args: concat(common.configure_args_32bit),
 461         },
 462 
 463         &quot;linux-aarch64&quot;: {
 464             target_os: &quot;linux&quot;,
 465             target_cpu: &quot;aarch64&quot;,
 466             build_cpu: &quot;x64&quot;,
<span class="line-modified"> 467             dependencies: [&quot;devkit&quot;, &quot;build_devkit&quot;, &quot;cups&quot;],</span>
 468             configure_args: [
 469                 &quot;--openjdk-target=aarch64-linux-gnu&quot;,



 470             ],
 471         },
 472 
 473         &quot;linux-arm32&quot;: {
 474             target_os: &quot;linux&quot;,
 475             target_cpu: &quot;arm&quot;,
 476             build_cpu: &quot;x64&quot;,
<span class="line-modified"> 477             dependencies: [&quot;devkit&quot;, &quot;build_devkit&quot;, &quot;cups&quot;],</span>
 478             configure_args: [
 479                 &quot;--openjdk-target=arm-linux-gnueabihf&quot;, &quot;--with-freetype=bundled&quot;,
 480                 &quot;--with-abi-profile=arm-vfp-hflt&quot;, &quot;--disable-warnings-as-errors&quot;
 481             ],
 482         },
 483 
 484         &quot;linux-ppc64le&quot;: {
 485             target_os: &quot;linux&quot;,
 486             target_cpu: &quot;ppc64le&quot;,
 487             build_cpu: &quot;x64&quot;,
<span class="line-modified"> 488             dependencies: [&quot;devkit&quot;, &quot;build_devkit&quot;, &quot;cups&quot;],</span>
 489             configure_args: [
 490                 &quot;--openjdk-target=ppc64le-linux-gnu&quot;, &quot;--with-freetype=bundled&quot;,
 491                 &quot;--disable-warnings-as-errors&quot;
 492             ],
 493         },
 494 
 495         &quot;linux-s390x&quot;: {
 496             target_os: &quot;linux&quot;,
 497             target_cpu: &quot;s390x&quot;,
 498             build_cpu: &quot;x64&quot;,
<span class="line-modified"> 499             dependencies: [&quot;devkit&quot;, &quot;build_devkit&quot;, &quot;cups&quot;],</span>
 500             configure_args: [
 501                 &quot;--openjdk-target=s390x-linux-gnu&quot;, &quot;--with-freetype=bundled&quot;,
 502                 &quot;--disable-warnings-as-errors&quot;
 503             ],
 504         },
 505     };
 506 
 507     // Add the base settings to all the main profiles
 508     common.main_profile_names.forEach(function (name) {
 509         profiles[name] = concatObjects(common.main_profile_base, profiles[name]);
 510     });
 511 
 512     // Generate debug versions of all the main profiles
 513     common.main_profile_names.forEach(function (name) {
 514         var debugName = name + common.debug_suffix;
 515         profiles[debugName] = concatObjects(profiles[name],
 516                                             common.debug_profile_base);
 517     });
 518     // Generate slowdebug versions of all the main profiles
 519     common.main_profile_names.forEach(function (name) {
</pre>
<hr />
<pre>
 967     profiles = generatePlatformAttributes(profiles);
 968     profiles = generateDefaultMakeTargetsConfigureArg(common, profiles);
 969     return profiles;
 970 };
 971 
 972 /**
 973  * Generate the dependencies part of the configuration
 974  *
 975  * @param input External data to use for generating the configuration
 976  * @param common The common values
 977  * @returns {{}} Dependencies part of configuration
 978  */
 979 var getJibProfilesDependencies = function (input, common) {
 980 
 981     var devkit_platform_revisions = {
 982         linux_x64: &quot;gcc9.2.0-OL6.4+1.0&quot;,
 983         macosx_x64: &quot;Xcode10.1-MacOSX10.14+1.0&quot;,
 984         solaris_x64: &quot;SS12u4-Solaris11u1+1.0&quot;,
 985         solaris_sparcv9: &quot;SS12u6-Solaris11u3+1.0&quot;,
 986         windows_x64: &quot;VS2017-15.9.16+1.0&quot;,
<span class="line-modified"> 987         linux_aarch64: &quot;gcc8.3.0-OL7.6+1.0&quot;,</span>
 988         linux_arm: &quot;gcc8.2.0-Fedora27+1.0&quot;,
 989         linux_ppc64le: &quot;gcc8.2.0-Fedora27+1.0&quot;,
 990         linux_s390x: &quot;gcc8.2.0-Fedora27+1.0&quot;
 991     };
 992 
 993     var devkit_platform = (input.target_cpu == &quot;x86&quot;
 994         ? input.target_os + &quot;_x64&quot;
 995         : input.target_platform);
 996 
 997     var devkit_cross_prefix = &quot;&quot;;
 998     if (input.build_platform != input.target_platform
 999        &amp;&amp; input.build_platform != devkit_platform) {
1000         devkit_cross_prefix = input.build_platform + &quot;-to-&quot;;
1001     }
1002 
1003     var boot_jdk_platform = (input.build_os == &quot;macosx&quot; ? &quot;osx&quot; : input.build_os)
1004         + &quot;-&quot; + input.build_cpu;
1005     var boot_jdk_ext = (input.build_os == &quot;windows&quot; ? &quot;.zip&quot; : &quot;.tar.gz&quot;)
1006     // If running in WSL and building for Windows, it will look like Linux,
1007     // but we need a Windows boot JDK.
1008     if (isWsl(input) &amp;&amp; input.target_os == &quot;windows&quot;) {
1009         boot_jdk_platform = &quot;windows-&quot; + input.build_cpu;
1010         boot_jdk_ext = &quot;.zip&quot;;
1011     }
1012 
1013     var makeBinDir = (input.build_os == &quot;windows&quot;
1014         ? input.get(&quot;gnumake&quot;, &quot;install_path&quot;) + &quot;/cygwin/bin&quot;
1015         : input.get(&quot;gnumake&quot;, &quot;install_path&quot;) + &quot;/bin&quot;);
1016 
1017     if (input.build_cpu == &#39;aarch64&#39;) {
1018         boot_jdk = {
1019             organization: common.organization,
1020             ext: &quot;tar.gz&quot;,
1021             module: &quot;jdk-linux_aarch64&quot;,
<span class="line-modified">1022             revision: &quot;13+1.0&quot;,</span>
1023             configure_args: &quot;--with-boot-jdk=&quot; + common.boot_jdk_home,
1024             environment_path: common.boot_jdk_home + &quot;/bin&quot;
1025         }
1026     } else {
1027         boot_jdk = {
1028             server: &quot;jpg&quot;,
1029             product: &quot;jdk&quot;,
1030             version: common.boot_jdk_version,
1031             build_number: common.boot_jdk_build_number,
1032             file: &quot;bundles/&quot; + boot_jdk_platform + &quot;/jdk-&quot; + common.boot_jdk_version + &quot;_&quot;
1033                 + boot_jdk_platform + &quot;_bin&quot; + boot_jdk_ext,
1034             configure_args: &quot;--with-boot-jdk=&quot; + common.boot_jdk_home,
1035             environment_path: common.boot_jdk_home + &quot;/bin&quot;
1036         }
1037     }
1038     if (input.build_cpu == &#39;sparcv9&#39;) {
1039         boot_jdk.file = &quot;bundles/openjdk/GPL/&quot; + boot_jdk_platform
1040             + &quot;/openjdk-&quot; + common.boot_jdk_version + &quot;_&quot;
1041             + boot_jdk_platform + &quot;_bin&quot; + boot_jdk_ext;
1042     }
</pre>
<hr />
<pre>
1124             revision: &quot;2.69+1.0.1&quot;,
1125             module: (input.build_os == &quot;windows&quot;
1126                 ? &quot;autoconf-&quot; + input.build_osenv_platform
1127                 : &quot;autoconf-&quot; + input.build_platform),
1128             configure_args: &quot;&quot;,
1129             environment_path: input.get(&quot;autoconf&quot;, &quot;install_path&quot;)
1130         },
1131 
1132         graphviz: {
1133             organization: common.organization,
1134             ext: &quot;tar.gz&quot;,
1135             revision: &quot;2.38.0-1+1.1&quot;,
1136             module: &quot;graphviz-&quot; + input.target_platform,
1137             configure_args: &quot;DOT=&quot; + input.get(&quot;graphviz&quot;, &quot;install_path&quot;) + &quot;/dot&quot;,
1138             environment_path: input.get(&quot;graphviz&quot;, &quot;install_path&quot;)
1139         },
1140 
1141         pandoc: {
1142             organization: common.organization,
1143             ext: &quot;tar.gz&quot;,
<span class="line-modified">1144             revision: &quot;2.3.1+1.0&quot;,</span>
1145             module: &quot;pandoc-&quot; + input.build_platform,
1146             configure_args: &quot;PANDOC=&quot; + input.get(&quot;pandoc&quot;, &quot;install_path&quot;) + &quot;/pandoc/pandoc&quot;,
1147             environment_path: input.get(&quot;pandoc&quot;, &quot;install_path&quot;) + &quot;/pandoc&quot;
1148         },
1149 
1150         // This adds java jib as a dependency for the test artifacts resolver
1151         jib: {
1152             organization: &quot;com.oracle.java.jib&quot;,
1153             ext: &quot;zip&quot;,
1154             classifier: &quot;distribution&quot;,
1155             revision: &quot;3.0-SNAPSHOT&quot;,
1156             environment_name: &quot;JIB_HOME&quot;,
1157             environment_value: input.get(&quot;jib&quot;, &quot;home_path&quot;)
1158         },
1159 
1160         ant: {
1161             organization: common.organization,
1162             ext: &quot;zip&quot;,
1163             revision: &quot;1.7.1+1.0&quot;,
1164             configure_args: &quot;&quot;,
</pre>
</td>
<td>
<hr />
<pre>
 447 
 448         &quot;windows-x64&quot;: {
 449             target_os: &quot;windows&quot;,
 450             target_cpu: &quot;x64&quot;,
 451             dependencies: [&quot;devkit&quot;, &quot;pandoc&quot;, &quot;graalunit_lib&quot;],
 452             configure_args: concat(common.configure_args_64bit),
 453         },
 454 
 455         &quot;windows-x86&quot;: {
 456             target_os: &quot;windows&quot;,
 457             target_cpu: &quot;x86&quot;,
 458             build_cpu: &quot;x64&quot;,
 459             dependencies: [&quot;devkit&quot;],
 460             configure_args: concat(common.configure_args_32bit),
 461         },
 462 
 463         &quot;linux-aarch64&quot;: {
 464             target_os: &quot;linux&quot;,
 465             target_cpu: &quot;aarch64&quot;,
 466             build_cpu: &quot;x64&quot;,
<span class="line-modified"> 467             dependencies: [&quot;devkit&quot;, &quot;build_devkit&quot;, &quot;pandoc&quot;],</span>
 468             configure_args: [
 469                 &quot;--openjdk-target=aarch64-linux-gnu&quot;,
<span class="line-added"> 470 		&quot;--disable-jvm-feature-jvmci&quot;,</span>
<span class="line-added"> 471 		&quot;--disable-jvm-feature-graal&quot;,</span>
<span class="line-added"> 472 		&quot;--disable-jvm-feature-aot&quot;,</span>
 473             ],
 474         },
 475 
 476         &quot;linux-arm32&quot;: {
 477             target_os: &quot;linux&quot;,
 478             target_cpu: &quot;arm&quot;,
 479             build_cpu: &quot;x64&quot;,
<span class="line-modified"> 480             dependencies: [&quot;devkit&quot;, &quot;build_devkit&quot;],</span>
 481             configure_args: [
 482                 &quot;--openjdk-target=arm-linux-gnueabihf&quot;, &quot;--with-freetype=bundled&quot;,
 483                 &quot;--with-abi-profile=arm-vfp-hflt&quot;, &quot;--disable-warnings-as-errors&quot;
 484             ],
 485         },
 486 
 487         &quot;linux-ppc64le&quot;: {
 488             target_os: &quot;linux&quot;,
 489             target_cpu: &quot;ppc64le&quot;,
 490             build_cpu: &quot;x64&quot;,
<span class="line-modified"> 491             dependencies: [&quot;devkit&quot;, &quot;build_devkit&quot;],</span>
 492             configure_args: [
 493                 &quot;--openjdk-target=ppc64le-linux-gnu&quot;, &quot;--with-freetype=bundled&quot;,
 494                 &quot;--disable-warnings-as-errors&quot;
 495             ],
 496         },
 497 
 498         &quot;linux-s390x&quot;: {
 499             target_os: &quot;linux&quot;,
 500             target_cpu: &quot;s390x&quot;,
 501             build_cpu: &quot;x64&quot;,
<span class="line-modified"> 502             dependencies: [&quot;devkit&quot;, &quot;build_devkit&quot;],</span>
 503             configure_args: [
 504                 &quot;--openjdk-target=s390x-linux-gnu&quot;, &quot;--with-freetype=bundled&quot;,
 505                 &quot;--disable-warnings-as-errors&quot;
 506             ],
 507         },
 508     };
 509 
 510     // Add the base settings to all the main profiles
 511     common.main_profile_names.forEach(function (name) {
 512         profiles[name] = concatObjects(common.main_profile_base, profiles[name]);
 513     });
 514 
 515     // Generate debug versions of all the main profiles
 516     common.main_profile_names.forEach(function (name) {
 517         var debugName = name + common.debug_suffix;
 518         profiles[debugName] = concatObjects(profiles[name],
 519                                             common.debug_profile_base);
 520     });
 521     // Generate slowdebug versions of all the main profiles
 522     common.main_profile_names.forEach(function (name) {
</pre>
<hr />
<pre>
 970     profiles = generatePlatformAttributes(profiles);
 971     profiles = generateDefaultMakeTargetsConfigureArg(common, profiles);
 972     return profiles;
 973 };
 974 
 975 /**
 976  * Generate the dependencies part of the configuration
 977  *
 978  * @param input External data to use for generating the configuration
 979  * @param common The common values
 980  * @returns {{}} Dependencies part of configuration
 981  */
 982 var getJibProfilesDependencies = function (input, common) {
 983 
 984     var devkit_platform_revisions = {
 985         linux_x64: &quot;gcc9.2.0-OL6.4+1.0&quot;,
 986         macosx_x64: &quot;Xcode10.1-MacOSX10.14+1.0&quot;,
 987         solaris_x64: &quot;SS12u4-Solaris11u1+1.0&quot;,
 988         solaris_sparcv9: &quot;SS12u6-Solaris11u3+1.0&quot;,
 989         windows_x64: &quot;VS2017-15.9.16+1.0&quot;,
<span class="line-modified"> 990         linux_aarch64: &quot;gcc9.2.0-OL7.6+1.0&quot;,</span>
 991         linux_arm: &quot;gcc8.2.0-Fedora27+1.0&quot;,
 992         linux_ppc64le: &quot;gcc8.2.0-Fedora27+1.0&quot;,
 993         linux_s390x: &quot;gcc8.2.0-Fedora27+1.0&quot;
 994     };
 995 
 996     var devkit_platform = (input.target_cpu == &quot;x86&quot;
 997         ? input.target_os + &quot;_x64&quot;
 998         : input.target_platform);
 999 
1000     var devkit_cross_prefix = &quot;&quot;;
1001     if (input.build_platform != input.target_platform
1002        &amp;&amp; input.build_platform != devkit_platform) {
1003         devkit_cross_prefix = input.build_platform + &quot;-to-&quot;;
1004     }
1005 
1006     var boot_jdk_platform = (input.build_os == &quot;macosx&quot; ? &quot;osx&quot; : input.build_os)
1007         + &quot;-&quot; + input.build_cpu;
1008     var boot_jdk_ext = (input.build_os == &quot;windows&quot; ? &quot;.zip&quot; : &quot;.tar.gz&quot;)
1009     // If running in WSL and building for Windows, it will look like Linux,
1010     // but we need a Windows boot JDK.
1011     if (isWsl(input) &amp;&amp; input.target_os == &quot;windows&quot;) {
1012         boot_jdk_platform = &quot;windows-&quot; + input.build_cpu;
1013         boot_jdk_ext = &quot;.zip&quot;;
1014     }
1015 
1016     var makeBinDir = (input.build_os == &quot;windows&quot;
1017         ? input.get(&quot;gnumake&quot;, &quot;install_path&quot;) + &quot;/cygwin/bin&quot;
1018         : input.get(&quot;gnumake&quot;, &quot;install_path&quot;) + &quot;/bin&quot;);
1019 
1020     if (input.build_cpu == &#39;aarch64&#39;) {
1021         boot_jdk = {
1022             organization: common.organization,
1023             ext: &quot;tar.gz&quot;,
1024             module: &quot;jdk-linux_aarch64&quot;,
<span class="line-modified">1025             revision: &quot;14+1.0&quot;,</span>
1026             configure_args: &quot;--with-boot-jdk=&quot; + common.boot_jdk_home,
1027             environment_path: common.boot_jdk_home + &quot;/bin&quot;
1028         }
1029     } else {
1030         boot_jdk = {
1031             server: &quot;jpg&quot;,
1032             product: &quot;jdk&quot;,
1033             version: common.boot_jdk_version,
1034             build_number: common.boot_jdk_build_number,
1035             file: &quot;bundles/&quot; + boot_jdk_platform + &quot;/jdk-&quot; + common.boot_jdk_version + &quot;_&quot;
1036                 + boot_jdk_platform + &quot;_bin&quot; + boot_jdk_ext,
1037             configure_args: &quot;--with-boot-jdk=&quot; + common.boot_jdk_home,
1038             environment_path: common.boot_jdk_home + &quot;/bin&quot;
1039         }
1040     }
1041     if (input.build_cpu == &#39;sparcv9&#39;) {
1042         boot_jdk.file = &quot;bundles/openjdk/GPL/&quot; + boot_jdk_platform
1043             + &quot;/openjdk-&quot; + common.boot_jdk_version + &quot;_&quot;
1044             + boot_jdk_platform + &quot;_bin&quot; + boot_jdk_ext;
1045     }
</pre>
<hr />
<pre>
1127             revision: &quot;2.69+1.0.1&quot;,
1128             module: (input.build_os == &quot;windows&quot;
1129                 ? &quot;autoconf-&quot; + input.build_osenv_platform
1130                 : &quot;autoconf-&quot; + input.build_platform),
1131             configure_args: &quot;&quot;,
1132             environment_path: input.get(&quot;autoconf&quot;, &quot;install_path&quot;)
1133         },
1134 
1135         graphviz: {
1136             organization: common.organization,
1137             ext: &quot;tar.gz&quot;,
1138             revision: &quot;2.38.0-1+1.1&quot;,
1139             module: &quot;graphviz-&quot; + input.target_platform,
1140             configure_args: &quot;DOT=&quot; + input.get(&quot;graphviz&quot;, &quot;install_path&quot;) + &quot;/dot&quot;,
1141             environment_path: input.get(&quot;graphviz&quot;, &quot;install_path&quot;)
1142         },
1143 
1144         pandoc: {
1145             organization: common.organization,
1146             ext: &quot;tar.gz&quot;,
<span class="line-modified">1147             revision: (input.build_cpu == &#39;aarch64&#39; ? &quot;2.5+1.0&quot; : &quot;2.3.1+1.0&quot;),</span>
1148             module: &quot;pandoc-&quot; + input.build_platform,
1149             configure_args: &quot;PANDOC=&quot; + input.get(&quot;pandoc&quot;, &quot;install_path&quot;) + &quot;/pandoc/pandoc&quot;,
1150             environment_path: input.get(&quot;pandoc&quot;, &quot;install_path&quot;) + &quot;/pandoc&quot;
1151         },
1152 
1153         // This adds java jib as a dependency for the test artifacts resolver
1154         jib: {
1155             organization: &quot;com.oracle.java.jib&quot;,
1156             ext: &quot;zip&quot;,
1157             classifier: &quot;distribution&quot;,
1158             revision: &quot;3.0-SNAPSHOT&quot;,
1159             environment_name: &quot;JIB_HOME&quot;,
1160             environment_value: input.get(&quot;jib&quot;, &quot;home_path&quot;)
1161         },
1162 
1163         ant: {
1164             organization: common.organization,
1165             ext: &quot;zip&quot;,
1166             revision: &quot;1.7.1+1.0&quot;,
1167             configure_args: &quot;&quot;,
</pre>
</td>
</tr>
</table>
<center><a href="../Images.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="../test/BuildMicrobenchmark.gmk.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>