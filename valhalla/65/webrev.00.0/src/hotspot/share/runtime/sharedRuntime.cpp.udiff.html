<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/share/runtime/sharedRuntime.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="globals.hpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vmStructs.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/runtime/sharedRuntime.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -3200,10 +3200,16 @@</span>
      BufferBlob*  buf = buffer_blob(); // the temporary code buffer in CodeCache
      if (buf != NULL) {
        CodeBuffer buffer(buf);
        double locs_buf[20];
        buffer.insts()-&gt;initialize_shared_locs((relocInfo*)locs_buf, sizeof(locs_buf) / sizeof(relocInfo));
<span class="udiff-line-added">+ #if defined(AARCH64)</span>
<span class="udiff-line-added">+       // On AArch64 with ZGC and nmethod entry barriers, we need all oops to be</span>
<span class="udiff-line-added">+       // in the constant pool to ensure ordering between the barrier and oops</span>
<span class="udiff-line-added">+       // accesses. For native_wrappers we need a constant.</span>
<span class="udiff-line-added">+       buffer.initialize_consts_size(8);</span>
<span class="udiff-line-added">+ #endif</span>
        MacroAssembler _masm(&amp;buffer);
  
        // Fill in the signature array, for the calling-convention call.
        const int total_args_passed = method-&gt;size_of_parameters();
  
</pre>
<center><a href="globals.hpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vmStructs.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>