<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/cpu/aarch64/aarch64.ad</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../../../../make/conf/jib-profiles.js.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../share/classfile/classLoader.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/aarch64/aarch64.ad</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
13297              as_FloatRegister($src$$reg));
13298   %}
13299 
13300   ins_pipe(fp_uop_d);
13301 %}
13302 
13303 instruct sqrtD_reg(vRegD dst, vRegD src) %{
13304   match(Set dst (SqrtD src));
13305 
13306   ins_cost(INSN_COST * 50);
13307   format %{ &quot;fsqrtd  $dst, $src&quot; %}
13308   ins_encode %{
13309     __ fsqrtd(as_FloatRegister($dst$$reg),
13310              as_FloatRegister($src$$reg));
13311   %}
13312 
13313   ins_pipe(fp_div_s);
13314 %}
13315 
13316 instruct sqrtF_reg(vRegF dst, vRegF src) %{
<span class="line-modified">13317   match(Set dst (ConvD2F (SqrtD (ConvF2D src))));</span>
13318 
13319   ins_cost(INSN_COST * 50);
13320   format %{ &quot;fsqrts  $dst, $src&quot; %}
13321   ins_encode %{
13322     __ fsqrts(as_FloatRegister($dst$$reg),
13323              as_FloatRegister($src$$reg));
13324   %}
13325 
13326   ins_pipe(fp_div_d);
13327 %}
13328 
13329 // Math.rint, floor, ceil
13330 instruct roundD_reg(vRegD dst, vRegD src, immI rmode) %{
13331   match(Set dst (RoundDoubleMode src rmode));
13332   format %{ &quot;frint  $dst, $src, $rmode&quot; %}
13333   ins_encode %{
13334     switch ($rmode$$constant) {
13335       case RoundDoubleModeNode::rmode_rint:
13336         __ frintnd(as_FloatRegister($dst$$reg),
13337                    as_FloatRegister($src$$reg));
</pre>
<hr />
<pre>
17094   %}
17095   ins_pipe(vmuldiv_fp128);
17096 %}
17097 
17098 instruct vdiv2D(vecX dst, vecX src1, vecX src2)
17099 %{
17100   predicate(n-&gt;as_Vector()-&gt;length() == 2);
17101   match(Set dst (DivVD src1 src2));
17102   ins_cost(INSN_COST);
17103   format %{ &quot;fdiv  $dst,$src1,$src2\t# vector (2D)&quot; %}
17104   ins_encode %{
17105     __ fdiv(as_FloatRegister($dst$$reg), __ T2D,
17106             as_FloatRegister($src1$$reg),
17107             as_FloatRegister($src2$$reg));
17108   %}
17109   ins_pipe(vmuldiv_fp128);
17110 %}
17111 
17112 // --------------------------------- SQRT -------------------------------------
17113 






















17114 instruct vsqrt2D(vecX dst, vecX src)
17115 %{
17116   predicate(n-&gt;as_Vector()-&gt;length() == 2);
17117   match(Set dst (SqrtVD src));
17118   format %{ &quot;fsqrt  $dst, $src\t# vector (2D)&quot; %}
17119   ins_encode %{
17120     __ fsqrt(as_FloatRegister($dst$$reg), __ T2D,
17121              as_FloatRegister($src$$reg));
17122   %}
17123   ins_pipe(vsqrt_fp128);
17124 %}
17125 
17126 // --------------------------------- ABS --------------------------------------
17127 
17128 instruct vabs2F(vecD dst, vecD src)
17129 %{
17130   predicate(n-&gt;as_Vector()-&gt;length() == 2);
17131   match(Set dst (AbsVF src));
17132   ins_cost(INSN_COST * 3);
17133   format %{ &quot;fabs  $dst,$src\t# vector (2S)&quot; %}
</pre>
</td>
<td>
<hr />
<pre>
13297              as_FloatRegister($src$$reg));
13298   %}
13299 
13300   ins_pipe(fp_uop_d);
13301 %}
13302 
13303 instruct sqrtD_reg(vRegD dst, vRegD src) %{
13304   match(Set dst (SqrtD src));
13305 
13306   ins_cost(INSN_COST * 50);
13307   format %{ &quot;fsqrtd  $dst, $src&quot; %}
13308   ins_encode %{
13309     __ fsqrtd(as_FloatRegister($dst$$reg),
13310              as_FloatRegister($src$$reg));
13311   %}
13312 
13313   ins_pipe(fp_div_s);
13314 %}
13315 
13316 instruct sqrtF_reg(vRegF dst, vRegF src) %{
<span class="line-modified">13317   match(Set dst (SqrtF src));</span>
13318 
13319   ins_cost(INSN_COST * 50);
13320   format %{ &quot;fsqrts  $dst, $src&quot; %}
13321   ins_encode %{
13322     __ fsqrts(as_FloatRegister($dst$$reg),
13323              as_FloatRegister($src$$reg));
13324   %}
13325 
13326   ins_pipe(fp_div_d);
13327 %}
13328 
13329 // Math.rint, floor, ceil
13330 instruct roundD_reg(vRegD dst, vRegD src, immI rmode) %{
13331   match(Set dst (RoundDoubleMode src rmode));
13332   format %{ &quot;frint  $dst, $src, $rmode&quot; %}
13333   ins_encode %{
13334     switch ($rmode$$constant) {
13335       case RoundDoubleModeNode::rmode_rint:
13336         __ frintnd(as_FloatRegister($dst$$reg),
13337                    as_FloatRegister($src$$reg));
</pre>
<hr />
<pre>
17094   %}
17095   ins_pipe(vmuldiv_fp128);
17096 %}
17097 
17098 instruct vdiv2D(vecX dst, vecX src1, vecX src2)
17099 %{
17100   predicate(n-&gt;as_Vector()-&gt;length() == 2);
17101   match(Set dst (DivVD src1 src2));
17102   ins_cost(INSN_COST);
17103   format %{ &quot;fdiv  $dst,$src1,$src2\t# vector (2D)&quot; %}
17104   ins_encode %{
17105     __ fdiv(as_FloatRegister($dst$$reg), __ T2D,
17106             as_FloatRegister($src1$$reg),
17107             as_FloatRegister($src2$$reg));
17108   %}
17109   ins_pipe(vmuldiv_fp128);
17110 %}
17111 
17112 // --------------------------------- SQRT -------------------------------------
17113 
<span class="line-added">17114 instruct vsqrt2F(vecD dst, vecD src)</span>
<span class="line-added">17115 %{</span>
<span class="line-added">17116   predicate(n-&gt;as_Vector()-&gt;length() == 2);</span>
<span class="line-added">17117   match(Set dst (SqrtVF src));</span>
<span class="line-added">17118   format %{ &quot;fsqrt  $dst, $src\t# vector (2F)&quot; %}</span>
<span class="line-added">17119   ins_encode %{</span>
<span class="line-added">17120     __ fsqrt(as_FloatRegister($dst$$reg), __ T2S, as_FloatRegister($src$$reg));</span>
<span class="line-added">17121   %}</span>
<span class="line-added">17122   ins_pipe(vunop_fp64);</span>
<span class="line-added">17123 %}</span>
<span class="line-added">17124 </span>
<span class="line-added">17125 instruct vsqrt4F(vecX dst, vecX src)</span>
<span class="line-added">17126 %{</span>
<span class="line-added">17127   predicate(n-&gt;as_Vector()-&gt;length() == 4);</span>
<span class="line-added">17128   match(Set dst (SqrtVF src));</span>
<span class="line-added">17129   format %{ &quot;fsqrt  $dst, $src\t# vector (4F)&quot; %}</span>
<span class="line-added">17130   ins_encode %{</span>
<span class="line-added">17131     __ fsqrt(as_FloatRegister($dst$$reg), __ T4S, as_FloatRegister($src$$reg));</span>
<span class="line-added">17132   %}</span>
<span class="line-added">17133   ins_pipe(vsqrt_fp128);</span>
<span class="line-added">17134 %}</span>
<span class="line-added">17135 </span>
17136 instruct vsqrt2D(vecX dst, vecX src)
17137 %{
17138   predicate(n-&gt;as_Vector()-&gt;length() == 2);
17139   match(Set dst (SqrtVD src));
17140   format %{ &quot;fsqrt  $dst, $src\t# vector (2D)&quot; %}
17141   ins_encode %{
17142     __ fsqrt(as_FloatRegister($dst$$reg), __ T2D,
17143              as_FloatRegister($src$$reg));
17144   %}
17145   ins_pipe(vsqrt_fp128);
17146 %}
17147 
17148 // --------------------------------- ABS --------------------------------------
17149 
17150 instruct vabs2F(vecD dst, vecD src)
17151 %{
17152   predicate(n-&gt;as_Vector()-&gt;length() == 2);
17153   match(Set dst (AbsVF src));
17154   ins_cost(INSN_COST * 3);
17155   format %{ &quot;fabs  $dst,$src\t# vector (2S)&quot; %}
</pre>
</td>
</tr>
</table>
<center><a href="../../../../make/conf/jib-profiles.js.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../share/classfile/classLoader.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>