<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/share/prims/jvm.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../opto/subtypenode.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../runtime/arguments.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/prims/jvm.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -3787,10 +3787,33 @@</span>
    Klass* k = java_lang_Class::as_Klass(JNIHandles::resolve(cls));
    assert(k-&gt;is_klass(), &quot;just checking&quot;);
    HeapShared::initialize_from_archived_subgraph(k);
  JVM_END
  
<span class="udiff-line-added">+ JVM_ENTRY_NO_ENV(jlong, JVM_GetRandomSeedForCDSDump())</span>
<span class="udiff-line-added">+   JVMWrapper(&quot;JVM_GetRandomSeedForCDSDump&quot;);</span>
<span class="udiff-line-added">+   if (DumpSharedSpaces) {</span>
<span class="udiff-line-added">+     const char* release = Abstract_VM_Version::vm_release();</span>
<span class="udiff-line-added">+     const char* dbg_level = Abstract_VM_Version::jdk_debug_level();</span>
<span class="udiff-line-added">+     const char* version = VM_Version::internal_vm_info_string();</span>
<span class="udiff-line-added">+     jlong seed = (jlong)(java_lang_String::hash_code((const jbyte*)release, (int)strlen(release)) ^</span>
<span class="udiff-line-added">+                          java_lang_String::hash_code((const jbyte*)dbg_level, (int)strlen(dbg_level)) ^</span>
<span class="udiff-line-added">+                          java_lang_String::hash_code((const jbyte*)version, (int)strlen(version)));</span>
<span class="udiff-line-added">+     seed += (jlong)Abstract_VM_Version::vm_major_version();</span>
<span class="udiff-line-added">+     seed += (jlong)Abstract_VM_Version::vm_minor_version();</span>
<span class="udiff-line-added">+     seed += (jlong)Abstract_VM_Version::vm_security_version();</span>
<span class="udiff-line-added">+     seed += (jlong)Abstract_VM_Version::vm_patch_version();</span>
<span class="udiff-line-added">+     if (seed == 0) { // don&#39;t let this ever be zero.</span>
<span class="udiff-line-added">+       seed = 0x87654321;</span>
<span class="udiff-line-added">+     }</span>
<span class="udiff-line-added">+     log_debug(cds)(&quot;JVM_GetRandomSeedForCDSDump() = &quot; JLONG_FORMAT, seed);</span>
<span class="udiff-line-added">+     return seed;</span>
<span class="udiff-line-added">+   } else {</span>
<span class="udiff-line-added">+     return 0;</span>
<span class="udiff-line-added">+   }</span>
<span class="udiff-line-added">+ JVM_END</span>
<span class="udiff-line-added">+ </span>
  // Returns an array of all live Thread objects (VM internal JavaThreads,
  // jvmti agent threads, and JNI attaching threads  are skipped)
  // See CR 6404306 regarding JNI attaching threads
  JVM_ENTRY(jobjectArray, JVM_GetAllThreads(JNIEnv *env, jclass dummy))
    ResourceMark rm(THREAD);
</pre>
<center><a href="../opto/subtypenode.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../runtime/arguments.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>