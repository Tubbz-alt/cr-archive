<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/memory/universe.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../classfile/verificationType.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../oops/instanceKlass.hpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/memory/universe.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 313,11 ***</span>
            _typeArrayKlassObjs[i] = TypeArrayKlass::create_klass((BasicType)i, CHECK);
          }
  
          ClassLoaderData* null_cld = ClassLoaderData::the_null_class_loader_data();
  
<span class="line-modified">!         _the_array_interfaces_array     = MetadataFactory::new_array&lt;Klass*&gt;(null_cld, 2, NULL, CHECK);</span>
          _the_empty_int_array            = MetadataFactory::new_array&lt;int&gt;(null_cld, 0, CHECK);
          _the_empty_short_array          = MetadataFactory::new_array&lt;u2&gt;(null_cld, 0, CHECK);
          _the_empty_method_array         = MetadataFactory::new_array&lt;Method*&gt;(null_cld, 0, CHECK);
          _the_empty_klass_array          = MetadataFactory::new_array&lt;Klass*&gt;(null_cld, 0, CHECK);
          _the_empty_instance_klass_array = MetadataFactory::new_array&lt;InstanceKlass*&gt;(null_cld, 0, CHECK);
<span class="line-new-header">--- 313,11 ---</span>
            _typeArrayKlassObjs[i] = TypeArrayKlass::create_klass((BasicType)i, CHECK);
          }
  
          ClassLoaderData* null_cld = ClassLoaderData::the_null_class_loader_data();
  
<span class="line-modified">!         _the_array_interfaces_array     = MetadataFactory::new_array&lt;Klass*&gt;(null_cld, 3, NULL, CHECK);</span>
          _the_empty_int_array            = MetadataFactory::new_array&lt;int&gt;(null_cld, 0, CHECK);
          _the_empty_short_array          = MetadataFactory::new_array&lt;u2&gt;(null_cld, 0, CHECK);
          _the_empty_method_array         = MetadataFactory::new_array&lt;Method*&gt;(null_cld, 0, CHECK);
          _the_empty_klass_array          = MetadataFactory::new_array&lt;Klass*&gt;(null_cld, 0, CHECK);
          _the_empty_instance_klass_array = MetadataFactory::new_array&lt;InstanceKlass*&gt;(null_cld, 0, CHECK);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 338,16 ***</span>
<span class="line-new-header">--- 338,20 ---</span>
        // Verify shared interfaces array.
        assert(_the_array_interfaces_array-&gt;at(0) ==
               SystemDictionary::Cloneable_klass(), &quot;u3&quot;);
        assert(_the_array_interfaces_array-&gt;at(1) ==
               SystemDictionary::Serializable_klass(), &quot;u3&quot;);
<span class="line-added">+       assert(_the_array_interfaces_array-&gt;at(2) ==</span>
<span class="line-added">+                    SystemDictionary::IdentityObject_klass(), &quot;u3&quot;);</span>
<span class="line-added">+ </span>
      } else
  #endif
      {
        // Set up shared interfaces array.  (Do this before supers are set up.)
        _the_array_interfaces_array-&gt;at_put(0, SystemDictionary::Cloneable_klass());
        _the_array_interfaces_array-&gt;at_put(1, SystemDictionary::Serializable_klass());
<span class="line-added">+       _the_array_interfaces_array-&gt;at_put(2, SystemDictionary::IdentityObject_klass());</span>
      }
  
      initialize_basic_type_klass(boolArrayKlassObj(), CHECK);
      initialize_basic_type_klass(charArrayKlassObj(), CHECK);
      initialize_basic_type_klass(floatArrayKlassObj(), CHECK);
</pre>
<center><a href="../classfile/verificationType.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../oops/instanceKlass.hpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>