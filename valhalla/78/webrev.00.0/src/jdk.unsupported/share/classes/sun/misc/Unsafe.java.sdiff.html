<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.unsupported/share/classes/sun/misc/Unsafe.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../jdk.jdi/share/classes/com/sun/tools/jdi/VirtualMachineImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>src/jdk.unsupported/share/classes/sun/misc/Unsafe.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 691      * this class.
 692      */
 693     @ForceInline
 694     public Object staticFieldBase(Field f) {
 695         if (f == null) {
 696             throw new NullPointerException();
 697         }
 698         if (f.getDeclaringClass().isHidden()) {
 699             throw new UnsupportedOperationException(&quot;can&#39;t get base address on a hidden class: &quot; + f);
 700         }
 701         if (f.getDeclaringClass().isInlineClass()) {
 702             throw new UnsupportedOperationException(&quot;can&#39;t get base address on an inline class: &quot; + f);
 703         }
 704         return theInternalUnsafe.staticFieldBase(f);
 705     }
 706 
 707     /**
 708      * Detects if the given class may need to be initialized. This is often
 709      * needed in conjunction with obtaining the static field base of a
 710      * class.









 711      * @return false only if a call to {@code ensureClassInitialized} would have no effect

 712      */

 713     @ForceInline
 714     public boolean shouldBeInitialized(Class&lt;?&gt; c) {
 715         return theInternalUnsafe.shouldBeInitialized(c);
 716     }
 717 
 718     /**
 719      * Ensures the given class has been initialized. This is often
 720      * needed in conjunction with obtaining the static field base of a
 721      * class.



 722      */

 723     @ForceInline
 724     public void ensureClassInitialized(Class&lt;?&gt; c) {
 725         theInternalUnsafe.ensureClassInitialized(c);
 726     }
 727 
 728     /**
 729      * Reports the offset of the first element in the storage allocation of a
 730      * given array class.  If {@link #arrayIndexScale} returns a non-zero value
 731      * for the same class, you may use that scale factor, together with this
 732      * base offset, to form new offsets to access elements of arrays of the
 733      * given class.
 734      *
 735      * @see #getInt(Object, long)
 736      * @see #putInt(Object, long, int)
 737      */
 738     @ForceInline
 739     public int arrayBaseOffset(Class&lt;?&gt; arrayClass) {
 740         return theInternalUnsafe.arrayBaseOffset(arrayClass);
 741     }
 742 
</pre>
</td>
<td>
<hr />
<pre>
 691      * this class.
 692      */
 693     @ForceInline
 694     public Object staticFieldBase(Field f) {
 695         if (f == null) {
 696             throw new NullPointerException();
 697         }
 698         if (f.getDeclaringClass().isHidden()) {
 699             throw new UnsupportedOperationException(&quot;can&#39;t get base address on a hidden class: &quot; + f);
 700         }
 701         if (f.getDeclaringClass().isInlineClass()) {
 702             throw new UnsupportedOperationException(&quot;can&#39;t get base address on an inline class: &quot; + f);
 703         }
 704         return theInternalUnsafe.staticFieldBase(f);
 705     }
 706 
 707     /**
 708      * Detects if the given class may need to be initialized. This is often
 709      * needed in conjunction with obtaining the static field base of a
 710      * class.
<span class="line-added"> 711      *</span>
<span class="line-added"> 712      * @deprecated No replacement API for this method.  As multiple threads</span>
<span class="line-added"> 713      * may be trying to initialize the same class or interface at the same time.</span>
<span class="line-added"> 714      * The only reliable result returned by this method is {@code false}</span>
<span class="line-added"> 715      * indicating that the given class has been initialized.  Instead, simply</span>
<span class="line-added"> 716      * call {@link java.lang.invoke.MethodHandles.Lookup#ensureInitialized(Class)}</span>
<span class="line-added"> 717      * that does nothing if the given class has already been initialized.</span>
<span class="line-added"> 718      * This method is subject to removal in a future version of JDK.</span>
<span class="line-added"> 719      *</span>
 720      * @return false only if a call to {@code ensureClassInitialized} would have no effect
<span class="line-added"> 721      *</span>
 722      */
<span class="line-added"> 723     @Deprecated(since = &quot;15&quot;, forRemoval = true)</span>
 724     @ForceInline
 725     public boolean shouldBeInitialized(Class&lt;?&gt; c) {
 726         return theInternalUnsafe.shouldBeInitialized(c);
 727     }
 728 
 729     /**
 730      * Ensures the given class has been initialized. This is often
 731      * needed in conjunction with obtaining the static field base of a
 732      * class.
<span class="line-added"> 733      *</span>
<span class="line-added"> 734      * @deprecated Use the {@link java.lang.invoke.MethodHandles.Lookup#ensureInitialized(Class)}</span>
<span class="line-added"> 735      * method instead.  This method is subject to removal in a future version of JDK.</span>
 736      */
<span class="line-added"> 737     @Deprecated(since = &quot;15&quot;, forRemoval = true)</span>
 738     @ForceInline
 739     public void ensureClassInitialized(Class&lt;?&gt; c) {
 740         theInternalUnsafe.ensureClassInitialized(c);
 741     }
 742 
 743     /**
 744      * Reports the offset of the first element in the storage allocation of a
 745      * given array class.  If {@link #arrayIndexScale} returns a non-zero value
 746      * for the same class, you may use that scale factor, together with this
 747      * base offset, to form new offsets to access elements of arrays of the
 748      * given class.
 749      *
 750      * @see #getInt(Object, long)
 751      * @see #putInt(Object, long, int)
 752      */
 753     @ForceInline
 754     public int arrayBaseOffset(Class&lt;?&gt; arrayClass) {
 755         return theInternalUnsafe.arrayBaseOffset(arrayClass);
 756     }
 757 
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../jdk.jdi/share/classes/com/sun/tools/jdi/VirtualMachineImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>