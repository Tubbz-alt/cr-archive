<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.management/linux/native/libmanagement_ext/UnixOperatingSystem.c</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../../../aix/native/libmanagement_ext/UnixOperatingSystem.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../macosx/native/libmanagement_ext/UnixOperatingSystem.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.management/linux/native/libmanagement_ext/UnixOperatingSystem.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
345 Java_com_sun_management_internal_OperatingSystemImpl_getSingleCpuLoad0
346 (JNIEnv *env, jobject mbean, jint cpu_number)
347 {
348     if (perfInit() == 0 &amp;&amp; cpu_number &gt;= 0 &amp;&amp; cpu_number &lt; counters.nProcs) {
349         return get_cpu_load(cpu_number);
350     } else {
351         return -1.0;
352     }
353 }
354 
355 JNIEXPORT jint JNICALL
356 Java_com_sun_management_internal_OperatingSystemImpl_getHostConfiguredCpuCount0
357 (JNIEnv *env, jobject mbean)
358 {
359     if (perfInit() == 0) {
360         return counters.nProcs;
361     } else {
362        return -1;
363     }
364 }












</pre>
</td>
<td>
<hr />
<pre>
345 Java_com_sun_management_internal_OperatingSystemImpl_getSingleCpuLoad0
346 (JNIEnv *env, jobject mbean, jint cpu_number)
347 {
348     if (perfInit() == 0 &amp;&amp; cpu_number &gt;= 0 &amp;&amp; cpu_number &lt; counters.nProcs) {
349         return get_cpu_load(cpu_number);
350     } else {
351         return -1.0;
352     }
353 }
354 
355 JNIEXPORT jint JNICALL
356 Java_com_sun_management_internal_OperatingSystemImpl_getHostConfiguredCpuCount0
357 (JNIEnv *env, jobject mbean)
358 {
359     if (perfInit() == 0) {
360         return counters.nProcs;
361     } else {
362        return -1;
363     }
364 }
<span class="line-added">365 </span>
<span class="line-added">366 JNIEXPORT jint JNICALL</span>
<span class="line-added">367 Java_com_sun_management_internal_OperatingSystemImpl_getHostOnlineCpuCount0</span>
<span class="line-added">368 (JNIEnv *env, jobject mbean)</span>
<span class="line-added">369 {</span>
<span class="line-added">370     int n = sysconf(_SC_NPROCESSORS_ONLN);</span>
<span class="line-added">371     if (n &lt;= 0) {</span>
<span class="line-added">372         n = 1;</span>
<span class="line-added">373     }</span>
<span class="line-added">374     return n;</span>
<span class="line-added">375 }</span>
<span class="line-added">376 </span>
</pre>
</td>
</tr>
</table>
<center><a href="../../../aix/native/libmanagement_ext/UnixOperatingSystem.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../macosx/native/libmanagement_ext/UnixOperatingSystem.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>