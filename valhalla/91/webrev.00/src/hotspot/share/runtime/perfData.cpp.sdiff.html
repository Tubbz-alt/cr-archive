<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/runtime/perfData.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="flags/jvmFlagRangeList.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="reflectionUtils.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/runtime/perfData.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
546                                                       TRAPS) {
547 
548   // Sampled counters not supported if UsePerfData is false
549   if (!UsePerfData) return NULL;
550 
551   PerfLongCounter* p = new PerfLongCounter(ns, name, u, sh);
552 
553   if (!p-&gt;is_valid()) {
554     // allocation of native resources failed.
555     delete p;
556     THROW_0(vmSymbols::java_lang_OutOfMemoryError());
557   }
558 
559   add_item(p, true);
560 
561   return p;
562 }
563 
564 PerfDataList::PerfDataList(int length) {
565 
<span class="line-modified">566   _set = new(ResourceObj::C_HEAP, mtInternal) PerfDataArray(length, true);</span>
567 }
568 
569 PerfDataList::PerfDataList(PerfDataList* p) {
570 
<span class="line-modified">571   _set = new(ResourceObj::C_HEAP, mtInternal) PerfDataArray(p-&gt;length(), true);</span>
572 
573   _set-&gt;appendAll(p-&gt;get_impl());
574 }
575 
576 PerfDataList::~PerfDataList() {
577 
578   delete _set;
579 
580 }
581 
582 bool PerfDataList::by_name(void* name, PerfData* pd) {
583 
584   if (pd == NULL)
585     return false;
586 
587   return strcmp((const char*)name, pd-&gt;name()) == 0;
588 }
589 
590 PerfData* PerfDataList::find_by_name(const char* name) {
591 
</pre>
</td>
<td>
<hr />
<pre>
546                                                       TRAPS) {
547 
548   // Sampled counters not supported if UsePerfData is false
549   if (!UsePerfData) return NULL;
550 
551   PerfLongCounter* p = new PerfLongCounter(ns, name, u, sh);
552 
553   if (!p-&gt;is_valid()) {
554     // allocation of native resources failed.
555     delete p;
556     THROW_0(vmSymbols::java_lang_OutOfMemoryError());
557   }
558 
559   add_item(p, true);
560 
561   return p;
562 }
563 
564 PerfDataList::PerfDataList(int length) {
565 
<span class="line-modified">566   _set = new(ResourceObj::C_HEAP, mtInternal) PerfDataArray(length, mtInternal);</span>
567 }
568 
569 PerfDataList::PerfDataList(PerfDataList* p) {
570 
<span class="line-modified">571   _set = new(ResourceObj::C_HEAP, mtInternal) PerfDataArray(p-&gt;length(), mtInternal);</span>
572 
573   _set-&gt;appendAll(p-&gt;get_impl());
574 }
575 
576 PerfDataList::~PerfDataList() {
577 
578   delete _set;
579 
580 }
581 
582 bool PerfDataList::by_name(void* name, PerfData* pd) {
583 
584   if (pd == NULL)
585     return false;
586 
587   return strcmp((const char*)name, pd-&gt;name()) == 0;
588 }
589 
590 PerfData* PerfDataList::find_by_name(const char* name) {
591 
</pre>
</td>
</tr>
</table>
<center><a href="flags/jvmFlagRangeList.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="reflectionUtils.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>