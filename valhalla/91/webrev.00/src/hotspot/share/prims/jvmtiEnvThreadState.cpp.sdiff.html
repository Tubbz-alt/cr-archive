<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/prims/jvmtiEnvThreadState.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="jvmtiEnvBase.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="jvmtiExport.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/prims/jvmtiEnvThreadState.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 79   int index = 0;
 80   while (index &lt; _pops-&gt;length()) {
 81     JvmtiFramePop pop = JvmtiFramePop(_pops-&gt;at(index));
 82     if (pop.above_on_stack(fp)) {
 83       _pops-&gt;remove_at(index);
 84       ++cleared;
 85     } else {
 86       ++index;
 87     }
 88   }
 89   return cleared;
 90 }
 91 
 92 
 93 ///////////////////////////////////////////////////////////////
 94 //
 95 // class JvmtiFramePops - public methods
 96 //
 97 
 98 JvmtiFramePops::JvmtiFramePops() {
<span class="line-modified"> 99   _pops = new (ResourceObj::C_HEAP, mtInternal) GrowableArray&lt;int&gt; (2, true);</span>
100 }
101 
102 JvmtiFramePops::~JvmtiFramePops() {
103   // return memory to c_heap.
104   delete _pops;
105 }
106 
107 
108 #ifndef PRODUCT
109 void JvmtiFramePops::print() {
110   ResourceMark rm;
111 
112   int n = _pops-&gt;length();
113   for (int i=0; i&lt;n; i++) {
114     JvmtiFramePop fp = JvmtiFramePop(_pops-&gt;at(i));
115     tty-&gt;print(&quot;%d: &quot;, i);
116     fp.print();
117     tty-&gt;cr();
118   }
119 }
</pre>
</td>
<td>
<hr />
<pre>
 79   int index = 0;
 80   while (index &lt; _pops-&gt;length()) {
 81     JvmtiFramePop pop = JvmtiFramePop(_pops-&gt;at(index));
 82     if (pop.above_on_stack(fp)) {
 83       _pops-&gt;remove_at(index);
 84       ++cleared;
 85     } else {
 86       ++index;
 87     }
 88   }
 89   return cleared;
 90 }
 91 
 92 
 93 ///////////////////////////////////////////////////////////////
 94 //
 95 // class JvmtiFramePops - public methods
 96 //
 97 
 98 JvmtiFramePops::JvmtiFramePops() {
<span class="line-modified"> 99   _pops = new (ResourceObj::C_HEAP, mtServiceability) GrowableArray&lt;int&gt; (2, mtServiceability);</span>
100 }
101 
102 JvmtiFramePops::~JvmtiFramePops() {
103   // return memory to c_heap.
104   delete _pops;
105 }
106 
107 
108 #ifndef PRODUCT
109 void JvmtiFramePops::print() {
110   ResourceMark rm;
111 
112   int n = _pops-&gt;length();
113   for (int i=0; i&lt;n; i++) {
114     JvmtiFramePop fp = JvmtiFramePop(_pops-&gt;at(i));
115     tty-&gt;print(&quot;%d: &quot;, i);
116     fp.print();
117     tty-&gt;cr();
118   }
119 }
</pre>
</td>
</tr>
</table>
<center><a href="jvmtiEnvBase.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="jvmtiExport.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>