<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/prims/jni.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../opto/memnode.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../runtime/reflection.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/prims/jni.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 581,19 ***</span>
    Klass* sub_klass   = java_lang_Class::as_Klass(sub_mirror);
    Klass* super_klass = java_lang_Class::as_Klass(super_mirror);
    assert(sub_klass != NULL &amp;&amp; super_klass != NULL, &quot;invalid arguments to jni_IsAssignableFrom&quot;);
    jboolean ret = sub_klass-&gt;is_subtype_of(super_klass) ?
                     JNI_TRUE : JNI_FALSE;
<span class="line-removed">-   if (sub_klass == super_klass &amp;&amp; sub_klass-&gt;is_value()) {</span>
<span class="line-removed">-     // for inline class, V &lt;: V?</span>
<span class="line-removed">-     ValueKlass* vk = ValueKlass::cast(InstanceKlass::cast(sub_klass));</span>
<span class="line-removed">-     if (sub_mirror == super_mirror || (sub_mirror == vk-&gt;value_mirror() &amp;&amp; super_mirror == vk-&gt;indirect_mirror())) {</span>
<span class="line-removed">-       ret = JNI_TRUE;</span>
<span class="line-removed">-     } else {</span>
<span class="line-removed">-       ret = JNI_FALSE;</span>
<span class="line-removed">-     }</span>
<span class="line-removed">-   }</span>
    HOTSPOT_JNI_ISASSIGNABLEFROM_RETURN(ret);
    return ret;
  JNI_END
  
  
<span class="line-new-header">--- 581,10 ---</span>
</pre>
<center><a href="../opto/memnode.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../runtime/reflection.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>