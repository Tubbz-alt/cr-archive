<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff test/micro/org/openjdk/bench/valhalla/lworld/arrays/Set8.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Set2.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Sum1.java.udiff.html" target="_top">next &gt;</a></center>    <h2>test/micro/org/openjdk/bench/valhalla/lworld/arrays/Set8.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -7,24 +7,24 @@</span>
  import org.openjdk.bench.valhalla.types.Vector;
  
  public class Set8 extends SizedBase {
  
      Val8[] values;
<span class="udiff-line-modified-removed">-     Val8?[] boxed;</span>
<span class="udiff-line-modified-added">+     Val8.ref[] boxed;</span>
      Vector[] covariance;
  
      @Setup
      public void setup() {
          values = new Val8[size];
<span class="udiff-line-modified-removed">-         boxed = new Val8?[size];</span>
<span class="udiff-line-modified-added">+         boxed = new Val8.ref[size];</span>
          covariance = new Val8[size];
      }
  
  
      @Benchmark
      public Object boxed() {
<span class="udiff-line-modified-removed">-         Val8?[] values = boxed;</span>
<span class="udiff-line-modified-added">+         Val8.ref[] values = boxed;</span>
          for (int i = 0, k = 0; i &lt; size; i++, k += 8) {
              values[i] = new Val8(k, k + 1, k + 2, k + 3, k + 4, k + 5, k + 6, k + 7);
          }
          return values;
      }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -50,11 +50,11 @@</span>
      /*
       *  Hotspot successfully eliminated GC write barriers in case of assignment to a newly created array.
       */
      @Benchmark
      public Object newBoxed() {
<span class="udiff-line-modified-removed">-         Val8?[] values = new Val8?[size];</span>
<span class="udiff-line-modified-added">+         Val8.ref[] values = new Val8.ref[size];</span>
          for (int i = 0, k = 0; i &lt; size; i++, k += 8) {
              values[i] = new Val8(k, k + 1, k + 2, k + 3, k + 4, k + 5, k + 6, k + 7);
          }
          return values;
      }
</pre>
<center><a href="Set2.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Sum1.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>