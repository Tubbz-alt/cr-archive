diff a/test/langtools/tools/javac/valhalla/lworld-values/CheckExtends.java b/test/langtools/tools/javac/valhalla/lworld-values/CheckExtends.java
--- a/test/langtools/tools/javac/valhalla/lworld-values/CheckExtends.java
+++ b/test/langtools/tools/javac/valhalla/lworld-values/CheckExtends.java
@@ -1,9 +1,9 @@
 /*
  * @test /nodynamiccopyright/
  * @summary Values may not extend
  *
- * @compile/fail/ref=CheckExtends.out -XDrawDiagnostics CheckExtends.java
+ * @compile/fail/ref=CheckExtends.out -XDallowEmptyValues -XDrawDiagnostics CheckExtends.java
  */
 
 final inline class CheckExtends extends Object {
 }
