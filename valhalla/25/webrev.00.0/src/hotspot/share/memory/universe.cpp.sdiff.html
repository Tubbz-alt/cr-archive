<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/memory/universe.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../interpreter/linkResolver.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../oops/arrayKlass.hpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/memory/universe.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 266   _loader_addClass_cache-&gt;serialize(f);
 267   _throw_illegal_access_error_cache-&gt;serialize(f);
 268   _throw_no_such_method_error_cache-&gt;serialize(f);
 269   _do_stack_walk_cache-&gt;serialize(f);
 270   _is_substitutable_cache-&gt;serialize(f);
 271 }
 272 
 273 void Universe::check_alignment(uintx size, uintx alignment, const char* name) {
 274   if (size &lt; alignment || size % alignment != 0) {
 275     vm_exit_during_initialization(
 276       err_msg(&quot;Size of %s (&quot; UINTX_FORMAT &quot; bytes) must be aligned to &quot; UINTX_FORMAT &quot; bytes&quot;, name, size, alignment));
 277   }
 278 }
 279 
 280 void initialize_basic_type_klass(Klass* k, TRAPS) {
 281   Klass* ok = SystemDictionary::Object_klass();
 282 #if INCLUDE_CDS
 283   if (UseSharedSpaces) {
 284     ClassLoaderData* loader_data = ClassLoaderData::the_null_class_loader_data();
 285     assert(k-&gt;super() == ok, &quot;u3&quot;);
<span class="line-modified"> 286     k-&gt;restore_unshareable_info(loader_data, Handle(), CHECK);</span>




 287   } else
 288 #endif
 289   {
 290     k-&gt;initialize_supers(ok, NULL, CHECK);
 291   }
 292   k-&gt;append_to_sibling_list();
 293 }
 294 
 295 void Universe::genesis(TRAPS) {
 296   ResourceMark rm(THREAD);
 297 
 298   { FlagSetting fs(_bootstrapping, true);
 299 
 300     { MutexLocker mc(THREAD, Compile_lock);
 301 
 302       java_lang_Class::allocate_fixup_lists();
 303 
 304       // determine base vtable size; without that we cannot create the array klasses
 305       compute_base_vtable_size();
 306 
</pre>
</td>
<td>
<hr />
<pre>
 266   _loader_addClass_cache-&gt;serialize(f);
 267   _throw_illegal_access_error_cache-&gt;serialize(f);
 268   _throw_no_such_method_error_cache-&gt;serialize(f);
 269   _do_stack_walk_cache-&gt;serialize(f);
 270   _is_substitutable_cache-&gt;serialize(f);
 271 }
 272 
 273 void Universe::check_alignment(uintx size, uintx alignment, const char* name) {
 274   if (size &lt; alignment || size % alignment != 0) {
 275     vm_exit_during_initialization(
 276       err_msg(&quot;Size of %s (&quot; UINTX_FORMAT &quot; bytes) must be aligned to &quot; UINTX_FORMAT &quot; bytes&quot;, name, size, alignment));
 277   }
 278 }
 279 
 280 void initialize_basic_type_klass(Klass* k, TRAPS) {
 281   Klass* ok = SystemDictionary::Object_klass();
 282 #if INCLUDE_CDS
 283   if (UseSharedSpaces) {
 284     ClassLoaderData* loader_data = ClassLoaderData::the_null_class_loader_data();
 285     assert(k-&gt;super() == ok, &quot;u3&quot;);
<span class="line-modified"> 286     if (k-&gt;is_instance_klass()) {</span>
<span class="line-added"> 287       InstanceKlass::cast(k)-&gt;restore_unshareable_info(loader_data, Handle(), NULL, CHECK);</span>
<span class="line-added"> 288     } else {</span>
<span class="line-added"> 289       ArrayKlass::cast(k)-&gt;restore_unshareable_info(loader_data, Handle(), CHECK);</span>
<span class="line-added"> 290     }</span>
 291   } else
 292 #endif
 293   {
 294     k-&gt;initialize_supers(ok, NULL, CHECK);
 295   }
 296   k-&gt;append_to_sibling_list();
 297 }
 298 
 299 void Universe::genesis(TRAPS) {
 300   ResourceMark rm(THREAD);
 301 
 302   { FlagSetting fs(_bootstrapping, true);
 303 
 304     { MutexLocker mc(THREAD, Compile_lock);
 305 
 306       java_lang_Class::allocate_fixup_lists();
 307 
 308       // determine base vtable size; without that we cannot create the array klasses
 309       compute_base_vtable_size();
 310 
</pre>
</td>
</tr>
</table>
<center><a href="../interpreter/linkResolver.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../oops/arrayKlass.hpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>