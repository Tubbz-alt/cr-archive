<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/conf/jib-profiles.js</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="../CompileJavaModules.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="../../src/hotspot/cpu/aarch64/aarch64.ad.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/conf/jib-profiles.js</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
1338 
1339 /**
1340  * Constructs the common version configure args based on build type and
1341  * other version inputs
1342  */
1343 var versionArgs = function(input, common) {
1344     var args = [&quot;--with-version-build=&quot; + common.build_number];
1345     if (input.build_type == &quot;promoted&quot;) {
1346         args = concat(args,
1347                       &quot;--with-version-pre=&quot; + version_numbers.get(&quot;DEFAULT_PROMOTED_VERSION_PRE&quot;),
1348                       &quot;--without-version-opt&quot;);
1349     } else if (input.build_type == &quot;ci&quot;) {
1350         var optString = input.build_id_data.ciBuildNumber;
1351         var preString = input.build_id_data.projectName;
1352         if (preString == &quot;jdk&quot;) {
1353             preString = version_numbers.get(&quot;DEFAULT_PROMOTED_VERSION_PRE&quot;);
1354         }
1355         args = concat(args, &quot;--with-version-pre=&quot; + preString,
1356                      &quot;--with-version-opt=&quot; + optString);
1357     } else {

1358         args = concat(args, &quot;--with-version-opt=&quot; + common.build_id);
1359     }
1360     return args;
1361 }
1362 
1363 // Properties representation of the make/autoconf/version-numbers file. Lazily
1364 // initiated by the function below.
1365 var version_numbers;
1366 
1367 /**
1368  * Read the make/autoconf/version-numbers file into a Properties object.
1369  *
1370  * @returns {java.utilProperties}
1371  */
1372 var getVersionNumbers = function () {
1373     // Read version information from make/autoconf/version-numbers
1374     if (version_numbers == null) {
1375         version_numbers = new java.util.Properties();
1376         var stream = new java.io.FileInputStream(__DIR__ + &quot;/../autoconf/version-numbers&quot;);
1377         version_numbers.load(stream);
</pre>
</td>
<td>
<hr />
<pre>
1338 
1339 /**
1340  * Constructs the common version configure args based on build type and
1341  * other version inputs
1342  */
1343 var versionArgs = function(input, common) {
1344     var args = [&quot;--with-version-build=&quot; + common.build_number];
1345     if (input.build_type == &quot;promoted&quot;) {
1346         args = concat(args,
1347                       &quot;--with-version-pre=&quot; + version_numbers.get(&quot;DEFAULT_PROMOTED_VERSION_PRE&quot;),
1348                       &quot;--without-version-opt&quot;);
1349     } else if (input.build_type == &quot;ci&quot;) {
1350         var optString = input.build_id_data.ciBuildNumber;
1351         var preString = input.build_id_data.projectName;
1352         if (preString == &quot;jdk&quot;) {
1353             preString = version_numbers.get(&quot;DEFAULT_PROMOTED_VERSION_PRE&quot;);
1354         }
1355         args = concat(args, &quot;--with-version-pre=&quot; + preString,
1356                      &quot;--with-version-opt=&quot; + optString);
1357     } else {
<span class="line-added">1358         args = concat(args, &quot;--with-version-pre=lworld2ea&quot;);</span>
1359         args = concat(args, &quot;--with-version-opt=&quot; + common.build_id);
1360     }
1361     return args;
1362 }
1363 
1364 // Properties representation of the make/autoconf/version-numbers file. Lazily
1365 // initiated by the function below.
1366 var version_numbers;
1367 
1368 /**
1369  * Read the make/autoconf/version-numbers file into a Properties object.
1370  *
1371  * @returns {java.utilProperties}
1372  */
1373 var getVersionNumbers = function () {
1374     // Read version information from make/autoconf/version-numbers
1375     if (version_numbers == null) {
1376         version_numbers = new java.util.Properties();
1377         var stream = new java.io.FileInputStream(__DIR__ + &quot;/../autoconf/version-numbers&quot;);
1378         version_numbers.load(stream);
</pre>
</td>
</tr>
</table>
<center><a href="../CompileJavaModules.gmk.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="../../src/hotspot/cpu/aarch64/aarch64.ad.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>