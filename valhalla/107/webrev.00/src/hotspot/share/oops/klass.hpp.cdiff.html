<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/oops/klass.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="instanceKlass.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="valueArrayKlass.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/oops/klass.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 415,11 ***</span>
      return hsize;
    }
    static BasicType layout_helper_element_type(jint lh) {
      assert(lh &lt; (jint)_lh_neutral_value, &quot;must be array&quot;);
      int btvalue = (lh &gt;&gt; _lh_element_type_shift) &amp; _lh_element_type_mask;
<span class="line-modified">!     assert((btvalue &gt;= T_BOOLEAN &amp;&amp; btvalue &lt;= T_OBJECT) || btvalue == T_VALUETYPE, &quot;sanity&quot;);</span>
      return (BasicType) btvalue;
    }
  
    // Want a pattern to quickly diff against layout header in register
    // find something less clever!
<span class="line-new-header">--- 415,11 ---</span>
      return hsize;
    }
    static BasicType layout_helper_element_type(jint lh) {
      assert(lh &lt; (jint)_lh_neutral_value, &quot;must be array&quot;);
      int btvalue = (lh &gt;&gt; _lh_element_type_shift) &amp; _lh_element_type_mask;
<span class="line-modified">!     assert((btvalue &gt;= T_BOOLEAN &amp;&amp; btvalue &lt;= T_OBJECT) || btvalue == T_INLINE_TYPE, &quot;sanity&quot;);</span>
      return (BasicType) btvalue;
    }
  
    // Want a pattern to quickly diff against layout header in register
    // find something less clever!
</pre>
<hr />
<pre>
<span class="line-old-header">*** 436,11 ***</span>
    }
  
    static int layout_helper_log2_element_size(jint lh) {
      assert(lh &lt; (jint)_lh_neutral_value, &quot;must be array&quot;);
      int l2esz = (lh &gt;&gt; _lh_log2_element_size_shift) &amp; _lh_log2_element_size_mask;
<span class="line-modified">!     assert(layout_helper_element_type(lh) == T_VALUETYPE || l2esz &lt;= LogBytesPerLong,</span>
             &quot;sanity. l2esz: 0x%x for lh: 0x%x&quot;, (uint)l2esz, (uint)lh);
      return l2esz;
    }
    static jint array_layout_helper(jint tag, bool null_free, int hsize, BasicType etype, int log2_esize) {
      return (tag        &lt;&lt; _lh_array_tag_shift)
<span class="line-new-header">--- 436,11 ---</span>
    }
  
    static int layout_helper_log2_element_size(jint lh) {
      assert(lh &lt; (jint)_lh_neutral_value, &quot;must be array&quot;);
      int l2esz = (lh &gt;&gt; _lh_log2_element_size_shift) &amp; _lh_log2_element_size_mask;
<span class="line-modified">!     assert(layout_helper_element_type(lh) == T_INLINE_TYPE || l2esz &lt;= LogBytesPerLong,</span>
             &quot;sanity. l2esz: 0x%x for lh: 0x%x&quot;, (uint)l2esz, (uint)lh);
      return l2esz;
    }
    static jint array_layout_helper(jint tag, bool null_free, int hsize, BasicType etype, int log2_esize) {
      return (tag        &lt;&lt; _lh_array_tag_shift)
</pre>
<center><a href="instanceKlass.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="valueArrayKlass.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>