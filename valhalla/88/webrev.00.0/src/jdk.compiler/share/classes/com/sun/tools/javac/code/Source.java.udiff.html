<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/jdk.compiler/share/classes/com/sun/tools/javac/code/Source.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../doclint/Checker.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../jvm/ClassFile.java.udiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/code/Source.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -98,13 +98,18 @@</span>
       * text blocks in preview
       */
      JDK14(&quot;14&quot;),
  
      /**
<span class="udiff-line-modified-removed">-       * 15, tbd</span>
<span class="udiff-line-modified-added">+       * 15, text blocks</span>
        */
<span class="udiff-line-modified-removed">-     JDK15(&quot;15&quot;);</span>
<span class="udiff-line-modified-added">+     JDK15(&quot;15&quot;),</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+     /**</span>
<span class="udiff-line-added">+       * 16, tbd</span>
<span class="udiff-line-added">+       */</span>
<span class="udiff-line-added">+     JDK16(&quot;16&quot;);</span>
  
      private static final Context.Key&lt;Source&gt; sourceKey = new Context.Key&lt;&gt;();
  
      public static Source instance(Context context) {
          Source instance = context.get(sourceKey);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -151,23 +156,26 @@</span>
      public boolean isSupported() {
          return this.compareTo(MIN) &gt;= 0;
      }
  
      public Target requiredTarget() {
<span class="udiff-line-modified-removed">-         if (this.compareTo(JDK15) &gt;= 0) return Target.JDK1_15;</span>
<span class="udiff-line-modified-removed">-         if (this.compareTo(JDK14) &gt;= 0) return Target.JDK1_14;</span>
<span class="udiff-line-modified-removed">-         if (this.compareTo(JDK13) &gt;= 0) return Target.JDK1_13;</span>
<span class="udiff-line-modified-removed">-         if (this.compareTo(JDK12) &gt;= 0) return Target.JDK1_12;</span>
<span class="udiff-line-modified-removed">-         if (this.compareTo(JDK11) &gt;= 0) return Target.JDK1_11;</span>
<span class="udiff-line-modified-removed">-         if (this.compareTo(JDK10) &gt;= 0) return Target.JDK1_10;</span>
<span class="udiff-line-modified-removed">-         if (this.compareTo(JDK9) &gt;= 0) return Target.JDK1_9;</span>
<span class="udiff-line-modified-removed">-         if (this.compareTo(JDK8) &gt;= 0) return Target.JDK1_8;</span>
<span class="udiff-line-modified-removed">-         if (this.compareTo(JDK7) &gt;= 0) return Target.JDK1_7;</span>
<span class="udiff-line-modified-removed">-         if (this.compareTo(JDK6) &gt;= 0) return Target.JDK1_6;</span>
<span class="udiff-line-modified-removed">-         if (this.compareTo(JDK5) &gt;= 0) return Target.JDK1_5;</span>
<span class="udiff-line-modified-removed">-         if (this.compareTo(JDK1_4) &gt;= 0) return Target.JDK1_4;</span>
<span class="udiff-line-modified-removed">-         return Target.JDK1_1;</span>
<span class="udiff-line-modified-added">+         return switch(this) {</span>
<span class="udiff-line-modified-added">+         case JDK16  -&gt; Target.JDK1_16;</span>
<span class="udiff-line-modified-added">+         case JDK15  -&gt; Target.JDK1_15;</span>
<span class="udiff-line-modified-added">+         case JDK14  -&gt; Target.JDK1_14;</span>
<span class="udiff-line-modified-added">+         case JDK13  -&gt; Target.JDK1_13;</span>
<span class="udiff-line-modified-added">+         case JDK12  -&gt; Target.JDK1_12;</span>
<span class="udiff-line-modified-added">+         case JDK11  -&gt; Target.JDK1_11;</span>
<span class="udiff-line-modified-added">+         case JDK10  -&gt; Target.JDK1_10;</span>
<span class="udiff-line-modified-added">+         case JDK9   -&gt; Target.JDK1_9;</span>
<span class="udiff-line-modified-added">+         case JDK8   -&gt; Target.JDK1_8;</span>
<span class="udiff-line-modified-added">+         case JDK7   -&gt; Target.JDK1_7;</span>
<span class="udiff-line-modified-added">+         case JDK6   -&gt; Target.JDK1_6;</span>
<span class="udiff-line-modified-added">+         case JDK5   -&gt; Target.JDK1_5;</span>
<span class="udiff-line-added">+         case JDK1_4 -&gt; Target.JDK1_4;</span>
<span class="udiff-line-added">+         default     -&gt; Target.JDK1_1;</span>
<span class="udiff-line-added">+         };</span>
      }
  
      /**
       * Models a feature of the Java programming language. Each feature can be associated with a
       * minimum source level, a maximum source level and a diagnostic fragment describing the feature,
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -204,15 +212,15 @@</span>
          IMPORT_ON_DEMAND_OBSERVABLE_PACKAGES(JDK1_2, JDK8),
          SWITCH_MULTIPLE_CASE_LABELS(JDK14, Fragments.FeatureMultipleCaseLabels, DiagKind.PLURAL),
          SWITCH_RULE(JDK14, Fragments.FeatureSwitchRules, DiagKind.PLURAL),
          SWITCH_EXPRESSION(JDK14, Fragments.FeatureSwitchExpressions, DiagKind.PLURAL),
          TEXT_BLOCKS(JDK15, Fragments.FeatureTextBlocks, DiagKind.PLURAL),
<span class="udiff-line-modified-removed">-         PATTERN_MATCHING_IN_INSTANCEOF(JDK15, Fragments.FeaturePatternMatchingInstanceof, DiagKind.NORMAL),</span>
<span class="udiff-line-modified-removed">-         REIFIABLE_TYPES_INSTANCEOF(JDK15, Fragments.FeatureReifiableTypesInstanceof, DiagKind.PLURAL),</span>
<span class="udiff-line-modified-removed">-         RECORDS(JDK15, Fragments.FeatureRecords, DiagKind.PLURAL),</span>
<span class="udiff-line-modified-removed">-         INLINE_TYPES(JDK15, Fragments.FeatureInlineType, DiagKind.NORMAL),</span>
<span class="udiff-line-modified-removed">-         SEALED_CLASSES(JDK15, Fragments.FeatureSealedClasses, DiagKind.PLURAL),</span>
<span class="udiff-line-modified-added">+         PATTERN_MATCHING_IN_INSTANCEOF(JDK16, Fragments.FeaturePatternMatchingInstanceof, DiagKind.NORMAL),</span>
<span class="udiff-line-modified-added">+         REIFIABLE_TYPES_INSTANCEOF(JDK16, Fragments.FeatureReifiableTypesInstanceof, DiagKind.PLURAL),</span>
<span class="udiff-line-modified-added">+         RECORDS(JDK16, Fragments.FeatureRecords, DiagKind.PLURAL),</span>
<span class="udiff-line-modified-added">+         INLINE_TYPES(JDK16, Fragments.FeatureInlineType, DiagKind.NORMAL),</span>
<span class="udiff-line-modified-added">+         SEALED_CLASSES(JDK16, Fragments.FeatureSealedClasses, DiagKind.PLURAL),</span>
          ;
  
          enum DiagKind {
              NORMAL,
              PLURAL;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -271,39 +279,25 @@</span>
                      Errors.FeatureNotSupportedInSourcePlural(optFragment, sourceName, minLevel.name);
          }
      }
  
      public static SourceVersion toSourceVersion(Source source) {
<span class="udiff-line-modified-removed">-         switch(source) {</span>
<span class="udiff-line-modified-removed">-         case JDK1_2:</span>
<span class="udiff-line-modified-removed">-             return RELEASE_2;</span>
<span class="udiff-line-modified-removed">-         case JDK1_3:</span>
<span class="udiff-line-modified-removed">-             return RELEASE_3;</span>
<span class="udiff-line-modified-removed">-         case JDK1_4:</span>
<span class="udiff-line-modified-removed">-             return RELEASE_4;</span>
<span class="udiff-line-modified-removed">-         case JDK5:</span>
<span class="udiff-line-modified-removed">-             return RELEASE_5;</span>
<span class="udiff-line-modified-removed">-         case JDK6:</span>
<span class="udiff-line-modified-removed">-             return RELEASE_6;</span>
<span class="udiff-line-modified-removed">-         case JDK7:</span>
<span class="udiff-line-modified-removed">-             return RELEASE_7;</span>
<span class="udiff-line-modified-removed">-         case JDK8:</span>
<span class="udiff-line-modified-removed">-             return RELEASE_8;</span>
<span class="udiff-line-modified-removed">-         case JDK9:</span>
<span class="udiff-line-modified-removed">-             return RELEASE_9;</span>
<span class="udiff-line-modified-removed">-         case JDK10:</span>
<span class="udiff-line-removed">-             return RELEASE_10;</span>
<span class="udiff-line-removed">-         case JDK11:</span>
<span class="udiff-line-removed">-             return RELEASE_11;</span>
<span class="udiff-line-removed">-         case JDK12:</span>
<span class="udiff-line-removed">-             return RELEASE_12;</span>
<span class="udiff-line-removed">-         case JDK13:</span>
<span class="udiff-line-removed">-             return RELEASE_13;</span>
<span class="udiff-line-removed">-         case JDK14:</span>
<span class="udiff-line-removed">-             return RELEASE_14;</span>
<span class="udiff-line-removed">-         case JDK15:</span>
<span class="udiff-line-removed">-             return RELEASE_15;</span>
<span class="udiff-line-removed">-         default:</span>
<span class="udiff-line-removed">-             return null;</span>
<span class="udiff-line-removed">-         }</span>
<span class="udiff-line-modified-added">+         return switch(source) {</span>
<span class="udiff-line-modified-added">+         case JDK1_2 -&gt; RELEASE_2;</span>
<span class="udiff-line-modified-added">+         case JDK1_3 -&gt; RELEASE_3;</span>
<span class="udiff-line-modified-added">+         case JDK1_4 -&gt; RELEASE_4;</span>
<span class="udiff-line-modified-added">+         case JDK5   -&gt; RELEASE_5;</span>
<span class="udiff-line-modified-added">+         case JDK6   -&gt; RELEASE_6;</span>
<span class="udiff-line-modified-added">+         case JDK7   -&gt; RELEASE_7;</span>
<span class="udiff-line-modified-added">+         case JDK8   -&gt; RELEASE_8;</span>
<span class="udiff-line-modified-added">+         case JDK9   -&gt; RELEASE_9;</span>
<span class="udiff-line-modified-added">+         case JDK10  -&gt; RELEASE_10;</span>
<span class="udiff-line-modified-added">+         case JDK11  -&gt; RELEASE_11;</span>
<span class="udiff-line-modified-added">+         case JDK12  -&gt; RELEASE_12;</span>
<span class="udiff-line-modified-added">+         case JDK13  -&gt; RELEASE_13;</span>
<span class="udiff-line-modified-added">+         case JDK14  -&gt; RELEASE_14;</span>
<span class="udiff-line-modified-added">+         case JDK15  -&gt; RELEASE_15;</span>
<span class="udiff-line-modified-added">+         case JDK16  -&gt; RELEASE_16;</span>
<span class="udiff-line-modified-added">+         default     -&gt; null;</span>
<span class="udiff-line-modified-added">+         };</span>
      }
  }
</pre>
<center><a href="../../doclint/Checker.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../jvm/ClassFile.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>