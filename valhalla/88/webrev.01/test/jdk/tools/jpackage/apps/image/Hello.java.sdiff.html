<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/tools/jpackage/apps/image/Hello.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../java/util/zip/ZipFile/TestZipFile.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../helpers/jdk/jpackage/test/FileAssociations.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/tools/jpackage/apps/image/Hello.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 33 import java.nio.file.Path;
 34 import java.nio.file.Files;
 35 import java.util.stream.Collectors;
 36 import java.util.List;
 37 import java.util.ArrayList;
 38 import java.util.stream.Stream;
 39 import java.util.Collections;
 40 
 41 public class Hello implements OpenFilesHandler {
 42 
 43     public static void main(String[] args) throws IOException, InterruptedException {
 44         var faFiles = getFaFiles();
 45         if (faFiles != null) {
 46             // Some files got opened through fa mechanizm.
 47             // They are the arguments then.
 48             args = faFiles.toArray(String[]::new);
 49         }
 50 
 51         var lines = printArgs(args);
 52 





 53         lines.forEach(System.out::println);
 54 
 55         var outputFile = getOutputFile(args);
 56         trace(String.format(&quot;Output file: [%s]&quot;, outputFile));
 57         Files.write(outputFile, lines);
 58     }
 59 
 60     private static List&lt;String&gt; printArgs(String[] args) {
 61         List&lt;String&gt; lines = new ArrayList&lt;&gt;();
 62         lines.add(MSG);
 63 
 64         lines.add(&quot;args.length: &quot; + args.length);
 65 
 66         lines.addAll(List.of(args));
 67 
 68         for (int index = 1; index &lt;= EXPECTED_NUM_OF_PARAMS; index++) {
 69             String value = System.getProperty(&quot;param&quot; + index);
 70             if (value != null) {
 71                 lines.add(&quot;-Dparam&quot; + index + &quot;=&quot; + value);
 72             }
</pre>
</td>
<td>
<hr />
<pre>
 33 import java.nio.file.Path;
 34 import java.nio.file.Files;
 35 import java.util.stream.Collectors;
 36 import java.util.List;
 37 import java.util.ArrayList;
 38 import java.util.stream.Stream;
 39 import java.util.Collections;
 40 
 41 public class Hello implements OpenFilesHandler {
 42 
 43     public static void main(String[] args) throws IOException, InterruptedException {
 44         var faFiles = getFaFiles();
 45         if (faFiles != null) {
 46             // Some files got opened through fa mechanizm.
 47             // They are the arguments then.
 48             args = faFiles.toArray(String[]::new);
 49         }
 50 
 51         var lines = printArgs(args);
 52 
<span class="line-added"> 53         Stream.of(args).forEach(arg -&gt; System.out.println(</span>
<span class="line-added"> 54                 arg.codePoints()</span>
<span class="line-added"> 55                         .mapToObj(codePoint -&gt; String.format(&quot;0x%04x&quot;, codePoint))</span>
<span class="line-added"> 56                         .collect(Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;))));</span>
<span class="line-added"> 57 </span>
 58         lines.forEach(System.out::println);
 59 
 60         var outputFile = getOutputFile(args);
 61         trace(String.format(&quot;Output file: [%s]&quot;, outputFile));
 62         Files.write(outputFile, lines);
 63     }
 64 
 65     private static List&lt;String&gt; printArgs(String[] args) {
 66         List&lt;String&gt; lines = new ArrayList&lt;&gt;();
 67         lines.add(MSG);
 68 
 69         lines.add(&quot;args.length: &quot; + args.length);
 70 
 71         lines.addAll(List.of(args));
 72 
 73         for (int index = 1; index &lt;= EXPECTED_NUM_OF_PARAMS; index++) {
 74             String value = System.getProperty(&quot;param&quot; + index);
 75             if (value != null) {
 76                 lines.add(&quot;-Dparam&quot; + index + &quot;=&quot; + value);
 77             }
</pre>
</td>
</tr>
</table>
<center><a href="../../../../java/util/zip/ZipFile/TestZipFile.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="../../helpers/jdk/jpackage/test/FileAssociations.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>