<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/lang/Module.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="AbstractStringBuilder.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="String.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/lang/Module.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 40,11 ***</span>
  import java.net.URL;
  import java.security.AccessController;
  import java.security.PrivilegedAction;
  import java.util.HashMap;
  import java.util.HashSet;
<span class="line-removed">- import java.util.Iterator;</span>
  import java.util.List;
  import java.util.Map;
  import java.util.Objects;
  import java.util.Optional;
  import java.util.Set;
<span class="line-new-header">--- 40,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1502,10 ***</span>
<span class="line-new-header">--- 1501,28 ---</span>
                      return super.defineClass(cn, bytes, 0, bytes.length);
                  } else {
                      throw new ClassNotFoundException(cn);
                  }
              }
<span class="line-added">+             @Override</span>
<span class="line-added">+             protected Class&lt;?&gt; loadClass(String cn, boolean resolve)</span>
<span class="line-added">+                 throws ClassNotFoundException</span>
<span class="line-added">+             {</span>
<span class="line-added">+                 synchronized (getClassLoadingLock(cn)) {</span>
<span class="line-added">+                     Class&lt;?&gt; c = findLoadedClass(cn);</span>
<span class="line-added">+                     if (c == null) {</span>
<span class="line-added">+                         if (cn.equals(MODULE_INFO)) {</span>
<span class="line-added">+                             c = findClass(cn);</span>
<span class="line-added">+                         } else {</span>
<span class="line-added">+                             c = super.loadClass(cn, resolve);</span>
<span class="line-added">+                         }</span>
<span class="line-added">+                     }</span>
<span class="line-added">+                     if (resolve)</span>
<span class="line-added">+                         resolveClass(c);</span>
<span class="line-added">+                     return c;</span>
<span class="line-added">+                 }</span>
<span class="line-added">+             }</span>
          };
  
          try {
              return cl.loadClass(MODULE_INFO);
          } catch (ClassNotFoundException e) {
</pre>
<center><a href="AbstractStringBuilder.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="String.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>