<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/cpu/aarch64/sharedRuntime_aarch64.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="interp_masm_aarch64.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="stubGenerator_aarch64.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/aarch64/sharedRuntime_aarch64.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 442,11 ***</span>
  // the value type. This utility function computes the number of
  // arguments for the call if value types are passed by reference (the
  // calling convention the interpreter expects).
  static int compute_total_args_passed_int(const GrowableArray&lt;SigEntry&gt;* sig_extended) {
    int total_args_passed = 0;
<span class="line-modified">!   if (ValueTypePassFieldsAsArgs) {</span>
       for (int i = 0; i &lt; sig_extended-&gt;length(); i++) {
         BasicType bt = sig_extended-&gt;at(i)._bt;
         if (SigEntry::is_reserved_entry(sig_extended, i)) {
           // Ignore reserved entry
         } else if (bt == T_VALUETYPE) {
<span class="line-new-header">--- 442,11 ---</span>
  // the value type. This utility function computes the number of
  // arguments for the call if value types are passed by reference (the
  // calling convention the interpreter expects).
  static int compute_total_args_passed_int(const GrowableArray&lt;SigEntry&gt;* sig_extended) {
    int total_args_passed = 0;
<span class="line-modified">!   if (InlineTypePassFieldsAsArgs) {</span>
       for (int i = 0; i &lt; sig_extended-&gt;length(); i++) {
         BasicType bt = sig_extended-&gt;at(i)._bt;
         if (SigEntry::is_reserved_entry(sig_extended, i)) {
           // Ignore reserved entry
         } else if (bt == T_VALUETYPE) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 485,11 ***</span>
  }
  
  
  static void gen_c2i_adapter_helper(MacroAssembler* masm, BasicType bt, const VMRegPair&amp; reg_pair, int extraspace, const Address&amp; to) {
  
<span class="line-modified">!     assert(bt != T_VALUETYPE || !ValueTypePassFieldsAsArgs, &quot;no value type here&quot;);</span>
  
      // Say 4 args:
      // i   st_off
      // 0   32 T_LONG
      // 1   24 T_VOID
<span class="line-new-header">--- 485,11 ---</span>
  }
  
  
  static void gen_c2i_adapter_helper(MacroAssembler* masm, BasicType bt, const VMRegPair&amp; reg_pair, int extraspace, const Address&amp; to) {
  
<span class="line-modified">!     assert(bt != T_VALUETYPE || !InlineTypePassFieldsAsArgs, &quot;no inline type here&quot;);</span>
  
      // Say 4 args:
      // i   st_off
      // 0   32 T_LONG
      // 1   24 T_VOID
</pre>
<hr />
<pre>
<span class="line-old-header">*** 558,12 ***</span>
  
    __ bind(skip_fixup);
  
    bool has_value_argument = false;
  
<span class="line-modified">!   if (ValueTypePassFieldsAsArgs) {</span>
<span class="line-modified">!       // Is there a value type argument?</span>
       for (int i = 0; i &lt; sig_extended-&gt;length() &amp;&amp; !has_value_argument; i++) {
         has_value_argument = (sig_extended-&gt;at(i)._bt == T_VALUETYPE);
       }
       if (has_value_argument) {
        // There is at least a value type argument: we&#39;re coming from
<span class="line-new-header">--- 558,12 ---</span>
  
    __ bind(skip_fixup);
  
    bool has_value_argument = false;
  
<span class="line-modified">!   if (InlineTypePassFieldsAsArgs) {</span>
<span class="line-modified">!       // Is there an inline type argument?</span>
       for (int i = 0; i &lt; sig_extended-&gt;length() &amp;&amp; !has_value_argument; i++) {
         has_value_argument = (sig_extended-&gt;at(i)._bt == T_VALUETYPE);
       }
       if (has_value_argument) {
        // There is at least a value type argument: we&#39;re coming from
</pre>
<hr />
<pre>
<span class="line-old-header">*** 628,11 ***</span>
    for (int next_arg_comp = 0; next_arg_comp &lt; total_args_passed; next_arg_comp++) {
      BasicType bt = sig_extended-&gt;at(next_arg_comp)._bt;
      // offset to start parameters
      int st_off   = (total_args_passed - next_arg_int - 1) * Interpreter::stackElementSize;
  
<span class="line-modified">!     if (!ValueTypePassFieldsAsArgs || bt != T_VALUETYPE) {</span>
  
              if (SigEntry::is_reserved_entry(sig_extended, next_arg_comp)) {
                 continue; // Ignore reserved entry
              }
  
<span class="line-new-header">--- 628,11 ---</span>
    for (int next_arg_comp = 0; next_arg_comp &lt; total_args_passed; next_arg_comp++) {
      BasicType bt = sig_extended-&gt;at(next_arg_comp)._bt;
      // offset to start parameters
      int st_off   = (total_args_passed - next_arg_int - 1) * Interpreter::stackElementSize;
  
<span class="line-modified">!     if (!InlineTypePassFieldsAsArgs || bt != T_VALUETYPE) {</span>
  
              if (SigEntry::is_reserved_entry(sig_extended, next_arg_comp)) {
                 continue; // Ignore reserved entry
              }
  
</pre>
<center><a href="interp_masm_aarch64.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="stubGenerator_aarch64.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>