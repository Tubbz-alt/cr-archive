<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/hotspot/jtreg/compiler/valhalla/valuetypes/TestCallingConvention.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="TestBufferTearing.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="TestCallingConventionC1.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/compiler/valhalla/valuetypes/TestCallingConvention.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 45,11 ***</span>
      @Override
      public String[] getExtraVMParameters(int scenario) {
          switch (scenario) {
          case 0: return new String[] {&quot;-Dsun.reflect.inflationThreshold=10000&quot;}; // Don&#39;t generate bytecodes but call through runtime for reflective calls
          case 1: return new String[] {&quot;-Dsun.reflect.inflationThreshold=10000&quot;};
<span class="line-modified">!         case 3: return new String[] {&quot;-XX:ValueArrayElemMaxFlatSize=0&quot;};</span>
          }
          return null;
      }
  
      static {
<span class="line-new-header">--- 45,11 ---</span>
      @Override
      public String[] getExtraVMParameters(int scenario) {
          switch (scenario) {
          case 0: return new String[] {&quot;-Dsun.reflect.inflationThreshold=10000&quot;}; // Don&#39;t generate bytecodes but call through runtime for reflective calls
          case 1: return new String[] {&quot;-Dsun.reflect.inflationThreshold=10000&quot;};
<span class="line-modified">!         case 3: return new String[] {&quot;-XX:InlineArrayElemMaxFlatSize=0&quot;};</span>
          }
          return null;
      }
  
      static {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 307,12 ***</span>
      public MyValue3 test15_interp() {
          return test15_vt;
      }
  
      MyValue3 test15_vt2;
<span class="line-modified">!     @Test(valid = ValueTypeReturnedAsFieldsOn, failOn = ALLOC + LOAD + TRAP)</span>
<span class="line-modified">!     @Test(valid = ValueTypeReturnedAsFieldsOff)</span>
      public void test15() {
          test15_vt2 = test15_interp();
      }
  
      @DontCompile
<span class="line-new-header">--- 307,12 ---</span>
      public MyValue3 test15_interp() {
          return test15_vt;
      }
  
      MyValue3 test15_vt2;
<span class="line-modified">!     @Test(valid = InlineTypeReturnedAsFieldsOn, failOn = ALLOC + LOAD + TRAP)</span>
<span class="line-modified">!     @Test(valid = InlineTypeReturnedAsFieldsOff)</span>
      public void test15() {
          test15_vt2 = test15_interp();
      }
  
      @DontCompile
</pre>
<hr />
<pre>
<span class="line-old-header">*** 321,12 ***</span>
          test15_vt.verify(test15_vt2);
      }
  
      // Return value types in registers from compiled -&gt; interpreter
      final MyValue3 test16_vt = MyValue3.create();
<span class="line-modified">!     @Test(valid = ValueTypeReturnedAsFieldsOn, failOn = ALLOC + STORE + TRAP)</span>
<span class="line-modified">!     @Test(valid = ValueTypeReturnedAsFieldsOff)</span>
      public MyValue3 test16() {
          return test16_vt;
      }
  
      @DontCompile
<span class="line-new-header">--- 321,12 ---</span>
          test15_vt.verify(test15_vt2);
      }
  
      // Return value types in registers from compiled -&gt; interpreter
      final MyValue3 test16_vt = MyValue3.create();
<span class="line-modified">!     @Test(valid = InlineTypeReturnedAsFieldsOn, failOn = ALLOC + STORE + TRAP)</span>
<span class="line-modified">!     @Test(valid = InlineTypeReturnedAsFieldsOff)</span>
      public MyValue3 test16() {
          return test16_vt;
      }
  
      @DontCompile
</pre>
<hr />
<pre>
<span class="line-old-header">*** 341,12 ***</span>
      public MyValue3 test17_comp() {
          return test17_vt;
      }
  
      MyValue3 test17_vt2;
<span class="line-modified">!     @Test(valid = ValueTypeReturnedAsFieldsOn, failOn = ALLOC + LOAD + TRAP)</span>
<span class="line-modified">!     @Test(valid = ValueTypeReturnedAsFieldsOff)</span>
      public void test17() {
          test17_vt2 = test17_comp();
      }
  
      @DontCompile
<span class="line-new-header">--- 341,12 ---</span>
      public MyValue3 test17_comp() {
          return test17_vt;
      }
  
      MyValue3 test17_vt2;
<span class="line-modified">!     @Test(valid = InlineTypeReturnedAsFieldsOn, failOn = ALLOC + LOAD + TRAP)</span>
<span class="line-modified">!     @Test(valid = InlineTypeReturnedAsFieldsOff)</span>
      public void test17() {
          test17_vt2 = test17_comp();
      }
  
      @DontCompile
</pre>
<center><a href="TestBufferTearing.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="TestCallingConventionC1.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>