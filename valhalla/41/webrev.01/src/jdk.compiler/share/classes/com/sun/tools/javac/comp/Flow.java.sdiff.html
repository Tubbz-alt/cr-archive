<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.compiler/share/classes/com/sun/tools/javac/comp/Flow.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Check.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Lower.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/comp/Flow.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
1208                 }
1209             }
1210 
1211             ListBuffer&lt;PendingExit&gt; prevPendingExits = pendingExits;
1212             pendingExits = new ListBuffer&lt;&gt;();
1213             for (JCTree resource : tree.resources) {
1214                 if (resource instanceof JCVariableDecl) {
1215                     JCVariableDecl vdecl = (JCVariableDecl) resource;
1216                     visitVarDef(vdecl);
1217                 } else if (resource instanceof JCExpression) {
1218                     scan((JCExpression) resource);
1219                 } else {
1220                     throw new AssertionError(tree);  // parser error
1221                 }
1222             }
1223             for (JCTree resource : tree.resources) {
1224                 List&lt;Type&gt; closeableSupertypes = resource.type.isCompound() ?
1225                     types.interfaces(resource.type).prepend(types.supertype(resource.type)) :
1226                     List.of(resource.type);
1227                 for (Type sup : closeableSupertypes) {
<span class="line-modified">1228                     if (types.asSuper(sup, syms.autoCloseableType.tsym) != null) {</span>
1229                         Symbol closeMethod = rs.resolveQualifiedMethod(tree,
1230                                 attrEnv,
1231                                 types.skipTypeVars(sup, false),
1232                                 names.close,
1233                                 List.nil(),
1234                                 List.nil());
1235                         Type mt = types.memberType(resource.type, closeMethod);
1236                         if (closeMethod.kind == MTH) {
1237                             for (Type t : mt.getThrownTypes()) {
1238                                 markThrown(resource, t);
1239                             }
1240                         }
1241                     }
1242                 }
1243             }
1244             scan(tree.body);
1245             List&lt;Type&gt; thrownInTry = chk.union(thrown, List.of(syms.runtimeExceptionType, syms.errorType));
1246             thrown = thrownPrev;
1247             caught = caughtPrev;
1248 
</pre>
</td>
<td>
<hr />
<pre>
1208                 }
1209             }
1210 
1211             ListBuffer&lt;PendingExit&gt; prevPendingExits = pendingExits;
1212             pendingExits = new ListBuffer&lt;&gt;();
1213             for (JCTree resource : tree.resources) {
1214                 if (resource instanceof JCVariableDecl) {
1215                     JCVariableDecl vdecl = (JCVariableDecl) resource;
1216                     visitVarDef(vdecl);
1217                 } else if (resource instanceof JCExpression) {
1218                     scan((JCExpression) resource);
1219                 } else {
1220                     throw new AssertionError(tree);  // parser error
1221                 }
1222             }
1223             for (JCTree resource : tree.resources) {
1224                 List&lt;Type&gt; closeableSupertypes = resource.type.isCompound() ?
1225                     types.interfaces(resource.type).prepend(types.supertype(resource.type)) :
1226                     List.of(resource.type);
1227                 for (Type sup : closeableSupertypes) {
<span class="line-modified">1228                     if (types.asSuper(sup, syms.autoCloseableType.tsym, true) != null) {</span>
1229                         Symbol closeMethod = rs.resolveQualifiedMethod(tree,
1230                                 attrEnv,
1231                                 types.skipTypeVars(sup, false),
1232                                 names.close,
1233                                 List.nil(),
1234                                 List.nil());
1235                         Type mt = types.memberType(resource.type, closeMethod);
1236                         if (closeMethod.kind == MTH) {
1237                             for (Type t : mt.getThrownTypes()) {
1238                                 markThrown(resource, t);
1239                             }
1240                         }
1241                     }
1242                 }
1243             }
1244             scan(tree.body);
1245             List&lt;Type&gt; thrownInTry = chk.union(thrown, List.of(syms.runtimeExceptionType, syms.errorType));
1246             thrown = thrownPrev;
1247             caught = caughtPrev;
1248 
</pre>
</td>
</tr>
</table>
<center><a href="Check.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Lower.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>