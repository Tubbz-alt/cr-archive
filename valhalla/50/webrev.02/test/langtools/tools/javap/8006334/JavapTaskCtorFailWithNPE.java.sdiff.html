<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/langtools/tools/javap/8006334/JavapTaskCtorFailWithNPE.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../../javac/varargs/6806876/T6806876.out.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../T4880663.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/tools/javap/8006334/JavapTaskCtorFailWithNPE.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
30  */
31 
32 import java.io.File;
33 import java.util.Arrays;
34 import java.io.PrintWriter;
35 import java.io.StringWriter;
36 import java.util.List;
37 import java.util.Locale;
38 import javax.tools.Diagnostic;
39 import javax.tools.DiagnosticCollector;
40 import javax.tools.JavaFileManager;
41 import javax.tools.JavaFileObject;
42 import com.sun.tools.javap.JavapFileManager;
43 import com.sun.tools.javap.JavapTask;
44 
45 public class JavapTaskCtorFailWithNPE {
46 
47     //we will also check the output just to confirm that we get the expected one
48     private static final String expOutput =
49         &quot;Compiled from \&quot;JavapTaskCtorFailWithNPE.java\&quot;\n&quot; +
<span class="line-modified">50         &quot;public class JavapTaskCtorFailWithNPE implements java.lang.IdentityObject {\n&quot; +</span>
51         &quot;  public JavapTaskCtorFailWithNPE();\n&quot; +
52         &quot;  public static void main(java.lang.String[]);\n&quot; +
53         &quot;}\n&quot;;
54 
55     public static void main(String[] args) {
56         new JavapTaskCtorFailWithNPE().run();
57     }
58 
59     private void run() {
60         File classToCheck = new File(System.getProperty(&quot;test.classes&quot;),
61             getClass().getSimpleName() + &quot;.class&quot;);
62 
63         DiagnosticCollector&lt;JavaFileObject&gt; dc =
64                 new DiagnosticCollector&lt;JavaFileObject&gt;();
65         StringWriter sw = new StringWriter();
66         PrintWriter pw = new PrintWriter(sw);
67         JavaFileManager fm = JavapFileManager.create(dc, pw);
68         JavapTask t = new JavapTask(pw, fm, dc, null,
69                 Arrays.asList(classToCheck.getPath()));
70         if (t.run() != 0)
</pre>
</td>
<td>
<hr />
<pre>
30  */
31 
32 import java.io.File;
33 import java.util.Arrays;
34 import java.io.PrintWriter;
35 import java.io.StringWriter;
36 import java.util.List;
37 import java.util.Locale;
38 import javax.tools.Diagnostic;
39 import javax.tools.DiagnosticCollector;
40 import javax.tools.JavaFileManager;
41 import javax.tools.JavaFileObject;
42 import com.sun.tools.javap.JavapFileManager;
43 import com.sun.tools.javap.JavapTask;
44 
45 public class JavapTaskCtorFailWithNPE {
46 
47     //we will also check the output just to confirm that we get the expected one
48     private static final String expOutput =
49         &quot;Compiled from \&quot;JavapTaskCtorFailWithNPE.java\&quot;\n&quot; +
<span class="line-modified">50         &quot;public class JavapTaskCtorFailWithNPE {\n&quot; +</span>
51         &quot;  public JavapTaskCtorFailWithNPE();\n&quot; +
52         &quot;  public static void main(java.lang.String[]);\n&quot; +
53         &quot;}\n&quot;;
54 
55     public static void main(String[] args) {
56         new JavapTaskCtorFailWithNPE().run();
57     }
58 
59     private void run() {
60         File classToCheck = new File(System.getProperty(&quot;test.classes&quot;),
61             getClass().getSimpleName() + &quot;.class&quot;);
62 
63         DiagnosticCollector&lt;JavaFileObject&gt; dc =
64                 new DiagnosticCollector&lt;JavaFileObject&gt;();
65         StringWriter sw = new StringWriter();
66         PrintWriter pw = new PrintWriter(sw);
67         JavaFileManager fm = JavapFileManager.create(dc, pw);
68         JavapTask t = new JavapTask(pw, fm, dc, null,
69                 Arrays.asList(classToCheck.getPath()));
70         if (t.run() != 0)
</pre>
</td>
</tr>
</table>
<center><a href="../../javac/varargs/6806876/T6806876.out.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../T4880663.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>