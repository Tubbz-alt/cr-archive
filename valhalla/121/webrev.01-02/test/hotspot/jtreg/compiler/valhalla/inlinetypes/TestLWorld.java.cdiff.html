<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/hotspot/jtreg/compiler/valhalla/inlinetypes/TestLWorld.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="TestJNICalls.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="TestNullableArrays.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/compiler/valhalla/inlinetypes/TestLWorld.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 69,11 ***</span>
  
      protected long hash() {
          return testValue1.hash();
      }
  
<span class="line-modified">!     // Test passing a inline type as an Object</span>
      @DontInline
      public Object test1_dontinline1(Object o) {
          return o;
      }
  
<span class="line-new-header">--- 69,11 ---</span>
  
      protected long hash() {
          return testValue1.hash();
      }
  
<span class="line-modified">!     // Test passing an inline type as an Object</span>
      @DontInline
      public Object test1_dontinline1(Object o) {
          return o;
      }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1073,11 ***</span>
              // Expected
          }
          Asserts.assertEQ(testValue1Array[index].hash(), hash());
      }
  
<span class="line-modified">!     // Test writing a inline type to a null inline type array</span>
      @Test()
      public void test36(MyValue1[] va, MyValue1 vt, int index) {
          va[index] = vt;
      }
  
<span class="line-new-header">--- 1073,11 ---</span>
              // Expected
          }
          Asserts.assertEQ(testValue1Array[index].hash(), hash());
      }
  
<span class="line-modified">!     // Test writing an inline type to a null inline type array</span>
      @Test()
      public void test36(MyValue1[] va, MyValue1 vt, int index) {
          va[index] = vt;
      }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1563,11 ***</span>
                     holder.valueField3.hash() +
                     holder.valueField4.hashPrimitive();
          }
      }
  
<span class="line-modified">!     // Same as test2 but with field holder being a inline type</span>
      @Test()
      public long test51(Test51Value holder, MyValue1 vt1, Object vt2) {
          return holder.test(holder, vt1, vt2);
      }
  
<span class="line-new-header">--- 1563,11 ---</span>
                     holder.valueField3.hash() +
                     holder.valueField4.hashPrimitive();
          }
      }
  
<span class="line-modified">!     // Same as test2 but with field holder being an inline type</span>
      @Test()
      public long test51(Test51Value holder, MyValue1 vt1, Object vt2) {
          return holder.test(holder, vt1, vt2);
      }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1882,11 ***</span>
          Integer[] array = new Integer[1];
          test68(array, 1);
          Asserts.assertEQ(array[0], Integer.valueOf(1));
      }
  
<span class="line-modified">!     // Test convertion between a inline type and java.lang.Object without an allocation</span>
      @ForceInline
      public Object test69_sum(Object a, Object b) {
          int sum = ((MyValue1)a).x + ((MyValue1)b).x;
          return MyValue1.setX(((MyValue1)a), sum);
      }
<span class="line-new-header">--- 1882,11 ---</span>
          Integer[] array = new Integer[1];
          test68(array, 1);
          Asserts.assertEQ(array[0], Integer.valueOf(1));
      }
  
<span class="line-modified">!     // Test convertion between an inline type and java.lang.Object without an allocation</span>
      @ForceInline
      public Object test69_sum(Object a, Object b) {
          int sum = ((MyValue1)a).x + ((MyValue1)b).x;
          return MyValue1.setX(((MyValue1)a), sum);
      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2721,11 ***</span>
      public void test102_verifier(boolean warmup) {
          boolean result = test102(null);
          Asserts.assertFalse(result);
      }
  
<span class="line-modified">!     // An abstract class with a non-static field can never be implemented by a inline type</span>
      abstract class NoValueImplementors1 {
          int field = 42;
      }
  
      class MyObject3 extends NoValueImplementors1 {
<span class="line-new-header">--- 2721,11 ---</span>
      public void test102_verifier(boolean warmup) {
          boolean result = test102(null);
          Asserts.assertFalse(result);
      }
  
<span class="line-modified">!     // An abstract class with a non-static field can never be implemented by an inline type</span>
      abstract class NoValueImplementors1 {
          int field = 42;
      }
  
      class MyObject3 extends NoValueImplementors1 {
</pre>
<center><a href="TestJNICalls.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="TestNullableArrays.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>