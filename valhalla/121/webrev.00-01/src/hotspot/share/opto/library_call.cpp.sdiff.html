<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/opto/library_call.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="compile.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="macro.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/opto/library_call.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
3708   set_result(_gvn.transform(phi));
3709   return true;
3710 }
3711 
3712 //---------------------generate_array_guard_common------------------------
3713 Node* LibraryCallKit::generate_array_guard_common(Node* kls, RegionNode* region, ArrayKind kind) {
3714 
3715   if (stopped()) {
3716     return NULL;
3717   }
3718 
3719   // Like generate_guard, adds a new path onto the region.
3720   jint  layout_con = 0;
3721   Node* layout_val = get_layout_helper(kls, layout_con);
3722   if (layout_val == NULL) {
3723     bool query = 0;
3724     switch(kind) {
3725       case ObjectArray:    query = Klass::layout_helper_is_objArray(layout_con); break;
3726       case NonObjectArray: query = !Klass::layout_helper_is_objArray(layout_con); break;
3727       case TypeArray:      query = Klass::layout_helper_is_typeArray(layout_con); break;
<span class="line-modified">3728       case FlatArray:     query = Klass::layout_helper_is_flatArray(layout_con); break;</span>
3729       case AnyArray:       query = Klass::layout_helper_is_array(layout_con); break;
3730       case NonArray:       query = !Klass::layout_helper_is_array(layout_con); break;
3731       default:
3732         ShouldNotReachHere();
3733     }
3734     if (!query) {
3735       return NULL;                       // never a branch
3736     } else {                             // always a branch
3737       Node* always_branch = control();
3738       if (region != NULL)
3739         region-&gt;add_req(always_branch);
3740       set_control(top());
3741       return always_branch;
3742     }
3743   }
3744   unsigned int value = 0;
3745   BoolTest::mask btest = BoolTest::illegal;
3746   switch(kind) {
3747     case ObjectArray:
3748     case NonObjectArray: {
</pre>
</td>
<td>
<hr />
<pre>
3708   set_result(_gvn.transform(phi));
3709   return true;
3710 }
3711 
3712 //---------------------generate_array_guard_common------------------------
3713 Node* LibraryCallKit::generate_array_guard_common(Node* kls, RegionNode* region, ArrayKind kind) {
3714 
3715   if (stopped()) {
3716     return NULL;
3717   }
3718 
3719   // Like generate_guard, adds a new path onto the region.
3720   jint  layout_con = 0;
3721   Node* layout_val = get_layout_helper(kls, layout_con);
3722   if (layout_val == NULL) {
3723     bool query = 0;
3724     switch(kind) {
3725       case ObjectArray:    query = Klass::layout_helper_is_objArray(layout_con); break;
3726       case NonObjectArray: query = !Klass::layout_helper_is_objArray(layout_con); break;
3727       case TypeArray:      query = Klass::layout_helper_is_typeArray(layout_con); break;
<span class="line-modified">3728       case FlatArray:      query = Klass::layout_helper_is_flatArray(layout_con); break;</span>
3729       case AnyArray:       query = Klass::layout_helper_is_array(layout_con); break;
3730       case NonArray:       query = !Klass::layout_helper_is_array(layout_con); break;
3731       default:
3732         ShouldNotReachHere();
3733     }
3734     if (!query) {
3735       return NULL;                       // never a branch
3736     } else {                             // always a branch
3737       Node* always_branch = control();
3738       if (region != NULL)
3739         region-&gt;add_req(always_branch);
3740       set_control(top());
3741       return always_branch;
3742     }
3743   }
3744   unsigned int value = 0;
3745   BoolTest::mask btest = BoolTest::illegal;
3746   switch(kind) {
3747     case ObjectArray:
3748     case NonObjectArray: {
</pre>
</td>
</tr>
</table>
<center><a href="compile.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="macro.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>