<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/c1/c1_Instruction.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="c1_GraphBuilder.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="c1_LinearScan.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/c1/c1_Instruction.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 1999, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 1999, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 272,11 ***</span>
      return true;                                      \
    }                                                   \
  
  
  #define HASHING3(class_name, enabled, f1, f2, f3)     \
<span class="line-modified">!   virtual intx hash() const {                          \</span>
      return (enabled) ? HASH4(name(), f1, f2, f3) : 0; \
    }                                                   \
    virtual bool is_equal(Value v) const {              \
      if (!(enabled)  ) return false;                   \
      class_name* _v = v-&gt;as_##class_name();            \
<span class="line-new-header">--- 272,11 ---</span>
      return true;                                      \
    }                                                   \
  
  
  #define HASHING3(class_name, enabled, f1, f2, f3)     \
<span class="line-modified">!   virtual intx hash() const {                         \</span>
      return (enabled) ? HASH4(name(), f1, f2, f3) : 0; \
    }                                                   \
    virtual bool is_equal(Value v) const {              \
      if (!(enabled)  ) return false;                   \
      class_name* _v = v-&gt;as_##class_name();            \
</pre>
<hr />
<pre>
<span class="line-old-header">*** 461,10 ***</span>
<span class="line-new-header">--- 461,12 ---</span>
    void set_never_null(bool f)                    { set_flag(NeverNullFlag, f); }
    bool is_never_null() const                     { return check_flag(NeverNullFlag); }
    bool is_linked() const                         { return check_flag(IsLinkedInBlockFlag); }
    bool can_be_linked()                           { return as_Local() == NULL &amp;&amp; as_Phi() == NULL; }
  
<span class="line-added">+   bool is_null_obj()                             { return as_Constant() != NULL &amp;&amp; type()-&gt;as_ObjectType()-&gt;constant_value()-&gt;is_null_object(); }</span>
<span class="line-added">+ </span>
    bool has_uses() const                          { return use_count() &gt; 0; }
    ValueStack* state_before() const               { return _state_before; }
    ValueStack* exception_state() const            { return _exception_state; }
    virtual bool needs_exception_state() const     { return true; }
    XHandlers* exception_handlers() const          { return _exception_handlers; }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 857,12 ***</span>
    : AccessField(obj, offset, field, is_static, state_before, needs_patching)
    {}
  
    ciType* declared_type() const;
  
<span class="line-modified">!   // generic</span>
<span class="line-modified">!   HASHING2(LoadField, !needs_patching() &amp;&amp; !field()-&gt;is_volatile(), obj()-&gt;subst(), offset())  // cannot be eliminated if needs patching or if volatile</span>
  };
  
  
  LEAF(StoreField, AccessField)
   private:
<span class="line-new-header">--- 859,12 ---</span>
    : AccessField(obj, offset, field, is_static, state_before, needs_patching)
    {}
  
    ciType* declared_type() const;
  
<span class="line-modified">!   // generic; cannot be eliminated if needs patching or if volatile.</span>
<span class="line-modified">!   HASHING3(LoadField, !needs_patching() &amp;&amp; !field()-&gt;is_volatile(), obj()-&gt;subst(), offset(), declared_type())</span>
  };
  
  
  LEAF(StoreField, AccessField)
   private:
</pre>
<center><a href="c1_GraphBuilder.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="c1_LinearScan.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>