<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/utilities/globalDefinitions.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="bitMap.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="macros.hpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/utilities/globalDefinitions.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
1020 //* largest i such that 2^i &lt;= x
1021 inline int log2_long(julong x) {
1022   int i = -1;
1023   julong p =  1;
1024   while (p != 0 &amp;&amp; p &lt;= x) {
1025     // p = 2^(i+1) &amp;&amp; p &lt;= x (i.e., 2^(i+1) &lt;= x)
1026     i++; p *= 2;
1027   }
1028   // p = 2^(i+1) &amp;&amp; x &lt; p (i.e., 2^i &lt;= x &lt; 2^(i+1))
1029   // (if p = 0 then overflow occurred and i = 63)
1030   return i;
1031 }
1032 
1033 // If x &lt; 0, the function returns 31 on a 32-bit machine and 63 on a 64-bit machine.
1034 inline int log2_intptr(intptr_t x) {
1035   return log2_intptr((uintptr_t)x);
1036 }
1037 
1038 inline int log2_int(int x) {
1039   STATIC_ASSERT(sizeof(int) &lt;= sizeof(uintptr_t));
<span class="line-modified">1040   return log2_intptr((uintptr_t)x);</span>
1041 }
1042 
1043 inline int log2_jint(jint x) {
1044   STATIC_ASSERT(sizeof(jint) &lt;= sizeof(uintptr_t));
<span class="line-modified">1045   return log2_intptr((uintptr_t)x);</span>
1046 }
1047 
1048 inline int log2_uint(uint x) {
1049   STATIC_ASSERT(sizeof(uint) &lt;= sizeof(uintptr_t));
1050   return log2_intptr((uintptr_t)x);
1051 }
1052 
1053 //  A negative value of &#39;x&#39; will return &#39;63&#39;
1054 inline int log2_jlong(jlong x) {
1055   STATIC_ASSERT(sizeof(jlong) &lt;= sizeof(julong));
1056   return log2_long((julong)x);
1057 }
1058 
1059 inline bool is_odd (intx x) { return x &amp; 1;      }
1060 inline bool is_even(intx x) { return !is_odd(x); }
1061 
1062 // abs methods which cannot overflow and so are well-defined across
1063 // the entire domain of integer types.
1064 static inline unsigned int uabs(unsigned int n) {
1065   union {
</pre>
</td>
<td>
<hr />
<pre>
1020 //* largest i such that 2^i &lt;= x
1021 inline int log2_long(julong x) {
1022   int i = -1;
1023   julong p =  1;
1024   while (p != 0 &amp;&amp; p &lt;= x) {
1025     // p = 2^(i+1) &amp;&amp; p &lt;= x (i.e., 2^(i+1) &lt;= x)
1026     i++; p *= 2;
1027   }
1028   // p = 2^(i+1) &amp;&amp; x &lt; p (i.e., 2^i &lt;= x &lt; 2^(i+1))
1029   // (if p = 0 then overflow occurred and i = 63)
1030   return i;
1031 }
1032 
1033 // If x &lt; 0, the function returns 31 on a 32-bit machine and 63 on a 64-bit machine.
1034 inline int log2_intptr(intptr_t x) {
1035   return log2_intptr((uintptr_t)x);
1036 }
1037 
1038 inline int log2_int(int x) {
1039   STATIC_ASSERT(sizeof(int) &lt;= sizeof(uintptr_t));
<span class="line-modified">1040   return log2_intptr((uintptr_t)(unsigned int)x);</span>
1041 }
1042 
1043 inline int log2_jint(jint x) {
1044   STATIC_ASSERT(sizeof(jint) &lt;= sizeof(uintptr_t));
<span class="line-modified">1045   return log2_intptr((uintptr_t)(juint)x);</span>
1046 }
1047 
1048 inline int log2_uint(uint x) {
1049   STATIC_ASSERT(sizeof(uint) &lt;= sizeof(uintptr_t));
1050   return log2_intptr((uintptr_t)x);
1051 }
1052 
1053 //  A negative value of &#39;x&#39; will return &#39;63&#39;
1054 inline int log2_jlong(jlong x) {
1055   STATIC_ASSERT(sizeof(jlong) &lt;= sizeof(julong));
1056   return log2_long((julong)x);
1057 }
1058 
1059 inline bool is_odd (intx x) { return x &amp; 1;      }
1060 inline bool is_even(intx x) { return !is_odd(x); }
1061 
1062 // abs methods which cannot overflow and so are well-defined across
1063 // the entire domain of integer types.
1064 static inline unsigned int uabs(unsigned int n) {
1065   union {
</pre>
</td>
</tr>
</table>
<center><a href="bitMap.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="macros.hpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>