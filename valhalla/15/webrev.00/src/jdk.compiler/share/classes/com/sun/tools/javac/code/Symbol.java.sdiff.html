<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.compiler/share/classes/com/sun/tools/javac/code/Symbol.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ModuleFinder.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../comp/Check.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/code/Symbol.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
1487             else
1488                 return ElementKind.CLASS;
1489         }
1490 
1491         @Override @DefinedBy(Api.LANGUAGE_MODEL)
1492         public Set&lt;Modifier&gt; getModifiers() {
1493             apiComplete();
1494             long flags = flags();
1495             return Flags.asModifierSet(flags &amp; ~DEFAULT);
1496         }
1497 
1498         public RecordComponent getRecordComponent(VarSymbol field) {
1499             for (RecordComponent rc : recordComponents) {
1500                 if (rc.name == field.name) {
1501                     return rc;
1502                 }
1503             }
1504             return null;
1505         }
1506 
<span class="line-modified">1507         public RecordComponent getRecordComponent(JCVariableDecl var, boolean addIfMissing) {</span>
1508             for (RecordComponent rc : recordComponents) {
1509                 if (rc.name == var.name) {
1510                     return rc;
1511                 }
1512             }
1513             RecordComponent rc = null;
1514             if (addIfMissing) {
<span class="line-modified">1515                 recordComponents = recordComponents.append(rc = new RecordComponent(var));</span>
1516             }
1517             return rc;
1518         }
1519 
1520         @Override @DefinedBy(Api.LANGUAGE_MODEL)
1521         @SuppressWarnings(&quot;preview&quot;)
1522         public List&lt;? extends RecordComponent&gt; getRecordComponents() {
1523             return recordComponents;
1524         }
1525 
1526         @DefinedBy(Api.LANGUAGE_MODEL)
1527         public NestingKind getNestingKind() {
1528             apiComplete();
1529             if (owner.kind == PCK)
1530                 return NestingKind.TOP_LEVEL;
1531             else if (name.isEmpty())
1532                 return NestingKind.ANONYMOUS;
1533             else if (owner.kind == MTH)
1534                 return NestingKind.LOCAL;
1535             else
</pre>
<hr />
<pre>
1756 
1757         public void setData(Object data) {
1758             Assert.check(!(data instanceof Env&lt;?&gt;), this);
1759             this.data = data;
1760         }
1761 
1762         public &lt;R, P&gt; R accept(Symbol.Visitor&lt;R, P&gt; v, P p) {
1763             return v.visitVarSymbol(this, p);
1764         }
1765     }
1766 
1767     @SuppressWarnings(&quot;preview&quot;)
1768     public static class RecordComponent extends VarSymbol implements RecordComponentElement {
1769         public MethodSymbol accessor;
1770         public JCTree.JCMethodDecl accessorMeth;
1771         private final List&lt;JCAnnotation&gt; originalAnnos;
1772 
1773         /**
1774          * Construct a record component, given its flags, name, type and owner.
1775          */
<span class="line-modified">1776         public RecordComponent(JCVariableDecl fieldDecl) {</span>
1777             super(PUBLIC, fieldDecl.sym.name, fieldDecl.sym.type, fieldDecl.sym.owner);
<span class="line-modified">1778             this.originalAnnos = fieldDecl.mods.annotations;</span>
1779         }
1780 
1781         public List&lt;JCAnnotation&gt; getOriginalAnnos() { return originalAnnos; }
1782 
1783         @Override @DefinedBy(Api.LANGUAGE_MODEL)
1784         @SuppressWarnings(&quot;preview&quot;)
1785         public ElementKind getKind() {
1786             return ElementKind.RECORD_COMPONENT;
1787         }
1788 
1789         @Override @DefinedBy(Api.LANGUAGE_MODEL)
1790         public ExecutableElement getAccessor() {
1791             return accessor;
1792         }
1793 
1794         @Override @DefinedBy(Api.LANGUAGE_MODEL)
1795         @SuppressWarnings(&quot;preview&quot;)
1796         public &lt;R, P&gt; R accept(ElementVisitor&lt;R, P&gt; v, P p) {
1797             return v.visitRecordComponent(this, p);
1798         }
</pre>
</td>
<td>
<hr />
<pre>
1487             else
1488                 return ElementKind.CLASS;
1489         }
1490 
1491         @Override @DefinedBy(Api.LANGUAGE_MODEL)
1492         public Set&lt;Modifier&gt; getModifiers() {
1493             apiComplete();
1494             long flags = flags();
1495             return Flags.asModifierSet(flags &amp; ~DEFAULT);
1496         }
1497 
1498         public RecordComponent getRecordComponent(VarSymbol field) {
1499             for (RecordComponent rc : recordComponents) {
1500                 if (rc.name == field.name) {
1501                     return rc;
1502                 }
1503             }
1504             return null;
1505         }
1506 
<span class="line-modified">1507         public RecordComponent getRecordComponent(JCVariableDecl var, boolean addIfMissing, List&lt;JCAnnotation&gt; annotations) {</span>
1508             for (RecordComponent rc : recordComponents) {
1509                 if (rc.name == var.name) {
1510                     return rc;
1511                 }
1512             }
1513             RecordComponent rc = null;
1514             if (addIfMissing) {
<span class="line-modified">1515                 recordComponents = recordComponents.append(rc = new RecordComponent(var, annotations));</span>
1516             }
1517             return rc;
1518         }
1519 
1520         @Override @DefinedBy(Api.LANGUAGE_MODEL)
1521         @SuppressWarnings(&quot;preview&quot;)
1522         public List&lt;? extends RecordComponent&gt; getRecordComponents() {
1523             return recordComponents;
1524         }
1525 
1526         @DefinedBy(Api.LANGUAGE_MODEL)
1527         public NestingKind getNestingKind() {
1528             apiComplete();
1529             if (owner.kind == PCK)
1530                 return NestingKind.TOP_LEVEL;
1531             else if (name.isEmpty())
1532                 return NestingKind.ANONYMOUS;
1533             else if (owner.kind == MTH)
1534                 return NestingKind.LOCAL;
1535             else
</pre>
<hr />
<pre>
1756 
1757         public void setData(Object data) {
1758             Assert.check(!(data instanceof Env&lt;?&gt;), this);
1759             this.data = data;
1760         }
1761 
1762         public &lt;R, P&gt; R accept(Symbol.Visitor&lt;R, P&gt; v, P p) {
1763             return v.visitVarSymbol(this, p);
1764         }
1765     }
1766 
1767     @SuppressWarnings(&quot;preview&quot;)
1768     public static class RecordComponent extends VarSymbol implements RecordComponentElement {
1769         public MethodSymbol accessor;
1770         public JCTree.JCMethodDecl accessorMeth;
1771         private final List&lt;JCAnnotation&gt; originalAnnos;
1772 
1773         /**
1774          * Construct a record component, given its flags, name, type and owner.
1775          */
<span class="line-modified">1776         public RecordComponent(JCVariableDecl fieldDecl, List&lt;JCAnnotation&gt; annotations) {</span>
1777             super(PUBLIC, fieldDecl.sym.name, fieldDecl.sym.type, fieldDecl.sym.owner);
<span class="line-modified">1778             this.originalAnnos = annotations;</span>
1779         }
1780 
1781         public List&lt;JCAnnotation&gt; getOriginalAnnos() { return originalAnnos; }
1782 
1783         @Override @DefinedBy(Api.LANGUAGE_MODEL)
1784         @SuppressWarnings(&quot;preview&quot;)
1785         public ElementKind getKind() {
1786             return ElementKind.RECORD_COMPONENT;
1787         }
1788 
1789         @Override @DefinedBy(Api.LANGUAGE_MODEL)
1790         public ExecutableElement getAccessor() {
1791             return accessor;
1792         }
1793 
1794         @Override @DefinedBy(Api.LANGUAGE_MODEL)
1795         @SuppressWarnings(&quot;preview&quot;)
1796         public &lt;R, P&gt; R accept(ElementVisitor&lt;R, P&gt; v, P p) {
1797             return v.visitRecordComponent(this, p);
1798         }
</pre>
</td>
</tr>
</table>
<center><a href="ModuleFinder.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../comp/Check.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>