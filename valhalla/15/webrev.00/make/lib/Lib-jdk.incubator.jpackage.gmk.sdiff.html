<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/lib/Lib-jdk.incubator.jpackage.gmk</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="../jdk/src/classes/build/tools/x11wrappergen/WrapperGenerator.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="../scripts/compare_exceptions.sh.incl.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/lib/Lib-jdk.incubator.jpackage.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 42     LIBS_windows := user32.lib shell32.lib advapi32.lib ole32.lib, \
 43     LIBS_linux := -ldl -lpthread, \
 44     LIBS_macosx := -ldl -framework Cocoa, \
 45 ))
 46 
 47 $(BUILD_LIB_APPLAUNCHER): $(call FindLib, java.base, java)
 48 
 49 TARGETS += $(BUILD_LIB_APPLAUNCHER)
 50 
 51 JPACKAGE_APPLAUNCHER_SRC := \
 52     $(TOPDIR)/src/jdk.incubator.jpackage/$(OPENJDK_TARGET_OS)/native/jpackageapplauncher
 53 
 54 # Output app launcher executable in resources dir, and symbols in the object dir
 55 $(eval $(call SetupJdkExecutable, BUILD_JPACKAGE_APPLAUNCHEREXE, \
 56     NAME := jpackageapplauncher, \
 57     OUTPUT_DIR := $(JDK_OUTPUTDIR)/modules/$(MODULE)/jdk/incubator/jpackage/internal/resources, \
 58     SYMBOLS_DIR := $(SUPPORT_OUTPUTDIR)/native/$(MODULE)/jpackageapplauncher, \
 59     SRC := $(JPACKAGE_APPLAUNCHER_SRC), \
 60     TOOLCHAIN := TOOLCHAIN_LINK_CXX, \
 61     OPTIMIZATION := LOW, \
<span class="line-modified"> 62     CFLAGS := $(CXXFLAGS_JDKEXE), \</span>

 63     CFLAGS_windows := -EHsc -DLAUNCHERC -DUNICODE -D_UNICODE, \
 64     LDFLAGS := $(LDFLAGS_JDKEXE), \
 65     LIBS_macosx := -framework Cocoa, \
 66     LIBS := $(LIBCXX), \
 67     LIBS_linux := -ldl, \
 68     LIBS_windows := user32.lib shell32.lib advapi32.lib, \
 69 ))
 70 
 71 TARGETS += $(BUILD_JPACKAGE_APPLAUNCHEREXE)
 72 
 73 ################################################################################
 74 
 75 ifeq ($(call isTargetOs, windows), true)
 76 
 77   $(eval $(call SetupJdkLibrary, BUILD_LIB_JPACKAGE, \
 78       NAME := jpackage, \
 79       OPTIMIZATION := LOW, \
 80       CFLAGS := $(CXXFLAGS_JDKLIB), \
 81       CFLAGS_windows := -EHsc -DUNICODE -D_UNICODE, \
 82       LDFLAGS := $(LDFLAGS_JDKLIB) $(LDFLAGS_CXX_JDK) \
</pre>
</td>
<td>
<hr />
<pre>
 42     LIBS_windows := user32.lib shell32.lib advapi32.lib ole32.lib, \
 43     LIBS_linux := -ldl -lpthread, \
 44     LIBS_macosx := -ldl -framework Cocoa, \
 45 ))
 46 
 47 $(BUILD_LIB_APPLAUNCHER): $(call FindLib, java.base, java)
 48 
 49 TARGETS += $(BUILD_LIB_APPLAUNCHER)
 50 
 51 JPACKAGE_APPLAUNCHER_SRC := \
 52     $(TOPDIR)/src/jdk.incubator.jpackage/$(OPENJDK_TARGET_OS)/native/jpackageapplauncher
 53 
 54 # Output app launcher executable in resources dir, and symbols in the object dir
 55 $(eval $(call SetupJdkExecutable, BUILD_JPACKAGE_APPLAUNCHEREXE, \
 56     NAME := jpackageapplauncher, \
 57     OUTPUT_DIR := $(JDK_OUTPUTDIR)/modules/$(MODULE)/jdk/incubator/jpackage/internal/resources, \
 58     SYMBOLS_DIR := $(SUPPORT_OUTPUTDIR)/native/$(MODULE)/jpackageapplauncher, \
 59     SRC := $(JPACKAGE_APPLAUNCHER_SRC), \
 60     TOOLCHAIN := TOOLCHAIN_LINK_CXX, \
 61     OPTIMIZATION := LOW, \
<span class="line-modified"> 62     CFLAGS := $(CFLAGS_JDKEXE), \</span>
<span class="line-added"> 63     CXXFLAGS := $(CXXFLAGS_JDKEXE), \</span>
 64     CFLAGS_windows := -EHsc -DLAUNCHERC -DUNICODE -D_UNICODE, \
 65     LDFLAGS := $(LDFLAGS_JDKEXE), \
 66     LIBS_macosx := -framework Cocoa, \
 67     LIBS := $(LIBCXX), \
 68     LIBS_linux := -ldl, \
 69     LIBS_windows := user32.lib shell32.lib advapi32.lib, \
 70 ))
 71 
 72 TARGETS += $(BUILD_JPACKAGE_APPLAUNCHEREXE)
 73 
 74 ################################################################################
 75 
 76 ifeq ($(call isTargetOs, windows), true)
 77 
 78   $(eval $(call SetupJdkLibrary, BUILD_LIB_JPACKAGE, \
 79       NAME := jpackage, \
 80       OPTIMIZATION := LOW, \
 81       CFLAGS := $(CXXFLAGS_JDKLIB), \
 82       CFLAGS_windows := -EHsc -DUNICODE -D_UNICODE, \
 83       LDFLAGS := $(LDFLAGS_JDKLIB) $(LDFLAGS_CXX_JDK) \
</pre>
</td>
</tr>
</table>
<center><a href="../jdk/src/classes/build/tools/x11wrappergen/WrapperGenerator.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="../scripts/compare_exceptions.sh.incl.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>