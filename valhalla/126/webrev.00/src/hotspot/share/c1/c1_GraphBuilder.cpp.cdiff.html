<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/c1/c1_GraphBuilder.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../index.html" target="_top">index</a> <a href="../opto/parse2.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/c1/c1_GraphBuilder.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1277,15 ***</span>
    BlockBegin* tsux = block_at(stream()-&gt;get_dest());
    BlockBegin* fsux = block_at(stream()-&gt;next_bci());
    bool is_bb = tsux-&gt;bci() &lt; stream()-&gt;cur_bci() || fsux-&gt;bci() &lt; stream()-&gt;cur_bci();
  
    bool subst_check = false;
<span class="line-modified">!   if (EnableValhalla &amp;&amp; (stream()-&gt;cur_bc() == Bytecodes::_if_acmpeq || stream()-&gt;cur_bc() == Bytecodes::_if_acmpne) &amp;&amp;</span>
<span class="line-removed">-       method() != ciEnv::current()-&gt;ValueBootstrapMethods_klass()-&gt;find_method(ciSymbol::isSubstitutable_name(), ciSymbol::object_object_boolean_signature())) {</span>
<span class="line-removed">-     // If current method is ValueBootstrapMethods::isSubstitutable(),</span>
<span class="line-removed">-     // compile the acmp as a regular pointer comparison otherwise we</span>
<span class="line-removed">-     // could call ValueBootstrapMethods::isSubstitutable() back</span>
      ValueType* left_vt = x-&gt;type();
      ValueType* right_vt = y-&gt;type();
      if (left_vt-&gt;is_object()) {
        assert(right_vt-&gt;is_object(), &quot;must be&quot;);
        ciKlass* left_klass = x-&gt;as_loaded_klass_or_null();
<span class="line-new-header">--- 1277,11 ---</span>
    BlockBegin* tsux = block_at(stream()-&gt;get_dest());
    BlockBegin* fsux = block_at(stream()-&gt;next_bci());
    bool is_bb = tsux-&gt;bci() &lt; stream()-&gt;cur_bci() || fsux-&gt;bci() &lt; stream()-&gt;cur_bci();
  
    bool subst_check = false;
<span class="line-modified">!   if (EnableValhalla &amp;&amp; (stream()-&gt;cur_bc() == Bytecodes::_if_acmpeq || stream()-&gt;cur_bc() == Bytecodes::_if_acmpne)) {</span>
      ValueType* left_vt = x-&gt;type();
      ValueType* right_vt = y-&gt;type();
      if (left_vt-&gt;is_object()) {
        assert(right_vt-&gt;is_object(), &quot;must be&quot;);
        ciKlass* left_klass = x-&gt;as_loaded_klass_or_null();
</pre>
<center>&lt; prev <a href="../../../../index.html" target="_top">index</a> <a href="../opto/parse2.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>