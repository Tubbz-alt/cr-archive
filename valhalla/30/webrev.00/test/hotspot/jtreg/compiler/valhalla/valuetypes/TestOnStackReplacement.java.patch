diff a/test/hotspot/jtreg/compiler/valhalla/valuetypes/TestOnStackReplacement.java b/test/hotspot/jtreg/compiler/valhalla/valuetypes/TestOnStackReplacement.java
--- a/test/hotspot/jtreg/compiler/valhalla/valuetypes/TestOnStackReplacement.java
+++ b/test/hotspot/jtreg/compiler/valhalla/valuetypes/TestOnStackReplacement.java
@@ -156,15 +156,15 @@
         test4();
     }
 
     // OSR compilation with null value type local
 
-    MyValue1? nullField;
+    MyValue1.ref nullField;
 
     @Test() @Warmup(0) @OSRCompileOnly
     public void test5() {
-        MyValue1? vt = nullField;
+        MyValue1.ref vt = nullField;
         for (int i = 0; i < 50_000; i++) {
             if (vt != null) {
                 throw new RuntimeException("test5 failed: vt should be null");
             }
         }
