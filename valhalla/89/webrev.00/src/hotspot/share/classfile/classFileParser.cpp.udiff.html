<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/share/classfile/classFileParser.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../ci/ciType.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="classLoaderData.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/classfile/classFileParser.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -4994,11 +4994,11 @@</span>
  #endif
  
    // Check if this klass supports the java.lang.Cloneable interface
    if (SystemDictionary::Cloneable_klass_loaded()) {
      if (ik-&gt;is_subtype_of(SystemDictionary::Cloneable_klass())) {
<span class="udiff-line-modified-removed">-       if (ik-&gt;is_value()) {</span>
<span class="udiff-line-modified-added">+       if (ik-&gt;is_inline_klass()) {</span>
          Thread *THREAD = Thread::current();
          throwInlineTypeLimitation(THREAD_AND_LOCATION, &quot;Inline Types do not support Cloneable&quot;);
          return;
        }
        ik-&gt;set_is_cloneable();
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -6172,11 +6172,11 @@</span>
        log_info(class, fingerprint)(&quot;%s :  expected = &quot; PTR64_FORMAT &quot; actual = &quot; PTR64_FORMAT,
                                   ik-&gt;external_name(), aot_fp, _stream-&gt;compute_fingerprint());
      }
    }
  
<span class="udiff-line-modified-removed">-   if (ik-&gt;is_value()) {</span>
<span class="udiff-line-modified-added">+   if (ik-&gt;is_inline_klass()) {</span>
      ValueKlass* vk = ValueKlass::cast(ik);
      oop val = ik-&gt;allocate_instance(CHECK_NULL);
      vk-&gt;set_default_value(val);
    }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -6247,11 +6247,11 @@</span>
    ik-&gt;set_should_verify_class(_need_verify);
  
    // Not yet: supers are done below to support the new subtype-checking fields
    ik-&gt;set_nonstatic_field_size(_field_info-&gt;_nonstatic_field_size);
    ik-&gt;set_has_nonstatic_fields(_field_info-&gt;_has_nonstatic_fields);
<span class="udiff-line-modified-removed">-   if (_field_info-&gt;_is_naturally_atomic &amp;&amp; ik-&gt;is_value()) {</span>
<span class="udiff-line-modified-added">+   if (_field_info-&gt;_is_naturally_atomic &amp;&amp; ik-&gt;is_inline_klass()) {</span>
      ik-&gt;set_is_naturally_atomic();
    }
    if (_is_empty_inline_type) {
      ik-&gt;set_is_empty_inline_type();
    }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -6428,11 +6428,11 @@</span>
        JvmtiExport::add_default_read_edges(module_handle, THREAD);
      }
    }
  
    int nfields = ik-&gt;java_fields_count();
<span class="udiff-line-modified-removed">-   if (ik-&gt;is_value()) nfields++;</span>
<span class="udiff-line-modified-added">+   if (ik-&gt;is_inline_klass()) nfields++;</span>
    for (int i = 0; i &lt; nfields; i++) {
      if (ik-&gt;field_is_inline_type(i)) {
        Symbol* klass_name = ik-&gt;field_signature(i)-&gt;fundamental_name(CHECK);
        // Inline classes for instance fields must have been pre-loaded
        // Inline classes for static fields might not have been loaded yet
</pre>
<center><a href="../ci/ciType.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="classLoaderData.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>