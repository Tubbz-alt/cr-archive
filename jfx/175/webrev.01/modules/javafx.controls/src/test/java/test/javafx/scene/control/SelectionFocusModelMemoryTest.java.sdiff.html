<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.controls/src/test/java/test/javafx/scene/control/SelectionFocusModelMemoryTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../main/java/javafx/scene/control/skin/TabPaneSkin.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="TabPaneTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.controls/src/test/java/test/javafx/scene/control/SelectionFocusModelMemoryTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
177         TableViewSelectionModel&lt;String&gt; replacingSm = TableViewShim.get_TableViewArrayListSelectionModel(control);
178         maybeShowControl(control);
179         control.setSelectionModel(replacingSm);
180         attemptGC(weakRef, 10);
181         assertNull(&quot;selectionModel must be gc&#39;ed&quot;, weakRef.get());
182     }
183 
184     @Test
185     public void testListViewSelectionModel() {
186         ListView&lt;String&gt; control = new ListView&lt;&gt;(FXCollections.observableArrayList(&quot;Apple&quot;, &quot;Orange&quot;, &quot;Banana&quot;));
187         WeakReference&lt;SelectionModel&lt;?&gt;&gt; weakRef = new WeakReference&lt;&gt;(control.getSelectionModel());
188         MultipleSelectionModel&lt;String&gt; replacingSm = ListViewShim.getListViewBitSetSelectionModel(control);
189         maybeShowControl(control);
190         control.setSelectionModel(replacingSm);
191         attemptGC(weakRef, 10);
192         assertNull(&quot;selectionModel must be gc&#39;ed&quot;, weakRef.get());
193     }
194 
195     @Test
196     public void testTabPaneSelectionModel() {
<span class="line-removed">197         // FIXME</span>
<span class="line-removed">198         // can&#39;t formally ignore just one parameter, so backing out if showBeforeReplaceSM</span>
<span class="line-removed">199         if (showBeforeReplaceSM) return; //@Ignore(&quot;8241737&quot;)</span>
200         TabPane control = new TabPane();
201         ObservableList&lt;String&gt; data = FXCollections.observableArrayList(&quot;Apple&quot;, &quot;Orange&quot;, &quot;Banana&quot;);
202         data.forEach(text -&gt; control.getTabs().add(new Tab(text)));
203         WeakReference&lt;SelectionModel&lt;?&gt;&gt; weakRef = new WeakReference&lt;&gt;(control.getSelectionModel());
204         SingleSelectionModel&lt;Tab&gt; replacingSm = TabPaneShim.getTabPaneSelectionModel(control);
205         maybeShowControl(control);
206         control.setSelectionModel(replacingSm);
207         attemptGC(weakRef, 10);
208         assertNull(&quot;selectionModel must be gc&#39;ed&quot;, weakRef.get());
209     }
210 
211     @Test
212     public void testComboBoxSelectionModel() {
213         ComboBox&lt;String&gt; control = new ComboBox&lt;&gt;(FXCollections.observableArrayList(&quot;Apple&quot;, &quot;Orange&quot;, &quot;Banana&quot;));
214         WeakReference&lt;SelectionModel&lt;?&gt;&gt; weakRef = new WeakReference&lt;&gt;(control.getSelectionModel());
215         SingleSelectionModel&lt;String&gt; replacingSm = ComboBoxShim.get_ComboBoxSelectionModel(control);
216         maybeShowControl(control);
217         control.setSelectionModel(replacingSm);
218         attemptGC(weakRef, 10);
219         assertNull(&quot;selectionModel must be gc&#39;ed&quot;, weakRef.get());
</pre>
</td>
<td>
<hr />
<pre>
177         TableViewSelectionModel&lt;String&gt; replacingSm = TableViewShim.get_TableViewArrayListSelectionModel(control);
178         maybeShowControl(control);
179         control.setSelectionModel(replacingSm);
180         attemptGC(weakRef, 10);
181         assertNull(&quot;selectionModel must be gc&#39;ed&quot;, weakRef.get());
182     }
183 
184     @Test
185     public void testListViewSelectionModel() {
186         ListView&lt;String&gt; control = new ListView&lt;&gt;(FXCollections.observableArrayList(&quot;Apple&quot;, &quot;Orange&quot;, &quot;Banana&quot;));
187         WeakReference&lt;SelectionModel&lt;?&gt;&gt; weakRef = new WeakReference&lt;&gt;(control.getSelectionModel());
188         MultipleSelectionModel&lt;String&gt; replacingSm = ListViewShim.getListViewBitSetSelectionModel(control);
189         maybeShowControl(control);
190         control.setSelectionModel(replacingSm);
191         attemptGC(weakRef, 10);
192         assertNull(&quot;selectionModel must be gc&#39;ed&quot;, weakRef.get());
193     }
194 
195     @Test
196     public void testTabPaneSelectionModel() {



197         TabPane control = new TabPane();
198         ObservableList&lt;String&gt; data = FXCollections.observableArrayList(&quot;Apple&quot;, &quot;Orange&quot;, &quot;Banana&quot;);
199         data.forEach(text -&gt; control.getTabs().add(new Tab(text)));
200         WeakReference&lt;SelectionModel&lt;?&gt;&gt; weakRef = new WeakReference&lt;&gt;(control.getSelectionModel());
201         SingleSelectionModel&lt;Tab&gt; replacingSm = TabPaneShim.getTabPaneSelectionModel(control);
202         maybeShowControl(control);
203         control.setSelectionModel(replacingSm);
204         attemptGC(weakRef, 10);
205         assertNull(&quot;selectionModel must be gc&#39;ed&quot;, weakRef.get());
206     }
207 
208     @Test
209     public void testComboBoxSelectionModel() {
210         ComboBox&lt;String&gt; control = new ComboBox&lt;&gt;(FXCollections.observableArrayList(&quot;Apple&quot;, &quot;Orange&quot;, &quot;Banana&quot;));
211         WeakReference&lt;SelectionModel&lt;?&gt;&gt; weakRef = new WeakReference&lt;&gt;(control.getSelectionModel());
212         SingleSelectionModel&lt;String&gt; replacingSm = ComboBoxShim.get_ComboBoxSelectionModel(control);
213         maybeShowControl(control);
214         control.setSelectionModel(replacingSm);
215         attemptGC(weakRef, 10);
216         assertNull(&quot;selectionModel must be gc&#39;ed&quot;, weakRef.get());
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../main/java/javafx/scene/control/skin/TabPaneSkin.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="TabPaneTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>