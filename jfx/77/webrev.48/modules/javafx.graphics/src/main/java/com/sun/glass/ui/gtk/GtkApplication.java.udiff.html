<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.graphics/src/main/java/com/sun/glass/ui/gtk/GtkApplication.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../../../buildSrc/linux.gradle.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="GtkWindow.java.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/java/com/sun/glass/ui/gtk/GtkApplication.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -153,14 +153,19 @@</span>
                  } else if (&quot;2&quot;.equals(v) || v.startsWith(&quot;2.&quot;)) {
                      ret = 2;
                  }
                  return ret;
              }) : forcedGtkVersion;
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+         boolean gtkNew = AccessController.doPrivileged((PrivilegedAction&lt;Boolean&gt;) () -&gt;</span>
<span class="udiff-line-added">+                 Boolean.getBoolean(&quot;jdk.gtk.new&quot;));</span>
<span class="udiff-line-added">+ </span>
          boolean gtkVersionVerbose =
                  AccessController.doPrivileged((PrivilegedAction&lt;Boolean&gt;) () -&gt; {
              return Boolean.getBoolean(&quot;jdk.gtk.verbose&quot;);
          });
<span class="udiff-line-added">+ </span>
          if (PrismSettings.allowHiDPIScaling) {
              overrideUIScale = AccessController.doPrivileged((PrivilegedAction&lt;Float&gt;) () -&gt;
                      getFloat(&quot;glass.gtk.uiScale&quot;, -1.0f, &quot;Forcing UI scaling factor: &quot;));
          } else {
              overrideUIScale = -1.0f;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -174,22 +179,27 @@</span>
              } else if (libraryToLoad == QUERY_USE_CURRENT) {
                  if (gtkVersionVerbose) {
                      System.out.println(&quot;Glass GTK library to load is already loaded&quot;);
                  }
              } else if (libraryToLoad == QUERY_LOAD_GTK2) {
<span class="udiff-line-added">+                 String libName = (gtkNew) ? &quot;glassgtkn2&quot; : &quot;glassgtk2&quot;;</span>
                  if (gtkVersionVerbose) {
<span class="udiff-line-modified-removed">-                     System.out.println(&quot;Glass GTK library to load is glassgtk2&quot;);</span>
<span class="udiff-line-modified-added">+                     System.out.println(String.format(&quot;Glass GTK library to load is %s&quot;, libName));</span>
                  }
<span class="udiff-line-modified-removed">-                 NativeLibLoader.loadLibrary(&quot;glassgtk2&quot;);</span>
<span class="udiff-line-modified-added">+ </span>
<span class="udiff-line-added">+                 NativeLibLoader.loadLibrary(libName);</span>
              } else if (libraryToLoad == QUERY_LOAD_GTK3) {
<span class="udiff-line-added">+                 String libName = (gtkNew) ? &quot;glassgtkn3&quot; : &quot;glassgtk3&quot;;</span>
                  if (gtkVersionVerbose) {
<span class="udiff-line-modified-removed">-                     System.out.println(&quot;Glass GTK library to load is glassgtk3&quot;);</span>
<span class="udiff-line-modified-added">+                     System.out.println(String.format(&quot;Glass GTK library to load is %s&quot;, libName));</span>
                  }
<span class="udiff-line-modified-removed">-                 NativeLibLoader.loadLibrary(&quot;glassgtk3&quot;);</span>
<span class="udiff-line-modified-added">+ </span>
<span class="udiff-line-added">+                 NativeLibLoader.loadLibrary(libName);</span>
              } else {
                  throw new UnsupportedOperationException(&quot;Internal Error&quot;);
              }
<span class="udiff-line-added">+ </span>
              return null;
          });
  
          int version = _initGTK(gtkVersion, gtkVersionVerbose, overrideUIScale);
  
</pre>
<center><a href="../../../../../../../../../../buildSrc/linux.gradle.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="GtkWindow.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>