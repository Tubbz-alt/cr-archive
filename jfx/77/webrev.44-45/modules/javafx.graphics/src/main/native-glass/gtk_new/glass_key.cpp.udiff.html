<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.graphics/src/main/native-glass/gtk_new/glass_key.cpp</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="glass_general.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="glass_screen.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/native-glass/gtk_new/glass_key.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -242,11 +242,11 @@</span>
      init_keymap();
  
      guint keyValue;
      guint state = e-&gt;state &amp; GDK_MOD2_MASK; //NumLock test
  
<span class="udiff-line-modified-removed">-     gdk_keymap_translate_keyboard_state(gdk_keymap_get_default(),</span>
<span class="udiff-line-modified-added">+     gdk_keymap_translate_keyboard_state(gdk_keymap_get_for_display(gdk_display_get_default()),</span>
              e-&gt;hardware_keycode, static_cast&lt;GdkModifierType&gt;(state), e-&gt;group,
              &amp;keyValue, NULL, NULL, NULL);
  
      jint key = GPOINTER_TO_INT(g_hash_table_lookup(keymap,
              GINT_TO_POINTER(keyValue)));
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -257,11 +257,11 @@</span>
          // from a default layout(we assume that it is a US-like one).
          GdkKeymapKey kk;
          kk.keycode = e-&gt;hardware_keycode;
          kk.group = kk.level = 0;
  
<span class="udiff-line-modified-removed">-         keyValue = gdk_keymap_lookup_key(gdk_keymap_get_default(), &amp;kk);</span>
<span class="udiff-line-modified-added">+         keyValue = gdk_keymap_lookup_key(gdk_keymap_get_for_display(gdk_display_get_default()), &amp;kk);</span>
  
          key = GPOINTER_TO_INT(g_hash_table_lookup(keymap,
                  GINT_TO_POINTER(keyValue)));
      }
  
</pre>
<center><a href="glass_general.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="glass_screen.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>