<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff buildSrc/linux.gradle</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../index.html" target="_top">index</a> <a href="../modules/javafx.graphics/src/main/native-glass/gtk_experimental/glass_dnd.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>buildSrc/linux.gradle</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 68                  &quot;-Wl,--gc-sections&quot;].flatten()
 69 
 70 def staticLinkFlags = [].flatten()
 71 
 72 def linkFlags = IS_STATIC_BUILD ? staticLinkFlags : dynamicLinkFlags;
 73 
 74 if (IS_DEBUG_NATIVE) {
 75     linkFlags += &quot;-g&quot;
 76 }
 77 
 78 def toolchainDir
 79 if (hasProperty(&#39;toolchainDir&#39;)) {
 80     toolchainDir = ext.toolchainDir + &quot;/&quot;
 81 } else {
 82     toolchainDir = &quot;&quot;
 83 }
 84 
 85 def gtk2CCFlags = [ &quot;-Wno-deprecated-declarations&quot; ];
 86 def gtk3CCFlags = [ &quot;-Wno-deprecated-declarations&quot; ];
 87 def gtk3expCCFlags = [&quot;-DGDK_VERSION_MIN_REQUIRED=GDK_VERSION_3_8&quot;,
<span class="line-modified"> 88                       &quot;-DGDK_VERSION_MAX_ALLOWED=GDK_VERSION_3_18&quot;];</span>
 89 def gtk2LinkFlags = [ ];
 90 def gtk3LinkFlags = [ ];
 91 
 92 // Create $buildDir/linux_tools.properties file and load props from it
 93 setupTools(&quot;linux_gtk2&quot;,
 94     { propFile -&gt;
 95         ByteArrayOutputStream results1 = new ByteArrayOutputStream();
 96         exec {
 97             commandLine(&quot;${toolchainDir}pkg-config&quot;, &quot;--cflags&quot;, &quot;gtk+-2.0&quot;, &quot;gthread-2.0&quot;, &quot;xtst&quot;)
 98             setStandardOutput(results1);
 99         }
100         propFile &lt;&lt; &quot;cflagsGTK2=&quot; &lt;&lt; results1.toString().trim() &lt;&lt; &quot;\n&quot;;
101 
102         ByteArrayOutputStream results3 = new ByteArrayOutputStream();
103         exec {
104             commandLine(&quot;${toolchainDir}pkg-config&quot;, &quot;--libs&quot;, &quot;gtk+-2.0&quot;, &quot;gthread-2.0&quot;, &quot;xtst&quot;)
105             setStandardOutput(results3);
106         }
107         propFile &lt;&lt; &quot;libsGTK2=&quot; &lt;&lt; results3.toString().trim()  &lt;&lt; &quot;\n&quot;;
108     },
</pre>
</td>
<td>
<hr />
<pre>
 68                  &quot;-Wl,--gc-sections&quot;].flatten()
 69 
 70 def staticLinkFlags = [].flatten()
 71 
 72 def linkFlags = IS_STATIC_BUILD ? staticLinkFlags : dynamicLinkFlags;
 73 
 74 if (IS_DEBUG_NATIVE) {
 75     linkFlags += &quot;-g&quot;
 76 }
 77 
 78 def toolchainDir
 79 if (hasProperty(&#39;toolchainDir&#39;)) {
 80     toolchainDir = ext.toolchainDir + &quot;/&quot;
 81 } else {
 82     toolchainDir = &quot;&quot;
 83 }
 84 
 85 def gtk2CCFlags = [ &quot;-Wno-deprecated-declarations&quot; ];
 86 def gtk3CCFlags = [ &quot;-Wno-deprecated-declarations&quot; ];
 87 def gtk3expCCFlags = [&quot;-DGDK_VERSION_MIN_REQUIRED=GDK_VERSION_3_8&quot;,
<span class="line-modified"> 88                       &quot;-DGDK_VERSION_MAX_ALLOWED=GDK_VERSION_3_8&quot;];</span>
 89 def gtk2LinkFlags = [ ];
 90 def gtk3LinkFlags = [ ];
 91 
 92 // Create $buildDir/linux_tools.properties file and load props from it
 93 setupTools(&quot;linux_gtk2&quot;,
 94     { propFile -&gt;
 95         ByteArrayOutputStream results1 = new ByteArrayOutputStream();
 96         exec {
 97             commandLine(&quot;${toolchainDir}pkg-config&quot;, &quot;--cflags&quot;, &quot;gtk+-2.0&quot;, &quot;gthread-2.0&quot;, &quot;xtst&quot;)
 98             setStandardOutput(results1);
 99         }
100         propFile &lt;&lt; &quot;cflagsGTK2=&quot; &lt;&lt; results1.toString().trim() &lt;&lt; &quot;\n&quot;;
101 
102         ByteArrayOutputStream results3 = new ByteArrayOutputStream();
103         exec {
104             commandLine(&quot;${toolchainDir}pkg-config&quot;, &quot;--libs&quot;, &quot;gtk+-2.0&quot;, &quot;gthread-2.0&quot;, &quot;xtst&quot;)
105             setStandardOutput(results3);
106         }
107         propFile &lt;&lt; &quot;libsGTK2=&quot; &lt;&lt; results3.toString().trim()  &lt;&lt; &quot;\n&quot;;
108     },
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../index.html" target="_top">index</a> <a href="../modules/javafx.graphics/src/main/native-glass/gtk_experimental/glass_dnd.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>