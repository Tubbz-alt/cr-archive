<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.graphics/src/main/native-glass/gtk/glass_window.cpp</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../index.html" target="_top">index</a> <a href="glass_window.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/native-glass/gtk/glass_window.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
1392         }
1393         o = topO-&gt;owner;
1394     }
1395     return false;
1396 }
1397 
1398 bool WindowContext::effective_on_top() {
1399     if (owner) {
1400         WindowContext *topO = dynamic_cast&lt;WindowContext *&gt;(owner);
1401         return (topO &amp;&amp; topO-&gt;effective_on_top()) || on_top;
1402     }
1403     return on_top;
1404 }
1405 
1406 GdkDevice * WindowContext::get_pointer_device() {
1407     GdkDevice * device;
1408 #ifdef GLASS_GTK3
1409 #if GTK_CHECK_VERSION(3, 20, 0)
1410     device = gdk_seat_get_pointer(gdk_display_get_default_seat(gtk_widget_get_display(gtk_widget)));
1411 #else
<span class="line-modified">1412     device = gdk_device_manager_get_client_pointer(gdk_display_get_device_manager(gtk_widget));</span>
1413 #endif
1414 #else
1415     // gtk2
1416     device = gdk_display_get_core_pointer(gtk_widget_get_display(gtk_widget));
1417 #endif
1418 
1419     return device;
1420 }
1421 
1422 bool WindowContext::grab_mouse_drag_focus(GdkWindow * gdk_w, GdkCursor * cursor, bool owner_events) {
1423     if (is_grab_disabled()) {
1424         return true;
1425     }
1426 
1427     ungrab_mouse_drag_focus();
1428 
1429     pointer_device = get_pointer_device();
1430 #ifdef GLASS_GTK3
1431 #if GTK_CHECK_VERSION(3, 20, 0)
1432     GdkGrabStatus status = gdk_seat_grab(gdk_device_get_seat(pointer_device), gdk_w,
</pre>
</td>
<td>
<hr />
<pre>
1392         }
1393         o = topO-&gt;owner;
1394     }
1395     return false;
1396 }
1397 
1398 bool WindowContext::effective_on_top() {
1399     if (owner) {
1400         WindowContext *topO = dynamic_cast&lt;WindowContext *&gt;(owner);
1401         return (topO &amp;&amp; topO-&gt;effective_on_top()) || on_top;
1402     }
1403     return on_top;
1404 }
1405 
1406 GdkDevice * WindowContext::get_pointer_device() {
1407     GdkDevice * device;
1408 #ifdef GLASS_GTK3
1409 #if GTK_CHECK_VERSION(3, 20, 0)
1410     device = gdk_seat_get_pointer(gdk_display_get_default_seat(gtk_widget_get_display(gtk_widget)));
1411 #else
<span class="line-modified">1412     device = gdk_device_manager_get_client_pointer(gdk_display_get_device_manager(gtk_widget_get_display(gtk_widget)));</span>
1413 #endif
1414 #else
1415     // gtk2
1416     device = gdk_display_get_core_pointer(gtk_widget_get_display(gtk_widget));
1417 #endif
1418 
1419     return device;
1420 }
1421 
1422 bool WindowContext::grab_mouse_drag_focus(GdkWindow * gdk_w, GdkCursor * cursor, bool owner_events) {
1423     if (is_grab_disabled()) {
1424         return true;
1425     }
1426 
1427     ungrab_mouse_drag_focus();
1428 
1429     pointer_device = get_pointer_device();
1430 #ifdef GLASS_GTK3
1431 #if GTK_CHECK_VERSION(3, 20, 0)
1432     GdkGrabStatus status = gdk_seat_grab(gdk_device_get_seat(pointer_device), gdk_w,
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../index.html" target="_top">index</a> <a href="glass_window.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>