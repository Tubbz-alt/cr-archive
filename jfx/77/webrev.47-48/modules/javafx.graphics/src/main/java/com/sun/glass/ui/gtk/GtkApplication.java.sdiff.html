<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.graphics/src/main/java/com/sun/glass/ui/gtk/GtkApplication.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.graphics/src/main/java/com/sun/glass/ui/gtk/GtkApplication.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
206         if (version == -1) {
207             throw new RuntimeException(&quot;Error loading GTK libraries&quot;);
208         }
209 
210         // Embedded in SWT, with shared event thread
211         boolean isEventThread = AccessController
212                 .doPrivileged((PrivilegedAction&lt;Boolean&gt;) () -&gt; Boolean.getBoolean(&quot;javafx.embed.isEventThread&quot;));
213         if (!isEventThread) {
214             invokeLaterDispatcher = new InvokeLaterDispatcher(this);
215             invokeLaterDispatcher.start();
216         } else {
217             invokeLaterDispatcher = null;
218         }
219     }
220 
221     @Native private static final int QUERY_ERROR = -2;
222     @Native private static final int QUERY_NO_DISPLAY = -1;
223     @Native private static final int QUERY_USE_CURRENT = 1;
224     @Native private static final int QUERY_LOAD_GTK2 = 2;
225     @Native private static final int QUERY_LOAD_GTK3 = 3;
<span class="line-modified">226         /*</span>
227      * check the system and return an indication of which library to load
228      *  return values are the QUERY_ constants
229      */
230     private static native int _queryLibrary(int version, boolean verbose);
231 
232     private static native int _initGTK(int version, boolean verbose, float overrideUIScale);
233 
234     private void initDisplay() {
235         Map ds = getDeviceDetails();
236         if (ds != null) {
237             Object value;
238             value = ds.get(&quot;XDisplay&quot;);
239             if (value != null) {
240                 display = (Long)value;
241             }
242             value = ds.get(&quot;XVisualID&quot;);
243             if (value != null) {
244                 visualID = (Long)value;
245             }
246             value = ds.get(&quot;XScreenID&quot;);
</pre>
</td>
<td>
<hr />
<pre>
206         if (version == -1) {
207             throw new RuntimeException(&quot;Error loading GTK libraries&quot;);
208         }
209 
210         // Embedded in SWT, with shared event thread
211         boolean isEventThread = AccessController
212                 .doPrivileged((PrivilegedAction&lt;Boolean&gt;) () -&gt; Boolean.getBoolean(&quot;javafx.embed.isEventThread&quot;));
213         if (!isEventThread) {
214             invokeLaterDispatcher = new InvokeLaterDispatcher(this);
215             invokeLaterDispatcher.start();
216         } else {
217             invokeLaterDispatcher = null;
218         }
219     }
220 
221     @Native private static final int QUERY_ERROR = -2;
222     @Native private static final int QUERY_NO_DISPLAY = -1;
223     @Native private static final int QUERY_USE_CURRENT = 1;
224     @Native private static final int QUERY_LOAD_GTK2 = 2;
225     @Native private static final int QUERY_LOAD_GTK3 = 3;
<span class="line-modified">226     /*</span>
227      * check the system and return an indication of which library to load
228      *  return values are the QUERY_ constants
229      */
230     private static native int _queryLibrary(int version, boolean verbose);
231 
232     private static native int _initGTK(int version, boolean verbose, float overrideUIScale);
233 
234     private void initDisplay() {
235         Map ds = getDeviceDetails();
236         if (ds != null) {
237             Object value;
238             value = ds.get(&quot;XDisplay&quot;);
239             if (value != null) {
240                 display = (Long)value;
241             }
242             value = ds.get(&quot;XVisualID&quot;);
243             if (value != null) {
244                 visualID = (Long)value;
245             }
246             value = ds.get(&quot;XScreenID&quot;);
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>