<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.graphics/src/main/native-glass/gtk/glass_window.h</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="glass_window.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.graphics/src/main/native-glass/gtk/glass_window.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
139     bool is_iconified;
140     bool is_maximized;
141     bool is_mouse_entered;
142     bool can_be_deleted;
143 
144     struct _XIM {
145 	_XIM() : im(NULL), ic(NULL), enabled(FALSE) {}
146         XIM im;
147         XIC ic;
148         bool enabled;
149     } xim;
150 
151     size_t events_processing_cnt;
152 
153     WindowGeometry geometry;
154     std::set&lt;WindowContext *&gt; children;
155     GdkWMFunction gdk_windowManagerFunctions;
156     GtkWidget *gtk_widget;
157     GdkWindow *gdk_window;
158     BgColor bg_color;
<span class="line-modified">159     GdkDevice *pointer_device;</span>
160 
161     static WindowContext* sm_mouse_drag_window;
162     static WindowContext* sm_grab_window;
163 public:
164     WindowContext(jobject, WindowContext *, long, WindowFrameType, WindowType, GdkWMFunction);
165 
166     bool hasIME();
167     bool filterIME(GdkEvent *);
168     void enableOrResetIME();
169     void disableIME();
170 
171     void paint(void*, jint, jint);
172     bool isEnabled();
173 
174     GdkWindow *get_gdk_window();
175     GtkWidget *get_gtk_widget();
176     GtkWindow *get_gtk_window();
177     WindowGeometry get_geometry();
178     jobject get_jwindow();
179     jobject get_jview();
</pre>
<hr />
<pre>
230     void exit_fullscreen();
231     void detach_from_java();
232     void increment_events_counter();
233     void decrement_events_counter();
234     size_t get_events_count();
235     ~WindowContext();
236 
237 protected:
238     void applyShapeMask(void *, uint width, uint height);
239 
240 private:
241     bool im_filter_keypress(GdkEventKey*);
242     void calculate_adjustments();
243     void apply_geometry();
244     bool get_frame_extents_property(int *, int *, int *, int *);
245     void activate_window();
246     void size_position_notify(bool, bool);
247     void update_ontop_tree(bool);
248     bool on_top_inherited();
249     bool effective_on_top();
<span class="line-modified">250     GdkDevice * get_pointer_device();</span>
<span class="line-removed">251     bool grab_mouse_drag_focus(GdkWindow *, GdkCursor *, bool);</span>
252     void ungrab_mouse_drag_focus();
253 };
254 
255 void destroy_and_delete_ctx(WindowContext *ctx);
256 
257 class EventsCounterHelper {
258 private:
259     WindowContext *ctx;
260 public:
261     explicit EventsCounterHelper(WindowContext *context) {
262         ctx = context;
263         ctx-&gt;increment_events_counter();
264     }
265 
266     ~EventsCounterHelper() {
267         ctx-&gt;decrement_events_counter();
268         if (ctx-&gt;is_dead() &amp;&amp; ctx-&gt;get_events_count() == 0) {
269             delete ctx;
270         }
271         ctx = NULL;
</pre>
</td>
<td>
<hr />
<pre>
139     bool is_iconified;
140     bool is_maximized;
141     bool is_mouse_entered;
142     bool can_be_deleted;
143 
144     struct _XIM {
145 	_XIM() : im(NULL), ic(NULL), enabled(FALSE) {}
146         XIM im;
147         XIC ic;
148         bool enabled;
149     } xim;
150 
151     size_t events_processing_cnt;
152 
153     WindowGeometry geometry;
154     std::set&lt;WindowContext *&gt; children;
155     GdkWMFunction gdk_windowManagerFunctions;
156     GtkWidget *gtk_widget;
157     GdkWindow *gdk_window;
158     BgColor bg_color;
<span class="line-modified">159     void *grab_pointer;</span>
160 
161     static WindowContext* sm_mouse_drag_window;
162     static WindowContext* sm_grab_window;
163 public:
164     WindowContext(jobject, WindowContext *, long, WindowFrameType, WindowType, GdkWMFunction);
165 
166     bool hasIME();
167     bool filterIME(GdkEvent *);
168     void enableOrResetIME();
169     void disableIME();
170 
171     void paint(void*, jint, jint);
172     bool isEnabled();
173 
174     GdkWindow *get_gdk_window();
175     GtkWidget *get_gtk_widget();
176     GtkWindow *get_gtk_window();
177     WindowGeometry get_geometry();
178     jobject get_jwindow();
179     jobject get_jview();
</pre>
<hr />
<pre>
230     void exit_fullscreen();
231     void detach_from_java();
232     void increment_events_counter();
233     void decrement_events_counter();
234     size_t get_events_count();
235     ~WindowContext();
236 
237 protected:
238     void applyShapeMask(void *, uint width, uint height);
239 
240 private:
241     bool im_filter_keypress(GdkEventKey*);
242     void calculate_adjustments();
243     void apply_geometry();
244     bool get_frame_extents_property(int *, int *, int *, int *);
245     void activate_window();
246     void size_position_notify(bool, bool);
247     void update_ontop_tree(bool);
248     bool on_top_inherited();
249     bool effective_on_top();
<span class="line-modified">250     bool grab_mouse_drag_focus(GdkWindow *, GdkEvent *, GdkCursor *, bool);</span>

251     void ungrab_mouse_drag_focus();
252 };
253 
254 void destroy_and_delete_ctx(WindowContext *ctx);
255 
256 class EventsCounterHelper {
257 private:
258     WindowContext *ctx;
259 public:
260     explicit EventsCounterHelper(WindowContext *context) {
261         ctx = context;
262         ctx-&gt;increment_events_counter();
263     }
264 
265     ~EventsCounterHelper() {
266         ctx-&gt;decrement_events_counter();
267         if (ctx-&gt;is_dead() &amp;&amp; ctx-&gt;get_events_count() == 0) {
268             delete ctx;
269         }
270         ctx = NULL;
</pre>
</td>
</tr>
</table>
<center><a href="glass_window.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>