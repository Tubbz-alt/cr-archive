<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.graphics/src/main/native-glass/gtk_experimental/glass_screen.cpp</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../index.html" target="_top">index</a> <a href="glass_window.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/native-glass/gtk_experimental/glass_screen.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
240 
241     jobjectArray jscreens = env-&gt;NewObjectArray(n_monitors, jScreenCls, NULL);
242     JNI_EXCEPTION_TO_CPP(env)
243     LOG1(&quot;Available monitors: %d\n&quot;, n_monitors)
244 
245     int i;
246     for (i=0; i &lt; n_monitors; i++) {
247         env-&gt;SetObjectArrayElement(jscreens, i, createJavaScreen(env, default_gdk_screen, i));
248         JNI_EXCEPTION_TO_CPP(env)
249     }
250 
251     return jscreens;
252 }
253 
254 
255 glong getScreenPtrForLocation(gint x, gint y) {
256     //Note: we are relying on the fact that javafx_screen_id == gdk_monitor_id
257 #if GTK_CHECK_VERSION(3, 22, 0)
258     GdkDisplay * display = gdk_display_get_default();
259     GdkMonitor * monitor = gdk_display_get_monitor_at_point(display, x, y);
<span class="line-modified">260     int n_monitors = gdk_display_get_n_monitors (display);</span>
261     for (int i = 0; i &lt; n_monitors; i++) {
262         if (gdk_display_get_monitor(display, i) == monitor)
263             return i;
264     }
265     return -1;
266 #else
267     return gdk_screen_get_monitor_at_point(gdk_screen_get_default(), x, y);
268 #endif
269 }
270 
271 void screen_settings_changed(GdkScreen* screen, gpointer user_data) {
272     (void)screen;
273     (void)user_data;
274 
275     mainEnv-&gt;CallStaticVoidMethod(jScreenCls, jScreenNotifySettingsChanged);
276     LOG_EXCEPTION(mainEnv);
277 }
</pre>
</td>
<td>
<hr />
<pre>
240 
241     jobjectArray jscreens = env-&gt;NewObjectArray(n_monitors, jScreenCls, NULL);
242     JNI_EXCEPTION_TO_CPP(env)
243     LOG1(&quot;Available monitors: %d\n&quot;, n_monitors)
244 
245     int i;
246     for (i=0; i &lt; n_monitors; i++) {
247         env-&gt;SetObjectArrayElement(jscreens, i, createJavaScreen(env, default_gdk_screen, i));
248         JNI_EXCEPTION_TO_CPP(env)
249     }
250 
251     return jscreens;
252 }
253 
254 
255 glong getScreenPtrForLocation(gint x, gint y) {
256     //Note: we are relying on the fact that javafx_screen_id == gdk_monitor_id
257 #if GTK_CHECK_VERSION(3, 22, 0)
258     GdkDisplay * display = gdk_display_get_default();
259     GdkMonitor * monitor = gdk_display_get_monitor_at_point(display, x, y);
<span class="line-modified">260     int n_monitors = gdk_display_get_n_monitors(display);</span>
261     for (int i = 0; i &lt; n_monitors; i++) {
262         if (gdk_display_get_monitor(display, i) == monitor)
263             return i;
264     }
265     return -1;
266 #else
267     return gdk_screen_get_monitor_at_point(gdk_screen_get_default(), x, y);
268 #endif
269 }
270 
271 void screen_settings_changed(GdkScreen* screen, gpointer user_data) {
272     (void)screen;
273     (void)user_data;
274 
275     mainEnv-&gt;CallStaticVoidMethod(jScreenCls, jScreenNotifySettingsChanged);
276     LOG_EXCEPTION(mainEnv);
277 }
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../index.html" target="_top">index</a> <a href="glass_window.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>