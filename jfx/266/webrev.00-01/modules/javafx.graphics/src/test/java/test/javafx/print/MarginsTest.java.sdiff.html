<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.graphics/src/test/java/test/javafx/print/MarginsTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.graphics/src/test/java/test/javafx/print/MarginsTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
27 
28 import javafx.application.Platform;
29 
30 import javafx.print.PageLayout;
31 import javafx.print.PageOrientation;
32 import javafx.print.Paper;
33 import javafx.print.Printer;
34 import static javafx.print.Printer.MarginType.HARDWARE_MINIMUM;
35 
36 import javax.print.PrintService;
37 import javax.print.PrintServiceLookup;
38 import javax.print.attribute.HashPrintRequestAttributeSet;
39 import javax.print.attribute.PrintRequestAttributeSet;
40 import javax.print.attribute.standard.Media;
41 import javax.print.attribute.standard.MediaPrintableArea;
42 import static javax.print.attribute.standard.MediaPrintableArea.INCH;
43 import javax.print.attribute.standard.MediaSizeName;
44 
45 import org.junit.Test;
46 import static org.junit.Assert.fail;

47 
48 public class MarginsTest {
49 
50     @Test public void test() {
51 
52         Printer printer = Printer.getDefaultPrinter();
<span class="line-modified">53         if (printer == null) {</span>
<span class="line-modified">54             return;</span>
<span class="line-removed">55         }</span>
56         PageLayout layout =
57              printer.createPageLayout(Paper.NA_LETTER,
58                                       PageOrientation.PORTRAIT,
59                                       HARDWARE_MINIMUM);
60 
61         int lm = (int)Math.round(layout.getLeftMargin());
62         int rm = (int)Math.round(layout.getRightMargin());
63         int bm = (int)Math.round(layout.getBottomMargin());
64         int tm = (int)Math.round(layout.getTopMargin());
65 
66         System.out.println(&quot;FX : lm=&quot; + lm + &quot; rm=&quot; + rm +
67                            &quot; tm=&quot; + tm + &quot; bm=&quot; + bm);
68         /* 0.75ins * 72 = 54 pts  */
69         if (lm != 54 || rm != 54 || tm != 54 || bm != 54) {
70             return; // Got something other than default.
71         }
72 
73         /* Could this be what we got from 2D ? Unlikely but check. */
74         PrintService service = PrintServiceLookup.lookupDefaultPrintService();
75         /* If this is null, too much chance of false positive to continue */
</pre>
</td>
<td>
<hr />
<pre>
27 
28 import javafx.application.Platform;
29 
30 import javafx.print.PageLayout;
31 import javafx.print.PageOrientation;
32 import javafx.print.Paper;
33 import javafx.print.Printer;
34 import static javafx.print.Printer.MarginType.HARDWARE_MINIMUM;
35 
36 import javax.print.PrintService;
37 import javax.print.PrintServiceLookup;
38 import javax.print.attribute.HashPrintRequestAttributeSet;
39 import javax.print.attribute.PrintRequestAttributeSet;
40 import javax.print.attribute.standard.Media;
41 import javax.print.attribute.standard.MediaPrintableArea;
42 import static javax.print.attribute.standard.MediaPrintableArea.INCH;
43 import javax.print.attribute.standard.MediaSizeName;
44 
45 import org.junit.Test;
46 import static org.junit.Assert.fail;
<span class="line-added">47 import static org.junit.Assume.assumeNotNull;</span>
48 
49 public class MarginsTest {
50 
51     @Test public void test() {
52 
53         Printer printer = Printer.getDefaultPrinter();
<span class="line-modified">54         assumeNotNull(printer);</span>
<span class="line-modified">55 </span>

56         PageLayout layout =
57              printer.createPageLayout(Paper.NA_LETTER,
58                                       PageOrientation.PORTRAIT,
59                                       HARDWARE_MINIMUM);
60 
61         int lm = (int)Math.round(layout.getLeftMargin());
62         int rm = (int)Math.round(layout.getRightMargin());
63         int bm = (int)Math.round(layout.getBottomMargin());
64         int tm = (int)Math.round(layout.getTopMargin());
65 
66         System.out.println(&quot;FX : lm=&quot; + lm + &quot; rm=&quot; + rm +
67                            &quot; tm=&quot; + tm + &quot; bm=&quot; + bm);
68         /* 0.75ins * 72 = 54 pts  */
69         if (lm != 54 || rm != 54 || tm != 54 || bm != 54) {
70             return; // Got something other than default.
71         }
72 
73         /* Could this be what we got from 2D ? Unlikely but check. */
74         PrintService service = PrintServiceLookup.lookupDefaultPrintService();
75         /* If this is null, too much chance of false positive to continue */
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>