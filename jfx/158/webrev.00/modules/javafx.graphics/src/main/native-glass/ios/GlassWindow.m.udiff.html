<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.graphics/src/main/native-glass/ios/GlassWindow.m</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="GlassWindow.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.graphics/src/main/native-glass/ios/GlassWindow.m</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -211,10 +211,59 @@</span>
  }
  
  +(GlassMainView *) getMasterWindowHost {
      return masterWindowHost;
  }
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ - (BOOL) canBecomeFirstResponder {return YES;}</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ - (BOOL)hasText {</span>
<span class="udiff-line-added">+         return YES;</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ - (void)insertText:(NSString *)theText {</span>
<span class="udiff-line-added">+     const char * inputString = [theText UTF8String];</span>
<span class="udiff-line-added">+     for(GlassViewGL * subView in [self-&gt;hostView subviews]) {</span>
<span class="udiff-line-added">+         if(subView != nil &amp;&amp; [subView isKindOfClass:[GlassViewGL class]] == YES) {</span>
<span class="udiff-line-added">+             [subView doInsertText:theText];</span>
<span class="udiff-line-added">+         }</span>
<span class="udiff-line-added">+     }</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ - (void)deleteBackward {</span>
<span class="udiff-line-added">+     for(GlassViewGL * subView in [self-&gt;hostView subviews]) {</span>
<span class="udiff-line-added">+         if(subView != nil &amp;&amp; [subView isKindOfClass:[GlassViewGL class]] == YES) {</span>
<span class="udiff-line-added">+             [subView doDeleteBackward];</span>
<span class="udiff-line-added">+         }</span>
<span class="udiff-line-added">+     }</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ JNIEXPORT void JNICALL Java_javafx_scene_control_skin_TextFieldSkinIos_showSoftwareKeyboard</span>
<span class="udiff-line-added">+ (JNIEnv *env, jobject jTextFieldSkin)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     [focusOwner becomeFirstResponder];</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ JNIEXPORT void JNICALL Java_javafx_scene_control_skin_TextFieldSkinIos_hideSoftwareKeyboard</span>
<span class="udiff-line-added">+ (JNIEnv *env, jobject jTextFieldSkin)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     [focusOwner resignFirstResponder];</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ JNIEXPORT void JNICALL Java_javafx_scene_control_skin_TextAreaSkinIos_showSoftwareKeyboard</span>
<span class="udiff-line-added">+ (JNIEnv *env, jobject jTextAreaSkin)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     [focusOwner becomeFirstResponder];</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ JNIEXPORT void JNICALL Java_javafx_scene_control_skin_TextAreaSkinIos_hideSoftwareKeyboard</span>
<span class="udiff-line-added">+ (JNIEnv *env, jobject jTextAreaSkin)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     [focusOwner resignFirstResponder];</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ </span>
  // request subviews to repaint
  - (void) displaySubviews
  {
      NSAssert([[NSThread currentThread] isMainThread] == YES, @&quot;must be on main thread&quot; );
      for (UIView * subView in [self-&gt;hostView subviews]) {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1629,29 +1678,12 @@</span>
  (JNIEnv *env, jobject jwin, jlong ptr, jstring text, jint type, jdouble width, jdouble height,
      jdouble mxx, jdouble mxy, jdouble mxz, jdouble mxt,
      jdouble myx, jdouble myy, jdouble myz, jdouble myt,
      jdouble mzx, jdouble mzy, jdouble mzz, jdouble mzt)
  {
<span class="udiff-line-modified-removed">-     GLASS_ASSERT_MAIN_JAVA_THREAD(env);</span>
<span class="udiff-line-modified-removed">-     GLASS_POOL_ENTER;</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     GlassWindow *window = getGlassWindow(env, ptr);</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     const char *str;</span>
<span class="udiff-line-removed">-     str = (*env)-&gt;GetStringUTFChars(env, text, NULL);</span>
<span class="udiff-line-removed">-     if (str == nil) {</span>
<span class="udiff-line-removed">-         return;</span>
<span class="udiff-line-removed">-     }</span>
<span class="udiff-line-removed">-     NSString *nsstr = [NSString stringWithUTF8String:str];</span>
<span class="udiff-line-removed">-     (*env)-&gt;ReleaseStringUTFChars(env, text, str);</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     [window requestInput:nsstr type:(int)type width:(double)width height:(double)height</span>
<span class="udiff-line-removed">-                      mxx:(double)mxx mxy:(double)mxy mxz:(double)mxz mxt:(double)mxt</span>
<span class="udiff-line-removed">-                      myx:(double)myx myy:(double)myy myz:(double)myz myt:(double)myt</span>
<span class="udiff-line-removed">-                      mzx:(double)mzx mzy:(double)mzy mzz:(double)mzz mzt:(double)mzt];</span>
<span class="udiff-line-removed">-     GLASS_POOL_EXIT;</span>
<span class="udiff-line-removed">-     GLASS_CHECK_EXCEPTION(env);</span>
<span class="udiff-line-modified-added">+     fprintf(stderr, &quot;We should never be here!\n&quot;);</span>
<span class="udiff-line-modified-added">+     return;</span>
  }
  
  
  /*
   * Class:     com_sun_glass_ui_ios_IosWindow
</pre>
<center><a href="GlassWindow.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>