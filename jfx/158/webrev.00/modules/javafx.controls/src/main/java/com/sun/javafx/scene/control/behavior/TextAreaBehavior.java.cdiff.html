<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/behavior/TextAreaBehavior.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="TextFieldBehavior.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/behavior/TextAreaBehavior.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 147,37 ***</span>
                  // The only real difference is that TextFieldBehavior selects all the text when the control
                  // receives focus (when not gained by mouse click), whereas TextArea doesn&#39;t, and also the
                  // TextArea doesn&#39;t lose selection on focus lost, whereas the TextField does.
                  final TextArea textArea = getNode();
                  if (textArea.isFocused()) {
<span class="line-removed">-                     if (PlatformUtil.isIOS()) {</span>
<span class="line-removed">-                         // Special handling of focus on iOS is required to allow to</span>
<span class="line-removed">-                         // control native keyboard, because native keyboard is popped-up only when native</span>
<span class="line-removed">-                         // text component gets focus. When we have JFX keyboard we can remove this code</span>
<span class="line-removed">-                         final Bounds bounds = textArea.getBoundsInParent();</span>
<span class="line-removed">-                         double w = bounds.getWidth();</span>
<span class="line-removed">-                         double h = bounds.getHeight();</span>
<span class="line-removed">-                         Affine3D trans = TextFieldBehavior.calculateNodeToSceneTransform(textArea);</span>
<span class="line-removed">-                         String text = textArea.textProperty().getValueSafe();</span>
<span class="line-removed">- </span>
<span class="line-removed">-                         // we need to display native text input component on the place where JFX component is drawn</span>
<span class="line-removed">-                         // all parameters needed to do that are passed to native impl. here</span>
<span class="line-removed">-                         WindowHelper.getPeer(textArea.getScene().getWindow()).requestInput(</span>
<span class="line-removed">-                                 text, TextFieldBehavior.TextInputTypes.TEXT_AREA.ordinal(), w, h,</span>
<span class="line-removed">-                                 trans.getMxx(), trans.getMxy(), trans.getMxz(), trans.getMxt(),</span>
<span class="line-removed">-                                 trans.getMyx(), trans.getMyy(), trans.getMyz(), trans.getMyt(),</span>
<span class="line-removed">-                                 trans.getMzx(), trans.getMzy(), trans.getMzz(), trans.getMzt());</span>
<span class="line-removed">-                     }</span>
                      if (!focusGainedByMouseClick) {
                          setCaretAnimating(true);
                      }
                  } else {
  //                    skin.hideCaret();
<span class="line-removed">-                     if (PlatformUtil.isIOS() &amp;&amp; textArea.getScene() != null) {</span>
<span class="line-removed">-                         // releasing the focus =&gt; we need to hide the native component and also native keyboard</span>
<span class="line-removed">-                         WindowHelper.getPeer(textArea.getScene().getWindow()).releaseInput();</span>
<span class="line-removed">-                     }</span>
                      focusGainedByMouseClick = false;
                      setCaretAnimating(false);
                  }
              }
          });
<span class="line-new-header">--- 147,15 ---</span>
</pre>
<center>&lt; prev <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="TextFieldBehavior.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>