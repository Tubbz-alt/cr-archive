<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.controls/src/main/java/javafx/scene/control/skin/LabeledSkinBase.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../com/sun/javafx/scene/control/skin/Utils.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../test/java/test/javafx/scene/control/skin/LabelSkinTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.controls/src/main/java/javafx/scene/control/skin/LabeledSkinBase.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
1090             availableHeight = Math.max(availableHeight, 0);
1091 
1092             if (h == -1) {
1093                 h = availableHeight;
1094             }
1095             double minH = Math.min(computeMinLabeledPartHeight(wrapWidth, snappedTopInset() , snappedRightInset(), snappedBottomInset(), snappedLeftInset()), availableHeight);
1096             if (verticalPosition &amp;&amp; labeled.getGraphic() != null) {
1097                 double graphicH = labeled.getGraphic().getLayoutBounds().getHeight() + labeled.getGraphicTextGap();
1098                 h -= graphicH;
1099                 minH -= graphicH;
1100             }
1101             wrapHeight = Math.max(minH, h);
1102 
1103             updateWrappingWidth();
1104 
1105             Font font = text.getFont();
1106             OverrunStyle truncationStyle = labeled.getTextOverrun();
1107             String ellipsisString = labeled.getEllipsisString();
1108 
1109             if (labeled.isWrapText()) {
<span class="line-modified">1110                 result = Utils.computeClippedWrappedText(font, s, wrapWidth, wrapHeight, truncationStyle, ellipsisString, text.getBoundsType());</span>
1111             } else if (multiline) {
1112                 StringBuilder sb = new StringBuilder();
1113 
1114                 String[] splits = s.split(&quot;\n&quot;);
1115                 for (int i = 0; i &lt; splits.length; i++) {
1116                     sb.append(Utils.computeClippedText(font, splits[i], wrapWidth, truncationStyle, ellipsisString));
1117                     if (i &lt; splits.length - 1) {
1118                         sb.append(&#39;\n&#39;);
1119                     }
1120                 }
1121 
1122                 // TODO: Consider what to do in the case where vertical space is
1123                 // limited and the last visible line isn&#39;t already truncated
1124                 // with a trailing ellipsis. What if the style calls for leading
1125                 // or center ellipses? We could possibly add an additional
1126                 // trailing ellipsis to the last visible line, like this:
1127 
1128                 // +--------------------------------+
1129                 // |  This is some long text with multiple lines\n
1130                 // |  where more than one exceed the|width\n
</pre>
</td>
<td>
<hr />
<pre>
1090             availableHeight = Math.max(availableHeight, 0);
1091 
1092             if (h == -1) {
1093                 h = availableHeight;
1094             }
1095             double minH = Math.min(computeMinLabeledPartHeight(wrapWidth, snappedTopInset() , snappedRightInset(), snappedBottomInset(), snappedLeftInset()), availableHeight);
1096             if (verticalPosition &amp;&amp; labeled.getGraphic() != null) {
1097                 double graphicH = labeled.getGraphic().getLayoutBounds().getHeight() + labeled.getGraphicTextGap();
1098                 h -= graphicH;
1099                 minH -= graphicH;
1100             }
1101             wrapHeight = Math.max(minH, h);
1102 
1103             updateWrappingWidth();
1104 
1105             Font font = text.getFont();
1106             OverrunStyle truncationStyle = labeled.getTextOverrun();
1107             String ellipsisString = labeled.getEllipsisString();
1108 
1109             if (labeled.isWrapText()) {
<span class="line-modified">1110                 result = Utils.computeClippedWrappedText(font, s, wrapWidth, wrapHeight, labeled.getLineSpacing(), truncationStyle, ellipsisString, text.getBoundsType());</span>
1111             } else if (multiline) {
1112                 StringBuilder sb = new StringBuilder();
1113 
1114                 String[] splits = s.split(&quot;\n&quot;);
1115                 for (int i = 0; i &lt; splits.length; i++) {
1116                     sb.append(Utils.computeClippedText(font, splits[i], wrapWidth, truncationStyle, ellipsisString));
1117                     if (i &lt; splits.length - 1) {
1118                         sb.append(&#39;\n&#39;);
1119                     }
1120                 }
1121 
1122                 // TODO: Consider what to do in the case where vertical space is
1123                 // limited and the last visible line isn&#39;t already truncated
1124                 // with a trailing ellipsis. What if the style calls for leading
1125                 // or center ellipses? We could possibly add an additional
1126                 // trailing ellipsis to the last visible line, like this:
1127 
1128                 // +--------------------------------+
1129                 // |  This is some long text with multiple lines\n
1130                 // |  where more than one exceed the|width\n
</pre>
</td>
</tr>
</table>
<center><a href="../../../../com/sun/javafx/scene/control/skin/Utils.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../test/java/test/javafx/scene/control/skin/LabelSkinTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>