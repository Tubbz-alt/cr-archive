<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/skin/Utils.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/skin/Utils.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
412                 index = (trailingWhitespace == -1 || trailingIndexIsFirstLetterInWord) ? (trailingIndex) : (trailingWhitespace + 1);
413                 String trailing = text.substring(index);
414                 return leading + ellipsis + trailing;
415             }
416         }
417     }
418 
419     public static String computeClippedWrappedText(Font font, String text, double width,
420                                             double height, double lineSpacing, OverrunStyle truncationStyle,
421                                             String ellipsisString, TextBoundsType boundsType) {
422         if (font == null) {
423             throw new IllegalArgumentException(&quot;Must specify a font&quot;);
424         }
425 
426         // The height given does not need to include the line spacing after
427         // the last line to be able to render that last line correctly.
428         //
429         // However the calculations include the line spacing as part of a
430         // line&#39;s height.  In order to not cut off the last line because its
431         // line spacing wouldn&#39;t fit, the height used for the calculation
<span class="line-modified">432         // is increase here with the line spacing amount.</span>
433 
434         height += lineSpacing;
435 
436         String ellipsis = (truncationStyle == CLIP) ? &quot;&quot; : ellipsisString;
437         int eLen = ellipsis.length();
438         // Do this before using helper, as it&#39;s not reentrant.
439         double eWidth = computeTextWidth(font, ellipsis, 0);
440         double eHeight = computeTextHeight(font, ellipsis, 0, lineSpacing, boundsType);
441 
442         if (width &lt; eWidth || height &lt; eHeight) {
443             // The ellipsis doesn&#39;t fit.
444             return text; // RT-30868 - return text, not empty string.
445         }
446 
447         helper.setText(text);
448         helper.setFont(font);
449         helper.setWrappingWidth((int)Math.ceil(width));
450         helper.setBoundsType(boundsType);
451         helper.setLineSpacing(lineSpacing);
452 
</pre>
</td>
<td>
<hr />
<pre>
412                 index = (trailingWhitespace == -1 || trailingIndexIsFirstLetterInWord) ? (trailingIndex) : (trailingWhitespace + 1);
413                 String trailing = text.substring(index);
414                 return leading + ellipsis + trailing;
415             }
416         }
417     }
418 
419     public static String computeClippedWrappedText(Font font, String text, double width,
420                                             double height, double lineSpacing, OverrunStyle truncationStyle,
421                                             String ellipsisString, TextBoundsType boundsType) {
422         if (font == null) {
423             throw new IllegalArgumentException(&quot;Must specify a font&quot;);
424         }
425 
426         // The height given does not need to include the line spacing after
427         // the last line to be able to render that last line correctly.
428         //
429         // However the calculations include the line spacing as part of a
430         // line&#39;s height.  In order to not cut off the last line because its
431         // line spacing wouldn&#39;t fit, the height used for the calculation
<span class="line-modified">432         // is increased here with the line spacing amount.</span>
433 
434         height += lineSpacing;
435 
436         String ellipsis = (truncationStyle == CLIP) ? &quot;&quot; : ellipsisString;
437         int eLen = ellipsis.length();
438         // Do this before using helper, as it&#39;s not reentrant.
439         double eWidth = computeTextWidth(font, ellipsis, 0);
440         double eHeight = computeTextHeight(font, ellipsis, 0, lineSpacing, boundsType);
441 
442         if (width &lt; eWidth || height &lt; eHeight) {
443             // The ellipsis doesn&#39;t fit.
444             return text; // RT-30868 - return text, not empty string.
445         }
446 
447         helper.setText(text);
448         helper.setFont(font);
449         helper.setWrappingWidth((int)Math.ceil(width));
450         helper.setBoundsType(boundsType);
451         helper.setLineSpacing(lineSpacing);
452 
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>