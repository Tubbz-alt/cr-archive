<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/pcre/pcre_globals.c</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 /*************************************************
 2 *      Perl-Compatible Regular Expressions       *
 3 *************************************************/
 4 
 5 /* PCRE is a library of functions to support regular expressions whose syntax
 6 and semantics are as close as possible to those of the Perl 5 language.
 7 
 8                        Written by Philip Hazel
 9            Copyright (c) 1997-2012 University of Cambridge
10 
11 -----------------------------------------------------------------------------
12 Redistribution and use in source and binary forms, with or without
13 modification, are permitted provided that the following conditions are met:
14 
15     * Redistributions of source code must retain the above copyright notice,
16       this list of conditions and the following disclaimer.
17 
18     * Redistributions in binary form must reproduce the above copyright
19       notice, this list of conditions and the following disclaimer in the
20       documentation and/or other materials provided with the distribution.
21 
22     * Neither the name of the University of Cambridge nor the names of its
23       contributors may be used to endorse or promote products derived from
24       this software without specific prior written permission.
25 
26 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;
27 AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
28 IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
29 ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
30 LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
31 CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
32 SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
33 INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
34 CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
35 ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
36 POSSIBILITY OF SUCH DAMAGE.
37 -----------------------------------------------------------------------------
38 */
39 
40 
41 /* This module contains global variables that are exported by the PCRE library.
42 PCRE is thread-clean and doesn&#39;t use any global variables in the normal sense.
43 However, it calls memory allocation and freeing functions via the four
44 indirections below, and it can optionally do callouts, using the fifth
45 indirection. These values can be changed by the caller, but are shared between
46 all threads.
47 
48 For MS Visual Studio and Symbian OS, there are problems in initializing these
49 variables to non-local functions. In these cases, therefore, an indirection via
50 a local function is used.
51 
52 Also, when compiling for Virtual Pascal, things are done differently, and
53 global variables are not used. */
54 
55 #include &quot;config.h&quot;
56 
57 #include &quot;pcre_internal.h&quot;
58 
59 #ifdef GLIB_COMPILATION
60 #include &quot;gmem.h&quot;
61 #else
62 #include &lt;glib.h&gt;
63 #endif /* GLIB_COMPILATION */
64 
65 #if defined _MSC_VER || defined  __SYMBIAN32__
66 static void* LocalPcreMalloc(size_t aSize)
67   {
68   return malloc(aSize);
69   }
70 static void LocalPcreFree(void* aPtr)
71   {
72   free(aPtr);
73   }
74 PCRE_EXP_DATA_DEFN void *(*PUBL(malloc))(size_t) = LocalPcreMalloc;
75 PCRE_EXP_DATA_DEFN void  (*PUBL(free))(void *) = LocalPcreFree;
76 PCRE_EXP_DATA_DEFN void *(*PUBL(stack_malloc))(size_t) = LocalPcreMalloc;
77 PCRE_EXP_DATA_DEFN void  (*PUBL(stack_free))(void *) = LocalPcreFree;
78 PCRE_EXP_DATA_DEFN int   (*PUBL(callout))(PUBL(callout_block) *) = NULL;
79 
80 #elif !defined VPCOMPAT
81 PCRE_EXP_DATA_DEFN void *(*PUBL(malloc))(size_t) = g_try_malloc;
82 PCRE_EXP_DATA_DEFN void  (*PUBL(free))(void *) = g_free;
83 PCRE_EXP_DATA_DEFN void *(*PUBL(stack_malloc))(size_t) = g_try_malloc;
84 PCRE_EXP_DATA_DEFN void  (*PUBL(stack_free))(void *) = g_free;
85 PCRE_EXP_DATA_DEFN int   (*PUBL(callout))(PUBL(callout_block) *) = NULL;
86 #endif
87 
88 /* End of pcre_globals.c */
    </pre>
  </body>
</html>