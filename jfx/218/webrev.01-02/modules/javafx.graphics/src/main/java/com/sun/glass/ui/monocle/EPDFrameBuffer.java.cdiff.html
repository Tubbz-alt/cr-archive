<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.graphics/src/main/java/com/sun/glass/ui/monocle/EPDFrameBuffer.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../Pixels.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="LinuxEventBuffer.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/java/com/sun/glass/ui/monocle/EPDFrameBuffer.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 580,13 ***</span>
       *
       * @return a 32-bit pixel buffer matching the resolution of the frame buffer
       */
      ByteBuffer getOffscreenBuffer() {
          /*
<span class="line-modified">!          * Allocates a direct byte buffer to avoid bug JDK-8201567,</span>
<span class="line-modified">!          * &quot;QuantumRenderer modifies buffer in use by JavaFX Application Thread&quot;</span>
<span class="line-modified">!          * &lt;https://bugs.openjdk.java.net/browse/JDK-8201567&gt;.</span>
           */
          int size = xresVirtual * yres * Integer.BYTES;
          return ByteBuffer.allocateDirect(size);
      }
  
<span class="line-new-header">--- 580,15 ---</span>
       *
       * @return a 32-bit pixel buffer matching the resolution of the frame buffer
       */
      ByteBuffer getOffscreenBuffer() {
          /*
<span class="line-modified">!          * In this case, a direct byte buffer outside of the normal heap is</span>
<span class="line-modified">!          * faster than a non-direct byte buffer on the heap. The frame rate is</span>
<span class="line-modified">!          * roughly 10 to 40 percent faster for a framebuffer with 8 bits per</span>
<span class="line-added">+          * pixel and 40 to 60 percent faster for a framebuffer with 16 bits per</span>
<span class="line-added">+          * pixel, depending on the device processor and screen size.</span>
           */
          int size = xresVirtual * yres * Integer.BYTES;
          return ByteBuffer.allocateDirect(size);
      }
  
</pre>
<center><a href="../Pixels.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="LinuxEventBuffer.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>