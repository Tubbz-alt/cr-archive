<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WebCore/layout/displaytree/DisplayRect.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DisplayBox.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="DisplayRun.h.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/layout/displaytree/DisplayRect.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -25,22 +25,21 @@</span>
  
  #pragma once
  
  #if ENABLE(LAYOUT_FORMATTING_CONTEXT)
  
<span class="udiff-line-added">+ #include &quot;LayoutRect.h&quot;</span>
  #include &quot;LayoutUnits.h&quot;
  
  namespace WebCore {
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- class RenderStyle;</span>
<span class="udiff-line-removed">- </span>
  namespace Display {
  
  class Rect {
  public:
      Rect() = default;
      Rect(LayoutUnit top, LayoutUnit left, LayoutUnit width, LayoutUnit height);
<span class="udiff-line-added">+     Rect(LayoutPoint topLeft, LayoutUnit width, LayoutUnit height);</span>
  
      LayoutUnit top() const;
      LayoutUnit left() const;
      LayoutPoint topLeft() const;
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -65,20 +64,20 @@</span>
      void shiftBottomTo(LayoutUnit);
  
      void moveHorizontally(LayoutUnit);
      void moveVertically(LayoutUnit);
  
<span class="udiff-line-modified-removed">-     void expand(LayoutUnit, LayoutUnit);</span>
<span class="udiff-line-modified-removed">-     void expandHorizontally(LayoutUnit delta) { expand(delta, 0); }</span>
<span class="udiff-line-modified-removed">-     void expandVertically(LayoutUnit delta) { expand(0, delta); }</span>
<span class="udiff-line-modified-added">+     void expand(Optional&lt;LayoutUnit&gt;, Optional&lt;LayoutUnit&gt;);</span>
<span class="udiff-line-modified-added">+     void expandHorizontally(LayoutUnit delta) { expand(delta, { }); }</span>
<span class="udiff-line-modified-added">+     void expandVertically(LayoutUnit delta) { expand({ }, delta); }</span>
      bool intersects(const Rect&amp; rect) const { return m_rect.intersects(rect); }
  
      Rect clone() const;
      operator LayoutRect() const;
  
  private:
<span class="udiff-line-modified-removed">- #if !ASSERT_DISABLED</span>
<span class="udiff-line-modified-added">+ #if ASSERT_ENABLED</span>
      void invalidateTop() { m_hasValidTop = false; }
      void invalidateLeft() { m_hasValidLeft = false; }
      void invalidateWidth() { m_hasValidWidth = false; }
      void invalidateHeight() { m_hasValidHeight = false; }
      void invalidatePosition();
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -92,26 +91,31 @@</span>
  
      bool m_hasValidTop { false };
      bool m_hasValidLeft { false };
      bool m_hasValidWidth { false };
      bool m_hasValidHeight { false };
<span class="udiff-line-modified-removed">- #endif</span>
<span class="udiff-line-modified-added">+ #endif // ASSERT_ENABLED</span>
      LayoutRect m_rect;
  };
  
  inline Rect::Rect(LayoutUnit top, LayoutUnit left, LayoutUnit width, LayoutUnit height)
      : m_rect(left, top, width, height)
  {
<span class="udiff-line-modified-removed">- #if !ASSERT_DISABLED</span>
<span class="udiff-line-modified-added">+ #if ASSERT_ENABLED</span>
      m_hasValidTop = true;
      m_hasValidLeft = true;
      m_hasValidWidth = true;
      m_hasValidHeight = true;
  #endif
  }
  
<span class="udiff-line-modified-removed">- #if !ASSERT_DISABLED</span>
<span class="udiff-line-modified-added">+ inline Rect::Rect(LayoutPoint topLeft, LayoutUnit width, LayoutUnit height)</span>
<span class="udiff-line-added">+     : Rect(topLeft.y(), topLeft.x(), width, height)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ #if ASSERT_ENABLED</span>
  inline void Rect::invalidatePosition()
  {
      invalidateTop();
      invalidateLeft();
  }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -183,51 +187,51 @@</span>
      return m_rect.height();
  }
  
  inline void Rect::setTopLeft(const LayoutPoint&amp; topLeft)
  {
<span class="udiff-line-modified-removed">- #if !ASSERT_DISABLED</span>
<span class="udiff-line-modified-added">+ #if ASSERT_ENABLED</span>
      setHasValidPosition();
  #endif
      m_rect.setLocation(topLeft);
  }
  
  inline void Rect::setTop(LayoutUnit top)
  {
<span class="udiff-line-modified-removed">- #if !ASSERT_DISABLED</span>
<span class="udiff-line-modified-added">+ #if ASSERT_ENABLED</span>
      m_hasValidTop = true;
  #endif
      m_rect.setY(top);
  }
  
  inline void Rect::setLeft(LayoutUnit left)
  {
<span class="udiff-line-modified-removed">- #if !ASSERT_DISABLED</span>
<span class="udiff-line-modified-added">+ #if ASSERT_ENABLED</span>
      m_hasValidLeft = true;
  #endif
      m_rect.setX(left);
  }
  
  inline void Rect::setWidth(LayoutUnit width)
  {
<span class="udiff-line-modified-removed">- #if !ASSERT_DISABLED</span>
<span class="udiff-line-modified-added">+ #if ASSERT_ENABLED</span>
      m_hasValidWidth = true;
  #endif
      m_rect.setWidth(width);
  }
  
  inline void Rect::setHeight(LayoutUnit height)
  {
<span class="udiff-line-modified-removed">- #if !ASSERT_DISABLED</span>
<span class="udiff-line-modified-added">+ #if ASSERT_ENABLED</span>
      m_hasValidHeight = true;
  #endif
      m_rect.setHeight(height);
  }
  
  inline void Rect::setSize(const LayoutSize&amp; size)
  {
<span class="udiff-line-modified-removed">- #if !ASSERT_DISABLED</span>
<span class="udiff-line-modified-added">+ #if ASSERT_ENABLED</span>
      setHasValidSize();
  #endif
      m_rect.setSize(size);
  }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -265,20 +269,21 @@</span>
  {
      ASSERT(m_hasValidTop);
      m_rect.move(LayoutSize { 0, offset });
  }
  
<span class="udiff-line-modified-removed">- inline void Rect::expand(LayoutUnit width, LayoutUnit height)</span>
<span class="udiff-line-modified-added">+ inline void Rect::expand(Optional&lt;LayoutUnit&gt; width, Optional&lt;LayoutUnit&gt; height)</span>
  {
<span class="udiff-line-modified-removed">-     ASSERT(hasValidGeometry());</span>
<span class="udiff-line-modified-removed">-     m_rect.expand(width, height);</span>
<span class="udiff-line-modified-added">+     ASSERT(!width || m_hasValidWidth);</span>
<span class="udiff-line-modified-added">+     ASSERT(!height || m_hasValidHeight);</span>
<span class="udiff-line-added">+     m_rect.expand(width.valueOr(0), height.valueOr(0));</span>
  }
  
  inline Rect Rect::clone() const
  {
      Rect rect;
<span class="udiff-line-modified-removed">- #if !ASSERT_DISABLED</span>
<span class="udiff-line-modified-added">+ #if ASSERT_ENABLED</span>
      rect.m_hasValidTop = m_hasValidTop;
      rect.m_hasValidLeft = m_hasValidLeft;
      rect.m_hasValidWidth = m_hasValidWidth;
      rect.m_hasValidHeight  = m_hasValidHeight;
  #endif
</pre>
<center><a href="DisplayBox.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="DisplayRun.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>