<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/rendering/RenderBlock.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="RenderBlock.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="RenderBlockFlow.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/rendering/RenderBlock.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
282         return availableLogicalWidthForContent(fragmentAtBlockOffset(blockOffset));
283     }
284     LayoutUnit startOffsetForContent(LayoutUnit blockOffset) const
285     {
286         return startOffsetForContent(fragmentAtBlockOffset(blockOffset));
287     }
288     LayoutUnit endOffsetForContent(LayoutUnit blockOffset) const
289     {
290         return endOffsetForContent(fragmentAtBlockOffset(blockOffset));
291     }
292     LayoutUnit logicalLeftOffsetForContent() const { return isHorizontalWritingMode() ? borderLeft() + paddingLeft() : borderTop() + paddingTop(); }
293     LayoutUnit logicalRightOffsetForContent() const { return logicalLeftOffsetForContent() + availableLogicalWidth(); }
294     LayoutUnit startOffsetForContent() const { return style().isLeftToRightDirection() ? logicalLeftOffsetForContent() : logicalWidth() - logicalRightOffsetForContent(); }
295     LayoutUnit endOffsetForContent() const { return !style().isLeftToRightDirection() ? logicalLeftOffsetForContent() : logicalWidth() - logicalRightOffsetForContent(); }
296 
297     LayoutUnit logicalLeftSelectionOffset(RenderBlock&amp; rootBlock, LayoutUnit position, const LogicalSelectionOffsetCaches&amp;);
298     LayoutUnit logicalRightSelectionOffset(RenderBlock&amp; rootBlock, LayoutUnit position, const LogicalSelectionOffsetCaches&amp;);
299 
300     LayoutUnit computeStartPositionDeltaForChildAvoidingFloats(const RenderBox&amp; child, LayoutUnit childMarginStart, RenderFragmentContainer* = 0);
301 
<span class="line-modified">302 #ifndef NDEBUG</span>
303     void checkPositionedObjectsNeedLayout();
304 #endif
305 
306     void updateHitTestResult(HitTestResult&amp;, const LayoutPoint&amp;) override;
307 
308     bool canHaveChildren() const override { return true; }
309     virtual bool canDropAnonymousBlockChild() const { return true; }
310 
311     RenderFragmentedFlow* cachedEnclosingFragmentedFlow() const;
312     void setCachedEnclosingFragmentedFlowNeedsUpdate();
313     virtual bool cachedEnclosingFragmentedFlowNeedsUpdate() const;
314     void resetEnclosingFragmentedFlowAndChildInfoIncludingDescendants(RenderFragmentedFlow* = nullptr) final;
315 
316     Optional&lt;LayoutUnit&gt; availableLogicalHeightForPercentageComputation() const;
317     bool hasDefiniteLogicalHeight() const;
318 


319 protected:
320     RenderFragmentedFlow* locateEnclosingFragmentedFlow() const override;
321     void willBeDestroyed() override;
322 
323     void layout() override;
324 
325     void layoutPositionedObjects(bool relayoutChildren, bool fixedPositionObjectsOnly = false);
326     virtual void layoutPositionedObject(RenderBox&amp;, bool relayoutChildren, bool fixedPositionObjectsOnly);
327 
328     void markFixedPositionObjectForLayoutIfNeeded(RenderBox&amp; child);
329 
330     LayoutUnit marginIntrinsicLogicalWidthForChild(RenderBox&amp;) const;
331 
332     void paint(PaintInfo&amp;, const LayoutPoint&amp;) override;
333     void paintObject(PaintInfo&amp;, const LayoutPoint&amp;) override;
334     virtual void paintChildren(PaintInfo&amp; forSelf, const LayoutPoint&amp;, PaintInfo&amp; forChild, bool usePrintRect);
335     enum PaintBlockType { PaintAsBlock, PaintAsInlineBlock };
336     bool paintChild(RenderBox&amp;, PaintInfo&amp; forSelf, const LayoutPoint&amp;, PaintInfo&amp; forChild, bool usePrintRect, PaintBlockType paintType = PaintAsBlock);
337 
338     LayoutUnit logicalRightOffsetForLine(LayoutUnit logicalTop, LayoutUnit fixedOffset, bool applyTextIndent, LayoutUnit logicalHeight = 0_lu) const
</pre>
<hr />
<pre>
474     LayoutRect blockSelectionGap(RenderBlock&amp; rootBlock, const LayoutPoint&amp; rootBlockPhysicalPosition, const LayoutSize&amp; offsetFromRootBlock,
475         LayoutUnit lastLogicalTop, LayoutUnit lastLogicalLeft, LayoutUnit lastLogicalRight, LayoutUnit logicalBottom, const LogicalSelectionOffsetCaches&amp;, const PaintInfo*);
476 
477     // FIXME-BLOCKFLOW: Remove virtualizaion when all callers have moved to RenderBlockFlow
478     virtual void clipOutFloatingObjects(RenderBlock&amp;, const PaintInfo*, const LayoutPoint&amp;, const LayoutSize&amp;) { };
479     friend class LogicalSelectionOffsetCaches;
480 
481     void paintContinuationOutlines(PaintInfo&amp;, const LayoutPoint&amp;);
482 
483     LayoutRect localCaretRect(InlineBox*, unsigned caretOffset, LayoutUnit* extraWidthToEndOfLine = 0) final;
484 
485     // FIXME-BLOCKFLOW: Remove virtualizaion when all callers have moved to RenderBlockFlow
486     virtual VisiblePosition positionForPointWithInlineChildren(const LayoutPoint&amp;, const RenderFragmentContainer*);
487 
488     RenderPtr&lt;RenderBlock&gt; clone() const;
489 
490     RenderFragmentedFlow* updateCachedEnclosingFragmentedFlow(RenderFragmentedFlow*) const;
491 
492     void removePositionedObjectsIfNeeded(const RenderStyle&amp; oldStyle, const RenderStyle&amp; newStyle);
493 


494 private:
495     bool hasRareData() const;
496 
497 protected:
498     void dirtyForLayoutFromPercentageHeightDescendants();
499 
500 protected:
501     bool recomputeLogicalWidth();
502 
503 public:
504     LayoutUnit offsetFromLogicalTopOfFirstPage() const override;
505     RenderFragmentContainer* fragmentAtBlockOffset(LayoutUnit) const;
506 
507     // FIXME: This is temporary to allow us to move code from RenderBlock into RenderBlockFlow that accesses member variables that we haven&#39;t moved out of
508     // RenderBlock yet.
509     friend class RenderBlockFlow;
510     // FIXME-BLOCKFLOW: Remove this when the line layout stuff has all moved out of RenderBlock
511     friend class LineBreaker;
512 
513     // RenderRubyBase objects need to be able to split and merge, moving their children around
</pre>
</td>
<td>
<hr />
<pre>
282         return availableLogicalWidthForContent(fragmentAtBlockOffset(blockOffset));
283     }
284     LayoutUnit startOffsetForContent(LayoutUnit blockOffset) const
285     {
286         return startOffsetForContent(fragmentAtBlockOffset(blockOffset));
287     }
288     LayoutUnit endOffsetForContent(LayoutUnit blockOffset) const
289     {
290         return endOffsetForContent(fragmentAtBlockOffset(blockOffset));
291     }
292     LayoutUnit logicalLeftOffsetForContent() const { return isHorizontalWritingMode() ? borderLeft() + paddingLeft() : borderTop() + paddingTop(); }
293     LayoutUnit logicalRightOffsetForContent() const { return logicalLeftOffsetForContent() + availableLogicalWidth(); }
294     LayoutUnit startOffsetForContent() const { return style().isLeftToRightDirection() ? logicalLeftOffsetForContent() : logicalWidth() - logicalRightOffsetForContent(); }
295     LayoutUnit endOffsetForContent() const { return !style().isLeftToRightDirection() ? logicalLeftOffsetForContent() : logicalWidth() - logicalRightOffsetForContent(); }
296 
297     LayoutUnit logicalLeftSelectionOffset(RenderBlock&amp; rootBlock, LayoutUnit position, const LogicalSelectionOffsetCaches&amp;);
298     LayoutUnit logicalRightSelectionOffset(RenderBlock&amp; rootBlock, LayoutUnit position, const LogicalSelectionOffsetCaches&amp;);
299 
300     LayoutUnit computeStartPositionDeltaForChildAvoidingFloats(const RenderBox&amp; child, LayoutUnit childMarginStart, RenderFragmentContainer* = 0);
301 
<span class="line-modified">302 #if ASSERT_ENABLED</span>
303     void checkPositionedObjectsNeedLayout();
304 #endif
305 
306     void updateHitTestResult(HitTestResult&amp;, const LayoutPoint&amp;) override;
307 
308     bool canHaveChildren() const override { return true; }
309     virtual bool canDropAnonymousBlockChild() const { return true; }
310 
311     RenderFragmentedFlow* cachedEnclosingFragmentedFlow() const;
312     void setCachedEnclosingFragmentedFlowNeedsUpdate();
313     virtual bool cachedEnclosingFragmentedFlowNeedsUpdate() const;
314     void resetEnclosingFragmentedFlowAndChildInfoIncludingDescendants(RenderFragmentedFlow* = nullptr) final;
315 
316     Optional&lt;LayoutUnit&gt; availableLogicalHeightForPercentageComputation() const;
317     bool hasDefiniteLogicalHeight() const;
318 
<span class="line-added">319     virtual bool shouldResetChildLogicalHeightBeforeLayout(const RenderBox&amp;) const { return false; }</span>
<span class="line-added">320 </span>
321 protected:
322     RenderFragmentedFlow* locateEnclosingFragmentedFlow() const override;
323     void willBeDestroyed() override;
324 
325     void layout() override;
326 
327     void layoutPositionedObjects(bool relayoutChildren, bool fixedPositionObjectsOnly = false);
328     virtual void layoutPositionedObject(RenderBox&amp;, bool relayoutChildren, bool fixedPositionObjectsOnly);
329 
330     void markFixedPositionObjectForLayoutIfNeeded(RenderBox&amp; child);
331 
332     LayoutUnit marginIntrinsicLogicalWidthForChild(RenderBox&amp;) const;
333 
334     void paint(PaintInfo&amp;, const LayoutPoint&amp;) override;
335     void paintObject(PaintInfo&amp;, const LayoutPoint&amp;) override;
336     virtual void paintChildren(PaintInfo&amp; forSelf, const LayoutPoint&amp;, PaintInfo&amp; forChild, bool usePrintRect);
337     enum PaintBlockType { PaintAsBlock, PaintAsInlineBlock };
338     bool paintChild(RenderBox&amp;, PaintInfo&amp; forSelf, const LayoutPoint&amp;, PaintInfo&amp; forChild, bool usePrintRect, PaintBlockType paintType = PaintAsBlock);
339 
340     LayoutUnit logicalRightOffsetForLine(LayoutUnit logicalTop, LayoutUnit fixedOffset, bool applyTextIndent, LayoutUnit logicalHeight = 0_lu) const
</pre>
<hr />
<pre>
476     LayoutRect blockSelectionGap(RenderBlock&amp; rootBlock, const LayoutPoint&amp; rootBlockPhysicalPosition, const LayoutSize&amp; offsetFromRootBlock,
477         LayoutUnit lastLogicalTop, LayoutUnit lastLogicalLeft, LayoutUnit lastLogicalRight, LayoutUnit logicalBottom, const LogicalSelectionOffsetCaches&amp;, const PaintInfo*);
478 
479     // FIXME-BLOCKFLOW: Remove virtualizaion when all callers have moved to RenderBlockFlow
480     virtual void clipOutFloatingObjects(RenderBlock&amp;, const PaintInfo*, const LayoutPoint&amp;, const LayoutSize&amp;) { };
481     friend class LogicalSelectionOffsetCaches;
482 
483     void paintContinuationOutlines(PaintInfo&amp;, const LayoutPoint&amp;);
484 
485     LayoutRect localCaretRect(InlineBox*, unsigned caretOffset, LayoutUnit* extraWidthToEndOfLine = 0) final;
486 
487     // FIXME-BLOCKFLOW: Remove virtualizaion when all callers have moved to RenderBlockFlow
488     virtual VisiblePosition positionForPointWithInlineChildren(const LayoutPoint&amp;, const RenderFragmentContainer*);
489 
490     RenderPtr&lt;RenderBlock&gt; clone() const;
491 
492     RenderFragmentedFlow* updateCachedEnclosingFragmentedFlow(RenderFragmentedFlow*) const;
493 
494     void removePositionedObjectsIfNeeded(const RenderStyle&amp; oldStyle, const RenderStyle&amp; newStyle);
495 
<span class="line-added">496     void absoluteQuadsIgnoringContinuation(const FloatRect&amp;, Vector&lt;FloatQuad&gt;&amp;, bool* wasFixed) const override;</span>
<span class="line-added">497 </span>
498 private:
499     bool hasRareData() const;
500 
501 protected:
502     void dirtyForLayoutFromPercentageHeightDescendants();
503 
504 protected:
505     bool recomputeLogicalWidth();
506 
507 public:
508     LayoutUnit offsetFromLogicalTopOfFirstPage() const override;
509     RenderFragmentContainer* fragmentAtBlockOffset(LayoutUnit) const;
510 
511     // FIXME: This is temporary to allow us to move code from RenderBlock into RenderBlockFlow that accesses member variables that we haven&#39;t moved out of
512     // RenderBlock yet.
513     friend class RenderBlockFlow;
514     // FIXME-BLOCKFLOW: Remove this when the line layout stuff has all moved out of RenderBlock
515     friend class LineBreaker;
516 
517     // RenderRubyBase objects need to be able to split and merge, moving their children around
</pre>
</td>
</tr>
</table>
<center><a href="RenderBlock.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="RenderBlockFlow.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>