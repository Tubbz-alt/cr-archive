<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/heap/IsoCellSet.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="IsoCellSet.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="IsoCellSetInlines.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/heap/IsoCellSet.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 38,11 ***</span>
  class IsoSubspace;
  
  // Create a set of cells that are in an IsoSubspace. This allows concurrent O(1) set insertion and
  // removal. Each such set should be thought of as a 0.8% increase in object size for objects in that
  // IsoSubspace (it&#39;s like adding 1 bit every 16 bytes, or 1 bit every 128 bits).
<span class="line-modified">! class IsoCellSet : public BasicRawSentinelNode&lt;IsoCellSet&gt; {</span>
  public:
      IsoCellSet(IsoSubspace&amp; subspace);
      ~IsoCellSet();
  
      bool add(HeapCell* cell); // Returns true if the cell was newly added.
<span class="line-new-header">--- 38,11 ---</span>
  class IsoSubspace;
  
  // Create a set of cells that are in an IsoSubspace. This allows concurrent O(1) set insertion and
  // removal. Each such set should be thought of as a 0.8% increase in object size for objects in that
  // IsoSubspace (it&#39;s like adding 1 bit every 16 bytes, or 1 bit every 128 bits).
<span class="line-modified">! class IsoCellSet : public PackedRawSentinelNode&lt;IsoCellSet&gt; {</span>
  public:
      IsoCellSet(IsoSubspace&amp; subspace);
      ~IsoCellSet();
  
      bool add(HeapCell* cell); // Returns true if the cell was newly added.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 65,15 ***</span>
      void forEachLiveCell(const Func&amp;);
  
  private:
      friend class IsoSubspace;
  
<span class="line-modified">!     Bitmap&lt;MarkedBlock::atomsPerBlock&gt;* addSlow(size_t blockIndex);</span>
  
<span class="line-modified">!     void didResizeBits(size_t newSize);</span>
<span class="line-modified">!     void didRemoveBlock(size_t blockIndex);</span>
      void sweepToFreeList(MarkedBlock::Handle*);
  
      IsoSubspace&amp; m_subspace;
  
      // Idea: sweeping to free-list clears bits for those cells that were free-listed. The first time
      // we add a cell in a block, that block gets a free-list. Unless we do something that obviously
<span class="line-new-header">--- 65,18 ---</span>
      void forEachLiveCell(const Func&amp;);
  
  private:
      friend class IsoSubspace;
  
<span class="line-modified">!     Bitmap&lt;MarkedBlock::atomsPerBlock&gt;* addSlow(unsigned blockIndex);</span>
  
<span class="line-modified">!     void didResizeBits(unsigned newSize);</span>
<span class="line-modified">!     void didRemoveBlock(unsigned blockIndex);</span>
      void sweepToFreeList(MarkedBlock::Handle*);
<span class="line-added">+     void clearLowerTierCell(unsigned);</span>
<span class="line-added">+ </span>
<span class="line-added">+     Bitmap&lt;MarkedBlock::maxNumberOfLowerTierCells&gt; m_lowerTierBits;</span>
  
      IsoSubspace&amp; m_subspace;
  
      // Idea: sweeping to free-list clears bits for those cells that were free-listed. The first time
      // we add a cell in a block, that block gets a free-list. Unless we do something that obviously
</pre>
<center><a href="IsoCellSet.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="IsoCellSetInlines.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>