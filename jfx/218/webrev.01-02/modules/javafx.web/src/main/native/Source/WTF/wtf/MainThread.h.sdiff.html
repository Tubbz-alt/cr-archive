<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WTF/wtf/MainThread.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="MainThread.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="MallocPtr.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/MainThread.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 36 
 37 namespace WTF {
 38 
 39 class PrintStream;
 40 class Thread;
 41 
 42 // Must be called from the main thread.
 43 WTF_EXPORT_PRIVATE void initializeMainThread();
 44 
 45 WTF_EXPORT_PRIVATE void callOnMainThread(Function&lt;void()&gt;&amp;&amp;);
 46 WTF_EXPORT_PRIVATE void callOnMainThreadAndWait(Function&lt;void()&gt;&amp;&amp;);
 47 
 48 #if PLATFORM(COCOA)
 49 WTF_EXPORT_PRIVATE void dispatchAsyncOnMainThreadWithWebThreadLockIfNeeded(void (^block)());
 50 WTF_EXPORT_PRIVATE void callOnWebThreadOrDispatchAsyncOnMainThread(void (^block)());
 51 #endif
 52 
 53 WTF_EXPORT_PRIVATE void setMainThreadCallbacksPaused(bool paused);
 54 
 55 WTF_EXPORT_PRIVATE bool isMainThread();
<span class="line-removed"> 56 WTF_EXPORT_PRIVATE bool isMainThreadIfInitialized();</span>
<span class="line-removed"> 57 WTF_EXPORT_PRIVATE bool isMainThreadInitialized();</span>
 58 
<span class="line-modified"> 59 WTF_EXPORT_PRIVATE bool canAccessThreadLocalDataForThread(Thread&amp;);</span>
 60 
 61 WTF_EXPORT_PRIVATE bool isMainRunLoop();
 62 WTF_EXPORT_PRIVATE void callOnMainRunLoop(Function&lt;void()&gt;&amp;&amp;);
 63 WTF_EXPORT_PRIVATE void callOnMainRunLoopAndWait(Function&lt;void()&gt;&amp;&amp;);
 64 
 65 #if USE(WEB_THREAD)
 66 WTF_EXPORT_PRIVATE bool isWebThread();
 67 WTF_EXPORT_PRIVATE bool isUIThread();
 68 WTF_EXPORT_PRIVATE void initializeWebThread();
 69 WTF_EXPORT_PRIVATE void initializeApplicationUIThread();
<span class="line-removed"> 70 void initializeWebThreadPlatform();</span>
 71 #else
 72 inline bool isWebThread() { return isMainThread(); }
 73 inline bool isUIThread() { return isMainThread(); }
 74 #endif // USE(WEB_THREAD)
 75 
 76 WTF_EXPORT_PRIVATE bool isMainThreadOrGCThread();
 77 
 78 // NOTE: these functions are internal to the callOnMainThread implementation.
 79 void initializeMainThreadPlatform();
 80 void scheduleDispatchFunctionsOnMainThread();
 81 void dispatchFunctionsFromMainThread();
 82 
<span class="line-removed"> 83 #if OS(DARWIN) &amp;&amp; !USE(GLIB)</span>
<span class="line-removed"> 84 #if !USE(WEB_THREAD)</span>
<span class="line-removed"> 85 // This version of initializeMainThread sets up the main thread as corresponding</span>
<span class="line-removed"> 86 // to the process&#39;s main thread, and not necessarily the thread that calls this</span>
<span class="line-removed"> 87 // function. It should only be used as a legacy aid for Mac WebKit.</span>
<span class="line-removed"> 88 WTF_EXPORT_PRIVATE void initializeMainThreadToProcessMainThread();</span>
<span class="line-removed"> 89 #endif // !USE(WEB_THREAD)</span>
<span class="line-removed"> 90 void initializeMainThreadToProcessMainThreadPlatform();</span>
<span class="line-removed"> 91 #endif</span>
<span class="line-removed"> 92 </span>
 93 } // namespace WTF
 94 
 95 using WTF::callOnMainThread;
 96 using WTF::callOnMainThreadAndWait;
 97 using WTF::callOnMainRunLoop;
 98 using WTF::callOnMainRunLoopAndWait;
<span class="line-modified"> 99 using WTF::canAccessThreadLocalDataForThread;</span>
100 using WTF::isMainThread;
101 using WTF::isMainThreadOrGCThread;
102 using WTF::isUIThread;
103 using WTF::isWebThread;
104 using WTF::setMainThreadCallbacksPaused;
105 #if PLATFORM(COCOA)
106 using WTF::dispatchAsyncOnMainThreadWithWebThreadLockIfNeeded;
107 using WTF::callOnWebThreadOrDispatchAsyncOnMainThread;
108 #endif
109 #if USE(WEB_THREAD)
110 using WTF::initializeWebThread;
111 using WTF::initializeApplicationUIThread;
112 #endif
</pre>
</td>
<td>
<hr />
<pre>
 36 
 37 namespace WTF {
 38 
 39 class PrintStream;
 40 class Thread;
 41 
 42 // Must be called from the main thread.
 43 WTF_EXPORT_PRIVATE void initializeMainThread();
 44 
 45 WTF_EXPORT_PRIVATE void callOnMainThread(Function&lt;void()&gt;&amp;&amp;);
 46 WTF_EXPORT_PRIVATE void callOnMainThreadAndWait(Function&lt;void()&gt;&amp;&amp;);
 47 
 48 #if PLATFORM(COCOA)
 49 WTF_EXPORT_PRIVATE void dispatchAsyncOnMainThreadWithWebThreadLockIfNeeded(void (^block)());
 50 WTF_EXPORT_PRIVATE void callOnWebThreadOrDispatchAsyncOnMainThread(void (^block)());
 51 #endif
 52 
 53 WTF_EXPORT_PRIVATE void setMainThreadCallbacksPaused(bool paused);
 54 
 55 WTF_EXPORT_PRIVATE bool isMainThread();


 56 
<span class="line-modified"> 57 WTF_EXPORT_PRIVATE bool canCurrentThreadAccessThreadLocalData(Thread&amp;);</span>
 58 
 59 WTF_EXPORT_PRIVATE bool isMainRunLoop();
 60 WTF_EXPORT_PRIVATE void callOnMainRunLoop(Function&lt;void()&gt;&amp;&amp;);
 61 WTF_EXPORT_PRIVATE void callOnMainRunLoopAndWait(Function&lt;void()&gt;&amp;&amp;);
 62 
 63 #if USE(WEB_THREAD)
 64 WTF_EXPORT_PRIVATE bool isWebThread();
 65 WTF_EXPORT_PRIVATE bool isUIThread();
 66 WTF_EXPORT_PRIVATE void initializeWebThread();
 67 WTF_EXPORT_PRIVATE void initializeApplicationUIThread();

 68 #else
 69 inline bool isWebThread() { return isMainThread(); }
 70 inline bool isUIThread() { return isMainThread(); }
 71 #endif // USE(WEB_THREAD)
 72 
 73 WTF_EXPORT_PRIVATE bool isMainThreadOrGCThread();
 74 
 75 // NOTE: these functions are internal to the callOnMainThread implementation.
 76 void initializeMainThreadPlatform();
 77 void scheduleDispatchFunctionsOnMainThread();
 78 void dispatchFunctionsFromMainThread();
 79 










 80 } // namespace WTF
 81 
 82 using WTF::callOnMainThread;
 83 using WTF::callOnMainThreadAndWait;
 84 using WTF::callOnMainRunLoop;
 85 using WTF::callOnMainRunLoopAndWait;
<span class="line-modified"> 86 using WTF::canCurrentThreadAccessThreadLocalData;</span>
 87 using WTF::isMainThread;
 88 using WTF::isMainThreadOrGCThread;
 89 using WTF::isUIThread;
 90 using WTF::isWebThread;
 91 using WTF::setMainThreadCallbacksPaused;
 92 #if PLATFORM(COCOA)
 93 using WTF::dispatchAsyncOnMainThreadWithWebThreadLockIfNeeded;
 94 using WTF::callOnWebThreadOrDispatchAsyncOnMainThread;
 95 #endif
 96 #if USE(WEB_THREAD)
 97 using WTF::initializeWebThread;
 98 using WTF::initializeApplicationUIThread;
 99 #endif
</pre>
</td>
</tr>
</table>
<center><a href="MainThread.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="MallocPtr.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>