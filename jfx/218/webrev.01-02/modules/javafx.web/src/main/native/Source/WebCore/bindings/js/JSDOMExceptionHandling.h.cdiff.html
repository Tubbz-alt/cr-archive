<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/bindings/js/JSDOMExceptionHandling.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="JSDOMExceptionHandling.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="JSDOMGlobalObject.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/bindings/js/JSDOMExceptionHandling.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 21,10 ***</span>
<span class="line-new-header">--- 21,11 ---</span>
   *  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
   */
  
  #pragma once
  
<span class="line-added">+ #include &quot;ExceptionDetails.h&quot;</span>
  #include &quot;ExceptionOr.h&quot;
  #include &lt;JavaScriptCore/ThrowScope.h&gt;
  
  namespace JSC {
  class CatchScope;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 34,64 ***</span>
  
  class CachedScript;
  class DeferredPromise;
  class JSDOMGlobalObject;
  
<span class="line-modified">! struct ExceptionDetails {</span>
<span class="line-modified">!     String message;</span>
<span class="line-modified">!     int lineNumber { 0 };</span>
<span class="line-modified">!     int columnNumber { 0 };</span>
<span class="line-modified">!     String sourceURL;</span>
<span class="line-modified">! };</span>
<span class="line-modified">! </span>
<span class="line-modified">! void throwAttributeTypeError(JSC::ExecState&amp;, JSC::ThrowScope&amp;, const char* interfaceName, const char* attributeName, const char* expectedType);</span>
<span class="line-modified">! WEBCORE_EXPORT bool throwSetterTypeError(JSC::ExecState&amp;, JSC::ThrowScope&amp;, const char* interfaceName, const char* attributeName);</span>
<span class="line-modified">! </span>
<span class="line-modified">! void throwDataCloneError(JSC::ExecState&amp;, JSC::ThrowScope&amp;);</span>
<span class="line-modified">! void throwDOMSyntaxError(JSC::ExecState&amp;, JSC::ThrowScope&amp;, ASCIILiteral); // Not the same as a JavaScript syntax error.</span>
<span class="line-modified">! void throwInvalidStateError(JSC::ExecState&amp;, JSC::ThrowScope&amp;, ASCIILiteral);</span>
<span class="line-modified">! WEBCORE_EXPORT void throwNonFiniteTypeError(JSC::ExecState&amp;, JSC::ThrowScope&amp;);</span>
<span class="line-modified">! void throwNotSupportedError(JSC::ExecState&amp;, JSC::ThrowScope&amp;, ASCIILiteral);</span>
<span class="line-modified">! void throwSecurityError(JSC::ExecState&amp;, JSC::ThrowScope&amp;, const String&amp; message);</span>
<span class="line-removed">- WEBCORE_EXPORT void throwSequenceTypeError(JSC::ExecState&amp;, JSC::ThrowScope&amp;);</span>
<span class="line-removed">- </span>
<span class="line-removed">- WEBCORE_EXPORT JSC::EncodedJSValue throwArgumentMustBeEnumError(JSC::ExecState&amp;, JSC::ThrowScope&amp;, unsigned argumentIndex, const char* argumentName, const char* functionInterfaceName, const char* functionName, const char* expectedValues);</span>
<span class="line-removed">- WEBCORE_EXPORT JSC::EncodedJSValue throwArgumentMustBeFunctionError(JSC::ExecState&amp;, JSC::ThrowScope&amp;, unsigned argumentIndex, const char* argumentName, const char* functionInterfaceName, const char* functionName);</span>
<span class="line-removed">- WEBCORE_EXPORT JSC::EncodedJSValue throwArgumentTypeError(JSC::ExecState&amp;, JSC::ThrowScope&amp;, unsigned argumentIndex, const char* argumentName, const char* functionInterfaceName, const char* functionName, const char* expectedType);</span>
<span class="line-removed">- WEBCORE_EXPORT JSC::EncodedJSValue throwRequiredMemberTypeError(JSC::ExecState&amp;, JSC::ThrowScope&amp;, const char* memberName, const char* dictionaryName, const char* expectedType);</span>
<span class="line-removed">- JSC::EncodedJSValue throwConstructorScriptExecutionContextUnavailableError(JSC::ExecState&amp;, JSC::ThrowScope&amp;, const char* interfaceName);</span>
  
  String makeGetterTypeErrorMessage(const char* interfaceName, const char* attributeName);
  String makeThisTypeErrorMessage(const char* interfaceName, const char* attributeName);
  
<span class="line-modified">! WEBCORE_EXPORT JSC::EncodedJSValue throwGetterTypeError(JSC::ExecState&amp;, JSC::ThrowScope&amp;, const char* interfaceName, const char* attributeName);</span>
<span class="line-modified">! WEBCORE_EXPORT JSC::EncodedJSValue throwThisTypeError(JSC::ExecState&amp;, JSC::ThrowScope&amp;, const char* interfaceName, const char* functionName);</span>
  
<span class="line-modified">! WEBCORE_EXPORT JSC::EncodedJSValue rejectPromiseWithGetterTypeError(JSC::ExecState&amp;, const char* interfaceName, const char* attributeName);</span>
  WEBCORE_EXPORT JSC::EncodedJSValue rejectPromiseWithThisTypeError(DeferredPromise&amp;, const char* interfaceName, const char* operationName);
<span class="line-modified">! WEBCORE_EXPORT JSC::EncodedJSValue rejectPromiseWithThisTypeError(JSC::ExecState&amp;, const char* interfaceName, const char* operationName);</span>
  
<span class="line-modified">! String retrieveErrorMessage(JSC::ExecState&amp;, JSC::VM&amp;, JSC::JSValue exception, JSC::CatchScope&amp;);</span>
<span class="line-modified">! WEBCORE_EXPORT void reportException(JSC::ExecState*, JSC::JSValue exception, CachedScript* = nullptr);</span>
<span class="line-modified">! WEBCORE_EXPORT void reportException(JSC::ExecState*, JSC::Exception*, CachedScript* = nullptr, ExceptionDetails* = nullptr);</span>
<span class="line-modified">! void reportCurrentException(JSC::ExecState*);</span>
  
<span class="line-modified">! JSC::JSValue createDOMException(JSC::ExecState&amp;, Exception&amp;&amp;);</span>
<span class="line-modified">! JSC::JSValue createDOMException(JSC::ExecState*, ExceptionCode, const String&amp; = emptyString());</span>
  
<span class="line-modified">! // Convert a DOM implementation exception into a JavaScript exception in the execution state.</span>
<span class="line-modified">! WEBCORE_EXPORT void propagateExceptionSlowPath(JSC::ExecState&amp;, JSC::ThrowScope&amp;, Exception&amp;&amp;);</span>
  
<span class="line-modified">! ALWAYS_INLINE void propagateException(JSC::ExecState&amp; state, JSC::ThrowScope&amp; throwScope, Exception&amp;&amp; exception)</span>
  {
      if (throwScope.exception())
          return;
<span class="line-modified">!     propagateExceptionSlowPath(state, throwScope, WTFMove(exception));</span>
  }
  
<span class="line-modified">! inline void propagateException(JSC::ExecState&amp; state, JSC::ThrowScope&amp; throwScope, ExceptionOr&lt;void&gt;&amp;&amp; value)</span>
  {
      if (UNLIKELY(value.hasException()))
<span class="line-modified">!         propagateException(state, throwScope, value.releaseException());</span>
  }
  
  } // namespace WebCore
<span class="line-new-header">--- 35,57 ---</span>
  
  class CachedScript;
  class DeferredPromise;
  class JSDOMGlobalObject;
  
<span class="line-modified">! void throwAttributeTypeError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;, const char* interfaceName, const char* attributeName, const char* expectedType);</span>
<span class="line-modified">! WEBCORE_EXPORT bool throwSetterTypeError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;, const char* interfaceName, const char* attributeName);</span>
<span class="line-modified">! </span>
<span class="line-modified">! void throwDataCloneError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;);</span>
<span class="line-modified">! void throwDOMSyntaxError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;, ASCIILiteral); // Not the same as a JavaScript syntax error.</span>
<span class="line-modified">! void throwInvalidStateError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;, ASCIILiteral);</span>
<span class="line-modified">! WEBCORE_EXPORT void throwNonFiniteTypeError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;);</span>
<span class="line-modified">! void throwNotSupportedError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;, ASCIILiteral);</span>
<span class="line-modified">! void throwSecurityError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;, const String&amp; message);</span>
<span class="line-modified">! WEBCORE_EXPORT void throwSequenceTypeError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;);</span>
<span class="line-modified">! </span>
<span class="line-modified">! WEBCORE_EXPORT JSC::EncodedJSValue throwArgumentMustBeEnumError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;, unsigned argumentIndex, const char* argumentName, const char* functionInterfaceName, const char* functionName, const char* expectedValues);</span>
<span class="line-modified">! WEBCORE_EXPORT JSC::EncodedJSValue throwArgumentMustBeFunctionError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;, unsigned argumentIndex, const char* argumentName, const char* functionInterfaceName, const char* functionName);</span>
<span class="line-modified">! WEBCORE_EXPORT JSC::EncodedJSValue throwArgumentTypeError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;, unsigned argumentIndex, const char* argumentName, const char* functionInterfaceName, const char* functionName, const char* expectedType);</span>
<span class="line-modified">! WEBCORE_EXPORT JSC::EncodedJSValue throwRequiredMemberTypeError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;, const char* memberName, const char* dictionaryName, const char* expectedType);</span>
<span class="line-modified">! JSC::EncodedJSValue throwConstructorScriptExecutionContextUnavailableError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;, const char* interfaceName);</span>
  
  String makeGetterTypeErrorMessage(const char* interfaceName, const char* attributeName);
  String makeThisTypeErrorMessage(const char* interfaceName, const char* attributeName);
  
<span class="line-modified">! WEBCORE_EXPORT JSC::EncodedJSValue throwGetterTypeError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;, const char* interfaceName, const char* attributeName);</span>
<span class="line-modified">! WEBCORE_EXPORT JSC::EncodedJSValue throwThisTypeError(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;, const char* interfaceName, const char* functionName);</span>
  
<span class="line-modified">! WEBCORE_EXPORT JSC::EncodedJSValue rejectPromiseWithGetterTypeError(JSC::JSGlobalObject&amp;, const char* interfaceName, const char* attributeName);</span>
  WEBCORE_EXPORT JSC::EncodedJSValue rejectPromiseWithThisTypeError(DeferredPromise&amp;, const char* interfaceName, const char* operationName);
<span class="line-modified">! WEBCORE_EXPORT JSC::EncodedJSValue rejectPromiseWithThisTypeError(JSC::JSGlobalObject&amp;, const char* interfaceName, const char* operationName);</span>
  
<span class="line-modified">! String retrieveErrorMessage(JSC::JSGlobalObject&amp;, JSC::VM&amp;, JSC::JSValue exception, JSC::CatchScope&amp;);</span>
<span class="line-modified">! WEBCORE_EXPORT void reportException(JSC::JSGlobalObject*, JSC::JSValue exception, CachedScript* = nullptr);</span>
<span class="line-modified">! WEBCORE_EXPORT void reportException(JSC::JSGlobalObject*, JSC::Exception*, CachedScript* = nullptr, ExceptionDetails* = nullptr);</span>
<span class="line-modified">! void reportCurrentException(JSC::JSGlobalObject*);</span>
  
<span class="line-modified">! JSC::JSValue createDOMException(JSC::JSGlobalObject&amp;, Exception&amp;&amp;);</span>
<span class="line-modified">! JSC::JSValue createDOMException(JSC::JSGlobalObject*, ExceptionCode, const String&amp; = emptyString());</span>
  
<span class="line-modified">! // Convert a DOM implementation exception into a JavaScript exception in the execution lexicalGlobalObject.</span>
<span class="line-modified">! WEBCORE_EXPORT void propagateExceptionSlowPath(JSC::JSGlobalObject&amp;, JSC::ThrowScope&amp;, Exception&amp;&amp;);</span>
  
<span class="line-modified">! ALWAYS_INLINE void propagateException(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::ThrowScope&amp; throwScope, Exception&amp;&amp; exception)</span>
  {
      if (throwScope.exception())
          return;
<span class="line-modified">!     propagateExceptionSlowPath(lexicalGlobalObject, throwScope, WTFMove(exception));</span>
  }
  
<span class="line-modified">! inline void propagateException(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::ThrowScope&amp; throwScope, ExceptionOr&lt;void&gt;&amp;&amp; value)</span>
  {
      if (UNLIKELY(value.hasException()))
<span class="line-modified">!         propagateException(lexicalGlobalObject, throwScope, value.releaseException());</span>
  }
  
  } // namespace WebCore
</pre>
<center><a href="JSDOMExceptionHandling.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="JSDOMGlobalObject.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>