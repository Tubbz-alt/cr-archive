<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/css/MediaQueryEvaluator.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="MediaQueryEvaluator.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="MediaQueryExpression.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/css/MediaQueryEvaluator.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 34,17 ***</span>
  
  class Document;
  class Frame;
  class MediaQuerySet;
  class RenderStyle;
<span class="line-modified">! class StyleResolver;</span>
  
  struct MediaQueryResult {
      MediaQueryExpression expression;
      bool result;
  };
  
  // Some of the constructors are used for cases where the device characteristics are not known.
  // These  can be used to prune the loading of stylesheets to only those which are not already known to not match.
  
  class MediaQueryEvaluator {
  public:
<span class="line-new-header">--- 34,34 ---</span>
  
  class Document;
  class Frame;
  class MediaQuerySet;
  class RenderStyle;
<span class="line-modified">! </span>
<span class="line-added">+ namespace Style {</span>
<span class="line-added">+ class Resolver;</span>
<span class="line-added">+ }</span>
  
  struct MediaQueryResult {
      MediaQueryExpression expression;
      bool result;
  };
  
<span class="line-added">+ struct MediaQueryDynamicResults {</span>
<span class="line-added">+     Vector&lt;MediaQueryResult&gt; viewport;</span>
<span class="line-added">+     Vector&lt;MediaQueryResult&gt; appearance;</span>
<span class="line-added">+     Vector&lt;MediaQueryResult&gt; accessibilitySettings;</span>
<span class="line-added">+ </span>
<span class="line-added">+     void append(const MediaQueryDynamicResults&amp; other)</span>
<span class="line-added">+     {</span>
<span class="line-added">+         viewport.appendVector(other.viewport);</span>
<span class="line-added">+         appearance.appendVector(other.appearance);</span>
<span class="line-added">+         accessibilitySettings.appendVector(other.accessibilitySettings);</span>
<span class="line-added">+     }</span>
<span class="line-added">+     bool isEmpty() const { return viewport.isEmpty() &amp;&amp; appearance.isEmpty() &amp;&amp; accessibilitySettings.isEmpty(); }</span>
<span class="line-added">+ };</span>
<span class="line-added">+ </span>
  // Some of the constructors are used for cases where the device characteristics are not known.
  // These  can be used to prune the loading of stylesheets to only those which are not already known to not match.
  
  class MediaQueryEvaluator {
  public:
</pre>
<hr />
<pre>
<span class="line-old-header">*** 60,18 ***</span>
      WEBCORE_EXPORT MediaQueryEvaluator(const String&amp; acceptedMediaType, const Document&amp;, const RenderStyle*);
  
      bool mediaTypeMatch(const String&amp; mediaTypeToMatch) const;
      bool mediaTypeMatchSpecific(const char* mediaTypeToMatch) const;
  
<span class="line-removed">-     // Evaluates a list of media queries.</span>
<span class="line-removed">-     WEBCORE_EXPORT bool evaluate(const MediaQuerySet&amp;, StyleResolver* = nullptr) const;</span>
<span class="line-removed">- </span>
      // Evaluates media query subexpression, ie &quot;and (media-feature: value)&quot; part.
      bool evaluate(const MediaQueryExpression&amp;) const;
  
<span class="line-modified">!     // Evaluates a list of media queries and fills in vectors with any viewport or dark mode dependent results found.</span>
<span class="line-modified">!     bool evaluate(const MediaQuerySet&amp;, Vector&lt;MediaQueryResult&gt;&amp; viewportDependentResults, Vector&lt;MediaQueryResult&gt;&amp; appearanceDependentResults) const;</span>
  
      static bool mediaAttributeMatches(Document&amp;, const String&amp; attributeValue);
  
  private:
      String m_mediaType;
<span class="line-new-header">--- 77,16 ---</span>
      WEBCORE_EXPORT MediaQueryEvaluator(const String&amp; acceptedMediaType, const Document&amp;, const RenderStyle*);
  
      bool mediaTypeMatch(const String&amp; mediaTypeToMatch) const;
      bool mediaTypeMatchSpecific(const char* mediaTypeToMatch) const;
  
      // Evaluates media query subexpression, ie &quot;and (media-feature: value)&quot; part.
      bool evaluate(const MediaQueryExpression&amp;) const;
<span class="line-added">+     bool evaluateForChanges(const MediaQueryDynamicResults&amp;) const;</span>
  
<span class="line-modified">!     enum class Mode { Normal, AlwaysMatchDynamic };</span>
<span class="line-modified">!     WEBCORE_EXPORT bool evaluate(const MediaQuerySet&amp;, MediaQueryDynamicResults* = nullptr, Mode = Mode::Normal) const;</span>
  
      static bool mediaAttributeMatches(Document&amp;, const String&amp; attributeValue);
  
  private:
      String m_mediaType;
</pre>
<center><a href="MediaQueryEvaluator.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="MediaQueryExpression.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>