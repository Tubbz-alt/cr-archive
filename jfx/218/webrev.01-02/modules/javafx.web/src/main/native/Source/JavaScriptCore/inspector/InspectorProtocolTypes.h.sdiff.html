<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/inspector/InspectorProtocolTypes.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="InspectorEnvironment.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="InspectorTarget.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/inspector/InspectorProtocolTypes.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
40     {
41         ASSERT_UNUSED(value, value);
42         ASSERT_UNUSED(value, value-&gt;type() == type);
43     }
44 };
45 
46 template&lt;typename T&gt; struct BindingTraits&lt;JSON::ArrayOf&lt;T&gt;&gt; {
47     static RefPtr&lt;JSON::ArrayOf&lt;T&gt;&gt; runtimeCast(RefPtr&lt;JSON::Value&gt;&amp;&amp; value)
48     {
49         ASSERT_ARG(value, value);
50         RefPtr&lt;JSON::Array&gt; array;
51         bool castSucceeded = value-&gt;asArray(array);
52         ASSERT_UNUSED(castSucceeded, castSucceeded);
53         assertValueHasExpectedType(array.get());
54         COMPILE_ASSERT(sizeof(JSON::ArrayOf&lt;T&gt;) == sizeof(JSON::Array), type_cast_problem);
55         return static_cast&lt;JSON::ArrayOf&lt;T&gt;*&gt;(static_cast&lt;JSON::ArrayBase*&gt;(array.get()));
56     }
57 
58     static void assertValueHasExpectedType(JSON::Value* value)
59     {
<span class="line-modified">60 #if ASSERT_DISABLED</span>
<span class="line-removed">61         UNUSED_PARAM(value);</span>
<span class="line-removed">62 #else</span>
63         ASSERT_ARG(value, value);
64         RefPtr&lt;JSON::Array&gt; array;
65         bool castSucceeded = value-&gt;asArray(array);
66         ASSERT_UNUSED(castSucceeded, castSucceeded);
67         for (unsigned i = 0; i &lt; array-&gt;length(); i++)
68             BindingTraits&lt;T&gt;::assertValueHasExpectedType(array-&gt;get(i).get());
<span class="line-modified">69 #endif // !ASSERT_DISABLED</span>


70     }
71 };
72 
73 template&lt;&gt; struct BindingTraits&lt;JSON::Value&gt; {
74     static void assertValueHasExpectedType(JSON::Value*)
75     {
76     }
77 };
78 
79 template&lt;&gt; struct BindingTraits&lt;JSON::Array&gt; : PrimitiveBindingTraits&lt;JSON::Value::Type::Array&gt; { };
80 template&lt;&gt; struct BindingTraits&lt;JSON::Object&gt; : PrimitiveBindingTraits&lt;JSON::Value::Type::Object&gt; { };
81 template&lt;&gt; struct BindingTraits&lt;String&gt; : PrimitiveBindingTraits&lt;JSON::Value::Type::String&gt; { };
82 template&lt;&gt; struct BindingTraits&lt;bool&gt; : PrimitiveBindingTraits&lt;JSON::Value::Type::Boolean&gt; { };
83 template&lt;&gt; struct BindingTraits&lt;double&gt; : PrimitiveBindingTraits&lt;JSON::Value::Type::Double&gt; { };
84 template&lt;&gt; struct BindingTraits&lt;int&gt; : PrimitiveBindingTraits&lt;JSON::Value::Type::Integer&gt; { };
85 
86 }
87 
88 using Protocol::BindingTraits;
89 
</pre>
</td>
<td>
<hr />
<pre>
40     {
41         ASSERT_UNUSED(value, value);
42         ASSERT_UNUSED(value, value-&gt;type() == type);
43     }
44 };
45 
46 template&lt;typename T&gt; struct BindingTraits&lt;JSON::ArrayOf&lt;T&gt;&gt; {
47     static RefPtr&lt;JSON::ArrayOf&lt;T&gt;&gt; runtimeCast(RefPtr&lt;JSON::Value&gt;&amp;&amp; value)
48     {
49         ASSERT_ARG(value, value);
50         RefPtr&lt;JSON::Array&gt; array;
51         bool castSucceeded = value-&gt;asArray(array);
52         ASSERT_UNUSED(castSucceeded, castSucceeded);
53         assertValueHasExpectedType(array.get());
54         COMPILE_ASSERT(sizeof(JSON::ArrayOf&lt;T&gt;) == sizeof(JSON::Array), type_cast_problem);
55         return static_cast&lt;JSON::ArrayOf&lt;T&gt;*&gt;(static_cast&lt;JSON::ArrayBase*&gt;(array.get()));
56     }
57 
58     static void assertValueHasExpectedType(JSON::Value* value)
59     {
<span class="line-modified">60 #if ASSERT_ENABLED</span>


61         ASSERT_ARG(value, value);
62         RefPtr&lt;JSON::Array&gt; array;
63         bool castSucceeded = value-&gt;asArray(array);
64         ASSERT_UNUSED(castSucceeded, castSucceeded);
65         for (unsigned i = 0; i &lt; array-&gt;length(); i++)
66             BindingTraits&lt;T&gt;::assertValueHasExpectedType(array-&gt;get(i).get());
<span class="line-modified">67 #else</span>
<span class="line-added">68         UNUSED_PARAM(value);</span>
<span class="line-added">69 #endif // ASSERT_ENABLED</span>
70     }
71 };
72 
73 template&lt;&gt; struct BindingTraits&lt;JSON::Value&gt; {
74     static void assertValueHasExpectedType(JSON::Value*)
75     {
76     }
77 };
78 
79 template&lt;&gt; struct BindingTraits&lt;JSON::Array&gt; : PrimitiveBindingTraits&lt;JSON::Value::Type::Array&gt; { };
80 template&lt;&gt; struct BindingTraits&lt;JSON::Object&gt; : PrimitiveBindingTraits&lt;JSON::Value::Type::Object&gt; { };
81 template&lt;&gt; struct BindingTraits&lt;String&gt; : PrimitiveBindingTraits&lt;JSON::Value::Type::String&gt; { };
82 template&lt;&gt; struct BindingTraits&lt;bool&gt; : PrimitiveBindingTraits&lt;JSON::Value::Type::Boolean&gt; { };
83 template&lt;&gt; struct BindingTraits&lt;double&gt; : PrimitiveBindingTraits&lt;JSON::Value::Type::Double&gt; { };
84 template&lt;&gt; struct BindingTraits&lt;int&gt; : PrimitiveBindingTraits&lt;JSON::Value::Type::Integer&gt; { };
85 
86 }
87 
88 using Protocol::BindingTraits;
89 
</pre>
</td>
</tr>
</table>
<center><a href="InspectorEnvironment.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="InspectorTarget.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>