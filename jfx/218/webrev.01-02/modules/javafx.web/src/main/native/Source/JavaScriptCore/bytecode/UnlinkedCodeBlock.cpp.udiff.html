<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/JavaScriptCore/bytecode/UnlinkedCodeBlock.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SuperSampler.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="UnlinkedCodeBlock.h.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/bytecode/UnlinkedCodeBlock.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -70,33 +70,36 @@</span>
      , m_derivedContextType(static_cast&lt;unsigned&gt;(info.derivedContextType()))
      , m_evalContextType(static_cast&lt;unsigned&gt;(info.evalContextType()))
      , m_codeType(static_cast&lt;unsigned&gt;(codeType))
      , m_didOptimize(static_cast&lt;unsigned&gt;(MixedTriState))
      , m_age(0)
<span class="udiff-line-added">+     , m_hasCheckpoints(false)</span>
      , m_parseMode(info.parseMode())
      , m_codeGenerationMode(codeGenerationMode)
      , m_metadata(UnlinkedMetadataTable::create())
  {
<span class="udiff-line-removed">-     for (auto&amp; constantRegisterIndex : m_linkTimeConstants)</span>
<span class="udiff-line-removed">-         constantRegisterIndex = 0;</span>
      ASSERT(m_constructorKind == static_cast&lt;unsigned&gt;(info.constructorKind()));
      ASSERT(m_codeType == static_cast&lt;unsigned&gt;(codeType));
      ASSERT(m_didOptimize == static_cast&lt;unsigned&gt;(MixedTriState));
<span class="udiff-line-added">+     if (info.needsClassFieldInitializer() == NeedsClassFieldInitializer::Yes) {</span>
<span class="udiff-line-added">+         createRareDataIfNecessary(holdLock(cellLock()));</span>
<span class="udiff-line-added">+         m_rareData-&gt;m_needsClassFieldInitializer = static_cast&lt;unsigned&gt;(NeedsClassFieldInitializer::Yes);</span>
<span class="udiff-line-added">+     }</span>
  }
  
  void UnlinkedCodeBlock::visitChildren(JSCell* cell, SlotVisitor&amp; visitor)
  {
      UnlinkedCodeBlock* thisObject = jsCast&lt;UnlinkedCodeBlock*&gt;(cell);
      ASSERT_GC_OBJECT_INHERITS(thisObject, info());
      Base::visitChildren(thisObject, visitor);
      auto locker = holdLock(thisObject-&gt;cellLock());
      if (visitor.isFirstVisit())
          thisObject-&gt;m_age = std::min&lt;unsigned&gt;(static_cast&lt;unsigned&gt;(thisObject-&gt;m_age) + 1, maxAge);
<span class="udiff-line-modified-removed">-     for (FunctionExpressionVector::iterator ptr = thisObject-&gt;m_functionDecls.begin(), end = thisObject-&gt;m_functionDecls.end(); ptr != end; ++ptr)</span>
<span class="udiff-line-modified-removed">-         visitor.append(*ptr);</span>
<span class="udiff-line-modified-removed">-     for (FunctionExpressionVector::iterator ptr = thisObject-&gt;m_functionExprs.begin(), end = thisObject-&gt;m_functionExprs.end(); ptr != end; ++ptr)</span>
<span class="udiff-line-modified-removed">-         visitor.append(*ptr);</span>
<span class="udiff-line-modified-added">+     for (auto&amp; barrier : thisObject-&gt;m_functionDecls)</span>
<span class="udiff-line-modified-added">+         visitor.append(barrier);</span>
<span class="udiff-line-modified-added">+     for (auto&amp; barrier : thisObject-&gt;m_functionExprs)</span>
<span class="udiff-line-modified-added">+         visitor.append(barrier);</span>
      visitor.appendValues(thisObject-&gt;m_constantRegisters.data(), thisObject-&gt;m_constantRegisters.size());
      size_t extraMemory = thisObject-&gt;m_metadata-&gt;sizeInBytes();
      if (thisObject-&gt;m_instructions)
          extraMemory += thisObject-&gt;m_instructions-&gt;sizeInBytes();
      visitor.reportExtraMemoryVisited(extraMemory);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -109,19 +112,19 @@</span>
      if (thisObject-&gt;m_instructions)
          extraSize += thisObject-&gt;m_instructions-&gt;sizeInBytes();
      return Base::estimatedSize(cell, vm) + extraSize;
  }
  
<span class="udiff-line-modified-removed">- int UnlinkedCodeBlock::lineNumberForBytecodeOffset(unsigned bytecodeOffset)</span>
<span class="udiff-line-modified-added">+ int UnlinkedCodeBlock::lineNumberForBytecodeIndex(BytecodeIndex bytecodeIndex)</span>
  {
<span class="udiff-line-modified-removed">-     ASSERT(bytecodeOffset &lt; instructions().size());</span>
<span class="udiff-line-modified-added">+     ASSERT(bytecodeIndex.offset() &lt; instructions().size());</span>
      int divot { 0 };
      int startOffset { 0 };
      int endOffset { 0 };
      unsigned line { 0 };
      unsigned column { 0 };
<span class="udiff-line-modified-removed">-     expressionRangeForBytecodeOffset(bytecodeOffset, divot, startOffset, endOffset, line, column);</span>
<span class="udiff-line-modified-added">+     expressionRangeForBytecodeIndex(bytecodeIndex, divot, startOffset, endOffset, line, column);</span>
      return line;
  }
  
  inline void UnlinkedCodeBlock::getLineAndColumn(const ExpressionRangeInfo&amp; info,
      unsigned&amp; line, unsigned&amp; column) const
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -151,22 +154,22 @@</span>
      if (instruction-&gt;is&lt;OpDebug&gt;()) {
          switch (instruction-&gt;as&lt;OpDebug&gt;().m_debugHookType) {
          case WillExecuteProgram: event = &quot; WillExecuteProgram&quot;; break;
          case DidExecuteProgram: event = &quot; DidExecuteProgram&quot;; break;
          case DidEnterCallFrame: event = &quot; DidEnterCallFrame&quot;; break;
<span class="udiff-line-modified-removed">-         case DidReachBreakpoint: event = &quot; DidReachBreakpoint&quot;; break;</span>
<span class="udiff-line-modified-added">+         case DidReachDebuggerStatement: event = &quot; DidReachDebuggerStatement&quot;; break;</span>
          case WillLeaveCallFrame: event = &quot; WillLeaveCallFrame&quot;; break;
          case WillExecuteStatement: event = &quot; WillExecuteStatement&quot;; break;
          case WillExecuteExpression: event = &quot; WillExecuteExpression&quot;; break;
          }
      }
      dataLogF(&quot;  [%zu] pc %u @ line %u col %u : %s%s\n&quot;, index, instructionOffset, line, column, instruction-&gt;name(), event);
  }
  
  void UnlinkedCodeBlock::dumpExpressionRangeInfo()
  {
<span class="udiff-line-modified-removed">-     Vector&lt;ExpressionRangeInfo&gt;&amp; expressionInfo = m_expressionInfo;</span>
<span class="udiff-line-modified-added">+     RefCountedArray&lt;ExpressionRangeInfo&gt;&amp; expressionInfo = m_expressionInfo;</span>
  
      size_t size = m_expressionInfo.size();
      dataLogF(&quot;UnlinkedCodeBlock %p expressionRangeInfo[%zu] {\n&quot;, this, size);
      for (size_t i = 0; i &lt; size; i++) {
          ExpressionRangeInfo&amp; info = expressionInfo[i];
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -177,31 +180,31 @@</span>
      }
      dataLog(&quot;}\n&quot;);
  }
  #endif
  
<span class="udiff-line-modified-removed">- void UnlinkedCodeBlock::expressionRangeForBytecodeOffset(unsigned bytecodeOffset,</span>
<span class="udiff-line-modified-added">+ void UnlinkedCodeBlock::expressionRangeForBytecodeIndex(BytecodeIndex bytecodeIndex,</span>
      int&amp; divot, int&amp; startOffset, int&amp; endOffset, unsigned&amp; line, unsigned&amp; column) const
  {
<span class="udiff-line-modified-removed">-     ASSERT(bytecodeOffset &lt; instructions().size());</span>
<span class="udiff-line-modified-added">+     ASSERT(bytecodeIndex.offset() &lt; instructions().size());</span>
  
      if (!m_expressionInfo.size()) {
          startOffset = 0;
          endOffset = 0;
          divot = 0;
          line = 0;
          column = 0;
          return;
      }
  
<span class="udiff-line-modified-removed">-     const Vector&lt;ExpressionRangeInfo&gt;&amp; expressionInfo = m_expressionInfo;</span>
<span class="udiff-line-modified-added">+     const RefCountedArray&lt;ExpressionRangeInfo&gt;&amp; expressionInfo = m_expressionInfo;</span>
  
      int low = 0;
      int high = expressionInfo.size();
      while (low &lt; high) {
          int mid = low + (high - low) / 2;
<span class="udiff-line-modified-removed">-         if (expressionInfo[mid].instructionOffset &lt;= bytecodeOffset)</span>
<span class="udiff-line-modified-added">+         if (expressionInfo[mid].instructionOffset &lt;= bytecodeIndex.offset())</span>
              low = mid + 1;
          else
              high = mid;
      }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -213,67 +216,13 @@</span>
      endOffset = info.endOffset;
      divot = info.divotPoint;
      getLineAndColumn(info, line, column);
  }
  
<span class="udiff-line-removed">- void UnlinkedCodeBlock::addExpressionInfo(unsigned instructionOffset,</span>
<span class="udiff-line-removed">-     int divot, int startOffset, int endOffset, unsigned line, unsigned column)</span>
<span class="udiff-line-removed">- {</span>
<span class="udiff-line-removed">-     if (divot &gt; ExpressionRangeInfo::MaxDivot) {</span>
<span class="udiff-line-removed">-         // Overflow has occurred, we can only give line number info for errors for this region</span>
<span class="udiff-line-removed">-         divot = 0;</span>
<span class="udiff-line-removed">-         startOffset = 0;</span>
<span class="udiff-line-removed">-         endOffset = 0;</span>
<span class="udiff-line-removed">-     } else if (startOffset &gt; ExpressionRangeInfo::MaxOffset) {</span>
<span class="udiff-line-removed">-         // If the start offset is out of bounds we clear both offsets</span>
<span class="udiff-line-removed">-         // so we only get the divot marker. Error message will have to be reduced</span>
<span class="udiff-line-removed">-         // to line and charPosition number.</span>
<span class="udiff-line-removed">-         startOffset = 0;</span>
<span class="udiff-line-removed">-         endOffset = 0;</span>
<span class="udiff-line-removed">-     } else if (endOffset &gt; ExpressionRangeInfo::MaxOffset) {</span>
<span class="udiff-line-removed">-         // The end offset is only used for additional context, and is much more likely</span>
<span class="udiff-line-removed">-         // to overflow (eg. function call arguments) so we are willing to drop it without</span>
<span class="udiff-line-removed">-         // dropping the rest of the range.</span>
<span class="udiff-line-removed">-         endOffset = 0;</span>
<span class="udiff-line-removed">-     }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     unsigned positionMode =</span>
<span class="udiff-line-removed">-         (line &lt;= ExpressionRangeInfo::MaxFatLineModeLine &amp;&amp; column &lt;= ExpressionRangeInfo::MaxFatLineModeColumn)</span>
<span class="udiff-line-removed">-         ? ExpressionRangeInfo::FatLineMode</span>
<span class="udiff-line-removed">-         : (line &lt;= ExpressionRangeInfo::MaxFatColumnModeLine &amp;&amp; column &lt;= ExpressionRangeInfo::MaxFatColumnModeColumn)</span>
<span class="udiff-line-removed">-         ? ExpressionRangeInfo::FatColumnMode</span>
<span class="udiff-line-removed">-         : ExpressionRangeInfo::FatLineAndColumnMode;</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     ExpressionRangeInfo info;</span>
<span class="udiff-line-removed">-     info.instructionOffset = instructionOffset;</span>
<span class="udiff-line-removed">-     info.divotPoint = divot;</span>
<span class="udiff-line-removed">-     info.startOffset = startOffset;</span>
<span class="udiff-line-removed">-     info.endOffset = endOffset;</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     info.mode = positionMode;</span>
<span class="udiff-line-removed">-     switch (positionMode) {</span>
<span class="udiff-line-removed">-     case ExpressionRangeInfo::FatLineMode:</span>
<span class="udiff-line-removed">-         info.encodeFatLineMode(line, column);</span>
<span class="udiff-line-removed">-         break;</span>
<span class="udiff-line-removed">-     case ExpressionRangeInfo::FatColumnMode:</span>
<span class="udiff-line-removed">-         info.encodeFatColumnMode(line, column);</span>
<span class="udiff-line-removed">-         break;</span>
<span class="udiff-line-removed">-     case ExpressionRangeInfo::FatLineAndColumnMode: {</span>
<span class="udiff-line-removed">-         createRareDataIfNecessary();</span>
<span class="udiff-line-removed">-         unsigned fatIndex = m_rareData-&gt;m_expressionInfoFatPositions.size();</span>
<span class="udiff-line-removed">-         ExpressionRangeInfo::FatPosition fatPos = { line, column };</span>
<span class="udiff-line-removed">-         m_rareData-&gt;m_expressionInfoFatPositions.append(fatPos);</span>
<span class="udiff-line-removed">-         info.position = fatIndex;</span>
<span class="udiff-line-removed">-     }</span>
<span class="udiff-line-removed">-     } // switch</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     m_expressionInfo.append(info);</span>
<span class="udiff-line-removed">- }</span>
<span class="udiff-line-removed">- </span>
  bool UnlinkedCodeBlock::typeProfilerExpressionInfoForBytecodeOffset(unsigned bytecodeOffset, unsigned&amp; startDivot, unsigned&amp; endDivot)
  {
<span class="udiff-line-modified-removed">-     static const bool verbose = false;</span>
<span class="udiff-line-modified-added">+     static constexpr bool verbose = false;</span>
      if (!m_rareData) {
          if (verbose)
              dataLogF(&quot;Don&#39;t have assignment info for offset:%u\n&quot;, bytecodeOffset);
          startDivot = UINT_MAX;
          endDivot = UINT_MAX;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -293,114 +242,30 @@</span>
      startDivot = range.m_startDivot;
      endDivot = range.m_endDivot;
      return true;
  }
  
<span class="udiff-line-removed">- void UnlinkedCodeBlock::addTypeProfilerExpressionInfo(unsigned instructionOffset, unsigned startDivot, unsigned endDivot)</span>
<span class="udiff-line-removed">- {</span>
<span class="udiff-line-removed">-     createRareDataIfNecessary();</span>
<span class="udiff-line-removed">-     RareData::TypeProfilerExpressionRange range;</span>
<span class="udiff-line-removed">-     range.m_startDivot = startDivot;</span>
<span class="udiff-line-removed">-     range.m_endDivot = endDivot;</span>
<span class="udiff-line-removed">-     m_rareData-&gt;m_typeProfilerInfoMap.set(instructionOffset, range);</span>
<span class="udiff-line-removed">- }</span>
<span class="udiff-line-removed">- </span>
  UnlinkedCodeBlock::~UnlinkedCodeBlock()
  {
  }
  
<span class="udiff-line-removed">- void UnlinkedCodeBlock::setInstructions(std::unique_ptr&lt;InstructionStream&gt; instructions)</span>
<span class="udiff-line-removed">- {</span>
<span class="udiff-line-removed">-     ASSERT(instructions);</span>
<span class="udiff-line-removed">-     {</span>
<span class="udiff-line-removed">-         auto locker = holdLock(cellLock());</span>
<span class="udiff-line-removed">-         m_instructions = WTFMove(instructions);</span>
<span class="udiff-line-removed">-         m_metadata-&gt;finalize();</span>
<span class="udiff-line-removed">-     }</span>
<span class="udiff-line-removed">-     Heap::heap(this)-&gt;reportExtraMemoryAllocated(m_instructions-&gt;sizeInBytes() + m_metadata-&gt;sizeInBytes());</span>
<span class="udiff-line-removed">- }</span>
<span class="udiff-line-removed">- </span>
  const InstructionStream&amp; UnlinkedCodeBlock::instructions() const
  {
      ASSERT(m_instructions.get());
      return *m_instructions;
  }
  
<span class="udiff-line-modified-removed">- UnlinkedHandlerInfo* UnlinkedCodeBlock::handlerForBytecodeOffset(unsigned bytecodeOffset, RequiredHandler requiredHandler)</span>
<span class="udiff-line-modified-added">+ UnlinkedHandlerInfo* UnlinkedCodeBlock::handlerForBytecodeIndex(BytecodeIndex bytecodeIndex, RequiredHandler requiredHandler)</span>
  {
<span class="udiff-line-modified-removed">-     return handlerForIndex(bytecodeOffset, requiredHandler);</span>
<span class="udiff-line-modified-added">+     return handlerForIndex(bytecodeIndex.offset(), requiredHandler);</span>
  }
  
  UnlinkedHandlerInfo* UnlinkedCodeBlock::handlerForIndex(unsigned index, RequiredHandler requiredHandler)
  {
      if (!m_rareData)
          return nullptr;
<span class="udiff-line-modified-removed">-     return UnlinkedHandlerInfo::handlerForIndex(m_rareData-&gt;m_exceptionHandlers, index, requiredHandler);</span>
<span class="udiff-line-removed">- }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- void UnlinkedCodeBlock::applyModification(BytecodeRewriter&amp; rewriter, InstructionStreamWriter&amp; instructions)</span>
<span class="udiff-line-removed">- {</span>
<span class="udiff-line-removed">-     // Before applying the changes, we adjust the jumps based on the original bytecode offset, the offset to the jump target, and</span>
<span class="udiff-line-removed">-     // the insertion information.</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     rewriter.adjustJumpTargets();</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     // Then, exception handlers should be adjusted.</span>
<span class="udiff-line-removed">-     if (m_rareData) {</span>
<span class="udiff-line-removed">-         for (UnlinkedHandlerInfo&amp; handler : m_rareData-&gt;m_exceptionHandlers) {</span>
<span class="udiff-line-removed">-             handler.target = rewriter.adjustAbsoluteOffset(handler.target);</span>
<span class="udiff-line-removed">-             handler.start = rewriter.adjustAbsoluteOffset(handler.start);</span>
<span class="udiff-line-removed">-             handler.end = rewriter.adjustAbsoluteOffset(handler.end);</span>
<span class="udiff-line-removed">-         }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-         for (size_t i = 0; i &lt; m_rareData-&gt;m_opProfileControlFlowBytecodeOffsets.size(); ++i)</span>
<span class="udiff-line-removed">-             m_rareData-&gt;m_opProfileControlFlowBytecodeOffsets[i] = rewriter.adjustAbsoluteOffset(m_rareData-&gt;m_opProfileControlFlowBytecodeOffsets[i]);</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-         if (!m_rareData-&gt;m_typeProfilerInfoMap.isEmpty()) {</span>
<span class="udiff-line-removed">-             HashMap&lt;unsigned, RareData::TypeProfilerExpressionRange&gt; adjustedTypeProfilerInfoMap;</span>
<span class="udiff-line-removed">-             for (auto&amp; entry : m_rareData-&gt;m_typeProfilerInfoMap)</span>
<span class="udiff-line-removed">-                 adjustedTypeProfilerInfoMap.set(rewriter.adjustAbsoluteOffset(entry.key), entry.value);</span>
<span class="udiff-line-removed">-             m_rareData-&gt;m_typeProfilerInfoMap.swap(adjustedTypeProfilerInfoMap);</span>
<span class="udiff-line-removed">-         }</span>
<span class="udiff-line-removed">-     }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     for (size_t i = 0; i &lt; m_propertyAccessInstructions.size(); ++i)</span>
<span class="udiff-line-removed">-         m_propertyAccessInstructions[i] = rewriter.adjustAbsoluteOffset(m_propertyAccessInstructions[i]);</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     for (size_t i = 0; i &lt; m_expressionInfo.size(); ++i)</span>
<span class="udiff-line-removed">-         m_expressionInfo[i].instructionOffset = rewriter.adjustAbsoluteOffset(m_expressionInfo[i].instructionOffset);</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     // Then, modify the unlinked instructions.</span>
<span class="udiff-line-removed">-     rewriter.applyModification();</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     // And recompute the jump target based on the modified unlinked instructions.</span>
<span class="udiff-line-removed">-     m_jumpTargets.clear();</span>
<span class="udiff-line-removed">-     recomputePreciseJumpTargets(this, instructions, m_jumpTargets);</span>
<span class="udiff-line-removed">- }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- void UnlinkedCodeBlock::shrinkToFit()</span>
<span class="udiff-line-removed">- {</span>
<span class="udiff-line-removed">-     auto locker = holdLock(cellLock());</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     m_jumpTargets.shrinkToFit();</span>
<span class="udiff-line-removed">-     m_propertyAccessInstructions.shrinkToFit();</span>
<span class="udiff-line-removed">-     m_identifiers.shrinkToFit();</span>
<span class="udiff-line-removed">-     m_constantRegisters.shrinkToFit();</span>
<span class="udiff-line-removed">-     m_constantsSourceCodeRepresentation.shrinkToFit();</span>
<span class="udiff-line-removed">-     m_functionDecls.shrinkToFit();</span>
<span class="udiff-line-removed">-     m_functionExprs.shrinkToFit();</span>
<span class="udiff-line-removed">-     m_expressionInfo.shrinkToFit();</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     if (m_rareData) {</span>
<span class="udiff-line-removed">-         m_rareData-&gt;m_exceptionHandlers.shrinkToFit();</span>
<span class="udiff-line-removed">-         m_rareData-&gt;m_switchJumpTables.shrinkToFit();</span>
<span class="udiff-line-removed">-         m_rareData-&gt;m_stringSwitchJumpTables.shrinkToFit();</span>
<span class="udiff-line-removed">-         m_rareData-&gt;m_expressionInfoFatPositions.shrinkToFit();</span>
<span class="udiff-line-removed">-         m_rareData-&gt;m_opProfileControlFlowBytecodeOffsets.shrinkToFit();</span>
<span class="udiff-line-removed">-         m_rareData-&gt;m_bitVectors.shrinkToFit();</span>
<span class="udiff-line-removed">-         m_rareData-&gt;m_constantIdentifierSets.shrinkToFit();</span>
<span class="udiff-line-removed">-     }</span>
<span class="udiff-line-modified-added">+     return UnlinkedHandlerInfo::handlerForIndex&lt;UnlinkedHandlerInfo&gt;(m_rareData-&gt;m_exceptionHandlers, index, requiredHandler);</span>
  }
  
  void UnlinkedCodeBlock::dump(PrintStream&amp;) const
  {
  }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -419,16 +284,10 @@</span>
      }
  
      return *m_liveness;
  }
  
<span class="udiff-line-removed">- void UnlinkedCodeBlock::addOutOfLineJumpTarget(InstructionStream::Offset bytecodeOffset, int target)</span>
<span class="udiff-line-removed">- {</span>
<span class="udiff-line-removed">-     RELEASE_ASSERT(target);</span>
<span class="udiff-line-removed">-     m_outOfLineJumpTargets.set(bytecodeOffset, target);</span>
<span class="udiff-line-removed">- }</span>
<span class="udiff-line-removed">- </span>
  int UnlinkedCodeBlock::outOfLineJumpOffset(InstructionStream::Offset bytecodeOffset)
  {
      ASSERT(m_outOfLineJumpTargets.contains(bytecodeOffset));
      return m_outOfLineJumpTargets.get(bytecodeOffset);
  }
</pre>
<center><a href="SuperSampler.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="UnlinkedCodeBlock.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>