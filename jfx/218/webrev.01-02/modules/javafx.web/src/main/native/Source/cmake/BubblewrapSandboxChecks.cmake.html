<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New modules/javafx.web/src/main/native/Source/cmake/BubblewrapSandboxChecks.cmake</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 if (ENABLE_BUBBLEWRAP_SANDBOX)
 2     find_program(BWRAP_EXECUTABLE bwrap)
 3     if (NOT BWRAP_EXECUTABLE)
 4         message(FATAL_ERROR &quot;bwrap executable is needed for ENABLE_BUBBLEWRAP_SANDBOX&quot;)
 5     endif ()
 6 
 7     find_package(Libseccomp)
 8     if (NOT LIBSECCOMP_FOUND)
 9         message(FATAL_ERROR &quot;libseccomp is needed for ENABLE_BUBBLEWRAP_SANDBOX&quot;)
10     endif ()
11 
12     find_program(DBUS_PROXY_EXECUTABLE xdg-dbus-proxy)
13     if (NOT DBUS_PROXY_EXECUTABLE)
14         message(FATAL_ERROR &quot;xdg-dbus-proxy not found and is needed for ENABLE_BUBBLEWRAP_SANDBOX&quot;)
15     endif ()
16 
17     if (NOT CMAKE_CROSSCOMPILING)
18         execute_process(
19             COMMAND &quot;${BWRAP_EXECUTABLE}&quot; --version
20             RESULT_VARIABLE BWRAP_RET
21             OUTPUT_VARIABLE BWRAP_OUTPUT
22         )
23         if (BWRAP_RET)
24             message(FATAL_ERROR &quot;Failed to run ${BWRAP_EXECUTABLE}&quot;)
25         endif ()
26         string(REGEX MATCH &quot;[0-9]+\\.[0-9]+\\.[0-9]+&quot; BWRAP_VERSION &quot;${BWRAP_OUTPUT}&quot;)
27         if (NOT &quot;${BWRAP_VERSION}&quot; VERSION_GREATER_EQUAL &quot;0.3.1&quot;)
28             message(FATAL_ERROR &quot;bwrap must be &gt;= 0.3.1 but ${BWRAP_VERSION} found&quot;)
29         endif ()
30     elseif (NOT SILENCE_CROSS_COMPILATION_NOTICES)
31         message(NOTICE
32             &quot;***--------------------------------------------------------***\n&quot;
33             &quot;***  Cannot check Bubblewrap version when cross-compiling. ***\n&quot;
34             &quot;***  The target system MUST have version 0.3.1 or newer.   ***\n&quot;
35             &quot;***  Use the BWRAP_EXECUTABLE and DBUS_PROXY_EXECUTABLE    ***\n&quot;
36             &quot;***  variables to set the run-time paths for the &#39;bwrap&#39;   ***\n&quot;
37             &quot;***  and &#39;xdg-dbus-proxy&#39; programs.                        ***\n&quot;
38             &quot;***--------------------------------------------------------***&quot;
39         )
40     endif ()
41 
42     add_definitions(-DBWRAP_EXECUTABLE=&quot;${BWRAP_EXECUTABLE}&quot;)
43     add_definitions(-DDBUS_PROXY_EXECUTABLE=&quot;${DBUS_PROXY_EXECUTABLE}&quot;)
44 endif ()
    </pre>
  </body>
</html>