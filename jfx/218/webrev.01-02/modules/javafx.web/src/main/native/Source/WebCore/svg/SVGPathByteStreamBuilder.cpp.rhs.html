<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.web/src/main/native/Source/WebCore/svg/SVGPathByteStreamBuilder.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
  2  * Copyright (C) Research In Motion Limited 2010. All rights reserved.
  3  * Copyright (C) 2015 Apple Inc. All rights reserved.
  4  *
  5  * This library is free software; you can redistribute it and/or
  6  * modify it under the terms of the GNU Library General Public
  7  * License as published by the Free Software Foundation; either
  8  * version 2 of the License, or (at your option) any later version.
  9  *
 10  * This library is distributed in the hope that it will be useful,
 11  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 12  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 13  * Library General Public License for more details.
 14  *
 15  * You should have received a copy of the GNU Library General Public License
 16  * along with this library; see the file COPYING.LIB.  If not, write to
 17  * the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 18  * Boston, MA 02110-1301, USA.
 19  */
 20 
 21 #include &quot;config.h&quot;
 22 #include &quot;SVGPathByteStreamBuilder.h&quot;
 23 
 24 #include &quot;SVGPathSeg.h&quot;
 25 #include &quot;SVGPathStringSource.h&quot;
<a name="1" id="anc1"></a><span class="line-added"> 26 #include &lt;wtf/text/StringConcatenateNumbers.h&gt;</span>
 27 
 28 namespace WebCore {
 29 
 30 SVGPathByteStreamBuilder::SVGPathByteStreamBuilder(SVGPathByteStream&amp; byteStream)
 31     : m_byteStream(byteStream)
 32 {
 33 }
 34 
 35 void SVGPathByteStreamBuilder::moveTo(const FloatPoint&amp; targetPoint, bool, PathCoordinateMode mode)
 36 {
 37     writeSegmentType(mode == RelativeCoordinates ?  PathSegMoveToRel : PathSegMoveToAbs);
 38     writeFloatPoint(targetPoint);
 39 }
 40 
 41 void SVGPathByteStreamBuilder::lineTo(const FloatPoint&amp; targetPoint, PathCoordinateMode mode)
 42 {
 43     writeSegmentType(mode == RelativeCoordinates ? PathSegLineToRel : PathSegLineToAbs);
 44     writeFloatPoint(targetPoint);
 45 }
 46 
 47 void SVGPathByteStreamBuilder::lineToHorizontal(float x, PathCoordinateMode mode)
 48 {
 49     writeSegmentType(mode == RelativeCoordinates ? PathSegLineToHorizontalRel : PathSegLineToHorizontalAbs);
 50     writeFloat(x);
 51 }
 52 
 53 void SVGPathByteStreamBuilder::lineToVertical(float y, PathCoordinateMode mode)
 54 {
 55     writeSegmentType(mode == RelativeCoordinates ? PathSegLineToVerticalRel : PathSegLineToVerticalAbs);
 56     writeFloat(y);
 57 }
 58 
 59 void SVGPathByteStreamBuilder::curveToCubic(const FloatPoint&amp; point1, const FloatPoint&amp; point2, const FloatPoint&amp; targetPoint, PathCoordinateMode mode)
 60 {
 61     writeSegmentType(mode == RelativeCoordinates ? PathSegCurveToCubicRel : PathSegCurveToCubicAbs);
 62     writeFloatPoint(point1);
 63     writeFloatPoint(point2);
 64     writeFloatPoint(targetPoint);
 65 }
 66 
 67 void SVGPathByteStreamBuilder::curveToCubicSmooth(const FloatPoint&amp; point2, const FloatPoint&amp; targetPoint, PathCoordinateMode mode)
 68 {
 69     writeSegmentType(mode == RelativeCoordinates ? PathSegCurveToCubicSmoothRel : PathSegCurveToCubicSmoothAbs);
 70     writeFloatPoint(point2);
 71     writeFloatPoint(targetPoint);
 72 }
 73 
 74 void SVGPathByteStreamBuilder::curveToQuadratic(const FloatPoint&amp; point1, const FloatPoint&amp; targetPoint, PathCoordinateMode mode)
 75 {
 76     writeSegmentType(mode == RelativeCoordinates ? PathSegCurveToQuadraticRel : PathSegCurveToQuadraticAbs);
 77     writeFloatPoint(point1);
 78     writeFloatPoint(targetPoint);
 79 }
 80 
 81 void SVGPathByteStreamBuilder::curveToQuadraticSmooth(const FloatPoint&amp; targetPoint, PathCoordinateMode mode)
 82 {
 83     writeSegmentType(mode == RelativeCoordinates ? PathSegCurveToQuadraticSmoothRel : PathSegCurveToQuadraticSmoothAbs);
 84     writeFloatPoint(targetPoint);
 85 }
 86 
 87 void SVGPathByteStreamBuilder::arcTo(float r1, float r2, float angle, bool largeArcFlag, bool sweepFlag, const FloatPoint&amp; targetPoint, PathCoordinateMode mode)
 88 {
 89     writeSegmentType(mode == RelativeCoordinates ? PathSegArcRel : PathSegArcAbs);
 90     writeFloat(r1);
 91     writeFloat(r2);
 92     writeFloat(angle);
 93     writeFlag(largeArcFlag);
 94     writeFlag(sweepFlag);
 95     writeFloatPoint(targetPoint);
 96 }
 97 
 98 void SVGPathByteStreamBuilder::closePath()
 99 {
100     writeSegmentType(PathSegClosePath);
101 }
102 
103 } // namespace WebCore
<a name="2" id="anc2"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="2" type="hidden" />
</body>
</html>