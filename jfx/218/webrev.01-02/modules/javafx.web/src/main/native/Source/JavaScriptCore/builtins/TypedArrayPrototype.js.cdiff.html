<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/builtins/TypedArrayPrototype.js</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="TypedArrayConstructor.js.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../bytecode/AccessCase.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/builtins/TypedArrayPrototype.js</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 33,11 ***</span>
  // constructor every time.
  @globalPrivate
  function typedArraySpeciesConstructor(value)
  {
      &quot;use strict&quot;;
<span class="line-modified">!     let constructor = value.constructor;</span>
      if (constructor === @undefined)
          return @typedArrayGetOriginalConstructor(value);
  
      if (!@isObject(constructor))
          @throwTypeError(&quot;|this|.constructor is not an Object or undefined&quot;);
<span class="line-new-header">--- 33,11 ---</span>
  // constructor every time.
  @globalPrivate
  function typedArraySpeciesConstructor(value)
  {
      &quot;use strict&quot;;
<span class="line-modified">!     var constructor = value.constructor;</span>
      if (constructor === @undefined)
          return @typedArrayGetOriginalConstructor(value);
  
      if (!@isObject(constructor))
          @throwTypeError(&quot;|this|.constructor is not an Object or undefined&quot;);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 58,39 ***</span>
      &quot;use strict&quot;;
  
      if (value === @undefined)
          return undefinedValue;
  
<span class="line-modified">!     let int = @toInteger(value);</span>
      if (int &lt; 0) {
          int += length;
          return int &lt; 0 ? 0 : int;
      }
      return int &gt; length ? length : int;
  }
  
<span class="line-removed">- function values()</span>
<span class="line-removed">- {</span>
<span class="line-removed">-     &quot;use strict&quot;;</span>
<span class="line-removed">-     @typedArrayLength(this);</span>
<span class="line-removed">-     return new @ArrayIterator(this, &quot;value&quot;, @arrayIteratorValueNext);</span>
<span class="line-removed">- }</span>
<span class="line-removed">- </span>
<span class="line-removed">- function keys()</span>
<span class="line-removed">- {</span>
<span class="line-removed">-     &quot;use strict&quot;;</span>
<span class="line-removed">-     @typedArrayLength(this);</span>
<span class="line-removed">-     return new @ArrayIterator(this, &quot;key&quot;, @arrayIteratorKeyNext);</span>
<span class="line-removed">- }</span>
<span class="line-removed">- </span>
<span class="line-removed">- function entries()</span>
<span class="line-removed">- {</span>
<span class="line-removed">-     &quot;use strict&quot;;</span>
<span class="line-removed">-     @typedArrayLength(this);</span>
<span class="line-removed">-     return new @ArrayIterator(this, &quot;key+value&quot;, @arrayIteratorKeyValueNext);</span>
<span class="line-removed">- }</span>
<span class="line-removed">- </span>
  function every(callback /*, thisArg */)
  {
      &quot;use strict&quot;;
      var length = @typedArrayLength(this);
      var thisArg = @argument(1);
<span class="line-new-header">--- 58,18 ---</span>
      &quot;use strict&quot;;
  
      if (value === @undefined)
          return undefinedValue;
  
<span class="line-modified">!     var int = @toInteger(value);</span>
      if (int &lt; 0) {
          int += length;
          return int &lt; 0 ? 0 : int;
      }
      return int &gt; length ? length : int;
  }
  
  function every(callback /*, thisArg */)
  {
      &quot;use strict&quot;;
      var length = @typedArrayLength(this);
      var thisArg = @argument(1);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 108,19 ***</span>
  
  function fill(value /* [, start [, end]] */)
  {
      &quot;use strict&quot;;
  
<span class="line-modified">!     let length = @typedArrayLength(this);</span>
  
<span class="line-modified">!     let start = @argument(1);</span>
<span class="line-modified">!     let end = @argument(2);</span>
  
      start = @typedArrayClampArgumentToStartOrEnd(start, length, 0);
      end = @typedArrayClampArgumentToStartOrEnd(end, length, length);
  
<span class="line-modified">!     for (let i = start; i &lt; end; i++)</span>
          this[i] = value;
      return this;
  }
  
  function find(callback /* [, thisArg] */)
<span class="line-new-header">--- 87,19 ---</span>
  
  function fill(value /* [, start [, end]] */)
  {
      &quot;use strict&quot;;
  
<span class="line-modified">!     var length = @typedArrayLength(this);</span>
  
<span class="line-modified">!     var start = @argument(1);</span>
<span class="line-modified">!     var end = @argument(2);</span>
  
      start = @typedArrayClampArgumentToStartOrEnd(start, length, 0);
      end = @typedArrayClampArgumentToStartOrEnd(end, length, length);
  
<span class="line-modified">!     for (var i = start; i &lt; end; i++)</span>
          this[i] = value;
      return this;
  }
  
  function find(callback /* [, thisArg] */)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 131,11 ***</span>
  
      if (typeof callback !== &quot;function&quot;)
          @throwTypeError(&quot;TypedArray.prototype.find callback must be a function&quot;);
  
      for (var i = 0; i &lt; length; i++) {
<span class="line-modified">!         let elem = this[i];</span>
          if (callback.@call(thisArg, elem, i, this))
              return elem;
      }
      return @undefined;
  }
<span class="line-new-header">--- 110,11 ---</span>
  
      if (typeof callback !== &quot;function&quot;)
          @throwTypeError(&quot;TypedArray.prototype.find callback must be a function&quot;);
  
      for (var i = 0; i &lt; length; i++) {
<span class="line-modified">!         var elem = this[i];</span>
          if (callback.@call(thisArg, elem, i, this))
              return elem;
      }
      return @undefined;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 257,16 ***</span>
      &quot;use strict&quot;;
  
      if (!@isTypedArrayView(this))
          @throwTypeError(&quot;|this| should be a typed array view&quot;);
  
<span class="line-modified">!     let start = @toInteger(begin);</span>
<span class="line-modified">!     let finish;</span>
      if (end !== @undefined)
          finish = @toInteger(end);
  
<span class="line-modified">!     let constructor = @typedArraySpeciesConstructor(this);</span>
  
      return @typedArraySubarrayCreate.@call(this, start, finish, constructor);
  }
  
  function reduce(callback /* [, initialValue] */)
<span class="line-new-header">--- 236,16 ---</span>
      &quot;use strict&quot;;
  
      if (!@isTypedArrayView(this))
          @throwTypeError(&quot;|this| should be a typed array view&quot;);
  
<span class="line-modified">!     var start = @toInteger(begin);</span>
<span class="line-modified">!     var finish;</span>
      if (end !== @undefined)
          finish = @toInteger(end);
  
<span class="line-modified">!     var constructor = @typedArraySpeciesConstructor(this);</span>
  
      return @typedArraySubarrayCreate.@call(this, start, finish, constructor);
  }
  
  function reduce(callback /* [, initialValue] */)
</pre>
<center><a href="TypedArrayConstructor.js.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../bytecode/AccessCase.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>