<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/rendering/SelectionRangeData.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SelectionRangeData.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SimpleLineLayout.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/rendering/SelectionRangeData.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 48,47 ***</span>
      public:
          Context() = default;
          Context(RenderObject* start, RenderObject* end, unsigned startOffset, unsigned endOffset)
              : m_start(makeWeakPtr(start))
              , m_end(makeWeakPtr(end))
<span class="line-modified">!             , m_startPosition(startOffset)</span>
<span class="line-modified">!             , m_endPosition(endOffset)</span>
          {
          }
  
          RenderObject* start() const { return m_start.get(); }
          RenderObject* end() const { return m_end.get(); }
<span class="line-modified">!         Optional&lt;unsigned&gt; startPosition() const { return m_startPosition; }</span>
<span class="line-modified">!         Optional&lt;unsigned&gt; endPosition() const { return m_endPosition; }</span>
  
          bool operator==(const Context&amp; other) const
          {
<span class="line-modified">!             return m_start == other.m_start &amp;&amp; m_end == other.m_end &amp;&amp; m_startPosition == other.m_startPosition &amp;&amp; m_endPosition == other.m_endPosition;</span>
          }
  
      private:
          WeakPtr&lt;RenderObject&gt; m_start;
          WeakPtr&lt;RenderObject&gt; m_end;
<span class="line-modified">!         Optional&lt;unsigned&gt; m_startPosition;</span>
<span class="line-modified">!         Optional&lt;unsigned&gt; m_endPosition;</span>
      };
  
      enum class RepaintMode { NewXOROld, NewMinusOld, Nothing };
      void set(const Context&amp;, RepaintMode = RepaintMode::NewXOROld);
      const Context&amp; get() const { return m_selectionContext; }
  
      RenderObject* start() const { return m_selectionContext.start(); }
      RenderObject* end() const { return m_selectionContext.end(); }
  
<span class="line-modified">!     unsigned startPosition() const { ASSERT(m_selectionContext.startPosition()); return m_selectionContext.startPosition().valueOr(0); }</span>
<span class="line-modified">!     unsigned endPosition() const { ASSERT(m_selectionContext.endPosition()); return m_selectionContext.endPosition().valueOr(0); }</span>
  
      void clear();
      IntRect bounds() const { return collectBounds(ClipToVisibleContent::No); }
      IntRect boundsClippedToVisibleContent() const { return collectBounds(ClipToVisibleContent::Yes); }
      void repaint() const;
  
  private:
      enum class ClipToVisibleContent { Yes, No };
      IntRect collectBounds(ClipToVisibleContent) const;
      void apply(const Context&amp;, RepaintMode);
  
<span class="line-new-header">--- 48,51 ---</span>
      public:
          Context() = default;
          Context(RenderObject* start, RenderObject* end, unsigned startOffset, unsigned endOffset)
              : m_start(makeWeakPtr(start))
              , m_end(makeWeakPtr(end))
<span class="line-modified">!             , m_startOffset(startOffset)</span>
<span class="line-modified">!             , m_endOffset(endOffset)</span>
          {
          }
  
          RenderObject* start() const { return m_start.get(); }
          RenderObject* end() const { return m_end.get(); }
<span class="line-modified">!         Optional&lt;unsigned&gt; startOffset() const { return m_startOffset; }</span>
<span class="line-modified">!         Optional&lt;unsigned&gt; endOffset() const { return m_endOffset; }</span>
  
          bool operator==(const Context&amp; other) const
          {
<span class="line-modified">!             return m_start == other.m_start &amp;&amp; m_end == other.m_end &amp;&amp; m_startOffset == other.m_startOffset &amp;&amp; m_endOffset == other.m_endOffset;</span>
          }
  
      private:
          WeakPtr&lt;RenderObject&gt; m_start;
          WeakPtr&lt;RenderObject&gt; m_end;
<span class="line-modified">!         Optional&lt;unsigned&gt; m_startOffset;</span>
<span class="line-modified">!         Optional&lt;unsigned&gt; m_endOffset;</span>
      };
  
<span class="line-added">+     void setContext(const Context&amp;);</span>
<span class="line-added">+ </span>
      enum class RepaintMode { NewXOROld, NewMinusOld, Nothing };
      void set(const Context&amp;, RepaintMode = RepaintMode::NewXOROld);
      const Context&amp; get() const { return m_selectionContext; }
  
      RenderObject* start() const { return m_selectionContext.start(); }
      RenderObject* end() const { return m_selectionContext.end(); }
  
<span class="line-modified">!     unsigned startOffset() const { ASSERT(m_selectionContext.startOffset()); return m_selectionContext.startOffset().valueOr(0); }</span>
<span class="line-modified">!     unsigned endOffset() const { ASSERT(m_selectionContext.endOffset()); return m_selectionContext.endOffset().valueOr(0); }</span>
  
      void clear();
      IntRect bounds() const { return collectBounds(ClipToVisibleContent::No); }
      IntRect boundsClippedToVisibleContent() const { return collectBounds(ClipToVisibleContent::Yes); }
      void repaint() const;
  
<span class="line-added">+     RenderObject::SelectionState selectionStateForRenderer(RenderObject&amp;);</span>
<span class="line-added">+ </span>
  private:
      enum class ClipToVisibleContent { Yes, No };
      IntRect collectBounds(ClipToVisibleContent) const;
      void apply(const Context&amp;, RepaintMode);
  
</pre>
<center><a href="SelectionRangeData.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SimpleLineLayout.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>