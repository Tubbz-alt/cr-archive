<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/Scripts/wkbuiltins/builtins_generate_separate_header.py</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="builtins_generate_combined_header.py.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="builtins_generator.py.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/Scripts/wkbuiltins/builtins_generate_separate_header.py</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
110     def generate_section_for_object(self, object):
111         lines = []
112         lines.append(&#39;/* %s */&#39; % object.object_name)
113         lines.extend(self.generate_externs_for_object(object))
114         lines.append(&quot;&quot;)
115         lines.extend(self.generate_macros_for_object(object))
116         lines.append(&quot;&quot;)
117         lines.extend(self.generate_defines_for_object(object))
118         return &#39;\n&#39;.join(lines)
119 
120     def generate_externs_for_object(self, object):
121         lines = []
122 
123         for function in object.functions:
124             function_args = {
125                 &#39;codeName&#39;: BuiltinsGenerator.mangledNameForFunction(function) + &#39;Code&#39;,
126             }
127 
128             lines.append(&quot;&quot;&quot;extern const char* const s_%(codeName)s;
129 extern const int s_%(codeName)sLength;
<span class="line-modified">130 extern const JSC::ConstructAbility s_%(codeName)sConstructAbility;&quot;&quot;&quot; % function_args)</span>

131 
132         return lines
133 
134     def generate_macros_for_object(self, object):
135         args = {
136             &#39;macroPrefix&#39;: self.macro_prefix(),
137             &#39;objectMacro&#39;: object.object_name.replace(&#39;.&#39;, &#39;_&#39;).upper(),
138         }
139 
140         lines = []
141         lines.append(&quot;#define %(macroPrefix)s_FOREACH_%(objectMacro)s_BUILTIN_DATA(macro) \\&quot; % args)
142         for function in object.functions:
143             function_args = {
144                 &#39;funcName&#39;: function.function_name,
145                 &#39;mangledName&#39;: BuiltinsGenerator.mangledNameForFunction(function),
146                 &#39;paramCount&#39;: len(function.parameters),
147             }
148 
149             lines.append(&quot;    macro(%(funcName)s, %(mangledName)s, %(paramCount)d) \\&quot; % function_args)
150         return lines
</pre>
</td>
<td>
<hr />
<pre>
110     def generate_section_for_object(self, object):
111         lines = []
112         lines.append(&#39;/* %s */&#39; % object.object_name)
113         lines.extend(self.generate_externs_for_object(object))
114         lines.append(&quot;&quot;)
115         lines.extend(self.generate_macros_for_object(object))
116         lines.append(&quot;&quot;)
117         lines.extend(self.generate_defines_for_object(object))
118         return &#39;\n&#39;.join(lines)
119 
120     def generate_externs_for_object(self, object):
121         lines = []
122 
123         for function in object.functions:
124             function_args = {
125                 &#39;codeName&#39;: BuiltinsGenerator.mangledNameForFunction(function) + &#39;Code&#39;,
126             }
127 
128             lines.append(&quot;&quot;&quot;extern const char* const s_%(codeName)s;
129 extern const int s_%(codeName)sLength;
<span class="line-modified">130 extern const JSC::ConstructAbility s_%(codeName)sConstructAbility;</span>
<span class="line-added">131 extern const JSC::ConstructorKind s_%(codeName)sConstructorKind;&quot;&quot;&quot; % function_args)</span>
132 
133         return lines
134 
135     def generate_macros_for_object(self, object):
136         args = {
137             &#39;macroPrefix&#39;: self.macro_prefix(),
138             &#39;objectMacro&#39;: object.object_name.replace(&#39;.&#39;, &#39;_&#39;).upper(),
139         }
140 
141         lines = []
142         lines.append(&quot;#define %(macroPrefix)s_FOREACH_%(objectMacro)s_BUILTIN_DATA(macro) \\&quot; % args)
143         for function in object.functions:
144             function_args = {
145                 &#39;funcName&#39;: function.function_name,
146                 &#39;mangledName&#39;: BuiltinsGenerator.mangledNameForFunction(function),
147                 &#39;paramCount&#39;: len(function.parameters),
148             }
149 
150             lines.append(&quot;    macro(%(funcName)s, %(mangledName)s, %(paramCount)d) \\&quot; % function_args)
151         return lines
</pre>
</td>
</tr>
</table>
<center><a href="builtins_generate_combined_header.py.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="builtins_generator.py.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>