<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WTF/wtf/FileSystem.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="FastMalloc.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Forward.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/FileSystem.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 123,15 ***</span>
          nextCharacter = i + 1 &lt; length ? inputString[i + 1] : 0;
  
          if (shouldEscapeUChar(character, previousCharacter, nextCharacter)) {
              if (character &lt;= 255) {
                  result.append(&#39;%&#39;);
<span class="line-modified">!                 appendByteAsHex(character, result);</span>
              } else {
                  result.appendLiteral(&quot;%+&quot;);
<span class="line-modified">!                 appendByteAsHex(character &gt;&gt; 8, result);</span>
<span class="line-modified">!                 appendByteAsHex(character, result);</span>
              }
          } else
              result.append(character);
      }
  
<span class="line-new-header">--- 123,15 ---</span>
          nextCharacter = i + 1 &lt; length ? inputString[i + 1] : 0;
  
          if (shouldEscapeUChar(character, previousCharacter, nextCharacter)) {
              if (character &lt;= 255) {
                  result.append(&#39;%&#39;);
<span class="line-modified">!                 result.append(hex(static_cast&lt;unsigned char&gt;(character), 2));</span>
              } else {
                  result.appendLiteral(&quot;%+&quot;);
<span class="line-modified">!                 result.append(hex(static_cast&lt;unsigned char&gt;(character &gt;&gt; 8), 2));</span>
<span class="line-modified">!                 result.append(hex(static_cast&lt;unsigned char&gt;(character), 2));</span>
              }
          } else
              result.append(character);
      }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 180,12 ***</span>
          if (!isASCIIHexDigit(inputString[i + 4]))
              return { };
          if (!isASCIIHexDigit(inputString[i + 5]))
              return { };
  
<span class="line-modified">!         UChar hexDigit = toASCIIHexValue(inputString[i + 2], inputString[i + 3]) &lt;&lt; 8 | toASCIIHexValue(inputString[i + 4], inputString[i + 5]);</span>
<span class="line-modified">!         result.append(hexDigit);</span>
          i += 5;
      }
  
      return result.toString();
  }
<span class="line-new-header">--- 180,12 ---</span>
          if (!isASCIIHexDigit(inputString[i + 4]))
              return { };
          if (!isASCIIHexDigit(inputString[i + 5]))
              return { };
  
<span class="line-modified">!         UChar encodedCharacter = toASCIIHexValue(inputString[i + 2], inputString[i + 3]) &lt;&lt; 8 | toASCIIHexValue(inputString[i + 4], inputString[i + 5]);</span>
<span class="line-modified">!         result.append(encodedCharacter);</span>
          i += 5;
      }
  
      return result.toString();
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 305,11 ***</span>
      int fd;
  #if USE(GLIB)
      auto* inputStream = g_io_stream_get_input_stream(G_IO_STREAM(handle));
      fd = g_file_descriptor_based_get_fd(G_FILE_DESCRIPTOR_BASED(inputStream));
  #else
<span class="line-modified">!     // FIXME: openjfx2.26 compilation failure</span>
      // fd = handle;
  #endif
  
      struct stat fileStat;
      if (fstat(fd, &amp;fileStat)) {
<span class="line-new-header">--- 305,11 ---</span>
      int fd;
  #if USE(GLIB)
      auto* inputStream = g_io_stream_get_input_stream(G_IO_STREAM(handle));
      fd = g_file_descriptor_based_get_fd(G_FILE_DESCRIPTOR_BASED(inputStream));
  #else
<span class="line-modified">!     // FIXME: jfx2.26 compilation failure</span>
      // fd = handle;
  #endif
  
      struct stat fileStat;
      if (fstat(fd, &amp;fileStat)) {
</pre>
<center><a href="FastMalloc.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Forward.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>