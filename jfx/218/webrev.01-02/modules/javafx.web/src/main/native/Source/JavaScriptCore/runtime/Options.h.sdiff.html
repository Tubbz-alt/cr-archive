<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/runtime/Options.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Options.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ParseInt.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/runtime/Options.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  8  *    notice, this list of conditions and the following disclaimer.
  9  * 2. Redistributions in binary form must reproduce the above copyright
 10  *    notice, this list of conditions and the following disclaimer in the
 11  *    documentation and/or other materials provided with the distribution.
 12  *
 13  * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS&#39;&#39; AND ANY
 14  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 15  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 16  * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR
 17  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 18  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 19  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 20  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 21  * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 22  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 23  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 24  */
 25 
 26 #pragma once
 27 
<span class="line-modified"> 28 #include &quot;GCLogging.h&quot;</span>
 29 #include &quot;JSExportMacros.h&quot;
 30 #include &lt;stdint.h&gt;
 31 #include &lt;stdio.h&gt;
 32 #include &lt;wtf/PrintStream.h&gt;
 33 #include &lt;wtf/StdLibExtras.h&gt;
 34 
 35 namespace WTF {
 36 class StringBuilder;
 37 }
 38 using WTF::StringBuilder;
 39 
 40 namespace JSC {
 41 
<span class="line-removed"> 42 // How do JSC VM options work?</span>
<span class="line-removed"> 43 // ===========================</span>
<span class="line-removed"> 44 // The JSC_OPTIONS() macro below defines a list of all JSC options in use,</span>
<span class="line-removed"> 45 // along with their types and default values. The options values are actually</span>
<span class="line-removed"> 46 // realized as an array of Options::Entry elements.</span>
<span class="line-removed"> 47 //</span>
<span class="line-removed"> 48 //     Options::initialize() will initialize the array of options values with</span>
<span class="line-removed"> 49 // the defaults specified in JSC_OPTIONS() below. After that, the values can</span>
<span class="line-removed"> 50 // be programmatically read and written to using an accessor method with the</span>
<span class="line-removed"> 51 // same name as the option. For example, the option &quot;useJIT&quot; can be read and</span>
<span class="line-removed"> 52 // set like so:</span>
<span class="line-removed"> 53 //</span>
<span class="line-removed"> 54 //     bool jitIsOn = Options::useJIT();  // Get the option value.</span>
<span class="line-removed"> 55 //     Options::useJIT() = false;         // Sets the option value.</span>
<span class="line-removed"> 56 //</span>
<span class="line-removed"> 57 //     If you want to tweak any of these values programmatically for testing</span>
<span class="line-removed"> 58 // purposes, you can do so in Options::initialize() after the default values</span>
<span class="line-removed"> 59 // are set.</span>
<span class="line-removed"> 60 //</span>
<span class="line-removed"> 61 //     Alternatively, you can override the default values by specifying</span>
<span class="line-removed"> 62 // environment variables of the form: JSC_&lt;name of JSC option&gt;.</span>
<span class="line-removed"> 63 //</span>
<span class="line-removed"> 64 // Note: Options::initialize() tries to ensure some sanity on the option values</span>
<span class="line-removed"> 65 // which are set by doing some range checks, and value corrections. These</span>
<span class="line-removed"> 66 // checks are done after the option values are set. If you alter the option</span>
<span class="line-removed"> 67 // values after the sanity checks (for your own testing), then you&#39;re liable to</span>
<span class="line-removed"> 68 // ensure that the new values set are sane and reasonable for your own run.</span>
<span class="line-removed"> 69 </span>
<span class="line-removed"> 70 class OptionRange {</span>
<span class="line-removed"> 71 private:</span>
<span class="line-removed"> 72     enum RangeState { Uninitialized, InitError, Normal, Inverted };</span>
<span class="line-removed"> 73 public:</span>
<span class="line-removed"> 74     OptionRange&amp; operator= (const int&amp; rhs)</span>
<span class="line-removed"> 75     { // Only needed for initialization</span>
<span class="line-removed"> 76         if (!rhs) {</span>
<span class="line-removed"> 77             m_state = Uninitialized;</span>
<span class="line-removed"> 78             m_rangeString = 0;</span>
<span class="line-removed"> 79             m_lowLimit = 0;</span>
<span class="line-removed"> 80             m_highLimit = 0;</span>
<span class="line-removed"> 81         }</span>
<span class="line-removed"> 82         return *this;</span>
<span class="line-removed"> 83     }</span>
<span class="line-removed"> 84 </span>
<span class="line-removed"> 85     bool init(const char*);</span>
<span class="line-removed"> 86     bool isInRange(unsigned);</span>
<span class="line-removed"> 87     const char* rangeString() const { return (m_state &gt; InitError) ? m_rangeString : s_nullRangeStr; }</span>
<span class="line-removed"> 88 </span>
<span class="line-removed"> 89     void dump(PrintStream&amp; out) const;</span>
<span class="line-removed"> 90 </span>
<span class="line-removed"> 91 private:</span>
<span class="line-removed"> 92     static const char* const s_nullRangeStr;</span>
<span class="line-removed"> 93 </span>
<span class="line-removed"> 94     RangeState m_state;</span>
<span class="line-removed"> 95     const char* m_rangeString;</span>
<span class="line-removed"> 96     unsigned m_lowLimit;</span>
<span class="line-removed"> 97     unsigned m_highLimit;</span>
<span class="line-removed"> 98 };</span>
<span class="line-removed"> 99 </span>
<span class="line-removed">100 typedef OptionRange optionRange;</span>
<span class="line-removed">101 typedef const char* optionString;</span>
<span class="line-removed">102 </span>
<span class="line-removed">103 #if PLATFORM(IOS_FAMILY)</span>
<span class="line-removed">104 #define MAXIMUM_NUMBER_OF_FTL_COMPILER_THREADS 2</span>
<span class="line-removed">105 #else</span>
<span class="line-removed">106 #define MAXIMUM_NUMBER_OF_FTL_COMPILER_THREADS 8</span>
<span class="line-removed">107 #endif</span>
<span class="line-removed">108 </span>
<span class="line-removed">109 #if ENABLE(WEBASSEMBLY_STREAMING_API)</span>
<span class="line-removed">110 constexpr bool enableWebAssemblyStreamingApi = true;</span>
<span class="line-removed">111 #else</span>
<span class="line-removed">112 constexpr bool enableWebAssemblyStreamingApi = false;</span>
<span class="line-removed">113 #endif</span>
<span class="line-removed">114 </span>
<span class="line-removed">115 #define JSC_OPTIONS(v) \</span>
<span class="line-removed">116     v(bool, useKernTCSM, true, Normal, &quot;Note: this needs to go before other options since they depend on this value.&quot;) \</span>
<span class="line-removed">117     v(bool, validateOptions, false, Normal, &quot;crashes if mis-typed JSC options were passed to the VM&quot;) \</span>
<span class="line-removed">118     v(unsigned, dumpOptions, 0, Normal, &quot;dumps JSC options (0 = None, 1 = Overridden only, 2 = All, 3 = Verbose)&quot;) \</span>
<span class="line-removed">119     v(optionString, configFile, nullptr, Normal, &quot;file to configure JSC options and logging location&quot;) \</span>
<span class="line-removed">120     \</span>
<span class="line-removed">121     v(bool, useLLInt,  true, Normal, &quot;allows the LLINT to be used if true&quot;) \</span>
<span class="line-removed">122     v(bool, useJIT, jitEnabledByDefault(), Normal, &quot;allows the executable pages to be allocated for JIT and thunks if true&quot;) \</span>
<span class="line-removed">123     v(bool, useBaselineJIT, true, Normal, &quot;allows the baseline JIT to be used if true&quot;) \</span>
<span class="line-removed">124     v(bool, useDFGJIT, true, Normal, &quot;allows the DFG JIT to be used if true&quot;) \</span>
<span class="line-removed">125     v(bool, useRegExpJIT, jitEnabledByDefault(), Normal, &quot;allows the RegExp JIT to be used if true&quot;) \</span>
<span class="line-removed">126     v(bool, useDOMJIT, is64Bit(), Normal, &quot;allows the DOMJIT to be used if true&quot;) \</span>
<span class="line-removed">127     \</span>
<span class="line-removed">128     v(bool, reportMustSucceedExecutableAllocations, false, Normal, nullptr) \</span>
<span class="line-removed">129     \</span>
<span class="line-removed">130     v(unsigned, maxPerThreadStackUsage, 4 * MB, Normal, &quot;Max allowed stack usage by the VM&quot;) \</span>
<span class="line-removed">131     v(unsigned, softReservedZoneSize, 128 * KB, Normal, &quot;A buffer greater than reservedZoneSize that reserves space for stringifying exceptions.&quot;) \</span>
<span class="line-removed">132     v(unsigned, reservedZoneSize, 64 * KB, Normal, &quot;The amount of stack space we guarantee to our clients (and to interal VM code that does not call out to clients).&quot;) \</span>
<span class="line-removed">133     \</span>
<span class="line-removed">134     v(bool, crashIfCantAllocateJITMemory, false, Normal, nullptr) \</span>
<span class="line-removed">135     v(unsigned, jitMemoryReservationSize, 0, Normal, &quot;Set this number to change the executable allocation size in ExecutableAllocatorFixedVMPool. (In bytes.)&quot;) \</span>
<span class="line-removed">136     v(bool, useSeparatedWXHeap, false, Normal, nullptr) \</span>
<span class="line-removed">137     \</span>
<span class="line-removed">138     v(bool, forceCodeBlockLiveness, false, Normal, nullptr) \</span>
<span class="line-removed">139     v(bool, forceICFailure, false, Normal, nullptr) \</span>
<span class="line-removed">140     \</span>
<span class="line-removed">141     v(unsigned, repatchCountForCoolDown, 8, Normal, nullptr) \</span>
<span class="line-removed">142     v(unsigned, initialCoolDownCount, 20, Normal, nullptr) \</span>
<span class="line-removed">143     v(unsigned, repatchBufferingCountdown, 8, Normal, nullptr) \</span>
<span class="line-removed">144     \</span>
<span class="line-removed">145     v(bool, dumpGeneratedBytecodes, false, Normal, nullptr) \</span>
<span class="line-removed">146     v(bool, dumpBytecodeLivenessResults, false, Normal, nullptr) \</span>
<span class="line-removed">147     v(bool, validateBytecode, false, Normal, nullptr) \</span>
<span class="line-removed">148     v(bool, forceDebuggerBytecodeGeneration, false, Normal, nullptr) \</span>
<span class="line-removed">149     v(bool, dumpBytecodesBeforeGeneratorification, false, Normal, nullptr) \</span>
<span class="line-removed">150     \</span>
<span class="line-removed">151     v(bool, useFunctionDotArguments, true, Normal, nullptr) \</span>
<span class="line-removed">152     v(bool, useTailCalls, true, Normal, nullptr) \</span>
<span class="line-removed">153     v(bool, optimizeRecursiveTailCalls, true, Normal, nullptr) \</span>
<span class="line-removed">154     v(bool, alwaysUseShadowChicken, false, Normal, nullptr) \</span>
<span class="line-removed">155     v(unsigned, shadowChickenLogSize, 1000, Normal, nullptr) \</span>
<span class="line-removed">156     v(unsigned, shadowChickenMaxTailDeletedFramesSize, 128, Normal, nullptr) \</span>
<span class="line-removed">157     \</span>
<span class="line-removed">158     /* dumpDisassembly implies dumpDFGDisassembly. */ \</span>
<span class="line-removed">159     v(bool, dumpDisassembly, false, Normal, &quot;dumps disassembly of all JIT compiled code upon compilation&quot;) \</span>
<span class="line-removed">160     v(bool, asyncDisassembly, false, Normal, nullptr) \</span>
<span class="line-removed">161     v(bool, dumpDFGDisassembly, false, Normal, &quot;dumps disassembly of DFG function upon compilation&quot;) \</span>
<span class="line-removed">162     v(bool, dumpFTLDisassembly, false, Normal, &quot;dumps disassembly of FTL function upon compilation&quot;) \</span>
<span class="line-removed">163     v(bool, dumpRegExpDisassembly, false, Normal, &quot;dumps disassembly of RegExp upon compilation&quot;) \</span>
<span class="line-removed">164     v(bool, dumpAllDFGNodes, false, Normal, nullptr) \</span>
<span class="line-removed">165     v(bool, logJITCodeForPerf, false, Configurable, nullptr) \</span>
<span class="line-removed">166     v(optionRange, bytecodeRangeToJITCompile, 0, Normal, &quot;bytecode size range to allow compilation on, e.g. 1:100&quot;) \</span>
<span class="line-removed">167     v(optionRange, bytecodeRangeToDFGCompile, 0, Normal, &quot;bytecode size range to allow DFG compilation on, e.g. 1:100&quot;) \</span>
<span class="line-removed">168     v(optionRange, bytecodeRangeToFTLCompile, 0, Normal, &quot;bytecode size range to allow FTL compilation on, e.g. 1:100&quot;) \</span>
<span class="line-removed">169     v(optionString, jitWhitelist, nullptr, Normal, &quot;file with list of function signatures to allow compilation on&quot;) \</span>
<span class="line-removed">170     v(optionString, dfgWhitelist, nullptr, Normal, &quot;file with list of function signatures to allow DFG compilation on&quot;) \</span>
<span class="line-removed">171     v(optionString, ftlWhitelist, nullptr, Normal, &quot;file with list of function signatures to allow FTL compilation on&quot;) \</span>
<span class="line-removed">172     v(bool, dumpSourceAtDFGTime, false, Normal, &quot;dumps source code of JS function being DFG compiled&quot;) \</span>
<span class="line-removed">173     v(bool, dumpBytecodeAtDFGTime, false, Normal, &quot;dumps bytecode of JS function being DFG compiled&quot;) \</span>
<span class="line-removed">174     v(bool, dumpGraphAfterParsing, false, Normal, nullptr) \</span>
<span class="line-removed">175     v(bool, dumpGraphAtEachPhase, false, Normal, nullptr) \</span>
<span class="line-removed">176     v(bool, dumpDFGGraphAtEachPhase, false, Normal, &quot;dumps the DFG graph at each phase of DFG compilation (note this excludes DFG graphs during FTL compilation)&quot;) \</span>
<span class="line-removed">177     v(bool, dumpDFGFTLGraphAtEachPhase, false, Normal, &quot;dumps the DFG graph at each phase of DFG compilation when compiling FTL code&quot;) \</span>
<span class="line-removed">178     v(bool, dumpB3GraphAtEachPhase, false, Normal, &quot;dumps the B3 graph at each phase of compilation&quot;) \</span>
<span class="line-removed">179     v(bool, dumpAirGraphAtEachPhase, false, Normal, &quot;dumps the Air graph at each phase of compilation&quot;) \</span>
<span class="line-removed">180     v(bool, verboseDFGBytecodeParsing, false, Normal, nullptr) \</span>
<span class="line-removed">181     v(bool, safepointBeforeEachPhase, true, Normal, nullptr) \</span>
<span class="line-removed">182     v(bool, verboseCompilation, false, Normal, nullptr) \</span>
<span class="line-removed">183     v(bool, verboseFTLCompilation, false, Normal, nullptr) \</span>
<span class="line-removed">184     v(bool, logCompilationChanges, false, Normal, nullptr) \</span>
<span class="line-removed">185     v(bool, useProbeOSRExit, false, Normal, nullptr) \</span>
<span class="line-removed">186     v(bool, printEachOSRExit, false, Normal, nullptr) \</span>
<span class="line-removed">187     v(bool, validateGraph, false, Normal, nullptr) \</span>
<span class="line-removed">188     v(bool, validateGraphAtEachPhase, false, Normal, nullptr) \</span>
<span class="line-removed">189     v(bool, verboseValidationFailure, false, Normal, nullptr) \</span>
<span class="line-removed">190     v(bool, verboseOSR, false, Normal, nullptr) \</span>
<span class="line-removed">191     v(bool, verboseDFGOSRExit, false, Normal, nullptr) \</span>
<span class="line-removed">192     v(bool, verboseFTLOSRExit, false, Normal, nullptr) \</span>
<span class="line-removed">193     v(bool, verboseCallLink, false, Normal, nullptr) \</span>
<span class="line-removed">194     v(bool, verboseCompilationQueue, false, Normal, nullptr) \</span>
<span class="line-removed">195     v(bool, reportCompileTimes, false, Normal, &quot;dumps JS function signature and the time it took to compile in all tiers&quot;) \</span>
<span class="line-removed">196     v(bool, reportBaselineCompileTimes, false, Normal, &quot;dumps JS function signature and the time it took to BaselineJIT compile&quot;) \</span>
<span class="line-removed">197     v(bool, reportDFGCompileTimes, false, Normal, &quot;dumps JS function signature and the time it took to DFG and FTL compile&quot;) \</span>
<span class="line-removed">198     v(bool, reportFTLCompileTimes, false, Normal, &quot;dumps JS function signature and the time it took to FTL compile&quot;) \</span>
<span class="line-removed">199     v(bool, reportTotalCompileTimes, false, Normal, nullptr) \</span>
<span class="line-removed">200     v(bool, reportParseTimes, false, Normal, &quot;dumps JS function signature and the time it took to parse&quot;) \</span>
<span class="line-removed">201     v(bool, reportBytecodeCompileTimes, false, Normal, &quot;dumps JS function signature and the time it took to bytecode compile&quot;) \</span>
<span class="line-removed">202     v(bool, countParseTimes, false, Normal, &quot;counts parse times&quot;) \</span>
<span class="line-removed">203     v(bool, verboseExitProfile, false, Normal, nullptr) \</span>
<span class="line-removed">204     v(bool, verboseCFA, false, Normal, nullptr) \</span>
<span class="line-removed">205     v(bool, verboseDFGFailure, false, Normal, nullptr) \</span>
<span class="line-removed">206     v(bool, verboseFTLToJSThunk, false, Normal, nullptr) \</span>
<span class="line-removed">207     v(bool, verboseFTLFailure, false, Normal, nullptr) \</span>
<span class="line-removed">208     v(bool, alwaysComputeHash, false, Normal, nullptr) \</span>
<span class="line-removed">209     v(bool, testTheFTL, false, Normal, nullptr) \</span>
<span class="line-removed">210     v(bool, verboseSanitizeStack, false, Normal, nullptr) \</span>
<span class="line-removed">211     v(bool, useGenerationalGC, true, Normal, nullptr) \</span>
<span class="line-removed">212     v(bool, useConcurrentGC, true, Normal, nullptr) \</span>
<span class="line-removed">213     v(bool, collectContinuously, false, Normal, nullptr) \</span>
<span class="line-removed">214     v(double, collectContinuouslyPeriodMS, 1, Normal, nullptr) \</span>
<span class="line-removed">215     v(bool, forceFencedBarrier, false, Normal, nullptr) \</span>
<span class="line-removed">216     v(bool, verboseVisitRace, false, Normal, nullptr) \</span>
<span class="line-removed">217     v(bool, optimizeParallelSlotVisitorsForStoppedMutator, false, Normal, nullptr) \</span>
<span class="line-removed">218     v(unsigned, largeHeapSize, 32 * 1024 * 1024, Normal, nullptr) \</span>
<span class="line-removed">219     v(unsigned, smallHeapSize, 1 * 1024 * 1024, Normal, nullptr) \</span>
<span class="line-removed">220     v(double, smallHeapRAMFraction, 0.25, Normal, nullptr) \</span>
<span class="line-removed">221     v(double, smallHeapGrowthFactor, 2, Normal, nullptr) \</span>
<span class="line-removed">222     v(double, mediumHeapRAMFraction, 0.5, Normal, nullptr) \</span>
<span class="line-removed">223     v(double, mediumHeapGrowthFactor, 1.5, Normal, nullptr) \</span>
<span class="line-removed">224     v(double, largeHeapGrowthFactor, 1.24, Normal, nullptr) \</span>
<span class="line-removed">225     v(double, miniVMHeapGrowthFactor, 1.27, Normal, nullptr) \</span>
<span class="line-removed">226     v(double, criticalGCMemoryThreshold, 0.80, Normal, &quot;percent memory in use the GC considers critical.  The collector is much more aggressive above this threshold&quot;) \</span>
<span class="line-removed">227     v(double, minimumMutatorUtilization, 0, Normal, nullptr) \</span>
<span class="line-removed">228     v(double, maximumMutatorUtilization, 0.7, Normal, nullptr) \</span>
<span class="line-removed">229     v(double, epsilonMutatorUtilization, 0.01, Normal, nullptr) \</span>
<span class="line-removed">230     v(double, concurrentGCMaxHeadroom, 1.5, Normal, nullptr) \</span>
<span class="line-removed">231     v(double, concurrentGCPeriodMS, 2, Normal, nullptr) \</span>
<span class="line-removed">232     v(bool, useStochasticMutatorScheduler, true, Normal, nullptr) \</span>
<span class="line-removed">233     v(double, minimumGCPauseMS, 0.3, Normal, nullptr) \</span>
<span class="line-removed">234     v(double, gcPauseScale, 0.3, Normal, nullptr) \</span>
<span class="line-removed">235     v(double, gcIncrementBytes, 10000, Normal, nullptr) \</span>
<span class="line-removed">236     v(double, gcIncrementMaxBytes, 100000, Normal, nullptr) \</span>
<span class="line-removed">237     v(double, gcIncrementScale, 0, Normal, nullptr) \</span>
<span class="line-removed">238     v(bool, scribbleFreeCells, false, Normal, nullptr) \</span>
<span class="line-removed">239     v(double, sizeClassProgression, 1.4, Normal, nullptr) \</span>
<span class="line-removed">240     v(unsigned, largeAllocationCutoff, 100000, Normal, nullptr) \</span>
<span class="line-removed">241     v(bool, dumpSizeClasses, false, Normal, nullptr) \</span>
<span class="line-removed">242     v(bool, useBumpAllocator, true, Normal, nullptr) \</span>
<span class="line-removed">243     v(bool, stealEmptyBlocksFromOtherAllocators, true, Normal, nullptr) \</span>
<span class="line-removed">244     v(bool, eagerlyUpdateTopCallFrame, false, Normal, nullptr) \</span>
<span class="line-removed">245     v(bool, dumpZappedCellCrashData, false, Normal, nullptr) \</span>
<span class="line-removed">246     \</span>
<span class="line-removed">247     v(bool, useOSREntryToDFG, true, Normal, nullptr) \</span>
<span class="line-removed">248     v(bool, useOSREntryToFTL, true, Normal, nullptr) \</span>
<span class="line-removed">249     \</span>
<span class="line-removed">250     v(bool, useFTLJIT, true, Normal, &quot;allows the FTL JIT to be used if true&quot;) \</span>
<span class="line-removed">251     v(bool, useFTLTBAA, true, Normal, nullptr) \</span>
<span class="line-removed">252     v(bool, validateFTLOSRExitLiveness, false, Normal, nullptr) \</span>
<span class="line-removed">253     v(unsigned, defaultB3OptLevel, 2, Normal, nullptr) \</span>
<span class="line-removed">254     v(bool, b3AlwaysFailsBeforeCompile, false, Normal, nullptr) \</span>
<span class="line-removed">255     v(bool, b3AlwaysFailsBeforeLink, false, Normal, nullptr) \</span>
<span class="line-removed">256     v(bool, ftlCrashes, false, Normal, nullptr) /* fool-proof way of checking that you ended up in the FTL. ;-) */\</span>
<span class="line-removed">257     v(bool, clobberAllRegsInFTLICSlowPath, !ASSERT_DISABLED, Normal, nullptr) \</span>
<span class="line-removed">258     v(bool, enableJITDebugAssertions, !ASSERT_DISABLED, Normal, nullptr) \</span>
<span class="line-removed">259     v(bool, useAccessInlining, true, Normal, nullptr) \</span>
<span class="line-removed">260     v(unsigned, maxAccessVariantListSize, 8, Normal, nullptr) \</span>
<span class="line-removed">261     v(bool, usePolyvariantDevirtualization, true, Normal, nullptr) \</span>
<span class="line-removed">262     v(bool, usePolymorphicAccessInlining, true, Normal, nullptr) \</span>
<span class="line-removed">263     v(unsigned, maxPolymorphicAccessInliningListSize, 8, Normal, nullptr) \</span>
<span class="line-removed">264     v(bool, usePolymorphicCallInlining, true, Normal, nullptr) \</span>
<span class="line-removed">265     v(bool, usePolymorphicCallInliningForNonStubStatus, false, Normal, nullptr) \</span>
<span class="line-removed">266     v(unsigned, maxPolymorphicCallVariantListSize, 15, Normal, nullptr) \</span>
<span class="line-removed">267     v(unsigned, maxPolymorphicCallVariantListSizeForTopTier, 5, Normal, nullptr) \</span>
<span class="line-removed">268     v(unsigned, maxPolymorphicCallVariantListSizeForWebAssemblyToJS, 5, Normal, nullptr) \</span>
<span class="line-removed">269     v(unsigned, maxPolymorphicCallVariantsForInlining, 5, Normal, nullptr) \</span>
<span class="line-removed">270     v(unsigned, frequentCallThreshold, 2, Normal, nullptr) \</span>
<span class="line-removed">271     v(double, minimumCallToKnownRate, 0.51, Normal, nullptr) \</span>
<span class="line-removed">272     v(bool, createPreHeaders, true, Normal, nullptr) \</span>
<span class="line-removed">273     v(bool, useMovHintRemoval, true, Normal, nullptr) \</span>
<span class="line-removed">274     v(bool, usePutStackSinking, true, Normal, nullptr) \</span>
<span class="line-removed">275     v(bool, useObjectAllocationSinking, true, Normal, nullptr) \</span>
<span class="line-removed">276     v(bool, useValueRepElimination, true, Normal, nullptr) \</span>
<span class="line-removed">277     v(bool, useArityFixupInlining, true, Normal, nullptr) \</span>
<span class="line-removed">278     v(bool, logExecutableAllocation, false, Normal, nullptr) \</span>
<span class="line-removed">279     v(unsigned, maxDFGNodesInBasicBlockForPreciseAnalysis, 20000, Normal, &quot;Disable precise but costly analysis and give conservative results if the number of DFG nodes in a block exceeds this threshold&quot;) \</span>
<span class="line-removed">280     \</span>
<span class="line-removed">281     v(bool, useConcurrentJIT, true, Normal, &quot;allows the DFG / FTL compilation in threads other than the executing JS thread&quot;) \</span>
<span class="line-removed">282     v(unsigned, numberOfDFGCompilerThreads, computeNumberOfWorkerThreads(3, 2) - 1, Normal, nullptr) \</span>
<span class="line-removed">283     v(unsigned, numberOfFTLCompilerThreads, computeNumberOfWorkerThreads(MAXIMUM_NUMBER_OF_FTL_COMPILER_THREADS, 2) - 1, Normal, nullptr) \</span>
<span class="line-removed">284     v(int32, priorityDeltaOfDFGCompilerThreads, computePriorityDeltaOfWorkerThreads(-1, 0), Normal, nullptr) \</span>
<span class="line-removed">285     v(int32, priorityDeltaOfFTLCompilerThreads, computePriorityDeltaOfWorkerThreads(-2, 0), Normal, nullptr) \</span>
<span class="line-removed">286     v(int32, priorityDeltaOfWasmCompilerThreads, computePriorityDeltaOfWorkerThreads(-1, 0), Normal, nullptr) \</span>
<span class="line-removed">287     \</span>
<span class="line-removed">288     v(bool, useProfiler, false, Normal, nullptr) \</span>
<span class="line-removed">289     v(bool, disassembleBaselineForProfiler, true, Normal, nullptr) \</span>
<span class="line-removed">290     \</span>
<span class="line-removed">291     v(bool, useArchitectureSpecificOptimizations, true, Normal, nullptr) \</span>
<span class="line-removed">292     \</span>
<span class="line-removed">293     v(bool, breakOnThrow, false, Normal, nullptr) \</span>
<span class="line-removed">294     \</span>
<span class="line-removed">295     v(unsigned, maximumOptimizationCandidateBytecodeCost, 100000, Normal, nullptr) \</span>
<span class="line-removed">296     \</span>
<span class="line-removed">297     v(unsigned, maximumFunctionForCallInlineCandidateBytecodeCost, 120, Normal, nullptr) \</span>
<span class="line-removed">298     v(unsigned, maximumFunctionForClosureCallInlineCandidateBytecodeCost, 100, Normal, nullptr) \</span>
<span class="line-removed">299     v(unsigned, maximumFunctionForConstructInlineCandidateBytecoodeCost, 100, Normal, nullptr) \</span>
<span class="line-removed">300     \</span>
<span class="line-removed">301     v(unsigned, maximumFTLCandidateBytecodeCost, 20000, Normal, nullptr) \</span>
<span class="line-removed">302     \</span>
<span class="line-removed">303     /* Depth of inline stack, so 1 = no inlining, 2 = one level, etc. */ \</span>
<span class="line-removed">304     v(unsigned, maximumInliningDepth, 5, Normal, &quot;maximum allowed inlining depth.  Depth of 1 means no inlining&quot;) \</span>
<span class="line-removed">305     v(unsigned, maximumInliningRecursion, 2, Normal, nullptr) \</span>
<span class="line-removed">306     \</span>
<span class="line-removed">307     /* Maximum size of a caller for enabling inlining. This is purely to protect us */\</span>
<span class="line-removed">308     /* from super long compiles that take a lot of memory. */\</span>
<span class="line-removed">309     v(unsigned, maximumInliningCallerBytecodeCost, 10000, Normal, nullptr) \</span>
<span class="line-removed">310     \</span>
<span class="line-removed">311     v(unsigned, maximumVarargsForInlining, 100, Normal, nullptr) \</span>
<span class="line-removed">312     \</span>
<span class="line-removed">313     v(unsigned, maximumBinaryStringSwitchCaseLength, 50, Normal, nullptr) \</span>
<span class="line-removed">314     v(unsigned, maximumBinaryStringSwitchTotalLength, 2000, Normal, nullptr) \</span>
<span class="line-removed">315     \</span>
<span class="line-removed">316     v(double, jitPolicyScale, 1.0, Normal, &quot;scale JIT thresholds to this specified ratio between 0.0 (compile ASAP) and 1.0 (compile like normal).&quot;) \</span>
<span class="line-removed">317     v(bool, forceEagerCompilation, false, Normal, nullptr) \</span>
<span class="line-removed">318     v(int32, thresholdForJITAfterWarmUp, 500, Normal, nullptr) \</span>
<span class="line-removed">319     v(int32, thresholdForJITSoon, 100, Normal, nullptr) \</span>
<span class="line-removed">320     \</span>
<span class="line-removed">321     v(int32, thresholdForOptimizeAfterWarmUp, 1000, Normal, nullptr) \</span>
<span class="line-removed">322     v(int32, thresholdForOptimizeAfterLongWarmUp, 1000, Normal, nullptr) \</span>
<span class="line-removed">323     v(int32, thresholdForOptimizeSoon, 1000, Normal, nullptr) \</span>
<span class="line-removed">324     v(int32, executionCounterIncrementForLoop, 1, Normal, nullptr) \</span>
<span class="line-removed">325     v(int32, executionCounterIncrementForEntry, 15, Normal, nullptr) \</span>
<span class="line-removed">326     \</span>
<span class="line-removed">327     v(int32, thresholdForFTLOptimizeAfterWarmUp, 100000, Normal, nullptr) \</span>
<span class="line-removed">328     v(int32, thresholdForFTLOptimizeSoon, 1000, Normal, nullptr) \</span>
<span class="line-removed">329     v(int32, ftlTierUpCounterIncrementForLoop, 1, Normal, nullptr) \</span>
<span class="line-removed">330     v(int32, ftlTierUpCounterIncrementForReturn, 15, Normal, nullptr) \</span>
<span class="line-removed">331     v(unsigned, ftlOSREntryFailureCountForReoptimization, 15, Normal, nullptr) \</span>
<span class="line-removed">332     v(unsigned, ftlOSREntryRetryThreshold, 100, Normal, nullptr) \</span>
<span class="line-removed">333     \</span>
<span class="line-removed">334     v(int32, evalThresholdMultiplier, 10, Normal, nullptr) \</span>
<span class="line-removed">335     v(unsigned, maximumEvalCacheableSourceLength, 256, Normal, nullptr) \</span>
<span class="line-removed">336     \</span>
<span class="line-removed">337     v(bool, randomizeExecutionCountsBetweenCheckpoints, false, Normal, nullptr) \</span>
<span class="line-removed">338     v(int32, maximumExecutionCountsBetweenCheckpointsForBaseline, 1000, Normal, nullptr) \</span>
<span class="line-removed">339     v(int32, maximumExecutionCountsBetweenCheckpointsForUpperTiers, 50000, Normal, nullptr) \</span>
<span class="line-removed">340     \</span>
<span class="line-removed">341     v(unsigned, likelyToTakeSlowCaseMinimumCount, 20, Normal, nullptr) \</span>
<span class="line-removed">342     v(unsigned, couldTakeSlowCaseMinimumCount, 10, Normal, nullptr) \</span>
<span class="line-removed">343     \</span>
<span class="line-removed">344     v(unsigned, osrExitCountForReoptimization, 100, Normal, nullptr) \</span>
<span class="line-removed">345     v(unsigned, osrExitCountForReoptimizationFromLoop, 5, Normal, nullptr) \</span>
<span class="line-removed">346     \</span>
<span class="line-removed">347     v(unsigned, reoptimizationRetryCounterMax, 0, Normal, nullptr)  \</span>
<span class="line-removed">348     \</span>
<span class="line-removed">349     v(unsigned, minimumOptimizationDelay, 1, Normal, nullptr) \</span>
<span class="line-removed">350     v(unsigned, maximumOptimizationDelay, 5, Normal, nullptr) \</span>
<span class="line-removed">351     v(double, desiredProfileLivenessRate, 0.75, Normal, nullptr) \</span>
<span class="line-removed">352     v(double, desiredProfileFullnessRate, 0.35, Normal, nullptr) \</span>
<span class="line-removed">353     \</span>
<span class="line-removed">354     v(double, doubleVoteRatioForDoubleFormat, 2, Normal, nullptr) \</span>
<span class="line-removed">355     v(double, structureCheckVoteRatioForHoisting, 1, Normal, nullptr) \</span>
<span class="line-removed">356     v(double, checkArrayVoteRatioForHoisting, 1, Normal, nullptr) \</span>
<span class="line-removed">357     \</span>
<span class="line-removed">358     v(unsigned, maximumDirectCallStackSize, 200, Normal, nullptr) \</span>
<span class="line-removed">359     \</span>
<span class="line-removed">360     v(unsigned, minimumNumberOfScansBetweenRebalance, 100, Normal, nullptr) \</span>
<span class="line-removed">361     v(unsigned, numberOfGCMarkers, computeNumberOfGCMarkers(8), Normal, nullptr) \</span>
<span class="line-removed">362     v(bool, useParallelMarkingConstraintSolver, true, Normal, nullptr) \</span>
<span class="line-removed">363     v(unsigned, opaqueRootMergeThreshold, 1000, Normal, nullptr) \</span>
<span class="line-removed">364     v(double, minHeapUtilization, 0.8, Normal, nullptr) \</span>
<span class="line-removed">365     v(double, minMarkedBlockUtilization, 0.9, Normal, nullptr) \</span>
<span class="line-removed">366     v(unsigned, slowPathAllocsBetweenGCs, 0, Normal, &quot;force a GC on every Nth slow path alloc, where N is specified by this option&quot;) \</span>
<span class="line-removed">367     \</span>
<span class="line-removed">368     v(double, percentCPUPerMBForFullTimer, 0.0003125, Normal, nullptr) \</span>
<span class="line-removed">369     v(double, percentCPUPerMBForEdenTimer, 0.0025, Normal, nullptr) \</span>
<span class="line-removed">370     v(double, collectionTimerMaxPercentCPU, 0.05, Normal, nullptr) \</span>
<span class="line-removed">371     \</span>
<span class="line-removed">372     v(bool, forceWeakRandomSeed, false, Normal, nullptr) \</span>
<span class="line-removed">373     v(unsigned, forcedWeakRandomSeed, 0, Normal, nullptr) \</span>
<span class="line-removed">374     \</span>
<span class="line-removed">375     v(bool, useZombieMode, false, Normal, &quot;debugging option to scribble over dead objects with 0xbadbeef0&quot;) \</span>
<span class="line-removed">376     v(bool, useImmortalObjects, false, Normal, &quot;debugging option to keep all objects alive forever&quot;) \</span>
<span class="line-removed">377     v(bool, sweepSynchronously, false, Normal, &quot;debugging option to sweep all dead objects synchronously at GC end before resuming mutator&quot;) \</span>
<span class="line-removed">378     v(unsigned, maxSingleAllocationSize, 0, Configurable, &quot;debugging option to limit individual allocations to a max size (0 = limit not set, N = limit size in bytes)&quot;) \</span>
<span class="line-removed">379     \</span>
<span class="line-removed">380     v(gcLogLevel, logGC, GCLogging::None, Normal, &quot;debugging option to log GC activity (0 = None, 1 = Basic, 2 = Verbose)&quot;) \</span>
<span class="line-removed">381     v(bool, useGC, true, Normal, nullptr) \</span>
<span class="line-removed">382     v(bool, gcAtEnd, false, Normal, &quot;If true, the jsc CLI will do a GC before exiting&quot;) \</span>
<span class="line-removed">383     v(bool, forceGCSlowPaths, false, Normal, &quot;If true, we will force all JIT fast allocations down their slow paths.&quot;) \</span>
<span class="line-removed">384     v(unsigned, gcMaxHeapSize, 0, Normal, nullptr) \</span>
<span class="line-removed">385     v(unsigned, forceRAMSize, 0, Normal, nullptr) \</span>
<span class="line-removed">386     v(bool, recordGCPauseTimes, false, Normal, nullptr) \</span>
<span class="line-removed">387     v(bool, dumpHeapStatisticsAtVMDestruction, false, Normal, nullptr) \</span>
<span class="line-removed">388     v(bool, forceCodeBlockToJettisonDueToOldAge, false, Normal, &quot;If true, this means that anytime we can jettison a CodeBlock due to old age, we do.&quot;) \</span>
<span class="line-removed">389     v(bool, useEagerCodeBlockJettisonTiming, false, Normal, &quot;If true, the time slices for jettisoning a CodeBlock due to old age are shrunk significantly.&quot;) \</span>
<span class="line-removed">390     \</span>
<span class="line-removed">391     v(bool, useTypeProfiler, false, Normal, nullptr) \</span>
<span class="line-removed">392     v(bool, useControlFlowProfiler, false, Normal, nullptr) \</span>
<span class="line-removed">393     \</span>
<span class="line-removed">394     v(bool, useSamplingProfiler, false, Normal, nullptr) \</span>
<span class="line-removed">395     v(unsigned, sampleInterval, 1000, Normal, &quot;Time between stack traces in microseconds.&quot;) \</span>
<span class="line-removed">396     v(bool, collectSamplingProfilerDataForJSCShell, false, Normal, &quot;This corresponds to the JSC shell&#39;s --sample option.&quot;) \</span>
<span class="line-removed">397     v(unsigned, samplingProfilerTopFunctionsCount, 12, Normal, &quot;Number of top functions to report when using the command line interface.&quot;) \</span>
<span class="line-removed">398     v(unsigned, samplingProfilerTopBytecodesCount, 40, Normal, &quot;Number of top bytecodes to report when using the command line interface.&quot;) \</span>
<span class="line-removed">399     v(optionString, samplingProfilerPath, nullptr, Normal, &quot;The path to the directory to write sampiling profiler output to. This probably will not work with WK2 unless the path is in the whitelist.&quot;) \</span>
<span class="line-removed">400     v(bool, sampleCCode, false, Normal, &quot;Causes the sampling profiler to record profiling data for C frames.&quot;) \</span>
<span class="line-removed">401     \</span>
<span class="line-removed">402     v(bool, alwaysGeneratePCToCodeOriginMap, false, Normal, &quot;This will make sure we always generate a PCToCodeOriginMap for JITed code.&quot;) \</span>
<span class="line-removed">403     \</span>
<span class="line-removed">404     v(bool, verifyHeap, false, Normal, nullptr) \</span>
<span class="line-removed">405     v(unsigned, numberOfGCCyclesToRecordForVerification, 3, Normal, nullptr) \</span>
<span class="line-removed">406     \</span>
<span class="line-removed">407     v(unsigned, exceptionStackTraceLimit, 100, Normal, &quot;Stack trace limit for internal Exception object&quot;) \</span>
<span class="line-removed">408     v(unsigned, defaultErrorStackTraceLimit, 100, Normal, &quot;The default value for Error.stackTraceLimit&quot;) \</span>
<span class="line-removed">409     v(bool, useExceptionFuzz, false, Normal, nullptr) \</span>
<span class="line-removed">410     v(unsigned, fireExceptionFuzzAt, 0, Normal, nullptr) \</span>
<span class="line-removed">411     v(bool, validateDFGExceptionHandling, false, Normal, &quot;Causes the DFG to emit code validating exception handling for each node that can exit&quot;) /* This is true by default on Debug builds */\</span>
<span class="line-removed">412     v(bool, dumpSimulatedThrows, false, Normal, &quot;Dumps the call stack of the last simulated throw if exception scope verification fails&quot;) \</span>
<span class="line-removed">413     v(bool, validateExceptionChecks, false, Normal, &quot;Verifies that needed exception checks are performed.&quot;) \</span>
<span class="line-removed">414     v(unsigned, unexpectedExceptionStackTraceLimit, 100, Normal, &quot;Stack trace limit for debugging unexpected exceptions observed in the VM&quot;) \</span>
<span class="line-removed">415     \</span>
<span class="line-removed">416     v(bool, useExecutableAllocationFuzz, false, Normal, nullptr) \</span>
<span class="line-removed">417     v(unsigned, fireExecutableAllocationFuzzAt, 0, Normal, nullptr) \</span>
<span class="line-removed">418     v(unsigned, fireExecutableAllocationFuzzAtOrAfter, 0, Normal, nullptr) \</span>
<span class="line-removed">419     v(bool, verboseExecutableAllocationFuzz, false, Normal, nullptr) \</span>
<span class="line-removed">420     \</span>
<span class="line-removed">421     v(bool, useOSRExitFuzz, false, Normal, nullptr) \</span>
<span class="line-removed">422     v(unsigned, fireOSRExitFuzzAtStatic, 0, Normal, nullptr) \</span>
<span class="line-removed">423     v(unsigned, fireOSRExitFuzzAt, 0, Normal, nullptr) \</span>
<span class="line-removed">424     v(unsigned, fireOSRExitFuzzAtOrAfter, 0, Normal, nullptr) \</span>
<span class="line-removed">425     \</span>
<span class="line-removed">426     v(bool, useRandomizingFuzzerAgent, false, Normal, nullptr) \</span>
<span class="line-removed">427     v(unsigned, seedOfRandomizingFuzzerAgent, 1, Normal, nullptr) \</span>
<span class="line-removed">428     v(bool, dumpRandomizingFuzzerAgentPredictions, false, Normal, nullptr) \</span>
<span class="line-removed">429     v(bool, useDoublePredictionFuzzerAgent, false, Normal, nullptr) \</span>
<span class="line-removed">430     \</span>
<span class="line-removed">431     v(bool, logPhaseTimes, false, Normal, nullptr) \</span>
<span class="line-removed">432     v(double, rareBlockPenalty, 0.001, Normal, nullptr) \</span>
<span class="line-removed">433     v(bool, airLinearScanVerbose, false, Normal, nullptr) \</span>
<span class="line-removed">434     v(bool, airLinearScanSpillsEverything, false, Normal, nullptr) \</span>
<span class="line-removed">435     v(bool, airForceBriggsAllocator, false, Normal, nullptr) \</span>
<span class="line-removed">436     v(bool, airForceIRCAllocator, false, Normal, nullptr) \</span>
<span class="line-removed">437     v(bool, airRandomizeRegs, false, Normal, nullptr) \</span>
<span class="line-removed">438     v(unsigned, airRandomizeRegsSeed, 0, Normal, nullptr) \</span>
<span class="line-removed">439     v(bool, coalesceSpillSlots, true, Normal, nullptr) \</span>
<span class="line-removed">440     v(bool, logAirRegisterPressure, false, Normal, nullptr) \</span>
<span class="line-removed">441     v(bool, useB3TailDup, true, Normal, nullptr) \</span>
<span class="line-removed">442     v(unsigned, maxB3TailDupBlockSize, 3, Normal, nullptr) \</span>
<span class="line-removed">443     v(unsigned, maxB3TailDupBlockSuccessors, 3, Normal, nullptr) \</span>
<span class="line-removed">444     \</span>
<span class="line-removed">445     v(bool, useDollarVM, false, Restricted, &quot;installs the $vm debugging tool in global objects&quot;) \</span>
<span class="line-removed">446     v(optionString, functionOverrides, nullptr, Restricted, &quot;file with debugging overrides for function bodies&quot;) \</span>
<span class="line-removed">447     v(bool, useSigillCrashAnalyzer, false, Configurable, &quot;logs data about SIGILL crashes&quot;) \</span>
<span class="line-removed">448     \</span>
<span class="line-removed">449     v(unsigned, watchdog, 0, Normal, &quot;watchdog timeout (0 = Disabled, N = a timeout period of N milliseconds)&quot;) \</span>
<span class="line-removed">450     v(bool, usePollingTraps, false, Normal, &quot;use polling (instead of signalling) VM traps&quot;) \</span>
<span class="line-removed">451     \</span>
<span class="line-removed">452     v(bool, useMachForExceptions, true, Normal, &quot;Use mach exceptions rather than signals to handle faults and pass thread messages. (This does nothing on platforms without mach)&quot;) \</span>
<span class="line-removed">453     \</span>
<span class="line-removed">454     v(bool, useICStats, false, Normal, nullptr) \</span>
<span class="line-removed">455     \</span>
<span class="line-removed">456     v(unsigned, prototypeHitCountForLLIntCaching, 2, Normal, &quot;Number of prototype property hits before caching a prototype in the LLInt. A count of 0 means never cache.&quot;) \</span>
<span class="line-removed">457     \</span>
<span class="line-removed">458     v(bool, dumpCompiledRegExpPatterns, false, Normal, nullptr) \</span>
<span class="line-removed">459     \</span>
<span class="line-removed">460     v(bool, dumpModuleRecord, false, Normal, nullptr) \</span>
<span class="line-removed">461     v(bool, dumpModuleLoadingState, false, Normal, nullptr) \</span>
<span class="line-removed">462     v(bool, exposeInternalModuleLoader, false, Normal, &quot;expose the internal module loader object to the global space for debugging&quot;) \</span>
<span class="line-removed">463     \</span>
<span class="line-removed">464     v(bool, useSuperSampler, false, Normal, nullptr) \</span>
<span class="line-removed">465     \</span>
<span class="line-removed">466     v(bool, useSourceProviderCache, true, Normal, &quot;If false, the parser will not use the source provider cache. It&#39;s good to verify everything works when this is false. Because the cache is so successful, it can mask bugs.&quot;) \</span>
<span class="line-removed">467     v(bool, useCodeCache, true, Normal, &quot;If false, the unlinked byte code cache will not be used.&quot;) \</span>
<span class="line-removed">468     \</span>
<span class="line-removed">469     v(bool, useWebAssembly, true, Normal, &quot;Expose the WebAssembly global object.&quot;) \</span>
<span class="line-removed">470     \</span>
<span class="line-removed">471     v(bool, enableSpectreMitigations, true, Restricted, &quot;Enable Spectre mitigations.&quot;) \</span>
<span class="line-removed">472     v(bool, enableSpectreGadgets, false, Restricted, &quot;enable gadgets to test Spectre mitigations.&quot;) \</span>
<span class="line-removed">473     v(bool, zeroStackFrame, false, Normal, &quot;Zero stack frame on entry to a function.&quot;) \</span>
<span class="line-removed">474     \</span>
<span class="line-removed">475     v(bool, failToCompileWebAssemblyCode, false, Normal, &quot;If true, no Wasm::Plan will sucessfully compile a function.&quot;) \</span>
<span class="line-removed">476     v(size, webAssemblyPartialCompileLimit, 5000, Normal, &quot;Limit on the number of bytes a Wasm::Plan::compile should attempt before checking for other work.&quot;) \</span>
<span class="line-removed">477     v(unsigned, webAssemblyBBQAirOptimizationLevel, 0, Normal, &quot;Air Optimization level for BBQ Web Assembly module compilations.&quot;) \</span>
<span class="line-removed">478     v(unsigned, webAssemblyBBQB3OptimizationLevel, 1, Normal, &quot;B3 Optimization level for BBQ Web Assembly module compilations.&quot;) \</span>
<span class="line-removed">479     v(unsigned, webAssemblyOMGOptimizationLevel, Options::defaultB3OptLevel(), Normal, &quot;B3 Optimization level for OMG Web Assembly module compilations.&quot;) \</span>
<span class="line-removed">480     \</span>
<span class="line-removed">481     v(bool, useBBQTierUpChecks, true, Normal, &quot;Enables tier up checks for our BBQ code.&quot;) \</span>
<span class="line-removed">482     v(bool, useWebAssemblyOSR, true, Normal, nullptr) \</span>
<span class="line-removed">483     v(int32, thresholdForOMGOptimizeAfterWarmUp, 50000, Normal, &quot;The count before we tier up a function to OMG.&quot;) \</span>
<span class="line-removed">484     v(int32, thresholdForOMGOptimizeSoon, 500, Normal, nullptr) \</span>
<span class="line-removed">485     v(int32, omgTierUpCounterIncrementForLoop, 1, Normal, &quot;The amount the tier up counter is incremented on each loop backedge.&quot;) \</span>
<span class="line-removed">486     v(int32, omgTierUpCounterIncrementForEntry, 15, Normal, &quot;The amount the tier up counter is incremented on each function entry.&quot;) \</span>
<span class="line-removed">487     /* FIXME: enable fast memories on iOS and pre-allocate them. https://bugs.webkit.org/show_bug.cgi?id=170774 */ \</span>
<span class="line-removed">488     v(bool, useWebAssemblyFastMemory, !isIOS(), Normal, &quot;If true, we will try to use a 32-bit address space with a signal handler to bounds check wasm memory.&quot;) \</span>
<span class="line-removed">489     v(bool, logWebAssemblyMemory, false, Normal, nullptr) \</span>
<span class="line-removed">490     v(unsigned, webAssemblyFastMemoryRedzonePages, 128, Normal, &quot;WebAssembly fast memories use 4GiB virtual allocations, plus a redzone (counted as multiple of 64KiB WebAssembly pages) at the end to catch reg+imm accesses which exceed 32-bit, anything beyond the redzone is explicitly bounds-checked&quot;) \</span>
<span class="line-removed">491     v(bool, crashIfWebAssemblyCantFastMemory, false, Normal, &quot;If true, we will crash if we can&#39;t obtain fast memory for wasm.&quot;) \</span>
<span class="line-removed">492     v(unsigned, maxNumWebAssemblyFastMemories, 4, Normal, nullptr) \</span>
<span class="line-removed">493     v(bool, useFastTLSForWasmContext, true, Normal, &quot;If true, we will store context in fast TLS. If false, we will pin it to a register.&quot;) \</span>
<span class="line-removed">494     v(bool, wasmBBQUsesAir, true, Normal, nullptr) \</span>
<span class="line-removed">495     v(size, webAssemblyBBQAirModeThreshold, isIOS() ? (10 * MB) : 0, Normal, &quot;If 0, we always use BBQ Air. If Wasm module code size hits this threshold, we compile Wasm module with B3 BBQ mode.&quot;) \</span>
<span class="line-removed">496     v(bool, useWebAssemblyStreamingApi, enableWebAssemblyStreamingApi, Normal, &quot;Allow to run WebAssembly&#39;s Streaming API&quot;) \</span>
<span class="line-removed">497     v(bool, useCallICsForWebAssemblyToJSCalls, true, Normal, &quot;If true, we will use CallLinkInfo to inline cache Wasm to JS calls.&quot;) \</span>
<span class="line-removed">498     v(bool, useEagerWebAssemblyModuleHashing, false, Normal, &quot;Unnamed WebAssembly modules are identified in backtraces through their hash, if available.&quot;) \</span>
<span class="line-removed">499     v(bool, useWebAssemblyReferences, true, Normal, &quot;Allow types from the wasm references spec.&quot;) \</span>
<span class="line-removed">500     v(bool, useWeakRefs, false, Normal, &quot;Expose the WeakRef constructor.&quot;) \</span>
<span class="line-removed">501     v(bool, useBigInt, false, Normal, &quot;If true, we will enable BigInt support.&quot;) \</span>
<span class="line-removed">502     v(bool, useNullishAwareOperators, false, Normal, &quot;Enable support for ?. and ?? operators.&quot;) \</span>
<span class="line-removed">503     v(bool, useArrayAllocationProfiling, true, Normal, &quot;If true, we will use our normal array allocation profiling. If false, the allocation profile will always claim to be undecided.&quot;) \</span>
<span class="line-removed">504     v(bool, forcePolyProto, false, Normal, &quot;If true, create_this will always create an object with a poly proto structure.&quot;) \</span>
<span class="line-removed">505     v(bool, forceMiniVMMode, false, Normal, &quot;If true, it will force mini VM mode on.&quot;) \</span>
<span class="line-removed">506     v(bool, useTracePoints, false, Normal, nullptr) \</span>
<span class="line-removed">507     v(bool, traceLLIntExecution, false, Configurable, nullptr) \</span>
<span class="line-removed">508     v(bool, traceLLIntSlowPath, false, Configurable, nullptr) \</span>
<span class="line-removed">509     v(bool, traceBaselineJITExecution, false, Normal, nullptr) \</span>
<span class="line-removed">510     v(unsigned, thresholdForGlobalLexicalBindingEpoch, UINT_MAX, Normal, &quot;Threshold for global lexical binding epoch. If the epoch reaches to this value, CodeBlock metadata for scope operations will be revised globally. It needs to be greater than 1.&quot;) \</span>
<span class="line-removed">511     v(optionString, diskCachePath, nullptr, Restricted, nullptr) \</span>
<span class="line-removed">512     v(bool, forceDiskCache, false, Restricted, nullptr) \</span>
<span class="line-removed">513     v(bool, validateAbstractInterpreterState, false, Restricted, nullptr) \</span>
<span class="line-removed">514     v(double, validateAbstractInterpreterStateProbability, 0.5, Normal, nullptr) \</span>
<span class="line-removed">515     v(optionString, dumpJITMemoryPath, nullptr, Restricted, nullptr) \</span>
<span class="line-removed">516     v(double, dumpJITMemoryFlushInterval, 10, Restricted, &quot;Maximum time in between flushes of the JIT memory dump in seconds.&quot;) \</span>
<span class="line-removed">517     v(bool, useUnlinkedCodeBlockJettisoning, false, Normal, &quot;If true, UnlinkedCodeBlock can be jettisoned.&quot;) \</span>
<span class="line-removed">518 </span>
<span class="line-removed">519 </span>
<span class="line-removed">520 enum OptionEquivalence {</span>
<span class="line-removed">521     SameOption,</span>
<span class="line-removed">522     InvertedOption,</span>
<span class="line-removed">523 };</span>
<span class="line-removed">524 </span>
<span class="line-removed">525 #define JSC_ALIASED_OPTIONS(v) \</span>
<span class="line-removed">526     v(enableFunctionDotArguments, useFunctionDotArguments, SameOption) \</span>
<span class="line-removed">527     v(enableTailCalls, useTailCalls, SameOption) \</span>
<span class="line-removed">528     v(showDisassembly, dumpDisassembly, SameOption) \</span>
<span class="line-removed">529     v(showDFGDisassembly, dumpDFGDisassembly, SameOption) \</span>
<span class="line-removed">530     v(showFTLDisassembly, dumpFTLDisassembly, SameOption) \</span>
<span class="line-removed">531     v(showAllDFGNodes, dumpAllDFGNodes, SameOption) \</span>
<span class="line-removed">532     v(alwaysDoFullCollection, useGenerationalGC, InvertedOption) \</span>
<span class="line-removed">533     v(enableOSREntryToDFG, useOSREntryToDFG, SameOption) \</span>
<span class="line-removed">534     v(enableOSREntryToFTL, useOSREntryToFTL, SameOption) \</span>
<span class="line-removed">535     v(enableAccessInlining, useAccessInlining, SameOption) \</span>
<span class="line-removed">536     v(enablePolyvariantDevirtualization, usePolyvariantDevirtualization, SameOption) \</span>
<span class="line-removed">537     v(enablePolymorphicAccessInlining, usePolymorphicAccessInlining, SameOption) \</span>
<span class="line-removed">538     v(enablePolymorphicCallInlining, usePolymorphicCallInlining, SameOption) \</span>
<span class="line-removed">539     v(enableMovHintRemoval, useMovHintRemoval, SameOption) \</span>
<span class="line-removed">540     v(enableObjectAllocationSinking, useObjectAllocationSinking, SameOption) \</span>
<span class="line-removed">541     v(enableConcurrentJIT, useConcurrentJIT, SameOption) \</span>
<span class="line-removed">542     v(enableProfiler, useProfiler, SameOption) \</span>
<span class="line-removed">543     v(enableArchitectureSpecificOptimizations, useArchitectureSpecificOptimizations, SameOption) \</span>
<span class="line-removed">544     v(enablePolyvariantCallInlining, usePolyvariantCallInlining, SameOption) \</span>
<span class="line-removed">545     v(enablePolyvariantByIdInlining, usePolyvariantByIdInlining, SameOption) \</span>
<span class="line-removed">546     v(objectsAreImmortal, useImmortalObjects, SameOption) \</span>
<span class="line-removed">547     v(showObjectStatistics, dumpObjectStatistics, SameOption) \</span>
<span class="line-removed">548     v(disableGC, useGC, InvertedOption) \</span>
<span class="line-removed">549     v(enableTypeProfiler, useTypeProfiler, SameOption) \</span>
<span class="line-removed">550     v(enableControlFlowProfiler, useControlFlowProfiler, SameOption) \</span>
<span class="line-removed">551     v(enableExceptionFuzz, useExceptionFuzz, SameOption) \</span>
<span class="line-removed">552     v(enableExecutableAllocationFuzz, useExecutableAllocationFuzz, SameOption) \</span>
<span class="line-removed">553     v(enableOSRExitFuzz, useOSRExitFuzz, SameOption) \</span>
<span class="line-removed">554     v(enableDollarVM, useDollarVM, SameOption) \</span>
<span class="line-removed">555     v(enableWebAssembly, useWebAssembly, SameOption) \</span>
<span class="line-removed">556     v(verboseDFGByteCodeParsing, verboseDFGBytecodeParsing, SameOption) \</span>
<span class="line-removed">557     v(maximumOptimizationCandidateInstructionCount, maximumOptimizationCandidateBytecodeCost, SameOption) \</span>
<span class="line-removed">558     v(maximumFunctionForCallInlineCandidateInstructionCount, maximumFunctionForCallInlineCandidateBytecodeCost, SameOption) \</span>
<span class="line-removed">559     v(maximumFunctionForClosureCallInlineCandidateInstructionCount, maximumFunctionForClosureCallInlineCandidateBytecodeCost, SameOption) \</span>
<span class="line-removed">560     v(maximumFunctionForConstructInlineCandidateInstructionCount, maximumFunctionForConstructInlineCandidateBytecoodeCost, SameOption) \</span>
<span class="line-removed">561     v(maximumFTLCandidateInstructionCount, maximumFTLCandidateBytecodeCost, SameOption) \</span>
<span class="line-removed">562     v(maximumInliningCallerSize, maximumInliningCallerBytecodeCost, SameOption) \</span>
<span class="line-removed">563 </span>
<span class="line-removed">564 </span>
565 class Options {
566 public:
<span class="line-modified">567     enum class DumpLevel {</span>
568         None = 0,
569         Overridden,
570         All,
571         Verbose
572     };
573 
<span class="line-modified">574     enum class Availability {</span>
575         Normal = 0,
576         Restricted,
577         Configurable
578     };
579 
<span class="line-modified">580     // This typedef is to allow us to eliminate the &#39;_&#39; in the field name in</span>
<span class="line-modified">581     // union inside Entry. This is needed to keep the style checker happy.</span>
<span class="line-removed">582     typedef int32_t int32;</span>
<span class="line-removed">583     typedef size_t size;</span>
584 
<span class="line-modified">585     // Declare the option IDs:</span>
<span class="line-modified">586     enum ID {</span>
<span class="line-removed">587 #define FOR_EACH_OPTION(type_, name_, defaultValue_, availability_, description_) \</span>
<span class="line-removed">588         name_##ID,</span>
<span class="line-removed">589         JSC_OPTIONS(FOR_EACH_OPTION)</span>
<span class="line-removed">590 #undef FOR_EACH_OPTION</span>
<span class="line-removed">591         numberOfOptions</span>
592     };
<span class="line-modified">593 </span>
<span class="line-modified">594     enum class Type {</span>
<span class="line-modified">595         boolType,</span>
<span class="line-modified">596         unsignedType,</span>
<span class="line-modified">597         doubleType,</span>
<span class="line-modified">598         int32Type,</span>
<span class="line-modified">599         sizeType,</span>
<span class="line-modified">600         optionRangeType,</span>
<span class="line-modified">601         optionStringType,</span>
<span class="line-modified">602         gcLogLevelType,</span>

603     };
604 
605     JS_EXPORT_PRIVATE static void initialize();
606 
607     // Parses a string of options where each option is of the format &quot;--&lt;optionName&gt;=&lt;value&gt;&quot;
608     // and are separated by a space. The leading &quot;--&quot; is optional and will be ignored.
609     JS_EXPORT_PRIVATE static bool setOptions(const char* optionsList);
610 
611     // Parses a single command line option in the format &quot;&lt;optionName&gt;=&lt;value&gt;&quot;
612     // (no spaces allowed) and set the specified option if appropriate.
613     JS_EXPORT_PRIVATE static bool setOption(const char* arg);
614 
615     JS_EXPORT_PRIVATE static void dumpAllOptions(FILE*, DumpLevel, const char* title = nullptr);
616     JS_EXPORT_PRIVATE static void dumpAllOptionsInALine(StringBuilder&amp;);
617 
618     JS_EXPORT_PRIVATE static void ensureOptionsAreCoherent();
619 
<span class="line-modified">620     JS_EXPORT_PRIVATE static void enableRestrictedOptions(bool enableOrNot);</span>
<span class="line-modified">621 </span>
<span class="line-modified">622     // Declare accessors for each option:</span>
<span class="line-removed">623 #define FOR_EACH_OPTION(type_, name_, defaultValue_, availability_, description_) \</span>
<span class="line-removed">624     ALWAYS_INLINE static type_&amp; name_() { return s_options[name_##ID].type_##Val; } \</span>
<span class="line-removed">625     ALWAYS_INLINE static type_&amp; name_##Default() { return s_defaultOptions[name_##ID].type_##Val; }</span>
626 
<span class="line-modified">627     JSC_OPTIONS(FOR_EACH_OPTION)</span>
<span class="line-modified">628 #undef FOR_EACH_OPTION</span>
629 
630     static bool isAvailable(ID, Availability);
631 
632 private:
<span class="line-modified">633     // For storing for an option value:</span>
<span class="line-removed">634     union Entry {</span>
<span class="line-removed">635         bool boolVal;</span>
<span class="line-removed">636         unsigned unsignedVal;</span>
<span class="line-removed">637         double doubleVal;</span>
<span class="line-removed">638         int32 int32Val;</span>
<span class="line-removed">639         size sizeVal;</span>
<span class="line-removed">640         OptionRange optionRangeVal;</span>
<span class="line-removed">641         const char* optionStringVal;</span>
<span class="line-removed">642         GCLogging::Level gcLogLevelVal;</span>
<span class="line-removed">643     };</span>
<span class="line-removed">644 </span>
<span class="line-removed">645     // For storing constant meta data about each option:</span>
<span class="line-removed">646     struct EntryInfo {</span>
647         const char* name;
648         const char* description;
649         Type type;
650         Availability availability;


651     };
652 
653     Options();
654 
655     enum DumpDefaultsOption {
656         DontDumpDefaults,
657         DumpDefaults
658     };
659     static void dumpOptionsIfNeeded();
660     static void dumpAllOptions(StringBuilder&amp;, DumpLevel, const char* title,
661         const char* separator, const char* optionHeader, const char* optionFooter, DumpDefaultsOption);
662     static void dumpOption(StringBuilder&amp;, DumpLevel, ID,
663         const char* optionHeader, const char* optionFooter, DumpDefaultsOption);
664 
665     static bool setOptionWithoutAlias(const char* arg);
666     static bool setAliasedOption(const char* arg);
667     static bool overrideAliasedOptionWithHeuristic(const char* name);
668 
<span class="line-modified">669     // Declare the singleton instance of the options store:</span>
<span class="line-modified">670     JS_EXPORT_PRIVATE static Entry s_options[numberOfOptions];</span>
<span class="line-removed">671     JS_EXPORT_PRIVATE static Entry s_defaultOptions[numberOfOptions];</span>
<span class="line-removed">672     static const EntryInfo s_optionsInfo[numberOfOptions];</span>
<span class="line-removed">673 </span>
<span class="line-removed">674     friend class Option;</span>
<span class="line-removed">675 };</span>
<span class="line-removed">676 </span>
<span class="line-removed">677 class Option {</span>
<span class="line-removed">678 public:</span>
<span class="line-removed">679     Option(Options::ID id)</span>
<span class="line-removed">680         : m_id(id)</span>
<span class="line-removed">681         , m_entry(Options::s_options[m_id])</span>
<span class="line-removed">682     {</span>
<span class="line-removed">683     }</span>
<span class="line-removed">684 </span>
<span class="line-removed">685     void dump(StringBuilder&amp;) const;</span>
<span class="line-removed">686 </span>
<span class="line-removed">687     bool operator==(const Option&amp; other) const;</span>
<span class="line-removed">688     bool operator!=(const Option&amp; other) const { return !(*this == other); }</span>
689 
<span class="line-modified">690     Options::ID id() const { return m_id; }</span>
<span class="line-removed">691     const char* name() const;</span>
<span class="line-removed">692     const char* description() const;</span>
<span class="line-removed">693     Options::Type type() const;</span>
<span class="line-removed">694     Options::Availability availability() const;</span>
<span class="line-removed">695     bool isOverridden() const;</span>
<span class="line-removed">696     const Option defaultOption() const;</span>
697 
<span class="line-modified">698     bool&amp; boolVal();</span>
<span class="line-removed">699     unsigned&amp; unsignedVal();</span>
<span class="line-removed">700     double&amp; doubleVal();</span>
<span class="line-removed">701     int32_t&amp; int32Val();</span>
<span class="line-removed">702     OptionRange optionRangeVal();</span>
<span class="line-removed">703     const char* optionStringVal();</span>
<span class="line-removed">704     GCLogging::Level&amp; gcLogLevelVal();</span>
<span class="line-removed">705 </span>
<span class="line-removed">706 private:</span>
<span class="line-removed">707     // Only used for constructing default Options.</span>
<span class="line-removed">708     Option(Options::ID id, Options::Entry&amp; entry)</span>
<span class="line-removed">709         : m_id(id)</span>
<span class="line-removed">710         , m_entry(entry)</span>
<span class="line-removed">711     {</span>
<span class="line-removed">712     }</span>
<span class="line-removed">713 </span>
<span class="line-removed">714     Options::ID m_id;</span>
<span class="line-removed">715     Options::Entry&amp; m_entry;</span>
716 };
717 
<span class="line-removed">718 inline const char* Option::name() const</span>
<span class="line-removed">719 {</span>
<span class="line-removed">720     return Options::s_optionsInfo[m_id].name;</span>
<span class="line-removed">721 }</span>
<span class="line-removed">722 </span>
<span class="line-removed">723 inline const char* Option::description() const</span>
<span class="line-removed">724 {</span>
<span class="line-removed">725     return Options::s_optionsInfo[m_id].description;</span>
<span class="line-removed">726 }</span>
<span class="line-removed">727 </span>
<span class="line-removed">728 inline Options::Type Option::type() const</span>
<span class="line-removed">729 {</span>
<span class="line-removed">730     return Options::s_optionsInfo[m_id].type;</span>
<span class="line-removed">731 }</span>
<span class="line-removed">732 </span>
<span class="line-removed">733 inline Options::Availability Option::availability() const</span>
<span class="line-removed">734 {</span>
<span class="line-removed">735     return Options::s_optionsInfo[m_id].availability;</span>
<span class="line-removed">736 }</span>
<span class="line-removed">737 </span>
<span class="line-removed">738 inline bool Option::isOverridden() const</span>
<span class="line-removed">739 {</span>
<span class="line-removed">740     return *this != defaultOption();</span>
<span class="line-removed">741 }</span>
<span class="line-removed">742 </span>
<span class="line-removed">743 inline const Option Option::defaultOption() const</span>
<span class="line-removed">744 {</span>
<span class="line-removed">745     return Option(m_id, Options::s_defaultOptions[m_id]);</span>
<span class="line-removed">746 }</span>
<span class="line-removed">747 </span>
<span class="line-removed">748 inline bool&amp; Option::boolVal()</span>
<span class="line-removed">749 {</span>
<span class="line-removed">750     return m_entry.boolVal;</span>
<span class="line-removed">751 }</span>
<span class="line-removed">752 </span>
<span class="line-removed">753 inline unsigned&amp; Option::unsignedVal()</span>
<span class="line-removed">754 {</span>
<span class="line-removed">755     return m_entry.unsignedVal;</span>
<span class="line-removed">756 }</span>
<span class="line-removed">757 </span>
<span class="line-removed">758 inline double&amp; Option::doubleVal()</span>
<span class="line-removed">759 {</span>
<span class="line-removed">760     return m_entry.doubleVal;</span>
<span class="line-removed">761 }</span>
<span class="line-removed">762 </span>
<span class="line-removed">763 inline int32_t&amp; Option::int32Val()</span>
<span class="line-removed">764 {</span>
<span class="line-removed">765     return m_entry.int32Val;</span>
<span class="line-removed">766 }</span>
<span class="line-removed">767 </span>
<span class="line-removed">768 inline OptionRange Option::optionRangeVal()</span>
<span class="line-removed">769 {</span>
<span class="line-removed">770     return m_entry.optionRangeVal;</span>
<span class="line-removed">771 }</span>
<span class="line-removed">772 </span>
<span class="line-removed">773 inline const char* Option::optionStringVal()</span>
<span class="line-removed">774 {</span>
<span class="line-removed">775     return m_entry.optionStringVal;</span>
<span class="line-removed">776 }</span>
<span class="line-removed">777 </span>
<span class="line-removed">778 inline GCLogging::Level&amp; Option::gcLogLevelVal()</span>
<span class="line-removed">779 {</span>
<span class="line-removed">780     return m_entry.gcLogLevelVal;</span>
<span class="line-removed">781 }</span>
<span class="line-removed">782 </span>
783 } // namespace JSC
</pre>
</td>
<td>
<hr />
<pre>
  8  *    notice, this list of conditions and the following disclaimer.
  9  * 2. Redistributions in binary form must reproduce the above copyright
 10  *    notice, this list of conditions and the following disclaimer in the
 11  *    documentation and/or other materials provided with the distribution.
 12  *
 13  * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS&#39;&#39; AND ANY
 14  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 15  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 16  * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR
 17  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 18  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 19  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 20  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 21  * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 22  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 23  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 24  */
 25 
 26 #pragma once
 27 
<span class="line-modified"> 28 #include &quot;JSCConfig.h&quot;</span>
 29 #include &quot;JSExportMacros.h&quot;
 30 #include &lt;stdint.h&gt;
 31 #include &lt;stdio.h&gt;
 32 #include &lt;wtf/PrintStream.h&gt;
 33 #include &lt;wtf/StdLibExtras.h&gt;
 34 
 35 namespace WTF {
 36 class StringBuilder;
 37 }
 38 using WTF::StringBuilder;
 39 
 40 namespace JSC {
 41 











































































































































































































































































































































































































































































































































 42 class Options {
 43 public:
<span class="line-modified"> 44     enum class DumpLevel : uint8_t {</span>
 45         None = 0,
 46         Overridden,
 47         All,
 48         Verbose
 49     };
 50 
<span class="line-modified"> 51     enum class Availability : uint8_t  {</span>
 52         Normal = 0,
 53         Restricted,
 54         Configurable
 55     };
 56 
<span class="line-modified"> 57 #define DECLARE_OPTION_ID(type_, name_, defaultValue_, availability_, description_) \</span>
<span class="line-modified"> 58     name_##ID,</span>


 59 
<span class="line-modified"> 60     enum ID : uint16_t {</span>
<span class="line-modified"> 61         FOR_EACH_JSC_OPTION(DECLARE_OPTION_ID)</span>





 62     };
<span class="line-modified"> 63 #undef DECLARE_OPTION_ID</span>
<span class="line-modified"> 64 </span>
<span class="line-modified"> 65     enum class Type : uint8_t {</span>
<span class="line-modified"> 66         Bool,</span>
<span class="line-modified"> 67         Unsigned,</span>
<span class="line-modified"> 68         Double,</span>
<span class="line-modified"> 69         Int32,</span>
<span class="line-modified"> 70         Size,</span>
<span class="line-modified"> 71         OptionRange,</span>
<span class="line-modified"> 72         OptionString,</span>
<span class="line-added"> 73         GCLogLevel,</span>
 74     };
 75 
 76     JS_EXPORT_PRIVATE static void initialize();
 77 
 78     // Parses a string of options where each option is of the format &quot;--&lt;optionName&gt;=&lt;value&gt;&quot;
 79     // and are separated by a space. The leading &quot;--&quot; is optional and will be ignored.
 80     JS_EXPORT_PRIVATE static bool setOptions(const char* optionsList);
 81 
 82     // Parses a single command line option in the format &quot;&lt;optionName&gt;=&lt;value&gt;&quot;
 83     // (no spaces allowed) and set the specified option if appropriate.
 84     JS_EXPORT_PRIVATE static bool setOption(const char* arg);
 85 
 86     JS_EXPORT_PRIVATE static void dumpAllOptions(FILE*, DumpLevel, const char* title = nullptr);
 87     JS_EXPORT_PRIVATE static void dumpAllOptionsInALine(StringBuilder&amp;);
 88 
 89     JS_EXPORT_PRIVATE static void ensureOptionsAreCoherent();
 90 
<span class="line-modified"> 91 #define DECLARE_OPTION_ACCESSORS(type_, name_, defaultValue_, availability_, description_) \</span>
<span class="line-modified"> 92     ALWAYS_INLINE static OptionsStorage::type_&amp; name_() { return g_jscConfig.options.name_; }  \</span>
<span class="line-modified"> 93     ALWAYS_INLINE static OptionsStorage::type_&amp; name_##Default() { return g_jscConfig.options.name_##Default; }</span>



 94 
<span class="line-modified"> 95     FOR_EACH_JSC_OPTION(DECLARE_OPTION_ACCESSORS)</span>
<span class="line-modified"> 96 #undef DECLARE_OPTION_ACCESSORS</span>
 97 
 98     static bool isAvailable(ID, Availability);
 99 
100 private:
<span class="line-modified">101     struct ConstMetaData {</span>













102         const char* name;
103         const char* description;
104         Type type;
105         Availability availability;
<span class="line-added">106         uint16_t offsetOfOption;</span>
<span class="line-added">107         uint16_t offsetOfOptionDefault;</span>
108     };
109 
110     Options();
111 
112     enum DumpDefaultsOption {
113         DontDumpDefaults,
114         DumpDefaults
115     };
116     static void dumpOptionsIfNeeded();
117     static void dumpAllOptions(StringBuilder&amp;, DumpLevel, const char* title,
118         const char* separator, const char* optionHeader, const char* optionFooter, DumpDefaultsOption);
119     static void dumpOption(StringBuilder&amp;, DumpLevel, ID,
120         const char* optionHeader, const char* optionFooter, DumpDefaultsOption);
121 
122     static bool setOptionWithoutAlias(const char* arg);
123     static bool setAliasedOption(const char* arg);
124     static bool overrideAliasedOptionWithHeuristic(const char* name);
125 
<span class="line-modified">126     inline static void* addressOfOption(Options::ID);</span>
<span class="line-modified">127     inline static void* addressOfOptionDefault(Options::ID);</span>


















128 
<span class="line-modified">129     static const ConstMetaData s_constMetaData[NumberOfOptions];</span>






130 
<span class="line-modified">131     friend struct OptionReader;</span>

















132 };
133 

































































134 } // namespace JSC
</pre>
</td>
</tr>
</table>
<center><a href="Options.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ParseInt.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>