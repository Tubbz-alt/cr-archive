<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/css/BasicShapeFunctions.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../crypto/keys/CryptoKeyRSA.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="CSSAspectRatioValue.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/css/BasicShapeFunctions.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 54 {
 55     switch (radius.type()) {
 56     case BasicShapeRadius::Value:
 57         return pool.createValue(radius.value(), style);
 58     case BasicShapeRadius::ClosestSide:
 59         return pool.createIdentifierValue(CSSValueClosestSide);
 60     case BasicShapeRadius::FarthestSide:
 61         return pool.createIdentifierValue(CSSValueFarthestSide);
 62     }
 63 
 64     ASSERT_NOT_REACHED();
 65     return pool.createIdentifierValue(CSSValueClosestSide);
 66 }
 67 
 68 Ref&lt;CSSPrimitiveValue&gt; valueForBasicShape(const RenderStyle&amp; style, const BasicShape&amp; basicShape)
 69 {
 70     auto&amp; cssValuePool = CSSValuePool::singleton();
 71 
 72     RefPtr&lt;CSSBasicShape&gt; basicShapeValue;
 73     switch (basicShape.type()) {
<span class="line-modified"> 74     case BasicShape::BasicShapeCircleType: {</span>
 75         auto&amp; circle = downcast&lt;BasicShapeCircle&gt;(basicShape);
 76         auto circleValue = CSSBasicShapeCircle::create();
 77 
 78         circleValue-&gt;setCenterX(valueForCenterCoordinate(cssValuePool, style, circle.centerX(), BoxOrient::Horizontal));
 79         circleValue-&gt;setCenterY(valueForCenterCoordinate(cssValuePool, style, circle.centerY(), BoxOrient::Vertical));
 80         circleValue-&gt;setRadius(basicShapeRadiusToCSSValue(style, cssValuePool, circle.radius()));
 81 
 82         basicShapeValue = WTFMove(circleValue);
 83         break;
 84     }
<span class="line-modified"> 85     case BasicShape::BasicShapeEllipseType: {</span>
 86         auto&amp; ellipse = downcast&lt;BasicShapeEllipse&gt;(basicShape);
 87         auto ellipseValue = CSSBasicShapeEllipse::create();
 88 
 89         ellipseValue-&gt;setCenterX(valueForCenterCoordinate(cssValuePool, style, ellipse.centerX(), BoxOrient::Horizontal));
 90         ellipseValue-&gt;setCenterY(valueForCenterCoordinate(cssValuePool, style, ellipse.centerY(), BoxOrient::Vertical));
 91         ellipseValue-&gt;setRadiusX(basicShapeRadiusToCSSValue(style, cssValuePool, ellipse.radiusX()));
 92         ellipseValue-&gt;setRadiusY(basicShapeRadiusToCSSValue(style, cssValuePool, ellipse.radiusY()));
 93 
 94         basicShapeValue = WTFMove(ellipseValue);
 95         break;
 96     }
<span class="line-modified"> 97     case BasicShape::BasicShapePolygonType: {</span>
 98         auto&amp; polygon = downcast&lt;BasicShapePolygon&gt;(basicShape);
 99         auto polygonValue = CSSBasicShapePolygon::create();
100 
101         polygonValue-&gt;setWindRule(polygon.windRule());
102         const Vector&lt;Length&gt;&amp; values = polygon.values();
103         for (unsigned i = 0; i &lt; values.size(); i += 2)
104             polygonValue-&gt;appendPoint(cssValuePool.createValue(values.at(i), style), cssValuePool.createValue(values.at(i + 1), style));
105 
106         basicShapeValue = WTFMove(polygonValue);
107         break;
108     }
<span class="line-modified">109     case BasicShape::BasicShapePathType: {</span>
110         auto&amp; pathShape = downcast&lt;BasicShapePath&gt;(basicShape);
111         auto pathShapeValue = CSSBasicShapePath::create(pathShape.pathData()-&gt;copy());
112         pathShapeValue-&gt;setWindRule(pathShape.windRule());
113 
114         basicShapeValue = WTFMove(pathShapeValue);
115         break;
116     }
<span class="line-modified">117     case BasicShape::BasicShapeInsetType: {</span>
118         auto&amp; inset = downcast&lt;BasicShapeInset&gt;(basicShape);
119         auto insetValue = CSSBasicShapeInset::create();
120 
121         insetValue-&gt;setTop(cssValuePool.createValue(inset.top(), style));
122         insetValue-&gt;setRight(cssValuePool.createValue(inset.right(), style));
123         insetValue-&gt;setBottom(cssValuePool.createValue(inset.bottom(), style));
124         insetValue-&gt;setLeft(cssValuePool.createValue(inset.left(), style));
125 
126         insetValue-&gt;setTopLeftRadius(cssValuePool.createValue(inset.topLeftRadius(), style));
127         insetValue-&gt;setTopRightRadius(cssValuePool.createValue(inset.topRightRadius(), style));
128         insetValue-&gt;setBottomRightRadius(cssValuePool.createValue(inset.bottomRightRadius(), style));
129         insetValue-&gt;setBottomLeftRadius(cssValuePool.createValue(inset.bottomLeftRadius(), style));
130 
131         basicShapeValue = WTFMove(insetValue);
132         break;
133     }
134     }
135 
136     return cssValuePool.createValue(basicShapeValue.releaseNonNull());
137 }
</pre>
</td>
<td>
<hr />
<pre>
 54 {
 55     switch (radius.type()) {
 56     case BasicShapeRadius::Value:
 57         return pool.createValue(radius.value(), style);
 58     case BasicShapeRadius::ClosestSide:
 59         return pool.createIdentifierValue(CSSValueClosestSide);
 60     case BasicShapeRadius::FarthestSide:
 61         return pool.createIdentifierValue(CSSValueFarthestSide);
 62     }
 63 
 64     ASSERT_NOT_REACHED();
 65     return pool.createIdentifierValue(CSSValueClosestSide);
 66 }
 67 
 68 Ref&lt;CSSPrimitiveValue&gt; valueForBasicShape(const RenderStyle&amp; style, const BasicShape&amp; basicShape)
 69 {
 70     auto&amp; cssValuePool = CSSValuePool::singleton();
 71 
 72     RefPtr&lt;CSSBasicShape&gt; basicShapeValue;
 73     switch (basicShape.type()) {
<span class="line-modified"> 74     case BasicShape::Type::Circle: {</span>
 75         auto&amp; circle = downcast&lt;BasicShapeCircle&gt;(basicShape);
 76         auto circleValue = CSSBasicShapeCircle::create();
 77 
 78         circleValue-&gt;setCenterX(valueForCenterCoordinate(cssValuePool, style, circle.centerX(), BoxOrient::Horizontal));
 79         circleValue-&gt;setCenterY(valueForCenterCoordinate(cssValuePool, style, circle.centerY(), BoxOrient::Vertical));
 80         circleValue-&gt;setRadius(basicShapeRadiusToCSSValue(style, cssValuePool, circle.radius()));
 81 
 82         basicShapeValue = WTFMove(circleValue);
 83         break;
 84     }
<span class="line-modified"> 85     case BasicShape::Type::Ellipse: {</span>
 86         auto&amp; ellipse = downcast&lt;BasicShapeEllipse&gt;(basicShape);
 87         auto ellipseValue = CSSBasicShapeEllipse::create();
 88 
 89         ellipseValue-&gt;setCenterX(valueForCenterCoordinate(cssValuePool, style, ellipse.centerX(), BoxOrient::Horizontal));
 90         ellipseValue-&gt;setCenterY(valueForCenterCoordinate(cssValuePool, style, ellipse.centerY(), BoxOrient::Vertical));
 91         ellipseValue-&gt;setRadiusX(basicShapeRadiusToCSSValue(style, cssValuePool, ellipse.radiusX()));
 92         ellipseValue-&gt;setRadiusY(basicShapeRadiusToCSSValue(style, cssValuePool, ellipse.radiusY()));
 93 
 94         basicShapeValue = WTFMove(ellipseValue);
 95         break;
 96     }
<span class="line-modified"> 97     case BasicShape::Type::Polygon: {</span>
 98         auto&amp; polygon = downcast&lt;BasicShapePolygon&gt;(basicShape);
 99         auto polygonValue = CSSBasicShapePolygon::create();
100 
101         polygonValue-&gt;setWindRule(polygon.windRule());
102         const Vector&lt;Length&gt;&amp; values = polygon.values();
103         for (unsigned i = 0; i &lt; values.size(); i += 2)
104             polygonValue-&gt;appendPoint(cssValuePool.createValue(values.at(i), style), cssValuePool.createValue(values.at(i + 1), style));
105 
106         basicShapeValue = WTFMove(polygonValue);
107         break;
108     }
<span class="line-modified">109     case BasicShape::Type::Path: {</span>
110         auto&amp; pathShape = downcast&lt;BasicShapePath&gt;(basicShape);
111         auto pathShapeValue = CSSBasicShapePath::create(pathShape.pathData()-&gt;copy());
112         pathShapeValue-&gt;setWindRule(pathShape.windRule());
113 
114         basicShapeValue = WTFMove(pathShapeValue);
115         break;
116     }
<span class="line-modified">117     case BasicShape::Type::Inset: {</span>
118         auto&amp; inset = downcast&lt;BasicShapeInset&gt;(basicShape);
119         auto insetValue = CSSBasicShapeInset::create();
120 
121         insetValue-&gt;setTop(cssValuePool.createValue(inset.top(), style));
122         insetValue-&gt;setRight(cssValuePool.createValue(inset.right(), style));
123         insetValue-&gt;setBottom(cssValuePool.createValue(inset.bottom(), style));
124         insetValue-&gt;setLeft(cssValuePool.createValue(inset.left(), style));
125 
126         insetValue-&gt;setTopLeftRadius(cssValuePool.createValue(inset.topLeftRadius(), style));
127         insetValue-&gt;setTopRightRadius(cssValuePool.createValue(inset.topRightRadius(), style));
128         insetValue-&gt;setBottomRightRadius(cssValuePool.createValue(inset.bottomRightRadius(), style));
129         insetValue-&gt;setBottomLeftRadius(cssValuePool.createValue(inset.bottomLeftRadius(), style));
130 
131         basicShapeValue = WTFMove(insetValue);
132         break;
133     }
134     }
135 
136     return cssValuePool.createValue(basicShapeValue.releaseNonNull());
137 }
</pre>
</td>
</tr>
</table>
<center><a href="../crypto/keys/CryptoKeyRSA.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="CSSAspectRatioValue.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>