<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/dfg/DFGPlan.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DFGPlan.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DFGPreciseLocalClobberize.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/dfg/DFGPlan.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (C) 2013-2018 Apple Inc. All rights reserved.</span>
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions
   * are met:
   * 1. Redistributions of source code must retain the above copyright
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (C) 2013-2020 Apple Inc. All rights reserved.</span>
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions
   * are met:
   * 1. Redistributions of source code must retain the above copyright
</pre>
<hr />
<pre>
<span class="line-old-header">*** 54,11 ***</span>
  
  class Plan : public ThreadSafeRefCounted&lt;Plan&gt; {
  public:
      Plan(
          CodeBlock* codeBlockToCompile, CodeBlock* profiledDFGCodeBlock,
<span class="line-modified">!         CompilationMode, unsigned osrEntryBytecodeIndex,</span>
          const Operands&lt;Optional&lt;JSValue&gt;&gt;&amp; mustHandleValues);
      ~Plan();
  
      void compileInThread(ThreadData*);
  
<span class="line-new-header">--- 54,11 ---</span>
  
  class Plan : public ThreadSafeRefCounted&lt;Plan&gt; {
  public:
      Plan(
          CodeBlock* codeBlockToCompile, CodeBlock* profiledDFGCodeBlock,
<span class="line-modified">!         CompilationMode, BytecodeIndex osrEntryBytecodeIndex,</span>
          const Operands&lt;Optional&lt;JSValue&gt;&gt;&amp; mustHandleValues);
      ~Plan();
  
      void compileInThread(ThreadData*);
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 85,11 ***</span>
  
      CodeBlock* codeBlock() { return m_codeBlock; }
  
      bool isFTL() const { return DFG::isFTL(m_mode); }
      CompilationMode mode() const { return m_mode; }
<span class="line-modified">!     unsigned osrEntryBytecodeIndex() const { return m_osrEntryBytecodeIndex; }</span>
      const Operands&lt;Optional&lt;JSValue&gt;&gt;&amp; mustHandleValues() const { return m_mustHandleValues; }
      ThreadData* threadData() const { return m_threadData; }
      Profiler::Compilation* compilation() const { return m_compilation.get(); }
  
      Finalizer* finalizer() const { return m_finalizer.get(); }
<span class="line-new-header">--- 85,11 ---</span>
  
      CodeBlock* codeBlock() { return m_codeBlock; }
  
      bool isFTL() const { return DFG::isFTL(m_mode); }
      CompilationMode mode() const { return m_mode; }
<span class="line-modified">!     BytecodeIndex osrEntryBytecodeIndex() const { return m_osrEntryBytecodeIndex; }</span>
      const Operands&lt;Optional&lt;JSValue&gt;&gt;&amp; mustHandleValues() const { return m_mustHandleValues; }
      ThreadData* threadData() const { return m_threadData; }
      Profiler::Compilation* compilation() const { return m_compilation.get(); }
  
      Finalizer* finalizer() const { return m_finalizer.get(); }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 104,12 ***</span>
      RecordedStatuses&amp; recordedStatuses() { return m_recordedStatuses; }
  
      bool willTryToTierUp() const { return m_willTryToTierUp; }
      void setWillTryToTierUp(bool willTryToTierUp) { m_willTryToTierUp = willTryToTierUp; }
  
<span class="line-modified">!     HashMap&lt;unsigned, Vector&lt;unsigned&gt;&gt;&amp; tierUpInLoopHierarchy() { return m_tierUpInLoopHierarchy; }</span>
<span class="line-modified">!     Vector&lt;unsigned&gt;&amp; tierUpAndOSREnterBytecodes() { return m_tierUpAndOSREnterBytecodes; }</span>
  
      enum Stage { Preparing, Compiling, Ready, Cancelled };
      Stage stage() const { return m_stage; }
  
      DeferredCompilationCallback* callback() const { return m_callback.get(); }
<span class="line-new-header">--- 104,12 ---</span>
      RecordedStatuses&amp; recordedStatuses() { return m_recordedStatuses; }
  
      bool willTryToTierUp() const { return m_willTryToTierUp; }
      void setWillTryToTierUp(bool willTryToTierUp) { m_willTryToTierUp = willTryToTierUp; }
  
<span class="line-modified">!     HashMap&lt;BytecodeIndex, Vector&lt;BytecodeIndex&gt;&gt;&amp; tierUpInLoopHierarchy() { return m_tierUpInLoopHierarchy; }</span>
<span class="line-modified">!     Vector&lt;BytecodeIndex&gt;&amp; tierUpAndOSREnterBytecodes() { return m_tierUpAndOSREnterBytecodes; }</span>
  
      enum Stage { Preparing, Compiling, Ready, Cancelled };
      Stage stage() const { return m_stage; }
  
      DeferredCompilationCallback* callback() const { return m_callback.get(); }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 141,11 ***</span>
      bool m_mustHandleValuesMayIncludeGarbage { true };
      Lock m_mustHandleValueCleaningLock;
  
      bool m_willTryToTierUp { false };
  
<span class="line-modified">!     const unsigned m_osrEntryBytecodeIndex;</span>
  
      ThreadData* m_threadData;
  
      RefPtr&lt;Profiler::Compilation&gt; m_compilation;
  
<span class="line-new-header">--- 141,11 ---</span>
      bool m_mustHandleValuesMayIncludeGarbage { true };
      Lock m_mustHandleValueCleaningLock;
  
      bool m_willTryToTierUp { false };
  
<span class="line-modified">!     const BytecodeIndex m_osrEntryBytecodeIndex;</span>
  
      ThreadData* m_threadData;
  
      RefPtr&lt;Profiler::Compilation&gt; m_compilation;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 157,12 ***</span>
      DesiredWeakReferences m_weakReferences;
      DesiredTransitions m_transitions;
      DesiredGlobalProperties m_globalProperties;
      RecordedStatuses m_recordedStatuses;
  
<span class="line-modified">!     HashMap&lt;unsigned, Vector&lt;unsigned&gt;&gt; m_tierUpInLoopHierarchy;</span>
<span class="line-modified">!     Vector&lt;unsigned&gt; m_tierUpAndOSREnterBytecodes;</span>
  
      Stage m_stage;
  
      RefPtr&lt;DeferredCompilationCallback&gt; m_callback;
  
<span class="line-new-header">--- 157,12 ---</span>
      DesiredWeakReferences m_weakReferences;
      DesiredTransitions m_transitions;
      DesiredGlobalProperties m_globalProperties;
      RecordedStatuses m_recordedStatuses;
  
<span class="line-modified">!     HashMap&lt;BytecodeIndex, Vector&lt;BytecodeIndex&gt;&gt; m_tierUpInLoopHierarchy;</span>
<span class="line-modified">!     Vector&lt;BytecodeIndex&gt; m_tierUpAndOSREnterBytecodes;</span>
  
      Stage m_stage;
  
      RefPtr&lt;DeferredCompilationCallback&gt; m_callback;
  
</pre>
<center><a href="DFGPlan.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DFGPreciseLocalClobberize.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>