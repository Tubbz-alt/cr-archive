<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.web/src/main/native/Source/JavaScriptCore/parser/NodeConstructors.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>   1 /*
   2  *  Copyright (C) 2009-2018 Apple Inc. All rights reserved.
   3  *
   4  *  This library is free software; you can redistribute it and/or
   5  *  modify it under the terms of the GNU Library General Public
   6  *  License as published by the Free Software Foundation; either
   7  *  version 2 of the License, or (at your option) any later version.
   8  *
   9  *  This library is distributed in the hope that it will be useful,
  10  *  but WITHOUT ANY WARRANTY; without even the implied warranty of
  11  *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  12  *  Library General Public License for more details.
  13  *
  14  *  You should have received a copy of the GNU Library General Public License
  15  *  along with this library; see the file COPYING.LIB.  If not, write to
  16  *  the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
  17  *  Boston, MA 02110-1301, USA.
  18  *
  19  */
  20 
  21 #pragma once
  22 
  23 #include &quot;Nodes.h&quot;
  24 #include &quot;Opcode.h&quot;
  25 
  26 namespace JSC {
  27 
  28     inline void* ParserArenaFreeable::operator new(size_t size, ParserArena&amp; parserArena)
  29     {
  30         return parserArena.allocateFreeable(size);
  31     }
  32 
  33     template&lt;typename T&gt;
  34     inline void* ParserArenaDeletable::operator new(size_t size, ParserArena&amp; parserArena)
  35     {
  36         return parserArena.allocateDeletable&lt;T&gt;(size);
  37     }
  38 
  39     inline ParserArenaRoot::ParserArenaRoot(ParserArena&amp; parserArena)
  40     {
  41         m_arena.swap(parserArena);
  42     }
  43 
  44     inline Node::Node(const JSTokenLocation&amp; location)
  45         : m_position(location.line, location.startOffset, location.lineStartOffset)
  46     {
  47         ASSERT(location.startOffset &gt;= location.lineStartOffset);
  48     }
  49 
  50     inline ExpressionNode::ExpressionNode(const JSTokenLocation&amp; location, ResultType resultType)
  51         : Node(location)
  52         , m_resultType(resultType)
  53     {
  54     }
  55 
  56     inline StatementNode::StatementNode(const JSTokenLocation&amp; location)
  57         : Node(location)
  58     {
  59     }
  60 
  61     inline ConstantNode::ConstantNode(const JSTokenLocation&amp; location, ResultType resultType)
  62         : ExpressionNode(location, resultType)
  63     {
  64     }
  65 
  66     inline NullNode::NullNode(const JSTokenLocation&amp; location)
  67         : ConstantNode(location, ResultType::nullType())
  68     {
  69     }
  70 
  71     inline BooleanNode::BooleanNode(const JSTokenLocation&amp; location, bool value)
  72         : ConstantNode(location, ResultType::booleanType())
  73         , m_value(value)
  74     {
  75     }
  76 
  77     inline NumberNode::NumberNode(const JSTokenLocation&amp; location, double value)
  78         : ConstantNode(location, JSValue(value).isInt32() ? ResultType::numberTypeIsInt32() : ResultType::numberType())
  79         , m_value(value)
  80     {
  81     }
  82 
  83     inline DoubleNode::DoubleNode(const JSTokenLocation&amp; location, double value)
  84         : NumberNode(location, value)
  85     {
  86     }
  87 
  88     inline IntegerNode::IntegerNode(const JSTokenLocation&amp; location, double value)
  89         : DoubleNode(location, value)
  90     {
  91     }
  92 
  93     inline BigIntNode::BigIntNode(const JSTokenLocation&amp; location, const Identifier&amp; value, uint8_t radix)
  94         : ConstantNode(location, ResultType::bigIntType())
  95         , m_value(value)
  96         , m_radix(radix)
  97         , m_sign(false)
  98     {
  99     }
 100 
 101     inline BigIntNode::BigIntNode(const JSTokenLocation&amp; location, const Identifier&amp; value, uint8_t radix, bool sign)
 102         : ConstantNode(location, ResultType::bigIntType())
 103         , m_value(value)
 104         , m_radix(radix)
 105         , m_sign(sign)
 106     {
 107     }
 108 
 109     inline StringNode::StringNode(const JSTokenLocation&amp; location, const Identifier&amp; value)
 110         : ConstantNode(location, ResultType::stringType())
 111         , m_value(value)
 112     {
 113     }
 114 
 115     inline TemplateExpressionListNode::TemplateExpressionListNode(ExpressionNode* node)
 116         : m_node(node)
 117     {
 118     }
 119 
 120     inline TemplateExpressionListNode::TemplateExpressionListNode(TemplateExpressionListNode* previous, ExpressionNode* node)
 121         : m_node(node)
 122     {
 123         previous-&gt;m_next = this;
 124     }
 125 
 126     inline TemplateStringNode::TemplateStringNode(const JSTokenLocation&amp; location, const Identifier* cooked, const Identifier* raw)
 127         : ExpressionNode(location)
 128         , m_cooked(cooked)
 129         , m_raw(raw)
 130     {
 131     }
 132 
 133     inline TemplateStringListNode::TemplateStringListNode(TemplateStringNode* node)
 134         : m_node(node)
 135     {
 136     }
 137 
 138     inline TemplateStringListNode::TemplateStringListNode(TemplateStringListNode* previous, TemplateStringNode* node)
 139         : m_node(node)
 140     {
 141         previous-&gt;m_next = this;
 142     }
 143 
 144     inline TemplateLiteralNode::TemplateLiteralNode(const JSTokenLocation&amp; location, TemplateStringListNode* templateStrings)
 145         : ExpressionNode(location)
 146         , m_templateStrings(templateStrings)
 147         , m_templateExpressions(nullptr)
 148     {
 149     }
 150 
 151     inline TemplateLiteralNode::TemplateLiteralNode(const JSTokenLocation&amp; location, TemplateStringListNode* templateStrings, TemplateExpressionListNode* templateExpressions)
 152         : ExpressionNode(location)
 153         , m_templateStrings(templateStrings)
 154         , m_templateExpressions(templateExpressions)
 155     {
 156     }
 157 
 158     inline TaggedTemplateNode::TaggedTemplateNode(const JSTokenLocation&amp; location, ExpressionNode* tag, TemplateLiteralNode* templateLiteral)
 159         : ExpressionNode(location)
 160         , m_tag(tag)
 161         , m_templateLiteral(templateLiteral)
 162     {
 163     }
 164 
 165     inline RegExpNode::RegExpNode(const JSTokenLocation&amp; location, const Identifier&amp; pattern, const Identifier&amp; flags)
 166         : ExpressionNode(location)
 167         , m_pattern(pattern)
 168         , m_flags(flags)
 169     {
 170     }
 171 
 172     inline ThisNode::ThisNode(const JSTokenLocation&amp; location)
 173         : ExpressionNode(location)
 174     {
 175     }
 176 
 177     inline SuperNode::SuperNode(const JSTokenLocation&amp; location)
 178         : ExpressionNode(location)
 179     {
 180     }
 181 
 182     inline ImportNode::ImportNode(const JSTokenLocation&amp; location, ExpressionNode* expr)
 183         : ExpressionNode(location)
 184         , m_expr(expr)
 185     {
 186     }
 187 
 188     inline MetaPropertyNode::MetaPropertyNode(const JSTokenLocation&amp; location)
 189         : ExpressionNode(location)
 190     {
 191     }
 192 
 193     inline NewTargetNode::NewTargetNode(const JSTokenLocation&amp; location)
 194         : MetaPropertyNode(location)
 195     {
 196     }
 197 
 198     inline ImportMetaNode::ImportMetaNode(const JSTokenLocation&amp; location, ExpressionNode* expr)
 199         : MetaPropertyNode(location)
 200         , m_expr(expr)
 201     {
 202     }
 203 
 204     inline ResolveNode::ResolveNode(const JSTokenLocation&amp; location, const Identifier&amp; ident, const JSTextPosition&amp; start)
 205         : ExpressionNode(location)
 206         , m_ident(ident)
 207         , m_start(start)
 208     {
 209         ASSERT(m_start.offset &gt;= m_start.lineStartOffset);
 210     }
 211 
 212     inline ElementNode::ElementNode(int elision, ExpressionNode* node)
 213         : m_node(node)
 214         , m_elision(elision)
 215     {
 216     }
 217 
 218     inline ElementNode::ElementNode(ElementNode* l, int elision, ExpressionNode* node)
 219         : m_node(node)
 220         , m_elision(elision)
 221     {
 222         l-&gt;m_next = this;
 223     }
 224 
 225     inline ArrayNode::ArrayNode(const JSTokenLocation&amp; location, int elision)
 226         : ExpressionNode(location)
 227         , m_element(nullptr)
 228         , m_elision(elision)
 229         , m_optional(true)
 230     {
 231     }
 232 
 233     inline ArrayNode::ArrayNode(const JSTokenLocation&amp; location, ElementNode* element)
 234         : ExpressionNode(location)
 235         , m_element(element)
 236         , m_elision(0)
 237         , m_optional(false)
 238     {
 239     }
 240 
 241     inline ArrayNode::ArrayNode(const JSTokenLocation&amp; location, int elision, ElementNode* element)
 242         : ExpressionNode(location)
 243         , m_element(element)
 244         , m_elision(elision)
 245         , m_optional(true)
 246     {
 247     }
 248 
 249     inline PropertyNode::PropertyNode(const Identifier&amp; name, ExpressionNode* assign, Type type, PutType putType, SuperBinding superBinding, ClassElementTag tag)
 250         : m_name(&amp;name)
<a name="1" id="anc1"></a><span class="line-added"> 251         , m_expression(nullptr)</span>
 252         , m_assign(assign)
 253         , m_type(type)
 254         , m_needsSuperBinding(superBinding == SuperBinding::Needed)
 255         , m_putType(putType)
 256         , m_classElementTag(static_cast&lt;unsigned&gt;(tag))
 257         , m_isOverriddenByDuplicate(false)
 258     {
 259     }
 260 
 261     inline PropertyNode::PropertyNode(ExpressionNode* assign, Type type, PutType putType, SuperBinding superBinding, ClassElementTag tag)
 262         : m_name(nullptr)
<a name="2" id="anc2"></a><span class="line-added"> 263         , m_expression(nullptr)</span>
 264         , m_assign(assign)
 265         , m_type(type)
 266         , m_needsSuperBinding(superBinding == SuperBinding::Needed)
 267         , m_putType(putType)
 268         , m_classElementTag(static_cast&lt;unsigned&gt;(tag))
 269         , m_isOverriddenByDuplicate(false)
 270     {
 271     }
 272 
 273     inline PropertyNode::PropertyNode(ExpressionNode* name, ExpressionNode* assign, Type type, PutType putType, SuperBinding superBinding, ClassElementTag tag)
 274         : m_name(nullptr)
 275         , m_expression(name)
 276         , m_assign(assign)
 277         , m_type(type)
 278         , m_needsSuperBinding(superBinding == SuperBinding::Needed)
 279         , m_putType(putType)
 280         , m_classElementTag(static_cast&lt;unsigned&gt;(tag))
 281         , m_isOverriddenByDuplicate(false)
 282     {
 283     }
 284 
<a name="3" id="anc3"></a><span class="line-added"> 285     inline PropertyNode::PropertyNode(const Identifier&amp; ident, ExpressionNode* name, ExpressionNode* assign, Type type, PutType putType, SuperBinding superBinding, ClassElementTag tag)</span>
<span class="line-added"> 286         : m_name(&amp;ident)</span>
<span class="line-added"> 287         , m_expression(name)</span>
<span class="line-added"> 288         , m_assign(assign)</span>
<span class="line-added"> 289         , m_type(type)</span>
<span class="line-added"> 290         , m_needsSuperBinding(superBinding == SuperBinding::Needed)</span>
<span class="line-added"> 291         , m_putType(putType)</span>
<span class="line-added"> 292         , m_classElementTag(static_cast&lt;unsigned&gt;(tag))</span>
<span class="line-added"> 293         , m_isOverriddenByDuplicate(false)</span>
<span class="line-added"> 294     {</span>
<span class="line-added"> 295     }</span>
<span class="line-added"> 296 </span>
 297     inline PropertyListNode::PropertyListNode(const JSTokenLocation&amp; location, PropertyNode* node)
 298         : ExpressionNode(location)
 299         , m_node(node)
 300     {
 301     }
 302 
 303     inline PropertyListNode::PropertyListNode(const JSTokenLocation&amp; location, PropertyNode* node, PropertyListNode* list)
 304         : ExpressionNode(location)
 305         , m_node(node)
 306     {
 307         list-&gt;m_next = this;
 308     }
 309 
 310     inline ObjectLiteralNode::ObjectLiteralNode(const JSTokenLocation&amp; location)
 311         : ExpressionNode(location)
 312         , m_list(nullptr)
 313     {
 314     }
 315 
 316     inline ObjectLiteralNode::ObjectLiteralNode(const JSTokenLocation&amp; location, PropertyListNode* list)
 317         : ExpressionNode(location)
 318         , m_list(list)
 319     {
 320     }
 321 
 322     inline BracketAccessorNode::BracketAccessorNode(const JSTokenLocation&amp; location, ExpressionNode* base, ExpressionNode* subscript, bool subscriptHasAssignments)
 323         : ExpressionNode(location)
 324         , m_base(base)
 325         , m_subscript(subscript)
 326         , m_subscriptHasAssignments(subscriptHasAssignments)
 327     {
 328     }
 329 
 330     inline DotAccessorNode::DotAccessorNode(const JSTokenLocation&amp; location, ExpressionNode* base, const Identifier&amp; ident)
 331         : ExpressionNode(location)
 332         , m_base(base)
 333         , m_ident(ident)
 334     {
 335     }
 336 
 337 
 338     inline SpreadExpressionNode::SpreadExpressionNode(const JSTokenLocation&amp; location, ExpressionNode* expression)
 339         : ExpressionNode(location)
 340         , m_expression(expression)
 341     {
 342     }
 343 
 344     inline ObjectSpreadExpressionNode::ObjectSpreadExpressionNode(const JSTokenLocation&amp; location, ExpressionNode* expression)
 345         : ExpressionNode(location)
 346         , m_expression(expression)
 347     {
 348     }
 349 
 350     inline ArgumentListNode::ArgumentListNode(const JSTokenLocation&amp; location, ExpressionNode* expr)
 351         : ExpressionNode(location)
 352         , m_expr(expr)
 353     {
 354     }
 355 
 356     inline ArgumentListNode::ArgumentListNode(const JSTokenLocation&amp; location, ArgumentListNode* listNode, ExpressionNode* expr)
 357         : ExpressionNode(location)
 358         , m_expr(expr)
 359     {
 360         listNode-&gt;m_next = this;
 361     }
 362 
 363     inline ArgumentsNode::ArgumentsNode()
 364         : m_listNode(nullptr)
 365     {
 366     }
 367 
 368     inline ArgumentsNode::ArgumentsNode(ArgumentListNode* listNode)
 369         : m_listNode(listNode)
 370     {
 371     }
 372 
 373     inline NewExprNode::NewExprNode(const JSTokenLocation&amp; location, ExpressionNode* expr)
 374         : ExpressionNode(location)
 375         , m_expr(expr)
 376         , m_args(nullptr)
 377     {
 378     }
 379 
 380     inline NewExprNode::NewExprNode(const JSTokenLocation&amp; location, ExpressionNode* expr, ArgumentsNode* args)
 381         : ExpressionNode(location)
 382         , m_expr(expr)
 383         , m_args(args)
 384     {
 385     }
 386 
 387     inline EvalFunctionCallNode::EvalFunctionCallNode(const JSTokenLocation&amp; location, ArgumentsNode* args, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 388         : ExpressionNode(location)
 389         , ThrowableExpressionData(divot, divotStart, divotEnd)
 390         , m_args(args)
 391     {
 392     }
 393 
 394     inline FunctionCallValueNode::FunctionCallValueNode(const JSTokenLocation&amp; location, ExpressionNode* expr, ArgumentsNode* args, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 395         : ExpressionNode(location)
 396         , ThrowableExpressionData(divot, divotStart, divotEnd)
 397         , m_expr(expr)
 398         , m_args(args)
 399     {
 400         ASSERT(divot.offset &gt;= divotStart.offset);
 401     }
 402 
 403     inline FunctionCallResolveNode::FunctionCallResolveNode(const JSTokenLocation&amp; location, const Identifier&amp; ident, ArgumentsNode* args, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 404         : ExpressionNode(location)
 405         , ThrowableExpressionData(divot, divotStart, divotEnd)
 406         , m_ident(ident)
 407         , m_args(args)
 408     {
 409     }
 410 
 411     inline FunctionCallBracketNode::FunctionCallBracketNode(const JSTokenLocation&amp; location, ExpressionNode* base, ExpressionNode* subscript, bool subscriptHasAssignments, ArgumentsNode* args, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 412         : ExpressionNode(location)
 413         , ThrowableSubExpressionData(divot, divotStart, divotEnd)
 414         , m_base(base)
 415         , m_subscript(subscript)
 416         , m_args(args)
 417         , m_subscriptHasAssignments(subscriptHasAssignments)
 418     {
 419     }
 420 
 421     inline FunctionCallDotNode::FunctionCallDotNode(const JSTokenLocation&amp; location, ExpressionNode* base, const Identifier&amp; ident, ArgumentsNode* args, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 422         : ExpressionNode(location)
 423         , ThrowableSubExpressionData(divot, divotStart, divotEnd)
 424         , m_base(base)
 425         , m_ident(ident)
 426         , m_args(args)
 427     {
 428     }
 429 
<a name="4" id="anc4"></a><span class="line-modified"> 430     inline BytecodeIntrinsicNode::BytecodeIntrinsicNode(Type type, const JSTokenLocation&amp; location, BytecodeIntrinsicRegistry::Entry entry, const Identifier&amp; ident, ArgumentsNode* args, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)</span>
 431         : ExpressionNode(location)
 432         , ThrowableExpressionData(divot, divotStart, divotEnd)
<a name="5" id="anc5"></a><span class="line-modified"> 433         , m_entry(entry)</span>
 434         , m_ident(ident)
 435         , m_args(args)
 436         , m_type(type)
 437     {
 438     }
 439 
 440     inline CallFunctionCallDotNode::CallFunctionCallDotNode(const JSTokenLocation&amp; location, ExpressionNode* base, const Identifier&amp; ident, ArgumentsNode* args, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd, size_t distanceToInnermostCallOrApply)
 441         : FunctionCallDotNode(location, base, ident, args, divot, divotStart, divotEnd)
 442         , m_distanceToInnermostCallOrApply(distanceToInnermostCallOrApply)
 443     {
 444     }
 445 
 446     inline ApplyFunctionCallDotNode::ApplyFunctionCallDotNode(const JSTokenLocation&amp; location, ExpressionNode* base, const Identifier&amp; ident, ArgumentsNode* args, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd, size_t distanceToInnermostCallOrApply)
 447         : FunctionCallDotNode(location, base, ident, args, divot, divotStart, divotEnd)
 448         , m_distanceToInnermostCallOrApply(distanceToInnermostCallOrApply)
 449     {
 450     }
 451 
 452     inline PostfixNode::PostfixNode(const JSTokenLocation&amp; location, ExpressionNode* expr, Operator oper, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 453         : PrefixNode(location, expr, oper, divot, divotStart, divotEnd)
 454     {
 455     }
 456 
 457     inline DeleteResolveNode::DeleteResolveNode(const JSTokenLocation&amp; location, const Identifier&amp; ident, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 458         : ExpressionNode(location)
 459         , ThrowableExpressionData(divot, divotStart, divotEnd)
 460         , m_ident(ident)
 461     {
 462     }
 463 
 464     inline DeleteBracketNode::DeleteBracketNode(const JSTokenLocation&amp; location, ExpressionNode* base, ExpressionNode* subscript, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 465         : ExpressionNode(location)
 466         , ThrowableExpressionData(divot, divotStart, divotEnd)
 467         , m_base(base)
 468         , m_subscript(subscript)
 469     {
 470     }
 471 
 472     inline DeleteDotNode::DeleteDotNode(const JSTokenLocation&amp; location, ExpressionNode* base, const Identifier&amp; ident, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 473         : ExpressionNode(location)
 474         , ThrowableExpressionData(divot, divotStart, divotEnd)
 475         , m_base(base)
 476         , m_ident(ident)
 477     {
 478     }
 479 
 480     inline DeleteValueNode::DeleteValueNode(const JSTokenLocation&amp; location, ExpressionNode* expr)
 481         : ExpressionNode(location)
 482         , m_expr(expr)
 483     {
 484     }
 485 
 486     inline VoidNode::VoidNode(const JSTokenLocation&amp; location, ExpressionNode* expr)
 487         : ExpressionNode(location)
 488         , m_expr(expr)
 489     {
 490     }
 491 
 492     inline TypeOfResolveNode::TypeOfResolveNode(const JSTokenLocation&amp; location, const Identifier&amp; ident)
 493         : ExpressionNode(location, ResultType::stringType())
 494         , m_ident(ident)
 495     {
 496     }
 497 
 498     inline TypeOfValueNode::TypeOfValueNode(const JSTokenLocation&amp; location, ExpressionNode* expr)
 499         : ExpressionNode(location, ResultType::stringType())
 500         , m_expr(expr)
 501     {
 502     }
 503 
 504     inline PrefixNode::PrefixNode(const JSTokenLocation&amp; location, ExpressionNode* expr, Operator oper, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 505         : ExpressionNode(location)
 506         , ThrowablePrefixedSubExpressionData(divot, divotStart, divotEnd)
 507         , m_expr(expr)
 508         , m_operator(oper)
 509     {
 510     }
 511 
 512     inline UnaryOpNode::UnaryOpNode(const JSTokenLocation&amp; location, ResultType type, ExpressionNode* expr, OpcodeID opcodeID)
 513         : ExpressionNode(location, type)
 514         , m_expr(expr)
 515         , m_opcodeID(opcodeID)
 516     {
 517     }
 518 
<a name="6" id="anc6"></a><span class="line-added"> 519     // UnaryPlus is guaranteed to always return a number, never a BigInt.</span>
<span class="line-added"> 520     // See https://tc39.es/ecma262/#sec-unary-plus-operator-runtime-semantics-evaluation</span>
 521     inline UnaryPlusNode::UnaryPlusNode(const JSTokenLocation&amp; location, ExpressionNode* expr)
 522         : UnaryOpNode(location, ResultType::numberType(), expr, op_to_number)
 523     {
 524     }
 525 
 526     inline NegateNode::NegateNode(const JSTokenLocation&amp; location, ExpressionNode* expr)
<a name="7" id="anc7"></a><span class="line-modified"> 527         : UnaryOpNode(location, ResultType::forUnaryArith(expr-&gt;resultDescriptor()), expr, op_negate)</span>
 528     {
 529     }
 530 
 531     inline BitwiseNotNode::BitwiseNotNode(const JSTokenLocation&amp; location, ExpressionNode* expr)
 532         : UnaryOpNode(location, ResultType::forBitOp(), expr, op_bitnot)
 533     {
 534     }
 535 
 536     inline LogicalNotNode::LogicalNotNode(const JSTokenLocation&amp; location, ExpressionNode* expr)
 537         : UnaryOpNode(location, ResultType::booleanType(), expr, op_not)
 538     {
 539     }
 540 
 541     inline BinaryOpNode::BinaryOpNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, OpcodeID opcodeID, bool rightHasAssignments)
 542         : ExpressionNode(location)
 543         , m_rightHasAssignments(rightHasAssignments)
 544         , m_opcodeID(opcodeID)
 545         , m_expr1(expr1)
 546         , m_expr2(expr2)
 547     {
 548     }
 549 
 550     inline BinaryOpNode::BinaryOpNode(const JSTokenLocation&amp; location, ResultType type, ExpressionNode* expr1, ExpressionNode* expr2, OpcodeID opcodeID, bool rightHasAssignments)
 551         : ExpressionNode(location, type)
 552         , m_rightHasAssignments(rightHasAssignments)
 553         , m_opcodeID(opcodeID)
 554         , m_expr1(expr1)
 555         , m_expr2(expr2)
 556     {
 557     }
 558 
 559     inline PowNode::PowNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
<a name="8" id="anc8"></a><span class="line-modified"> 560         : BinaryOpNode(location, ResultType::forNonAddArith(expr1-&gt;resultDescriptor(), expr2-&gt;resultDescriptor()), expr1, expr2, op_pow, rightHasAssignments)</span>
 561     {
 562     }
 563 
 564     inline MultNode::MultNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
<a name="9" id="anc9"></a><span class="line-modified"> 565         : BinaryOpNode(location, ResultType::forNonAddArith(expr1-&gt;resultDescriptor(), expr2-&gt;resultDescriptor()), expr1, expr2, op_mul, rightHasAssignments)</span>
 566     {
 567     }
 568 
 569     inline DivNode::DivNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
<a name="10" id="anc10"></a><span class="line-modified"> 570         : BinaryOpNode(location, ResultType::forNonAddArith(expr1-&gt;resultDescriptor(), expr2-&gt;resultDescriptor()), expr1, expr2, op_div, rightHasAssignments)</span>
 571     {
 572     }
 573 
 574 
 575     inline ModNode::ModNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
<a name="11" id="anc11"></a><span class="line-modified"> 576         : BinaryOpNode(location, ResultType::forNonAddArith(expr1-&gt;resultDescriptor(), expr2-&gt;resultDescriptor()), expr1, expr2, op_mod, rightHasAssignments)</span>
 577     {
 578     }
 579 
 580     inline AddNode::AddNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 581         : BinaryOpNode(location, ResultType::forAdd(expr1-&gt;resultDescriptor(), expr2-&gt;resultDescriptor()), expr1, expr2, op_add, rightHasAssignments)
 582     {
 583     }
 584 
 585     inline SubNode::SubNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
<a name="12" id="anc12"></a><span class="line-modified"> 586         : BinaryOpNode(location, ResultType::forNonAddArith(expr1-&gt;resultDescriptor(), expr2-&gt;resultDescriptor()), expr1, expr2, op_sub, rightHasAssignments)</span>
 587     {
 588     }
 589 
 590     inline LeftShiftNode::LeftShiftNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 591         : BinaryOpNode(location, ResultType::forBitOp(), expr1, expr2, op_lshift, rightHasAssignments)
 592     {
 593     }
 594 
 595     inline RightShiftNode::RightShiftNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 596         : BinaryOpNode(location, ResultType::forBitOp(), expr1, expr2, op_rshift, rightHasAssignments)
 597     {
 598     }
 599 
 600     inline UnsignedRightShiftNode::UnsignedRightShiftNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 601         : BinaryOpNode(location, ResultType::numberType(), expr1, expr2, op_urshift, rightHasAssignments)
 602     {
 603     }
 604 
 605     inline LessNode::LessNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 606         : BinaryOpNode(location, ResultType::booleanType(), expr1, expr2, op_less, rightHasAssignments)
 607     {
 608     }
 609 
 610     inline GreaterNode::GreaterNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 611         : BinaryOpNode(location, ResultType::booleanType(), expr1, expr2, op_greater, rightHasAssignments)
 612     {
 613     }
 614 
 615     inline LessEqNode::LessEqNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 616         : BinaryOpNode(location, ResultType::booleanType(), expr1, expr2, op_lesseq, rightHasAssignments)
 617     {
 618     }
 619 
 620     inline GreaterEqNode::GreaterEqNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 621         : BinaryOpNode(location, ResultType::booleanType(), expr1, expr2, op_greatereq, rightHasAssignments)
 622     {
 623     }
 624 
 625     inline ThrowableBinaryOpNode::ThrowableBinaryOpNode(const JSTokenLocation&amp; location, ResultType type, ExpressionNode* expr1, ExpressionNode* expr2, OpcodeID opcodeID, bool rightHasAssignments)
 626         : BinaryOpNode(location, type, expr1, expr2, opcodeID, rightHasAssignments)
 627     {
 628     }
 629 
 630     inline ThrowableBinaryOpNode::ThrowableBinaryOpNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, OpcodeID opcodeID, bool rightHasAssignments)
 631         : BinaryOpNode(location, expr1, expr2, opcodeID, rightHasAssignments)
 632     {
 633     }
 634 
 635     inline InstanceOfNode::InstanceOfNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 636         : ThrowableBinaryOpNode(location, ResultType::booleanType(), expr1, expr2, op_instanceof, rightHasAssignments)
 637     {
 638     }
 639 
 640     inline InNode::InNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 641         : ThrowableBinaryOpNode(location, expr1, expr2, op_in_by_val, rightHasAssignments)
 642     {
 643     }
 644 
 645     inline EqualNode::EqualNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 646         : BinaryOpNode(location, ResultType::booleanType(), expr1, expr2, op_eq, rightHasAssignments)
 647     {
 648     }
 649 
 650     inline NotEqualNode::NotEqualNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 651         : BinaryOpNode(location, ResultType::booleanType(), expr1, expr2, op_neq, rightHasAssignments)
 652     {
 653     }
 654 
 655     inline StrictEqualNode::StrictEqualNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 656         : BinaryOpNode(location, ResultType::booleanType(), expr1, expr2, op_stricteq, rightHasAssignments)
 657     {
 658     }
 659 
 660     inline NotStrictEqualNode::NotStrictEqualNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 661         : BinaryOpNode(location, ResultType::booleanType(), expr1, expr2, op_nstricteq, rightHasAssignments)
 662     {
 663     }
 664 
 665     inline BitAndNode::BitAndNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 666         : BinaryOpNode(location, ResultType::forBitOp(), expr1, expr2, op_bitand, rightHasAssignments)
 667     {
 668     }
 669 
 670     inline BitOrNode::BitOrNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 671         : BinaryOpNode(location, ResultType::forBitOp(), expr1, expr2, op_bitor, rightHasAssignments)
 672     {
 673     }
 674 
 675     inline BitXOrNode::BitXOrNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool rightHasAssignments)
 676         : BinaryOpNode(location, ResultType::forBitOp(), expr1, expr2, op_bitxor, rightHasAssignments)
 677     {
 678     }
 679 
 680     inline LogicalOpNode::LogicalOpNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, LogicalOperator oper)
 681         : ExpressionNode(location, ResultType::forLogicalOp(expr1-&gt;resultDescriptor(), expr2-&gt;resultDescriptor()))
 682         , m_operator(oper)
 683         , m_expr1(expr1)
 684         , m_expr2(expr2)
 685     {
 686     }
 687 
 688     inline CoalesceNode::CoalesceNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, bool hasAbsorbedOptionalChain)
 689         : ExpressionNode(location, ResultType::forCoalesce(expr1-&gt;resultDescriptor(), expr2-&gt;resultDescriptor()))
 690         , m_expr1(expr1)
 691         , m_expr2(expr2)
 692         , m_hasAbsorbedOptionalChain(hasAbsorbedOptionalChain)
 693     {
 694     }
 695 
 696     inline OptionalChainNode::OptionalChainNode(const JSTokenLocation&amp; location, ExpressionNode* expr, bool isOutermost)
 697         : ExpressionNode(location)
 698         , m_expr(expr)
 699         , m_isOutermost(isOutermost)
 700     {
 701     }
 702 
 703     inline ConditionalNode::ConditionalNode(const JSTokenLocation&amp; location, ExpressionNode* logical, ExpressionNode* expr1, ExpressionNode* expr2)
 704         : ExpressionNode(location)
 705         , m_logical(logical)
 706         , m_expr1(expr1)
 707         , m_expr2(expr2)
 708     {
 709     }
 710 
 711     inline ReadModifyResolveNode::ReadModifyResolveNode(const JSTokenLocation&amp; location, const Identifier&amp; ident, Operator oper, ExpressionNode*  right, bool rightHasAssignments, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 712         : ExpressionNode(location)
 713         , ThrowableExpressionData(divot, divotStart, divotEnd)
 714         , m_ident(ident)
 715         , m_right(right)
 716         , m_operator(oper)
 717         , m_rightHasAssignments(rightHasAssignments)
 718     {
 719     }
 720 
 721     inline AssignResolveNode::AssignResolveNode(const JSTokenLocation&amp; location, const Identifier&amp; ident, ExpressionNode* right, AssignmentContext assignmentContext)
 722         : ExpressionNode(location)
 723         , m_ident(ident)
 724         , m_right(right)
 725         , m_assignmentContext(assignmentContext)
 726     {
 727     }
 728 
 729 
 730     inline ReadModifyBracketNode::ReadModifyBracketNode(const JSTokenLocation&amp; location, ExpressionNode* base, ExpressionNode* subscript, Operator oper, ExpressionNode* right, bool subscriptHasAssignments, bool rightHasAssignments, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 731         : ExpressionNode(location)
 732         , ThrowableSubExpressionData(divot, divotStart, divotEnd)
 733         , m_base(base)
 734         , m_subscript(subscript)
 735         , m_right(right)
 736         , m_operator(oper)
 737         , m_subscriptHasAssignments(subscriptHasAssignments)
 738         , m_rightHasAssignments(rightHasAssignments)
 739     {
 740     }
 741 
 742     inline AssignBracketNode::AssignBracketNode(const JSTokenLocation&amp; location, ExpressionNode* base, ExpressionNode* subscript, ExpressionNode* right, bool subscriptHasAssignments, bool rightHasAssignments, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 743         : ExpressionNode(location)
 744         , ThrowableExpressionData(divot, divotStart, divotEnd)
 745         , m_base(base)
 746         , m_subscript(subscript)
 747         , m_right(right)
 748         , m_subscriptHasAssignments(subscriptHasAssignments)
 749         , m_rightHasAssignments(rightHasAssignments)
 750     {
 751     }
 752 
 753     inline AssignDotNode::AssignDotNode(const JSTokenLocation&amp; location, ExpressionNode* base, const Identifier&amp; ident, ExpressionNode* right, bool rightHasAssignments, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 754         : ExpressionNode(location)
 755         , ThrowableExpressionData(divot, divotStart, divotEnd)
 756         , m_base(base)
 757         , m_ident(ident)
 758         , m_right(right)
 759         , m_rightHasAssignments(rightHasAssignments)
 760     {
 761     }
 762 
 763     inline ReadModifyDotNode::ReadModifyDotNode(const JSTokenLocation&amp; location, ExpressionNode* base, const Identifier&amp; ident, Operator oper, ExpressionNode* right, bool rightHasAssignments, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 764         : ExpressionNode(location)
 765         , ThrowableSubExpressionData(divot, divotStart, divotEnd)
 766         , m_base(base)
 767         , m_ident(ident)
 768         , m_right(right)
 769         , m_operator(oper)
 770         , m_rightHasAssignments(rightHasAssignments)
 771     {
 772     }
 773 
 774     inline AssignErrorNode::AssignErrorNode(const JSTokenLocation&amp; location, const JSTextPosition&amp; divot, const JSTextPosition&amp; divotStart, const JSTextPosition&amp; divotEnd)
 775         : ExpressionNode(location)
 776         , ThrowableExpressionData(divot, divotStart, divotEnd)
 777     {
 778     }
 779 
 780     inline CommaNode::CommaNode(const JSTokenLocation&amp; location, ExpressionNode* expr)
 781         : ExpressionNode(location)
 782         , m_expr(expr)
 783     {
 784     }
 785 
 786     inline SourceElements::SourceElements()
 787     {
 788     }
 789 
 790     inline EmptyStatementNode::EmptyStatementNode(const JSTokenLocation&amp; location)
 791         : StatementNode(location)
 792     {
 793     }
 794 
 795     inline DebuggerStatementNode::DebuggerStatementNode(const JSTokenLocation&amp; location)
 796         : StatementNode(location)
 797     {
 798     }
 799 
 800     inline ExprStatementNode::ExprStatementNode(const JSTokenLocation&amp; location, ExpressionNode* expr)
 801         : StatementNode(location)
 802         , m_expr(expr)
 803     {
 804     }
 805 
 806     inline DeclarationStatement::DeclarationStatement(const JSTokenLocation&amp; location, ExpressionNode* expr)
 807         : StatementNode(location)
 808         , m_expr(expr)
 809     {
 810     }
 811 
 812     inline ModuleDeclarationNode::ModuleDeclarationNode(const JSTokenLocation&amp; location)
 813         : StatementNode(location)
 814     {
 815     }
 816 
 817     inline ModuleNameNode::ModuleNameNode(const JSTokenLocation&amp; location, const Identifier&amp; moduleName)
 818         : Node(location)
 819         , m_moduleName(moduleName)
 820     {
 821     }
 822 
 823     inline ImportSpecifierNode::ImportSpecifierNode(const JSTokenLocation&amp; location, const Identifier&amp; importedName, const Identifier&amp; localName)
 824         : Node(location)
 825         , m_importedName(importedName)
 826         , m_localName(localName)
 827     {
 828     }
 829 
 830     inline ImportDeclarationNode::ImportDeclarationNode(const JSTokenLocation&amp; location, ImportSpecifierListNode* importSpecifierList, ModuleNameNode* moduleName)
 831         : ModuleDeclarationNode(location)
 832         , m_specifierList(importSpecifierList)
 833         , m_moduleName(moduleName)
 834     {
 835     }
 836 
 837     inline ExportAllDeclarationNode::ExportAllDeclarationNode(const JSTokenLocation&amp; location, ModuleNameNode* moduleName)
 838         : ModuleDeclarationNode(location)
 839         , m_moduleName(moduleName)
 840     {
 841     }
 842 
 843     inline ExportDefaultDeclarationNode::ExportDefaultDeclarationNode(const JSTokenLocation&amp; location, StatementNode* declaration, const Identifier&amp; localName)
 844         : ModuleDeclarationNode(location)
 845         , m_declaration(declaration)
 846         , m_localName(localName)
 847     {
 848     }
 849 
 850     inline ExportLocalDeclarationNode::ExportLocalDeclarationNode(const JSTokenLocation&amp; location, StatementNode* declaration)
 851         : ModuleDeclarationNode(location)
 852         , m_declaration(declaration)
 853     {
 854     }
 855 
 856     inline ExportNamedDeclarationNode::ExportNamedDeclarationNode(const JSTokenLocation&amp; location, ExportSpecifierListNode* exportSpecifierList, ModuleNameNode* moduleName)
 857         : ModuleDeclarationNode(location)
 858         , m_specifierList(exportSpecifierList)
 859         , m_moduleName(moduleName)
 860     {
 861     }
 862 
 863     inline ExportSpecifierNode::ExportSpecifierNode(const JSTokenLocation&amp; location, const Identifier&amp; localName, const Identifier&amp; exportedName)
 864         : Node(location)
 865         , m_localName(localName)
 866         , m_exportedName(exportedName)
 867     {
 868     }
 869 
 870     inline EmptyVarExpression::EmptyVarExpression(const JSTokenLocation&amp; location, const Identifier&amp; ident)
 871         : ExpressionNode(location)
 872         , m_ident(ident)
 873     {
 874     }
 875 
 876     inline EmptyLetExpression::EmptyLetExpression(const JSTokenLocation&amp; location, const Identifier&amp; ident)
 877         : ExpressionNode(location)
 878         , m_ident(ident)
 879     {
 880     }
 881 
 882     inline IfElseNode::IfElseNode(const JSTokenLocation&amp; location, ExpressionNode* condition, StatementNode* ifBlock, StatementNode* elseBlock)
 883         : StatementNode(location)
 884         , m_condition(condition)
 885         , m_ifBlock(ifBlock)
 886         , m_elseBlock(elseBlock)
 887     {
 888     }
 889 
 890     inline DoWhileNode::DoWhileNode(const JSTokenLocation&amp; location, StatementNode* statement, ExpressionNode* expr)
 891         : StatementNode(location)
 892         , m_statement(statement)
 893         , m_expr(expr)
 894     {
 895     }
 896 
 897     inline WhileNode::WhileNode(const JSTokenLocation&amp; location, ExpressionNode* expr, StatementNode* statement)
 898         : StatementNode(location)
 899         , m_expr(expr)
 900         , m_statement(statement)
 901     {
 902     }
 903 
 904     inline ForNode::ForNode(const JSTokenLocation&amp; location, ExpressionNode* expr1, ExpressionNode* expr2, ExpressionNode* expr3, StatementNode* statement, VariableEnvironment&amp; lexicalVariables)
 905         : StatementNode(location)
 906         , VariableEnvironmentNode(lexicalVariables)
 907         , m_expr1(expr1)
 908         , m_expr2(expr2)
 909         , m_expr3(expr3)
 910         , m_statement(statement)
 911     {
 912         ASSERT(statement);
 913     }
 914 
 915     inline ContinueNode::ContinueNode(const JSTokenLocation&amp; location, const Identifier&amp; ident)
 916         : StatementNode(location)
 917         , m_ident(ident)
 918     {
 919     }
 920 
 921     inline BreakNode::BreakNode(const JSTokenLocation&amp; location, const Identifier&amp; ident)
 922         : StatementNode(location)
 923         , m_ident(ident)
 924     {
 925     }
 926 
 927     inline ReturnNode::ReturnNode(const JSTokenLocation&amp; location, ExpressionNode* value)
 928         : StatementNode(location)
 929         , m_value(value)
 930     {
 931     }
 932 
 933     inline WithNode::WithNode(const JSTokenLocation&amp; location, ExpressionNode* expr, StatementNode* statement, const JSTextPosition&amp; divot, uint32_t expressionLength)
 934         : StatementNode(location)
 935         , m_expr(expr)
 936         , m_statement(statement)
 937         , m_divot(divot)
 938         , m_expressionLength(expressionLength)
 939     {
 940     }
 941 
 942     inline LabelNode::LabelNode(const JSTokenLocation&amp; location, const Identifier&amp; name, StatementNode* statement)
 943         : StatementNode(location)
 944         , m_name(name)
 945         , m_statement(statement)
 946     {
 947     }
 948 
 949     inline ThrowNode::ThrowNode(const JSTokenLocation&amp; location, ExpressionNode* expr)
 950         : StatementNode(location)
 951         , m_expr(expr)
 952     {
 953     }
 954 
 955     inline TryNode::TryNode(const JSTokenLocation&amp; location, StatementNode* tryBlock, DestructuringPatternNode* catchPattern, StatementNode* catchBlock, VariableEnvironment&amp; catchEnvironment, StatementNode* finallyBlock)
 956         : StatementNode(location)
 957         , VariableEnvironmentNode(catchEnvironment)
 958         , m_tryBlock(tryBlock)
 959         , m_catchPattern(catchPattern)
 960         , m_catchBlock(catchBlock)
 961         , m_finallyBlock(finallyBlock)
 962     {
 963     }
 964 
 965     inline FunctionParameters::FunctionParameters()
 966     {
 967     }
 968 
 969 
 970     inline BaseFuncExprNode::BaseFuncExprNode(const JSTokenLocation&amp; location, const Identifier&amp; ident, FunctionMetadataNode* metadata, const SourceCode&amp; source, FunctionMode functionMode)
 971         : ExpressionNode(location)
 972         , m_metadata(metadata)
 973     {
 974         m_metadata-&gt;finishParsing(source, ident, functionMode);
 975     }
 976 
 977     inline FuncExprNode::FuncExprNode(const JSTokenLocation&amp; location, const Identifier&amp; ident, FunctionMetadataNode* metadata, const SourceCode&amp; source)
 978         : BaseFuncExprNode(location, ident, metadata, source, FunctionMode::FunctionExpression)
 979     {
 980     }
 981 
 982     inline FuncExprNode::FuncExprNode(const JSTokenLocation&amp; location, const Identifier&amp; ident, FunctionMetadataNode* metadata, const SourceCode&amp; source, FunctionMode functionMode)
 983         : BaseFuncExprNode(location, ident, metadata, source, functionMode)
 984     {
 985     }
 986 
 987     inline FuncDeclNode::FuncDeclNode(const JSTokenLocation&amp; location, const Identifier&amp; ident, FunctionMetadataNode* metadata, const SourceCode&amp; source)
 988         : StatementNode(location)
 989         , m_metadata(metadata)
 990     {
 991         m_metadata-&gt;finishParsing(source, ident, FunctionMode::FunctionDeclaration);
 992     }
 993 
 994     inline ArrowFuncExprNode::ArrowFuncExprNode(const JSTokenLocation&amp; location, const Identifier&amp; ident, FunctionMetadataNode* metadata, const SourceCode&amp; source)
 995         : BaseFuncExprNode(location, ident, metadata, source, FunctionMode::FunctionExpression)
 996     {
 997     }
 998 
 999     inline MethodDefinitionNode::MethodDefinitionNode(const JSTokenLocation&amp; location, const Identifier&amp; ident, FunctionMetadataNode* metadata, const SourceCode&amp; source)
1000         : FuncExprNode(location, ident, metadata, source, FunctionMode::MethodDefinition)
1001     {
1002     }
1003 
1004     inline YieldExprNode::YieldExprNode(const JSTokenLocation&amp; location, ExpressionNode* argument, bool delegate)
1005         : ExpressionNode(location)
1006         , m_argument(argument)
1007         , m_delegate(delegate)
1008     {
1009     }
1010 
1011     inline AwaitExprNode::AwaitExprNode(const JSTokenLocation&amp; location, ExpressionNode* argument)
1012         : ExpressionNode(location)
1013         , m_argument(argument)
1014     {
1015     }
1016 
<a name="13" id="anc13"></a><span class="line-added">1017     inline DefineFieldNode::DefineFieldNode(const JSTokenLocation&amp; location, const Identifier* ident, ExpressionNode* assign, Type type)</span>
<span class="line-added">1018         : StatementNode(location)</span>
<span class="line-added">1019         , m_ident(ident)</span>
<span class="line-added">1020         , m_assign(assign)</span>
<span class="line-added">1021         , m_type(type)</span>
<span class="line-added">1022     {</span>
<span class="line-added">1023     }</span>
<span class="line-added">1024 </span>
1025     inline ClassDeclNode::ClassDeclNode(const JSTokenLocation&amp; location, ExpressionNode* classDeclaration)
1026         : StatementNode(location)
1027         , m_classDeclaration(classDeclaration)
1028     {
1029     }
1030 
1031     inline ClassExprNode::ClassExprNode(const JSTokenLocation&amp; location, const Identifier&amp; name, const SourceCode&amp; classSource, VariableEnvironment&amp; classEnvironment, ExpressionNode* constructorExpression, ExpressionNode* classHeritage, PropertyListNode* classElements)
1032         : ExpressionNode(location)
1033         , VariableEnvironmentNode(classEnvironment)
1034         , m_classSource(classSource)
1035         , m_name(name)
1036         , m_ecmaName(&amp;name)
1037         , m_constructorExpression(constructorExpression)
1038         , m_classHeritage(classHeritage)
1039         , m_classElements(classElements)
<a name="14" id="anc14"></a><span class="line-added">1040         , m_needsLexicalScope(!name.isNull() || PropertyListNode::shouldCreateLexicalScopeForClass(classElements))</span>
1041     {
1042     }
1043 
1044     inline CaseClauseNode::CaseClauseNode(ExpressionNode* expr, SourceElements* statements)
1045         : m_expr(expr)
1046         , m_statements(statements)
1047     {
1048     }
1049 
1050     inline ClauseListNode::ClauseListNode(CaseClauseNode* clause)
1051         : m_clause(clause)
1052     {
1053     }
1054 
1055     inline ClauseListNode::ClauseListNode(ClauseListNode* clauseList, CaseClauseNode* clause)
1056         : m_clause(clause)
1057     {
1058         clauseList-&gt;m_next = this;
1059     }
1060 
1061     inline CaseBlockNode::CaseBlockNode(ClauseListNode* list1, CaseClauseNode* defaultClause, ClauseListNode* list2)
1062         : m_list1(list1)
1063         , m_defaultClause(defaultClause)
1064         , m_list2(list2)
1065     {
1066     }
1067 
1068     inline SwitchNode::SwitchNode(const JSTokenLocation&amp; location, ExpressionNode* expr, CaseBlockNode* block, VariableEnvironment&amp; lexicalVariables, FunctionStack&amp;&amp; functionStack)
1069         : StatementNode(location)
1070         , VariableEnvironmentNode(lexicalVariables, WTFMove(functionStack))
1071         , m_expr(expr)
1072         , m_block(block)
1073     {
1074     }
1075 
1076     inline BlockNode::BlockNode(const JSTokenLocation&amp; location, SourceElements* statements, VariableEnvironment&amp; lexicalVariables, FunctionStack&amp;&amp; functionStack)
1077         : StatementNode(location)
1078         , VariableEnvironmentNode(lexicalVariables, WTFMove(functionStack))
1079         , m_statements(statements)
1080     {
1081     }
1082 
1083     inline EnumerationNode::EnumerationNode(const JSTokenLocation&amp; location, ExpressionNode* lexpr, ExpressionNode* expr, StatementNode* statement, VariableEnvironment&amp; lexicalVariables)
1084         : StatementNode(location)
1085         , VariableEnvironmentNode(lexicalVariables)
1086         , m_lexpr(lexpr)
1087         , m_expr(expr)
1088         , m_statement(statement)
1089     {
1090         ASSERT(lexpr);
1091     }
1092 
1093     inline ForInNode::ForInNode(const JSTokenLocation&amp; location, ExpressionNode* lexpr, ExpressionNode* expr, StatementNode* statement, VariableEnvironment&amp; lexicalVariables)
1094         : EnumerationNode(location, lexpr, expr, statement, lexicalVariables)
1095     {
1096     }
1097 
1098     inline ForOfNode::ForOfNode(bool isForAwait, const JSTokenLocation&amp; location, ExpressionNode* lexpr, ExpressionNode* expr, StatementNode* statement, VariableEnvironment&amp; lexicalVariables)
1099         : EnumerationNode(location, lexpr, expr, statement, lexicalVariables)
1100         , m_isForAwait(isForAwait)
1101     {
1102     }
1103 
1104     inline DestructuringPatternNode::DestructuringPatternNode()
1105     {
1106     }
1107 
1108     inline ArrayPatternNode::ArrayPatternNode()
1109         : DestructuringPatternNode()
1110     {
1111     }
1112 
1113     inline ObjectPatternNode::ObjectPatternNode()
1114         : DestructuringPatternNode()
1115     {
1116     }
1117 
1118     inline BindingNode::BindingNode(const Identifier&amp; boundProperty, const JSTextPosition&amp; start, const JSTextPosition&amp; end, AssignmentContext context)
1119         : DestructuringPatternNode()
1120         , m_divotStart(start)
1121         , m_divotEnd(end)
1122         , m_boundProperty(boundProperty)
1123         , m_bindingContext(context)
1124     {
1125     }
1126 
1127     inline AssignmentElementNode::AssignmentElementNode(ExpressionNode* assignmentTarget, const JSTextPosition&amp; start, const JSTextPosition&amp; end)
1128         : DestructuringPatternNode()
1129         , m_divotStart(start)
1130         , m_divotEnd(end)
1131         , m_assignmentTarget(assignmentTarget)
1132     {
1133     }
1134 
1135     inline RestParameterNode::RestParameterNode(DestructuringPatternNode* pattern, unsigned numParametersToSkip)
1136         : DestructuringPatternNode()
1137         , m_pattern(pattern)
1138         , m_numParametersToSkip(numParametersToSkip)
1139     {
1140         ASSERT(!pattern-&gt;isRestParameter());
1141     }
1142 
1143     inline DestructuringAssignmentNode::DestructuringAssignmentNode(const JSTokenLocation&amp; location, DestructuringPatternNode* bindings, ExpressionNode* initializer)
1144         : ExpressionNode(location)
1145         , m_bindings(bindings)
1146         , m_initializer(initializer)
1147     {
1148     }
1149 
1150 } // namespace JSC
<a name="15" id="anc15"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="15" type="hidden" />
</body>
</html>