<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WebCore/bindings/js/JSDOMConvertBufferSource.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="JSDOMConvertBoolean.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="JSDOMConvertCallbacks.h.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/bindings/js/JSDOMConvertBufferSource.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -61,36 +61,36 @@</span>
  inline RefPtr&lt;JSC::Uint16Array&gt; toUnsharedUint16Array(JSC::VM&amp; vm, JSC::JSValue value) { return JSC::toUnsharedNativeTypedView&lt;JSC::Uint16Adaptor&gt;(vm, value); }
  inline RefPtr&lt;JSC::Uint32Array&gt; toUnsharedUint32Array(JSC::VM&amp; vm, JSC::JSValue value) { return JSC::toUnsharedNativeTypedView&lt;JSC::Uint32Adaptor&gt;(vm, value); }
  inline RefPtr&lt;JSC::Float32Array&gt; toUnsharedFloat32Array(JSC::VM&amp; vm, JSC::JSValue value) { return JSC::toUnsharedNativeTypedView&lt;JSC::Float32Adaptor&gt;(vm, value); }
  inline RefPtr&lt;JSC::Float64Array&gt; toUnsharedFloat64Array(JSC::VM&amp; vm, JSC::JSValue value) { return JSC::toUnsharedNativeTypedView&lt;JSC::Float64Adaptor&gt;(vm, value); }
  
<span class="udiff-line-modified-removed">- inline JSC::JSValue toJS(JSC::ExecState* state, JSDOMGlobalObject* globalObject, JSC::ArrayBuffer&amp; buffer)</span>
<span class="udiff-line-modified-added">+ inline JSC::JSValue toJS(JSC::JSGlobalObject* lexicalGlobalObject, JSDOMGlobalObject* globalObject, JSC::ArrayBuffer&amp; buffer)</span>
  {
      if (auto result = getCachedWrapper(globalObject-&gt;world(), buffer))
          return result;
  
      // The JSArrayBuffer::create function will register the wrapper in finishCreation.
<span class="udiff-line-modified-removed">-     return JSC::JSArrayBuffer::create(state-&gt;vm(), globalObject-&gt;arrayBufferStructure(buffer.sharingMode()), &amp;buffer);</span>
<span class="udiff-line-modified-added">+     return JSC::JSArrayBuffer::create(JSC::getVM(lexicalGlobalObject), globalObject-&gt;arrayBufferStructure(buffer.sharingMode()), &amp;buffer);</span>
  }
  
<span class="udiff-line-modified-removed">- inline JSC::JSValue toJS(JSC::ExecState* state, JSC::JSGlobalObject* globalObject, JSC::ArrayBufferView&amp; view)</span>
<span class="udiff-line-modified-added">+ inline JSC::JSValue toJS(JSC::JSGlobalObject* lexicalGlobalObject, JSC::JSGlobalObject* globalObject, JSC::ArrayBufferView&amp; view)</span>
  {
<span class="udiff-line-modified-removed">-     return view.wrap(state, globalObject);</span>
<span class="udiff-line-modified-added">+     return view.wrap(lexicalGlobalObject, globalObject);</span>
  }
  
<span class="udiff-line-modified-removed">- inline JSC::JSValue toJS(JSC::ExecState* state, JSDOMGlobalObject* globalObject, JSC::ArrayBuffer* buffer)</span>
<span class="udiff-line-modified-added">+ inline JSC::JSValue toJS(JSC::JSGlobalObject* lexicalGlobalObject, JSDOMGlobalObject* globalObject, JSC::ArrayBuffer* buffer)</span>
  {
      if (!buffer)
          return JSC::jsNull();
<span class="udiff-line-modified-removed">-     return toJS(state, globalObject, *buffer);</span>
<span class="udiff-line-modified-added">+     return toJS(lexicalGlobalObject, globalObject, *buffer);</span>
  }
  
<span class="udiff-line-modified-removed">- inline JSC::JSValue toJS(JSC::ExecState* state, JSC::JSGlobalObject* globalObject, JSC::ArrayBufferView* view)</span>
<span class="udiff-line-modified-added">+ inline JSC::JSValue toJS(JSC::JSGlobalObject* lexicalGlobalObject, JSC::JSGlobalObject* globalObject, JSC::ArrayBufferView* view)</span>
  {
      if (!view)
          return JSC::jsNull();
<span class="udiff-line-modified-removed">-     return toJS(state, globalObject, *view);</span>
<span class="udiff-line-modified-added">+     return toJS(lexicalGlobalObject, globalObject, *view);</span>
  }
  
  inline RefPtr&lt;JSC::ArrayBufferView&gt; toPossiblySharedArrayBufferView(JSC::VM&amp; vm, JSC::JSValue value)
  {
      auto* wrapper = JSC::jsDynamicCast&lt;JSC::JSArrayBufferView*&gt;(vm, value);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -113,17 +113,17 @@</span>
  struct BufferSourceConverter {
      using WrapperType = typename Converter&lt;BufferSourceType&gt;::WrapperType;
      using ReturnType = typename Converter&lt;BufferSourceType&gt;::ReturnType;
  
      template&lt;typename ExceptionThrower = DefaultExceptionThrower&gt;
<span class="udiff-line-modified-removed">-     static ReturnType convert(JSC::ExecState&amp; state, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
<span class="udiff-line-modified-added">+     static ReturnType convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
      {
<span class="udiff-line-modified-removed">-         auto&amp; vm = state.vm();</span>
<span class="udiff-line-modified-added">+         auto&amp; vm = JSC::getVM(&amp;lexicalGlobalObject);</span>
          auto scope = DECLARE_THROW_SCOPE(vm);
          ReturnType object = WrapperType::toWrapped(vm, value);
          if (UNLIKELY(!object))
<span class="udiff-line-modified-removed">-             exceptionThrower(state, scope);</span>
<span class="udiff-line-modified-added">+             exceptionThrower(lexicalGlobalObject, scope);</span>
          return object;
      }
  };
  
  }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -131,265 +131,265 @@</span>
  template&lt;&gt; struct Converter&lt;IDLArrayBuffer&gt; : DefaultConverter&lt;IDLArrayBuffer&gt; {
      using WrapperType = JSC::JSArrayBuffer;
      using ReturnType = JSC::ArrayBuffer*;
  
      template&lt;typename ExceptionThrower = DefaultExceptionThrower&gt;
<span class="udiff-line-modified-removed">-     static ReturnType convert(JSC::ExecState&amp; state, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
<span class="udiff-line-modified-added">+     static ReturnType convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
      {
<span class="udiff-line-modified-removed">-         return Detail::BufferSourceConverter&lt;IDLArrayBuffer&gt;::convert(state, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
<span class="udiff-line-modified-added">+         return Detail::BufferSourceConverter&lt;IDLArrayBuffer&gt;::convert(lexicalGlobalObject, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
      }
  };
  
  template&lt;&gt; struct JSConverter&lt;IDLArrayBuffer&gt; {
      static constexpr bool needsState = true;
      static constexpr bool needsGlobalObject = true;
  
      template &lt;typename U&gt;
<span class="udiff-line-modified-removed">-     static JSC::JSValue convert(JSC::ExecState&amp; state, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
<span class="udiff-line-modified-added">+     static JSC::JSValue convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
      {
<span class="udiff-line-modified-removed">-         return toJS(&amp;state, &amp;globalObject, Detail::getPtrOrRef(value));</span>
<span class="udiff-line-modified-added">+         return toJS(&amp;lexicalGlobalObject, &amp;globalObject, Detail::getPtrOrRef(value));</span>
      }
  };
  
  template&lt;&gt; struct Converter&lt;IDLDataView&gt; : DefaultConverter&lt;IDLDataView&gt; {
      using WrapperType = JSC::JSDataView;
      using ReturnType = RefPtr&lt;JSC::DataView&gt;;
  
      template&lt;typename ExceptionThrower = DefaultExceptionThrower&gt;
<span class="udiff-line-modified-removed">-     static ReturnType convert(JSC::ExecState&amp; state, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
<span class="udiff-line-modified-added">+     static ReturnType convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
      {
<span class="udiff-line-modified-removed">-         return Detail::BufferSourceConverter&lt;IDLDataView&gt;::convert(state, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
<span class="udiff-line-modified-added">+         return Detail::BufferSourceConverter&lt;IDLDataView&gt;::convert(lexicalGlobalObject, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
      }
  };
  
  template&lt;&gt; struct JSConverter&lt;IDLDataView&gt; {
      static constexpr bool needsState = true;
      static constexpr bool needsGlobalObject = true;
  
      template &lt;typename U&gt;
<span class="udiff-line-modified-removed">-     static JSC::JSValue convert(JSC::ExecState&amp; state, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
<span class="udiff-line-modified-added">+     static JSC::JSValue convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
      {
<span class="udiff-line-modified-removed">-         return toJS(&amp;state, &amp;globalObject, Detail::getPtrOrRef(value));</span>
<span class="udiff-line-modified-added">+         return toJS(&amp;lexicalGlobalObject, &amp;globalObject, Detail::getPtrOrRef(value));</span>
      }
  };
  
  template&lt;&gt; struct Converter&lt;IDLInt8Array&gt; : DefaultConverter&lt;IDLInt8Array&gt; {
      using WrapperType = JSC::JSInt8Array;
      using ReturnType = RefPtr&lt;JSC::Int8Array&gt;;
  
      template&lt;typename ExceptionThrower = DefaultExceptionThrower&gt;
<span class="udiff-line-modified-removed">-     static ReturnType convert(JSC::ExecState&amp; state, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
<span class="udiff-line-modified-added">+     static ReturnType convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
      {
<span class="udiff-line-modified-removed">-         return Detail::BufferSourceConverter&lt;IDLInt8Array&gt;::convert(state, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
<span class="udiff-line-modified-added">+         return Detail::BufferSourceConverter&lt;IDLInt8Array&gt;::convert(lexicalGlobalObject, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
      }
  };
  
  template&lt;&gt; struct JSConverter&lt;IDLInt8Array&gt; {
      static constexpr bool needsState = true;
      static constexpr bool needsGlobalObject = true;
  
      template &lt;typename U&gt;
<span class="udiff-line-modified-removed">-     static JSC::JSValue convert(JSC::ExecState&amp; state, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
<span class="udiff-line-modified-added">+     static JSC::JSValue convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
      {
<span class="udiff-line-modified-removed">-         return toJS(&amp;state, &amp;globalObject, Detail::getPtrOrRef(value));</span>
<span class="udiff-line-modified-added">+         return toJS(&amp;lexicalGlobalObject, &amp;globalObject, Detail::getPtrOrRef(value));</span>
      }
  };
  
  template&lt;&gt; struct Converter&lt;IDLInt16Array&gt; : DefaultConverter&lt;IDLInt16Array&gt; {
      using WrapperType = JSC::JSInt16Array;
      using ReturnType = RefPtr&lt;JSC::Int16Array&gt;;
  
      template&lt;typename ExceptionThrower = DefaultExceptionThrower&gt;
<span class="udiff-line-modified-removed">-     static ReturnType convert(JSC::ExecState&amp; state, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
<span class="udiff-line-modified-added">+     static ReturnType convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
      {
<span class="udiff-line-modified-removed">-         return Detail::BufferSourceConverter&lt;IDLInt16Array&gt;::convert(state, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
<span class="udiff-line-modified-added">+         return Detail::BufferSourceConverter&lt;IDLInt16Array&gt;::convert(lexicalGlobalObject, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
      }
  };
  
  template&lt;&gt; struct JSConverter&lt;IDLInt16Array&gt; {
      static constexpr bool needsState = true;
      static constexpr bool needsGlobalObject = true;
  
      template &lt;typename U&gt;
<span class="udiff-line-modified-removed">-     static JSC::JSValue convert(JSC::ExecState&amp; state, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
<span class="udiff-line-modified-added">+     static JSC::JSValue convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
      {
<span class="udiff-line-modified-removed">-         return toJS(&amp;state, &amp;globalObject, Detail::getPtrOrRef(value));</span>
<span class="udiff-line-modified-added">+         return toJS(&amp;lexicalGlobalObject, &amp;globalObject, Detail::getPtrOrRef(value));</span>
      }
  };
  
  template&lt;&gt; struct Converter&lt;IDLInt32Array&gt; : DefaultConverter&lt;IDLInt32Array&gt; {
      using WrapperType = JSC::JSInt32Array;
      using ReturnType = RefPtr&lt;JSC::Int32Array&gt;;
  
      template&lt;typename ExceptionThrower = DefaultExceptionThrower&gt;
<span class="udiff-line-modified-removed">-     static ReturnType convert(JSC::ExecState&amp; state, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
<span class="udiff-line-modified-added">+     static ReturnType convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
      {
<span class="udiff-line-modified-removed">-         return Detail::BufferSourceConverter&lt;IDLInt32Array&gt;::convert(state, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
<span class="udiff-line-modified-added">+         return Detail::BufferSourceConverter&lt;IDLInt32Array&gt;::convert(lexicalGlobalObject, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
      }
  };
  
  template&lt;&gt; struct JSConverter&lt;IDLInt32Array&gt; {
      static constexpr bool needsState = true;
      static constexpr bool needsGlobalObject = true;
  
      template &lt;typename U&gt;
<span class="udiff-line-modified-removed">-     static JSC::JSValue convert(JSC::ExecState&amp; state, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
<span class="udiff-line-modified-added">+     static JSC::JSValue convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
      {
<span class="udiff-line-modified-removed">-         return toJS(&amp;state, &amp;globalObject, Detail::getPtrOrRef(value));</span>
<span class="udiff-line-modified-added">+         return toJS(&amp;lexicalGlobalObject, &amp;globalObject, Detail::getPtrOrRef(value));</span>
      }
  };
  
  template&lt;&gt; struct Converter&lt;IDLUint8Array&gt; : DefaultConverter&lt;IDLUint8Array&gt; {
      using WrapperType = JSC::JSUint8Array;
      using ReturnType = RefPtr&lt;JSC::Uint8Array&gt;;
  
      template&lt;typename ExceptionThrower = DefaultExceptionThrower&gt;
<span class="udiff-line-modified-removed">-     static ReturnType convert(JSC::ExecState&amp; state, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
<span class="udiff-line-modified-added">+     static ReturnType convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
      {
<span class="udiff-line-modified-removed">-         return Detail::BufferSourceConverter&lt;IDLUint8Array&gt;::convert(state, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
<span class="udiff-line-modified-added">+         return Detail::BufferSourceConverter&lt;IDLUint8Array&gt;::convert(lexicalGlobalObject, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
      }
  };
  
  template&lt;&gt; struct JSConverter&lt;IDLUint8Array&gt; {
      static constexpr bool needsState = true;
      static constexpr bool needsGlobalObject = true;
  
      template &lt;typename U&gt;
<span class="udiff-line-modified-removed">-     static JSC::JSValue convert(JSC::ExecState&amp; state, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
<span class="udiff-line-modified-added">+     static JSC::JSValue convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
      {
<span class="udiff-line-modified-removed">-         return toJS(&amp;state, &amp;globalObject, Detail::getPtrOrRef(value));</span>
<span class="udiff-line-modified-added">+         return toJS(&amp;lexicalGlobalObject, &amp;globalObject, Detail::getPtrOrRef(value));</span>
      }
  };
  
  template&lt;&gt; struct Converter&lt;IDLUint16Array&gt; : DefaultConverter&lt;IDLUint16Array&gt; {
      using WrapperType = JSC::JSUint16Array;
      using ReturnType = RefPtr&lt;JSC::Uint16Array&gt;;
  
      template&lt;typename ExceptionThrower = DefaultExceptionThrower&gt;
<span class="udiff-line-modified-removed">-     static ReturnType convert(JSC::ExecState&amp; state, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
<span class="udiff-line-modified-added">+     static ReturnType convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
      {
<span class="udiff-line-modified-removed">-         return Detail::BufferSourceConverter&lt;IDLUint16Array&gt;::convert(state, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
<span class="udiff-line-modified-added">+         return Detail::BufferSourceConverter&lt;IDLUint16Array&gt;::convert(lexicalGlobalObject, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
      }
  };
  
  template&lt;&gt; struct JSConverter&lt;IDLUint16Array&gt; {
      static constexpr bool needsState = true;
      static constexpr bool needsGlobalObject = true;
  
      template &lt;typename U&gt;
<span class="udiff-line-modified-removed">-     static JSC::JSValue convert(JSC::ExecState&amp; state, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
<span class="udiff-line-modified-added">+     static JSC::JSValue convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
      {
<span class="udiff-line-modified-removed">-         return toJS(&amp;state, &amp;globalObject, Detail::getPtrOrRef(value));</span>
<span class="udiff-line-modified-added">+         return toJS(&amp;lexicalGlobalObject, &amp;globalObject, Detail::getPtrOrRef(value));</span>
      }
  };
  
  template&lt;&gt; struct Converter&lt;IDLUint32Array&gt; : DefaultConverter&lt;IDLUint32Array&gt; {
      using WrapperType = JSC::JSUint32Array;
      using ReturnType = RefPtr&lt;JSC::Uint32Array&gt;;
  
      template&lt;typename ExceptionThrower = DefaultExceptionThrower&gt;
<span class="udiff-line-modified-removed">-     static ReturnType convert(JSC::ExecState&amp; state, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
<span class="udiff-line-modified-added">+     static ReturnType convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
      {
<span class="udiff-line-modified-removed">-         return Detail::BufferSourceConverter&lt;IDLUint32Array&gt;::convert(state, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
<span class="udiff-line-modified-added">+         return Detail::BufferSourceConverter&lt;IDLUint32Array&gt;::convert(lexicalGlobalObject, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
      }
  };
  
  template&lt;&gt; struct JSConverter&lt;IDLUint32Array&gt; {
      static constexpr bool needsState = true;
      static constexpr bool needsGlobalObject = true;
  
      template &lt;typename U&gt;
<span class="udiff-line-modified-removed">-     static JSC::JSValue convert(JSC::ExecState&amp; state, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
<span class="udiff-line-modified-added">+     static JSC::JSValue convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
      {
<span class="udiff-line-modified-removed">-         return toJS(&amp;state, &amp;globalObject, Detail::getPtrOrRef(value));</span>
<span class="udiff-line-modified-added">+         return toJS(&amp;lexicalGlobalObject, &amp;globalObject, Detail::getPtrOrRef(value));</span>
      }
  };
  
  template&lt;&gt; struct Converter&lt;IDLUint8ClampedArray&gt; : DefaultConverter&lt;IDLUint8ClampedArray&gt; {
      using WrapperType = JSC::JSUint8ClampedArray;
      using ReturnType = RefPtr&lt;JSC::Uint8ClampedArray&gt;;
  
      template&lt;typename ExceptionThrower = DefaultExceptionThrower&gt;
<span class="udiff-line-modified-removed">-     static ReturnType convert(JSC::ExecState&amp; state, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
<span class="udiff-line-modified-added">+     static ReturnType convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
      {
<span class="udiff-line-modified-removed">-         return Detail::BufferSourceConverter&lt;IDLUint8ClampedArray&gt;::convert(state, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
<span class="udiff-line-modified-added">+         return Detail::BufferSourceConverter&lt;IDLUint8ClampedArray&gt;::convert(lexicalGlobalObject, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
      }
  };
  
  template&lt;&gt; struct JSConverter&lt;IDLUint8ClampedArray&gt; {
      static constexpr bool needsState = true;
      static constexpr bool needsGlobalObject = true;
  
      template &lt;typename U&gt;
<span class="udiff-line-modified-removed">-     static JSC::JSValue convert(JSC::ExecState&amp; state, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
<span class="udiff-line-modified-added">+     static JSC::JSValue convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
      {
<span class="udiff-line-modified-removed">-         return toJS(&amp;state, &amp;globalObject, Detail::getPtrOrRef(value));</span>
<span class="udiff-line-modified-added">+         return toJS(&amp;lexicalGlobalObject, &amp;globalObject, Detail::getPtrOrRef(value));</span>
      }
  };
  
  template&lt;&gt; struct Converter&lt;IDLFloat32Array&gt; : DefaultConverter&lt;IDLFloat32Array&gt; {
      using WrapperType = JSC::JSFloat32Array;
      using ReturnType = RefPtr&lt;JSC::Float32Array&gt;;
  
      template&lt;typename ExceptionThrower = DefaultExceptionThrower&gt;
<span class="udiff-line-modified-removed">-     static ReturnType convert(JSC::ExecState&amp; state, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
<span class="udiff-line-modified-added">+     static ReturnType convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
      {
<span class="udiff-line-modified-removed">-         return Detail::BufferSourceConverter&lt;IDLFloat32Array&gt;::convert(state, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
<span class="udiff-line-modified-added">+         return Detail::BufferSourceConverter&lt;IDLFloat32Array&gt;::convert(lexicalGlobalObject, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
      }
  };
  
  template&lt;&gt; struct JSConverter&lt;IDLFloat32Array&gt; {
      static constexpr bool needsState = true;
      static constexpr bool needsGlobalObject = true;
  
      template &lt;typename U&gt;
<span class="udiff-line-modified-removed">-     static JSC::JSValue convert(JSC::ExecState&amp; state, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
<span class="udiff-line-modified-added">+     static JSC::JSValue convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
      {
<span class="udiff-line-modified-removed">-         return toJS(&amp;state, &amp;globalObject, Detail::getPtrOrRef(value));</span>
<span class="udiff-line-modified-added">+         return toJS(&amp;lexicalGlobalObject, &amp;globalObject, Detail::getPtrOrRef(value));</span>
      }
  };
  
  template&lt;&gt; struct Converter&lt;IDLFloat64Array&gt; : DefaultConverter&lt;IDLFloat64Array&gt; {
      using WrapperType = JSC::JSFloat64Array;
      using ReturnType = RefPtr&lt;JSC::Float64Array&gt;;
  
      template&lt;typename ExceptionThrower = DefaultExceptionThrower&gt;
<span class="udiff-line-modified-removed">-     static ReturnType convert(JSC::ExecState&amp; state, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
<span class="udiff-line-modified-added">+     static ReturnType convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
      {
<span class="udiff-line-modified-removed">-         return Detail::BufferSourceConverter&lt;IDLFloat64Array&gt;::convert(state, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
<span class="udiff-line-modified-added">+         return Detail::BufferSourceConverter&lt;IDLFloat64Array&gt;::convert(lexicalGlobalObject, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
      }
  };
  
  template&lt;&gt; struct JSConverter&lt;IDLFloat64Array&gt; {
      static constexpr bool needsState = true;
      static constexpr bool needsGlobalObject = true;
  
      template &lt;typename U&gt;
<span class="udiff-line-modified-removed">-     static JSC::JSValue convert(JSC::ExecState&amp; state, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
<span class="udiff-line-modified-added">+     static JSC::JSValue convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
      {
<span class="udiff-line-modified-removed">-         return toJS(&amp;state, &amp;globalObject, Detail::getPtrOrRef(value));</span>
<span class="udiff-line-modified-added">+         return toJS(&amp;lexicalGlobalObject, &amp;globalObject, Detail::getPtrOrRef(value));</span>
      }
  };
  
  template&lt;&gt; struct Converter&lt;IDLArrayBufferView&gt; : DefaultConverter&lt;IDLArrayBufferView&gt; {
      using WrapperType = JSC::JSArrayBufferView;
      using ReturnType = RefPtr&lt;JSC::ArrayBufferView&gt;;
  
      template&lt;typename ExceptionThrower = DefaultExceptionThrower&gt;
<span class="udiff-line-modified-removed">-     static ReturnType convert(JSC::ExecState&amp; state, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
<span class="udiff-line-modified-added">+     static ReturnType convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::JSValue value, ExceptionThrower&amp;&amp; exceptionThrower = ExceptionThrower())</span>
      {
<span class="udiff-line-modified-removed">-         return Detail::BufferSourceConverter&lt;IDLArrayBufferView&gt;::convert(state, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
<span class="udiff-line-modified-added">+         return Detail::BufferSourceConverter&lt;IDLArrayBufferView&gt;::convert(lexicalGlobalObject, value, std::forward&lt;ExceptionThrower&gt;(exceptionThrower));</span>
      }
  };
  
  template&lt;&gt; struct JSConverter&lt;IDLArrayBufferView&gt; {
      static constexpr bool needsState = true;
      static constexpr bool needsGlobalObject = true;
  
      template &lt;typename U&gt;
<span class="udiff-line-modified-removed">-     static JSC::JSValue convert(JSC::ExecState&amp; state, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
<span class="udiff-line-modified-added">+     static JSC::JSValue convert(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSDOMGlobalObject&amp; globalObject, const U&amp; value)</span>
      {
<span class="udiff-line-modified-removed">-         return toJS(&amp;state, &amp;globalObject, Detail::getPtrOrRef(value));</span>
<span class="udiff-line-modified-added">+         return toJS(&amp;lexicalGlobalObject, &amp;globalObject, Detail::getPtrOrRef(value));</span>
      }
  };
  
  } // namespace WebCore
</pre>
<center><a href="JSDOMConvertBoolean.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="JSDOMConvertCallbacks.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>