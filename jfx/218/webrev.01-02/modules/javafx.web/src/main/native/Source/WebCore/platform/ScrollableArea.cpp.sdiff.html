<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/ScrollableArea.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ScrollView.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ScrollableArea.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/ScrollableArea.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 30  */
 31 
 32 #include &quot;config.h&quot;
 33 #include &quot;ScrollableArea.h&quot;
 34 
 35 #include &quot;FloatPoint.h&quot;
 36 #include &quot;GraphicsContext.h&quot;
 37 #include &quot;GraphicsLayer.h&quot;
 38 #include &quot;LayoutRect.h&quot;
 39 #include &quot;Logging.h&quot;
 40 #include &quot;PlatformWheelEvent.h&quot;
 41 #include &quot;ScrollAnimator.h&quot;
 42 #include &quot;ScrollAnimatorMock.h&quot;
 43 #include &quot;ScrollbarTheme.h&quot;
 44 #include &lt;wtf/text/TextStream.h&gt;
 45 
 46 namespace WebCore {
 47 
 48 struct SameSizeAsScrollableArea {
 49     virtual ~SameSizeAsScrollableArea();
<span class="line-modified"> 50 #if !ASSERT_DISABLED</span>
 51     bool weakPtrFactorWasConstructedOnMainThread;
 52 #endif
 53 #if ENABLE(CSS_SCROLL_SNAP)
 54     void* pointers[3];
 55     unsigned currentIndices[2];
 56 #else
 57     void* pointer[2];
 58 #endif
 59     IntPoint origin;
 60     unsigned bitfields : 16;
 61 };
 62 
 63 COMPILE_ASSERT(sizeof(ScrollableArea) == sizeof(SameSizeAsScrollableArea), ScrollableArea_should_stay_small);
 64 
 65 ScrollableArea::ScrollableArea()
 66     : m_constrainsScrollingToContentEdge(true)
 67     , m_inLiveResize(false)
 68     , m_verticalScrollElasticity(ScrollElasticityNone)
 69     , m_horizontalScrollElasticity(ScrollElasticityNone)
 70     , m_scrollbarOverlayStyle(ScrollbarOverlayStyleDefault)
</pre>
<hr />
<pre>
210 #endif
211     return handledEvent;
212 }
213 
214 #if ENABLE(TOUCH_EVENTS)
215 bool ScrollableArea::handleTouchEvent(const PlatformTouchEvent&amp; touchEvent)
216 {
217     return scrollAnimator().handleTouchEvent(touchEvent);
218 }
219 #endif
220 
221 // NOTE: Only called from Internals for testing.
222 void ScrollableArea::setScrollOffsetFromInternals(const ScrollOffset&amp; offset)
223 {
224     setScrollOffsetFromAnimation(offset);
225 }
226 
227 void ScrollableArea::setScrollOffsetFromAnimation(const ScrollOffset&amp; offset)
228 {
229     ScrollPosition position = scrollPositionFromOffset(offset);
<span class="line-modified">230     if (requestScrollPositionUpdate(position))</span>
231         return;
232 
233     scrollPositionChanged(position);
234 }
235 
236 void ScrollableArea::willStartLiveResize()
237 {
238     if (m_inLiveResize)
239         return;
240     m_inLiveResize = true;
241     if (ScrollAnimator* scrollAnimator = existingScrollAnimator())
242         scrollAnimator-&gt;willStartLiveResize();
243 }
244 
245 void ScrollableArea::willEndLiveResize()
246 {
247     if (!m_inLiveResize)
248         return;
249     m_inLiveResize = false;
250     if (ScrollAnimator* scrollAnimator = existingScrollAnimator())
</pre>
</td>
<td>
<hr />
<pre>
 30  */
 31 
 32 #include &quot;config.h&quot;
 33 #include &quot;ScrollableArea.h&quot;
 34 
 35 #include &quot;FloatPoint.h&quot;
 36 #include &quot;GraphicsContext.h&quot;
 37 #include &quot;GraphicsLayer.h&quot;
 38 #include &quot;LayoutRect.h&quot;
 39 #include &quot;Logging.h&quot;
 40 #include &quot;PlatformWheelEvent.h&quot;
 41 #include &quot;ScrollAnimator.h&quot;
 42 #include &quot;ScrollAnimatorMock.h&quot;
 43 #include &quot;ScrollbarTheme.h&quot;
 44 #include &lt;wtf/text/TextStream.h&gt;
 45 
 46 namespace WebCore {
 47 
 48 struct SameSizeAsScrollableArea {
 49     virtual ~SameSizeAsScrollableArea();
<span class="line-modified"> 50 #if ASSERT_ENABLED</span>
 51     bool weakPtrFactorWasConstructedOnMainThread;
 52 #endif
 53 #if ENABLE(CSS_SCROLL_SNAP)
 54     void* pointers[3];
 55     unsigned currentIndices[2];
 56 #else
 57     void* pointer[2];
 58 #endif
 59     IntPoint origin;
 60     unsigned bitfields : 16;
 61 };
 62 
 63 COMPILE_ASSERT(sizeof(ScrollableArea) == sizeof(SameSizeAsScrollableArea), ScrollableArea_should_stay_small);
 64 
 65 ScrollableArea::ScrollableArea()
 66     : m_constrainsScrollingToContentEdge(true)
 67     , m_inLiveResize(false)
 68     , m_verticalScrollElasticity(ScrollElasticityNone)
 69     , m_horizontalScrollElasticity(ScrollElasticityNone)
 70     , m_scrollbarOverlayStyle(ScrollbarOverlayStyleDefault)
</pre>
<hr />
<pre>
210 #endif
211     return handledEvent;
212 }
213 
214 #if ENABLE(TOUCH_EVENTS)
215 bool ScrollableArea::handleTouchEvent(const PlatformTouchEvent&amp; touchEvent)
216 {
217     return scrollAnimator().handleTouchEvent(touchEvent);
218 }
219 #endif
220 
221 // NOTE: Only called from Internals for testing.
222 void ScrollableArea::setScrollOffsetFromInternals(const ScrollOffset&amp; offset)
223 {
224     setScrollOffsetFromAnimation(offset);
225 }
226 
227 void ScrollableArea::setScrollOffsetFromAnimation(const ScrollOffset&amp; offset)
228 {
229     ScrollPosition position = scrollPositionFromOffset(offset);
<span class="line-modified">230     if (requestScrollPositionUpdate(position, currentScrollType()))</span>
231         return;
232 
233     scrollPositionChanged(position);
234 }
235 
236 void ScrollableArea::willStartLiveResize()
237 {
238     if (m_inLiveResize)
239         return;
240     m_inLiveResize = true;
241     if (ScrollAnimator* scrollAnimator = existingScrollAnimator())
242         scrollAnimator-&gt;willStartLiveResize();
243 }
244 
245 void ScrollableArea::willEndLiveResize()
246 {
247     if (!m_inLiveResize)
248         return;
249     m_inLiveResize = false;
250     if (ScrollAnimator* scrollAnimator = existingScrollAnimator())
</pre>
</td>
</tr>
</table>
<center><a href="ScrollView.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ScrollableArea.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>