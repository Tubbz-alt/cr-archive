<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New modules/javafx.web/src/main/native/Source/JavaScriptCore/CMakeLists.txt</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
  <body>
    <pre>
   1 cmake_minimum_required(VERSION 3.10)
   2 include(WebKitCommon)
   3 include(target/TargetWTF)
   4 set_property(DIRECTORY . PROPERTY FOLDER &quot;JavaScriptCore&quot;)
   5 
   6 list(APPEND JavaScriptCore_UNIFIED_SOURCE_LIST_FILES
   7     &quot;Sources.txt&quot;
   8 )
   9 
  10 set(JavaScriptCore_INCLUDE_DIRECTORIES
  11     &quot;${JavaScriptCore_FRAMEWORK_HEADERS_DIR}&quot;
  12 )
  13 
  14 set(JavaScriptCore_PRIVATE_INCLUDE_DIRECTORIES
  15     &quot;${CMAKE_BINARY_DIR}&quot;
  16     &quot;${JAVASCRIPTCORE_DIR}&quot;
  17     &quot;${JAVASCRIPTCORE_DIR}/API&quot;
  18     &quot;${JAVASCRIPTCORE_DIR}/assembler&quot;
  19     &quot;${JAVASCRIPTCORE_DIR}/b3&quot;
  20     &quot;${JAVASCRIPTCORE_DIR}/b3/air&quot;
  21     &quot;${JAVASCRIPTCORE_DIR}/bindings&quot;
  22     &quot;${JAVASCRIPTCORE_DIR}/builtins&quot;
  23     &quot;${JAVASCRIPTCORE_DIR}/bytecode&quot;
  24     &quot;${JAVASCRIPTCORE_DIR}/bytecompiler&quot;
  25     &quot;${JAVASCRIPTCORE_DIR}/dfg&quot;
  26     &quot;${JAVASCRIPTCORE_DIR}/disassembler&quot;
  27     &quot;${JAVASCRIPTCORE_DIR}/disassembler/ARM64&quot;
  28     &quot;${JAVASCRIPTCORE_DIR}/disassembler/udis86&quot;
  29     &quot;${JAVASCRIPTCORE_DIR}/domjit&quot;
  30     &quot;${JAVASCRIPTCORE_DIR}/ftl&quot;
  31     &quot;${JAVASCRIPTCORE_DIR}/heap&quot;
  32     &quot;${JAVASCRIPTCORE_DIR}/debugger&quot;
  33     &quot;${JAVASCRIPTCORE_DIR}/inspector&quot;
  34     &quot;${JAVASCRIPTCORE_DIR}/inspector/agents&quot;
  35     &quot;${JAVASCRIPTCORE_DIR}/inspector/augmentable&quot;
  36     &quot;${JAVASCRIPTCORE_DIR}/inspector/remote&quot;
  37     &quot;${JAVASCRIPTCORE_DIR}/interpreter&quot;
  38     &quot;${JAVASCRIPTCORE_DIR}/jit&quot;
  39     &quot;${JAVASCRIPTCORE_DIR}/llint&quot;
  40     &quot;${JAVASCRIPTCORE_DIR}/parser&quot;
  41     &quot;${JAVASCRIPTCORE_DIR}/profiler&quot;
  42     &quot;${JAVASCRIPTCORE_DIR}/runtime&quot;
  43     &quot;${JAVASCRIPTCORE_DIR}/tools&quot;
  44     &quot;${JAVASCRIPTCORE_DIR}/wasm&quot;
  45     &quot;${JAVASCRIPTCORE_DIR}/wasm/js&quot;
  46     &quot;${JAVASCRIPTCORE_DIR}/yarr&quot;
  47     &quot;${JavaScriptCore_DERIVED_SOURCES_DIR}&quot;
  48     &quot;${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector&quot;
  49     &quot;${JavaScriptCore_DERIVED_SOURCES_DIR}/runtime&quot;
  50     &quot;${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr&quot;
  51 )
  52 
  53 if (USE_CAPSTONE)
  54     list(APPEND JavaScriptCore_PRIVATE_INCLUDE_DIRECTORIES &quot;${THIRDPARTY_DIR}/capstone/Source/include&quot;)
  55 endif ()
  56 
  57 set(JavaScriptCore_OBJECT_LUT_SOURCES
  58     runtime/ArrayConstructor.cpp
  59     runtime/AsyncFromSyncIteratorPrototype.cpp
  60     runtime/AsyncGeneratorPrototype.cpp
  61     runtime/BigIntConstructor.cpp
  62     runtime/BigIntPrototype.cpp
  63     runtime/BooleanPrototype.cpp
  64     runtime/DateConstructor.cpp
  65     runtime/DatePrototype.cpp
  66     runtime/ErrorPrototype.cpp
  67     runtime/GeneratorPrototype.cpp
  68     runtime/InspectorInstrumentationObject.cpp
  69     runtime/IntlCollatorConstructor.cpp
  70     runtime/IntlCollatorPrototype.cpp
  71     runtime/IntlDateTimeFormatConstructor.cpp
  72     runtime/IntlDateTimeFormatPrototype.cpp
  73     runtime/IntlNumberFormatConstructor.cpp
  74     runtime/IntlNumberFormatPrototype.cpp
  75     runtime/IntlObject.cpp
  76     runtime/IntlPluralRulesConstructor.cpp
  77     runtime/IntlPluralRulesPrototype.cpp
  78     runtime/JSDataViewPrototype.cpp
  79     runtime/JSGlobalObject.cpp
  80     runtime/JSInternalPromiseConstructor.cpp
  81     runtime/JSModuleLoader.cpp
  82     runtime/JSONObject.cpp
  83     runtime/JSPromiseConstructor.cpp
  84     runtime/JSPromisePrototype.cpp
  85     runtime/MapPrototype.cpp
  86     runtime/NumberConstructor.cpp
  87     runtime/NumberPrototype.cpp
  88     runtime/ObjectConstructor.cpp
  89     runtime/ReflectObject.cpp
  90     runtime/RegExpConstructor.cpp
  91     runtime/RegExpPrototype.cpp
  92     runtime/RegExpStringIteratorPrototype.cpp
  93     runtime/SetPrototype.cpp
  94     runtime/StringConstructor.cpp
  95     runtime/StringPrototype.cpp
  96     runtime/SymbolConstructor.cpp
  97     runtime/SymbolPrototype.cpp
  98 
  99     wasm/js/JSWebAssembly.cpp
 100     wasm/js/JSToWasmICCallee.cpp
 101     wasm/js/WebAssemblyCompileErrorConstructor.cpp
 102     wasm/js/WebAssemblyCompileErrorPrototype.cpp
 103     wasm/js/WebAssemblyGlobalConstructor.cpp
 104     wasm/js/WebAssemblyGlobalPrototype.cpp
 105     wasm/js/WebAssemblyInstanceConstructor.cpp
 106     wasm/js/WebAssemblyInstancePrototype.cpp
 107     wasm/js/WebAssemblyLinkErrorConstructor.cpp
 108     wasm/js/WebAssemblyLinkErrorPrototype.cpp
 109     wasm/js/WebAssemblyMemoryConstructor.cpp
 110     wasm/js/WebAssemblyMemoryPrototype.cpp
 111     wasm/js/WebAssemblyModuleConstructor.cpp
 112     wasm/js/WebAssemblyModulePrototype.cpp
 113     wasm/js/WebAssemblyRuntimeErrorConstructor.cpp
 114     wasm/js/WebAssemblyRuntimeErrorPrototype.cpp
 115     wasm/js/WebAssemblyTableConstructor.cpp
 116     wasm/js/WebAssemblyTablePrototype.cpp
 117 )
 118 
 119 set(JavaScriptCore_LIBRARIES
 120     WebKit::WTF
 121 )
 122 
 123 if (USE_CAPSTONE)
 124     list(APPEND JavaScriptCore_LIBRARIES capstone)
 125 endif ()
 126 
 127 if (ATOMIC_INT64_REQUIRES_LIBATOMIC)
 128     list(APPEND JavaScriptCore_LIBRARIES atomic)
 129 endif ()
 130 
 131 set(JavaScriptCore_SCRIPTS_SOURCES_DIR &quot;${JAVASCRIPTCORE_DIR}/Scripts&quot;)
 132 
 133 # Globbing relies on the fact that generator-specific file names are prefixed with their directory.
 134 # Top-level scripts should have a file extension, since they are invoked during the build.
 135 
 136 set(JavaScriptCore_SCRIPTS_SOURCES_PATHS
 137     ${JavaScriptCore_SCRIPTS_SOURCES_DIR}/*.pl
 138     ${JavaScriptCore_SCRIPTS_SOURCES_DIR}/*.py
 139     ${JavaScriptCore_SCRIPTS_SOURCES_DIR}/wkbuiltins/builtins*.py
 140     ${JavaScriptCore_SCRIPTS_SOURCES_DIR}/wkbuiltins/wkbuiltins.py
 141 )
 142 
 143 # The directory flattening performed below mirrors what the Mac port does with private headers.
 144 
 145 file(GLOB JavaScriptCore_SCRIPTS_SOURCES ${JavaScriptCore_SCRIPTS_SOURCES_PATHS})
 146 
 147 foreach (_file ${JavaScriptCore_SCRIPTS_SOURCES})
 148     get_filename_component(_script &quot;${_file}&quot; NAME)
 149     add_custom_command(
 150         OUTPUT ${JavaScriptCore_SCRIPTS_DIR}/${_script}
 151         MAIN_DEPENDENCY ${_file}
 152         WORKING_DIRECTORY ${JavaScriptCore_DERIVED_SOURCES_DIR}
 153         COMMAND ${CMAKE_COMMAND} -E copy_if_different ${_file} ${JavaScriptCore_SCRIPTS_DIR}/${_script}
 154         VERBATIM)
 155     list(APPEND JavaScriptCore_SCRIPTS ${JavaScriptCore_SCRIPTS_DIR}/${_script})
 156 endforeach ()
 157 
 158 set(UDIS_GEN_DEP
 159     disassembler/udis86/optable.xml
 160     disassembler/udis86/ud_itab.py
 161     disassembler/udis86/ud_opcode.py
 162 )
 163 
 164 add_custom_command(
 165     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/udis86_itab.c ${JavaScriptCore_DERIVED_SOURCES_DIR}/udis86_itab.h
 166     DEPENDS ${UDIS_GEN_DEP}
 167     WORKING_DIRECTORY ${JavaScriptCore_DERIVED_SOURCES_DIR}
 168     COMMAND ${PYTHON_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/disassembler/udis86/ud_itab.py ${JAVASCRIPTCORE_DIR}/disassembler/udis86/optable.xml ${JavaScriptCore_DERIVED_SOURCES_DIR}
 169     VERBATIM)
 170 
 171 list(APPEND JavaScriptCore_HEADERS
 172     ${JavaScriptCore_DERIVED_SOURCES_DIR}/udis86_itab.h
 173 )
 174 
 175 set(LLINT_ASM
 176     llint/LowLevelInterpreter.asm
 177     llint/LowLevelInterpreter32_64.asm
 178     llint/LowLevelInterpreter64.asm
 179 )
 180 
 181 set(OFFLINE_ASM
 182     offlineasm/arm.rb
 183     offlineasm/arm64.rb
 184     offlineasm/ast.rb
 185     offlineasm/backends.rb
 186     offlineasm/cloop.rb
 187     offlineasm/config.rb
 188     offlineasm/instructions.rb
 189     offlineasm/mips.rb
 190     offlineasm/offsets.rb
 191     offlineasm/opt.rb
 192     offlineasm/parser.rb
 193     offlineasm/registers.rb
 194     offlineasm/risc.rb
 195     offlineasm/self_hash.rb
 196     offlineasm/settings.rb
 197     offlineasm/transform.rb
 198     offlineasm/x86.rb
 199 )
 200 
 201 set(GENERATOR
 202     generator/Argument.rb
 203     generator/Assertion.rb
 204     generator/DSL.rb
 205     generator/Fits.rb
 206     generator/GeneratedFile.rb
 207     generator/Metadata.rb
 208     generator/Opcode.rb
 209     generator/OpcodeGroup.rb
 210     generator/Options.rb
 211     generator/Section.rb
 212     generator/Template.rb
 213     generator/Type.rb
 214     generator/main.rb
 215 )
 216 
 217 add_custom_command(
 218     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/Bytecodes.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitBytecodes.asm ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeStructs.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeIndices.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/WasmLLIntGeneratorInlines.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitWasm.asm ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeDumperGenerated.cpp
 219     MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/generator/main.rb
 220     DEPENDS ${GENERATOR} bytecode/BytecodeList.rb
 221     COMMAND ${RUBY_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/generator/main.rb --bytecodes_h ${JavaScriptCore_DERIVED_SOURCES_DIR}/Bytecodes.h --init_bytecodes_asm ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitBytecodes.asm --bytecode_structs_h ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeStructs.h --bytecode_indices_h ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeIndices.h ${JAVASCRIPTCORE_DIR}/bytecode/BytecodeList.rb --wasm_json ${JAVASCRIPTCORE_DIR}/wasm/wasm.json --wasm_llint_generator_h ${JavaScriptCore_DERIVED_SOURCES_DIR}/WasmLLIntGeneratorInlines.h --init_wasm_llint ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitWasm.asm --bytecode_dumper ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeDumperGenerated.cpp
 222     VERBATIM)
 223 
 224 
 225 if (WTF_OS_MAC_OS_X)
 226     execute_process(COMMAND bash -c &quot;date +&#39;%s&#39;&quot; OUTPUT_VARIABLE BUILD_TIME OUTPUT_STRIP_TRAILING_WHITESPACE)
 227 else ()
 228     string(TIMESTAMP BUILD_TIME &quot;%s&quot;)
 229 endif ()
 230 
 231 list(APPEND JavaScriptCore_HEADERS
 232     ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeStructs.h
 233     ${JavaScriptCore_DERIVED_SOURCES_DIR}/Bytecodes.h
 234 )
 235 
 236 if (WIN32)
 237     set(OFFLINE_ASM_BACKEND &quot;X86_WIN, X86_64_WIN, C_LOOP_WIN&quot;)
 238 else ()
 239     if (WTF_CPU_X86)
 240         set(OFFLINE_ASM_BACKEND &quot;X86&quot;)
 241     elseif (WTF_CPU_X86_64)
 242         set(OFFLINE_ASM_BACKEND &quot;X86_64&quot;)
 243     elseif (WTF_CPU_ARM64)
 244         set(OFFLINE_ASM_BACKEND &quot;ARM64&quot;)
 245     elseif (ARM_THUMB2_DETECTED)
 246         set(OFFLINE_ASM_BACKEND &quot;ARMv7&quot;)
 247     elseif (WTF_CPU_MIPS)
 248         set(OFFLINE_ASM_BACKEND &quot;MIPS&quot;)
 249     endif ()
 250 
 251     if (NOT ENABLE_JIT)
 252         if (ENABLE_C_LOOP)
 253             set(OFFLINE_ASM_BACKEND &quot;C_LOOP&quot;)
 254         endif ()
 255     endif ()
 256 endif ()
 257 
 258 add_custom_command(
 259     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/AirOpcode.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/AirOpcodeGenerated.h
 260     MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/b3/air/AirOpcode.opcodes
 261     DEPENDS ${JAVASCRIPTCORE_DIR}/b3/air/opcode_generator.rb
 262     COMMAND ${RUBY_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/b3/air/opcode_generator.rb ${JAVASCRIPTCORE_DIR}/b3/air/AirOpcode.opcodes VERBATIM
 263     WORKING_DIRECTORY ${JavaScriptCore_DERIVED_SOURCES_DIR}
 264 )
 265 
 266 list(APPEND JavaScriptCore_HEADERS
 267     ${JavaScriptCore_DERIVED_SOURCES_DIR}/AirOpcode.h
 268     ${JavaScriptCore_DERIVED_SOURCES_DIR}/AirOpcodeGenerated.h
 269 )
 270 
 271 add_custom_command(
 272     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/LLIntDesiredSettings.h
 273     MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/offlineasm/generate_settings_extractor.rb
 274     DEPENDS ${LLINT_ASM} ${OFFLINE_ASM} ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitBytecodes.asm ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitWasm.asm
 275     COMMAND ${RUBY_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/offlineasm/generate_settings_extractor.rb -I${JavaScriptCore_DERIVED_SOURCES_DIR}/ ${JAVASCRIPTCORE_DIR}/llint/LowLevelInterpreter.asm ${JavaScriptCore_DERIVED_SOURCES_DIR}/LLIntDesiredSettings.h ${OFFLINE_ASM_BACKEND}
 276     VERBATIM)
 277 
 278 add_custom_command(
 279     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/LLIntDesiredOffsets.h
 280     MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/offlineasm/generate_offset_extractor.rb
 281     DEPENDS LLIntSettingsExtractor ${LLINT_ASM} ${OFFLINE_ASM} ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitBytecodes.asm ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitWasm.asm ${JavaScriptCore_DERIVED_SOURCES_DIR}/AirOpcode.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/WasmOps.h
 282     COMMAND ${RUBY_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/offlineasm/generate_offset_extractor.rb -I${JavaScriptCore_DERIVED_SOURCES_DIR}/ ${JAVASCRIPTCORE_DIR}/llint/LowLevelInterpreter.asm $&lt;TARGET_FILE:LLIntSettingsExtractor&gt; ${JavaScriptCore_DERIVED_SOURCES_DIR}/LLIntDesiredOffsets.h ${OFFLINE_ASM_BACKEND}
 283     VERBATIM)
 284 
 285 # We add the header files directly to the ADD_EXECUTABLE call instead of setting the
 286 # OBJECT_DEPENDS property in LLIntOffsetsExtractor.cpp because generate_offset_extractor.rb and
 287 # generate-bytecode-files may not regenerate the .h files in case the hash it calculates does not change.
 288 # In this case, if some of the dependencies specified in the ADD_CUSTOM_COMMANDs above have
 289 # changed the command will always be called because the mtime of the .h files will
 290 # always be older than that of their dependencies.
 291 # Additionally, setting the OBJECT_DEPENDS property will make the .h files a Makefile
 292 # dependency of both LLIntOffsetsExtractor and LLIntOffsetsExtractor.cpp, so the command will
 293 # actually be run multiple times!
 294 add_executable(LLIntSettingsExtractor
 295     ${JAVASCRIPTCORE_DIR}/llint/LLIntSettingsExtractor.cpp
 296     ${JavaScriptCore_DERIVED_SOURCES_DIR}/LLIntDesiredSettings.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/Bytecodes.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeStructs.h
 297 )
 298 
 299 add_executable(LLIntOffsetsExtractor
 300     ${JAVASCRIPTCORE_DIR}/llint/LLIntOffsetsExtractor.cpp
 301     ${JavaScriptCore_DERIVED_SOURCES_DIR}/LLIntDesiredOffsets.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/Bytecodes.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/BytecodeStructs.h
 302 )
 303 
 304 target_link_libraries(LLIntSettingsExtractor WebKit::WTF)
 305 add_dependencies(LLIntSettingsExtractor JavaScriptCore_CopyHeaders)
 306 target_link_libraries(LLIntOffsetsExtractor WebKit::WTF)
 307 add_dependencies(LLIntOffsetsExtractor JavaScriptCore_CopyHeaders)
 308 
 309 # The build system will execute asm.rb every time LLIntOffsetsExtractor&#39;s mtime is newer than
 310 # LLIntAssembly.h&#39;s mtime. The problem we have here is: asm.rb has some built-in optimization
 311 # that generates a checksum of the LLIntOffsetsExtractor binary, if the checksum of the new
 312 # LLIntOffsetsExtractor matches, no output is generated. To make this target consistent and avoid
 313 # running this command for every build, we artificially update LLIntAssembly.h&#39;s mtime (using touch)
 314 # after every asm.rb run.
 315 if (MSVC AND NOT ENABLE_C_LOOP)
 316     set(LLIntOutput LowLevelInterpreterWin.asm)
 317     set(OFFLINE_ASM_ARGS --assembler=MASM)
 318 else ()
 319     set(LLIntOutput LLIntAssembly.h)
 320 endif ()
 321 
 322 add_custom_command(
 323     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/${LLIntOutput}
 324     MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/offlineasm/asm.rb
 325     DEPENDS LLIntOffsetsExtractor ${LLINT_ASM} ${OFFLINE_ASM} ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitBytecodes.asm ${JavaScriptCore_DERIVED_SOURCES_DIR}/InitWasm.asm
 326     COMMAND ${RUBY_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/offlineasm/asm.rb -I${JavaScriptCore_DERIVED_SOURCES_DIR}/ ${JAVASCRIPTCORE_DIR}/llint/LowLevelInterpreter.asm $&lt;TARGET_FILE:LLIntOffsetsExtractor&gt; ${JavaScriptCore_DERIVED_SOURCES_DIR}/${LLIntOutput} ${OFFLINE_ASM_ARGS}
 327     COMMAND ${CMAKE_COMMAND} -E touch_nocreate ${JavaScriptCore_DERIVED_SOURCES_DIR}/${LLIntOutput}
 328     WORKING_DIRECTORY ${JavaScriptCore_DERIVED_SOURCES_DIR}
 329     VERBATIM)
 330 
 331 # The explanation for not making LLIntAssembly.h part of the OBJECT_DEPENDS property of some of
 332 # the .cpp files below is similar to the one in the previous comment. However, since these .cpp
 333 # files are used to build JavaScriptCore itself, we can just add LLIntAssembly.h to JSC_HEADERS
 334 # since it is used in the add_library() call at the end of this file.
 335 if (MSVC AND NOT ENABLE_C_LOOP)
 336     enable_language(ASM_MASM)
 337     if (CMAKE_SIZEOF_VOID_P EQUAL 4)
 338         # Win32 needs /safeseh with assembly, but Win64 does not.
 339         set(MASM_EXECUTABLE ml)
 340         set(LLINT_MASM_FLAGS /safeseh /c /Fo)
 341     else ()
 342         set(MASM_EXECUTABLE ml64)
 343         set(LLINT_MASM_FLAGS /c /Fo)
 344     endif ()
 345     add_custom_command(
 346         OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/LowLevelInterpreterWin.obj
 347         DEPENDS ${JavaScriptCore_DERIVED_SOURCES_DIR}/LowLevelInterpreterWin.asm
 348         COMMAND ${MASM_EXECUTABLE} ${LLINT_MASM_FLAGS} ${JavaScriptCore_DERIVED_SOURCES_DIR}/LowLevelInterpreterWin.obj ${JavaScriptCore_DERIVED_SOURCES_DIR}/LowLevelInterpreterWin.asm
 349         VERBATIM)
 350     list(APPEND JavaScriptCore_SOURCES ${JavaScriptCore_DERIVED_SOURCES_DIR}/LowLevelInterpreterWin.obj)
 351 else ()
 352     list(APPEND JavaScriptCore_HEADERS
 353         ${JavaScriptCore_DERIVED_SOURCES_DIR}/LLIntAssembly.h
 354     )
 355 endif ()
 356 
 357 # WebAssembly generator
 358 
 359 macro(GENERATE_PYTHON _generator _additional_deps _input _output)
 360     add_custom_command(
 361         OUTPUT ${_output}
 362         MAIN_DEPENDENCY ${_generator}
 363         DEPENDS ${_input} ${_additional_deps}
 364         COMMAND ${PYTHON_EXECUTABLE} ${_generator} ${_input} ${_output}
 365         VERBATIM)
 366     list(APPEND JavaScriptCore_HEADERS ${_output})
 367     WEBKIT_ADD_SOURCE_DEPENDENCIES(${_input} ${_output})
 368 endmacro()
 369 GENERATE_PYTHON(${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasmOpsHeader.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasm.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/wasm.json ${JavaScriptCore_DERIVED_SOURCES_DIR}/WasmOps.h)
 370 GENERATE_PYTHON(${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasmB3IRGeneratorInlinesHeader.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/generateWasm.py ${CMAKE_CURRENT_SOURCE_DIR}/wasm/wasm.json ${JavaScriptCore_DERIVED_SOURCES_DIR}/WasmB3IRGeneratorInlines.h)
 371 
 372 # LUT generator
 373 
 374 set(HASH_LUT_GENERATOR ${CMAKE_CURRENT_SOURCE_DIR}/create_hash_table)
 375 macro(GENERATE_HASH_LUT _input _output)
 376     add_custom_command(
 377         OUTPUT ${_output}
 378         MAIN_DEPENDENCY ${HASH_LUT_GENERATOR}
 379         DEPENDS ${_input}
 380         COMMAND ${PERL_EXECUTABLE} ${HASH_LUT_GENERATOR} ${_input} &gt; ${_output}
 381         VERBATIM)
 382     list(APPEND JavaScriptCore_HEADERS ${_output})
 383     WEBKIT_ADD_SOURCE_DEPENDENCIES(${_input} ${_output})
 384 endmacro()
 385 
 386 # GENERATOR 1-A: LUT creator
 387 
 388 foreach (_file ${JavaScriptCore_OBJECT_LUT_SOURCES})
 389     get_filename_component(_name ${_file} NAME_WE)
 390     GENERATE_HASH_LUT(${CMAKE_CURRENT_SOURCE_DIR}/${_file} ${JavaScriptCore_DERIVED_SOURCES_DIR}/${_name}.lut.h)
 391 endforeach ()
 392 
 393 set(JavaScriptCore_PUBLIC_FRAMEWORK_HEADERS
 394     API/JSBase.h
 395     API/JSContextRef.h
 396     API/JSObjectRef.h
 397     API/JSStringRef.h
 398     API/JSTypedArray.h
 399     API/JSValueRef.h
 400     API/JavaScript.h
 401     API/WebKitAvailability.h
 402 )
 403 
 404 set(JavaScriptCore_PRIVATE_FRAMEWORK_HEADERS
 405     ${JavaScriptCore_DERIVED_SOURCES_DIR}/Bytecodes.h
 406     ${JavaScriptCore_DERIVED_SOURCES_DIR}/JSCBuiltins.h
 407     ${JavaScriptCore_DERIVED_SOURCES_DIR}/WasmOps.h
 408 
 409     ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorBackendDispatchers.h
 410     ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorFrontendDispatchers.h
 411     ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorProtocolObjects.h
 412 
 413     API/APICallbackFunction.h
 414     API/APICast.h
 415     API/APIUtils.h
 416     API/JSAPIValueWrapper.h
 417     API/JSAPIWrapperObject.h
 418     API/JSBasePrivate.h
 419     API/JSCTestRunnerUtils.h
 420     API/JSCallbackConstructor.h
 421     API/JSCallbackFunction.h
 422     API/JSCallbackObject.h
 423     API/JSCallbackObjectFunctions.h
 424     API/JSClassRef.h
 425     API/JSContextInternal.h
 426     API/JSContextPrivate.h
 427     API/JSContextRefInspectorSupport.h
 428     API/JSContextRefInternal.h
 429     API/JSContextRefPrivate.h
 430     API/JSHeapFinalizerPrivate.h
 431     API/JSManagedValueInternal.h
 432     API/JSMarkingConstraintPrivate.h
 433     API/JSObjectRefPrivate.h
 434     API/JSRemoteInspector.h
 435     API/JSRetainPtr.h
 436     API/JSScriptRefPrivate.h
 437     API/JSStringRefPrivate.h
 438     API/JSValueInternal.h
 439     API/JSValuePrivate.h
 440     API/JSVirtualMachineInternal.h
 441     API/JSWeakObjectMapRefInternal.h
 442     API/JSWeakObjectMapRefPrivate.h
 443     API/JSWeakPrivate.h
 444     API/JSWrapperMap.h
 445     API/ObjCCallbackFunction.h
 446     API/ObjcRuntimeExtras.h
 447     API/OpaqueJSString.h
 448 
 449     assembler/ARM64Assembler.h
 450     assembler/ARM64Registers.h
 451     assembler/ARMv7Assembler.h
 452     assembler/ARMv7Registers.h
 453     assembler/AbortReason.h
 454     assembler/AbstractMacroAssembler.h
 455     assembler/AssemblerBuffer.h
 456     assembler/AssemblerBufferWithConstantPool.h
 457     assembler/AssemblerCommon.h
 458     assembler/CPU.h
 459     assembler/CodeLocation.h
 460     assembler/LinkBuffer.h
 461     assembler/MIPSAssembler.h
 462     assembler/MIPSRegisters.h
 463     assembler/MacroAssembler.h
 464     assembler/MacroAssemblerARM64.h
 465     assembler/MacroAssemblerARMv7.h
 466     assembler/MacroAssemblerCodeRef.h
 467     assembler/MacroAssemblerHelpers.h
 468     assembler/MacroAssemblerMIPS.h
 469     assembler/MacroAssemblerX86.h
 470     assembler/MacroAssemblerX86Common.h
 471     assembler/MacroAssemblerX86_64.h
 472     assembler/Printer.h
 473     assembler/RegisterInfo.h
 474     assembler/X86Assembler.h
 475     assembler/X86Registers.h
 476     assembler/X86_64Registers.h
 477 
 478     b3/B3Common.h
 479     b3/B3Compilation.h
 480     b3/B3Type.h
 481 
 482     bindings/ScriptFunctionCall.h
 483     bindings/ScriptObject.h
 484     bindings/ScriptValue.h
 485 
 486     builtins/BuiltinNames.h
 487     builtins/BuiltinUtils.h
 488 
 489     bytecode/ArrayAllocationProfile.h
 490     bytecode/ArrayProfile.h
 491     bytecode/ByValInfo.h
 492     bytecode/BytecodeConventions.h
 493     bytecode/BytecodeIndex.h
 494     bytecode/BytecodeIntrinsicRegistry.h
 495     bytecode/CallEdge.h
 496     bytecode/CallLinkInfo.h
 497     bytecode/CallMode.h
 498     bytecode/CallVariant.h
 499     bytecode/CodeBlock.h
 500     bytecode/CodeBlockHash.h
 501     bytecode/CodeOrigin.h
 502     bytecode/CodeType.h
 503     bytecode/DFGExitProfile.h
 504     bytecode/DataFormat.h
 505     bytecode/DirectEvalCodeCache.h
 506     bytecode/ExecutableInfo.h
 507     bytecode/ExecutableToCodeBlockEdge.h
 508     bytecode/ExecutionCounter.h
 509     bytecode/ExitKind.h
 510     bytecode/ExitingInlineKind.h
 511     bytecode/ExitingJITType.h
 512     bytecode/ExpressionRangeInfo.h
 513     bytecode/HandlerInfo.h
 514     bytecode/ICStatusMap.h
 515     bytecode/InlineCallFrame.h
 516     bytecode/Instruction.h
 517     bytecode/InstructionStream.h
 518     bytecode/InternalFunctionAllocationProfile.h
 519     bytecode/JumpTable.h
 520     bytecode/LLIntCallLinkInfo.h
 521     bytecode/LLIntPrototypeLoadAdaptiveStructureWatchpoint.h
 522     bytecode/LazyOperandValueProfile.h
 523     bytecode/LinkTimeConstant.h
 524     bytecode/MetadataTable.h
 525     bytecode/ObjectAllocationProfile.h
 526     bytecode/ObjectPropertyCondition.h
 527     bytecode/Opcode.h
 528     bytecode/OpcodeSize.h
 529     bytecode/Operands.h
 530     bytecode/PropertyCondition.h
 531     bytecode/PutByIdFlags.h
 532     bytecode/SpeculatedType.h
 533     bytecode/StructureSet.h
 534     bytecode/SuperSampler.h
 535     bytecode/ToThisStatus.h
 536     bytecode/TypeLocation.h
 537     bytecode/UnlinkedCodeBlock.h
 538     bytecode/UnlinkedEvalCodeBlock.h
 539     bytecode/UnlinkedFunctionExecutable.h
 540     bytecode/UnlinkedGlobalCodeBlock.h
 541     bytecode/UnlinkedMetadataTable.h
 542     bytecode/ValueProfile.h
 543     bytecode/ValueRecovery.h
 544     bytecode/VariableWriteFireDetail.h
 545     bytecode/VirtualRegister.h
 546     bytecode/Watchpoint.h
 547 
 548     debugger/Breakpoint.h
 549     debugger/Debugger.h
 550     debugger/DebuggerCallFrame.h
 551     debugger/DebuggerParseData.h
 552     debugger/DebuggerPrimitives.h
 553 
 554     dfg/DFGCommon.h
 555     dfg/DFGCompilationMode.h
 556     dfg/DFGMinifiedID.h
 557 
 558     domjit/DOMJITAbstractHeap.h
 559     domjit/DOMJITCallDOMGetterSnippet.h
 560     domjit/DOMJITEffect.h
 561     domjit/DOMJITGetterSetter.h
 562     domjit/DOMJITHeapRange.h
 563     domjit/DOMJITSignature.h
 564 
 565     heap/AlignedMemoryAllocator.h
 566     heap/AllocationFailureMode.h
 567     heap/Allocator.h
 568     heap/AllocatorInlines.h
 569     heap/AllocatorForMode.h
 570     heap/BlockDirectory.h
 571     heap/BlockDirectoryBits.h
 572     heap/BlockDirectoryInlines.h
 573     heap/CellAttributes.h
 574     heap/CellContainer.h
 575     heap/CellContainerInlines.h
 576     heap/CellState.h
 577     heap/CollectionScope.h
 578     heap/CollectorPhase.h
 579     heap/CompleteSubspace.h
 580     heap/CompleteSubspaceInlines.h
 581     heap/ConstraintConcurrency.h
 582     heap/ConstraintParallelism.h
 583     heap/ConstraintVolatility.h
 584     heap/DeferGC.h
 585     heap/DeleteAllCodeEffort.h
 586     heap/DestructionMode.h
 587     heap/FastMallocAlignedMemoryAllocator.h
 588     heap/FreeList.h
 589     heap/FreeListInlines.h
 590     heap/GCActivityCallback.h
 591     heap/GCAssertions.h
 592     heap/GCConductor.h
 593     heap/GCDeferralContext.h
 594     heap/GCIncomingRefCounted.h
 595     heap/GCIncomingRefCountedInlines.h
 596     heap/GCIncomingRefCountedSet.h
 597     heap/GCLogging.h
 598     heap/GCMemoryOperations.h
 599     heap/GCRequest.h
 600     heap/GCSegmentedArray.h
 601     heap/Handle.h
 602     heap/HandleBlock.h
 603     heap/HandleSet.h
 604     heap/HandleTypes.h
 605     heap/Heap.h
 606     heap/HeapAnalyzer.h
 607     heap/HeapCell.h
 608     heap/HeapCellInlines.h
 609     heap/HeapCellType.h
 610     heap/HeapFinalizerCallback.h
 611     heap/HeapInlines.h
 612     heap/HeapObserver.h
 613     heap/HeapSnapshotBuilder.h
 614     heap/IncrementalSweeper.h
 615     heap/IsoCellSet.h
 616     heap/IsoHeapCellType.h
 617     heap/IsoSubspace.h
 618     heap/IsoSubspaceInlines.h
 619     heap/IsoSubspacePerVM.h
 620     heap/LocalAllocator.h
 621     heap/LocalAllocatorInlines.h
 622     heap/LockDuringMarking.h
 623     heap/MachineStackMarker.h
 624     heap/MarkStack.h
 625     heap/MarkedBlock.h
 626     heap/MarkedBlockInlines.h
 627     heap/MarkedBlockSet.h
 628     heap/MarkedSpace.h
 629     heap/MarkingConstraint.h
 630     heap/MutatorState.h
 631     heap/PackedCellPtr.h
 632     heap/PreciseAllocation.h
 633     heap/RegisterState.h
 634     heap/RunningScope.h
 635     heap/SimpleMarkingConstraint.h
 636     heap/SlotVisitor.h
 637     heap/SlotVisitorInlines.h
 638     heap/Strong.h
 639     heap/StrongInlines.h
 640     heap/Subspace.h
 641     heap/SubspaceInlines.h
 642     heap/Synchronousness.h
 643     heap/TinyBloomFilter.h
 644     heap/VisitRaceKey.h
 645     heap/Weak.h
 646     heap/WeakBlock.h
 647     heap/WeakHandleOwner.h
 648     heap/WeakImpl.h
 649     heap/WeakInlines.h
 650     heap/WeakSet.h
 651     heap/WeakSetInlines.h
 652 
 653     inspector/ConsoleMessage.h
 654     inspector/ContentSearchUtilities.h
 655     inspector/IdentifiersFactory.h
 656     inspector/InjectedScript.h
 657     inspector/InjectedScriptBase.h
 658     inspector/InjectedScriptHost.h
 659     inspector/InjectedScriptManager.h
 660     inspector/InjectedScriptModule.h
 661     inspector/InspectorAgentBase.h
 662     inspector/InspectorAgentRegistry.h
 663     inspector/InspectorBackendDispatcher.h
 664     inspector/InspectorEnvironment.h
 665     inspector/InspectorFrontendChannel.h
 666     inspector/InspectorFrontendRouter.h
 667     inspector/InspectorProtocolTypes.h
 668     inspector/InspectorTarget.h
 669     inspector/PerGlobalObjectWrapperWorld.h
 670     inspector/ScriptArguments.h
 671     inspector/ScriptBreakpoint.h
 672     inspector/ScriptCallFrame.h
 673     inspector/ScriptCallStack.h
 674     inspector/ScriptCallStackFactory.h
 675     inspector/ScriptDebugListener.h
 676     inspector/ScriptDebugServer.h
 677 
 678     inspector/agents/InspectorAgent.h
 679     inspector/agents/InspectorAuditAgent.h
 680     inspector/agents/InspectorConsoleAgent.h
 681     inspector/agents/InspectorDebuggerAgent.h
 682     inspector/agents/InspectorHeapAgent.h
 683     inspector/agents/InspectorRuntimeAgent.h
 684     inspector/agents/InspectorScriptProfilerAgent.h
 685     inspector/agents/InspectorTargetAgent.h
 686 
 687     inspector/augmentable/AugmentableInspectorControllerClient.h
 688 
 689     inspector/remote/RemoteAutomationTarget.h
 690     inspector/remote/RemoteControllableTarget.h
 691     inspector/remote/RemoteInspectionTarget.h
 692     inspector/remote/RemoteInspector.h
 693 
 694     interpreter/AbstractPC.h
 695     interpreter/CallFrame.h
 696     interpreter/CallFrameInlines.h
 697     interpreter/CalleeBits.h
 698     interpreter/EntryFrame.h
 699     interpreter/FrameTracers.h
 700     interpreter/Register.h
 701     interpreter/RegisterInlines.h
 702     interpreter/ShadowChicken.h
 703     interpreter/StackVisitor.h
 704     interpreter/VMEntryRecord.h
 705 
 706     jit/AssemblyHelpers.h
 707     jit/CCallHelpers.h
 708     jit/ExecutableAllocator.h
 709     jit/FPRInfo.h
 710     jit/GCAwareJITStubRoutine.h
 711     jit/GPRInfo.h
 712     jit/JITAllocator.h
 713     jit/JITCode.h
 714     jit/JITCodeMap.h
 715     jit/JITCompilationEffort.h
 716     jit/JITMathICForwards.h
 717     jit/JITOperations.h
 718     jit/JITStubRoutine.h
 719     jit/JITThunks.h
 720     jit/PolymorphicCallStubRoutine.h
 721     jit/Reg.h
 722     jit/RegisterAtOffset.h
 723     jit/RegisterAtOffsetList.h
 724     jit/RegisterSet.h
 725     jit/Snippet.h
 726     jit/SnippetParams.h
 727     jit/SnippetReg.h
 728     jit/SnippetSlowPathCalls.h
 729     jit/SpillRegistersMode.h
 730     jit/TagRegistersMode.h
 731     jit/TempRegisterSet.h
 732     jit/ThunkGenerator.h
 733     jit/UnusedPointer.h
 734 
 735     llint/LLIntOpcode.h
 736 
 737     parser/Lexer.h
 738     parser/ParserArena.h
 739     parser/ParserError.h
 740     parser/ParserModes.h
 741     parser/ParserTokens.h
 742     parser/SourceCode.h
 743     parser/SourceProvider.h
 744     parser/SourceProviderCache.h
 745     parser/SourceProviderCacheItem.h
 746     parser/UnlinkedSourceCode.h
 747     parser/VariableEnvironment.h
 748 
 749     profiler/ProfilerBytecode.h
 750     profiler/ProfilerBytecodeSequence.h
 751     profiler/ProfilerBytecodes.h
 752     profiler/ProfilerCompilation.h
 753     profiler/ProfilerCompilationKind.h
 754     profiler/ProfilerCompiledBytecode.h
 755     profiler/ProfilerDatabase.h
 756     profiler/ProfilerEvent.h
 757     profiler/ProfilerExecutionCounter.h
 758     profiler/ProfilerJettisonReason.h
 759     profiler/ProfilerOSRExit.h
 760     profiler/ProfilerOSRExitSite.h
 761     profiler/ProfilerOrigin.h
 762     profiler/ProfilerOriginStack.h
 763     profiler/ProfilerProfiledBytecodes.h
 764     profiler/ProfilerUID.h
 765 
 766     runtime/AbstractModuleRecord.h
 767     runtime/ArgList.h
 768     runtime/ArityCheckMode.h
 769     runtime/ArrayConstructor.h
 770     runtime/ArrayBuffer.h
 771     runtime/ArrayBufferSharingMode.h
 772     runtime/ArrayBufferView.h
 773     runtime/ArrayConventions.h
 774     runtime/ArrayPrototype.h
 775     runtime/ArrayStorage.h
 776     runtime/ArrayStorageInlines.h
 777     runtime/AuxiliaryBarrier.h
 778     runtime/AuxiliaryBarrierInlines.h
 779     runtime/BasicBlockLocation.h
 780     runtime/BatchedTransitionOptimizer.h
 781     runtime/BigIntPrototype.h
 782     runtime/BooleanObject.h
 783     runtime/BooleanPrototype.h
 784     runtime/Butterfly.h
 785     runtime/ButterflyInlines.h
 786     runtime/BytecodeCacheError.h
 787     runtime/CachePayload.h
 788     runtime/CacheUpdate.h
 789     runtime/CacheableIdentifier.h
 790     runtime/CacheableIdentifierInlines.h
 791     runtime/CachedBytecode.h
 792     runtime/CachedTypes.h
 793     runtime/CagedBarrierPtr.h
 794     runtime/CallData.h
 795     runtime/CatchScope.h
 796     runtime/CellSize.h
 797     runtime/ClassInfo.h
 798     runtime/CodeSpecializationKind.h
 799     runtime/CommonIdentifiers.h
 800     runtime/CompilationResult.h
 801     runtime/Completion.h
 802     runtime/ConcurrentJSLock.h
 803     runtime/ConfigFile.h
 804     runtime/ConsoleClient.h
 805     runtime/ConsoleTypes.h
 806     runtime/ConstantMode.h
 807     runtime/ConstructAbility.h
 808     runtime/ConstructData.h
 809     runtime/ConstructorKind.h
 810     runtime/ControlFlowProfiler.h
 811     runtime/CustomGetterSetter.h
 812     runtime/DOMAnnotation.h
 813     runtime/DOMAttributeGetterSetter.h
 814     runtime/DataView.h
 815     runtime/DateInstance.h
 816     runtime/DateInstanceCache.h
 817     runtime/DefinePropertyAttributes.h
 818     runtime/DirectArgumentsOffset.h
 819     runtime/DirectEvalExecutable.h
 820     runtime/DisallowScope.h
 821     runtime/DisallowVMReentry.h
 822     runtime/DumpContext.h
 823     runtime/EnumerationMode.h
 824     runtime/Error.h
 825     runtime/ErrorHandlingScope.h
 826     runtime/ErrorInstance.h
 827     runtime/ErrorPrototype.h
 828     runtime/ErrorType.h
 829     runtime/EvalExecutable.h
 830     runtime/Exception.h
 831     runtime/ExceptionEventLocation.h
 832     runtime/ExceptionHelpers.h
 833     runtime/ExceptionScope.h
 834     runtime/ExecutableBase.h
 835     runtime/ExecutableBaseInlines.h
 836     runtime/Float32Array.h
 837     runtime/Float64Array.h
 838     runtime/FunctionConstructor.h
 839     runtime/FunctionExecutable.h
 840     runtime/FunctionHasExecutedCache.h
 841     runtime/FunctionPrototype.h
 842     runtime/FunctionRareData.h
 843     runtime/FuzzerAgent.h
 844     runtime/GenericOffset.h
 845     runtime/GenericTypedArrayView.h
 846     runtime/GenericTypedArrayViewInlines.h
 847     runtime/GetPutInfo.h
 848     runtime/GetVM.h
 849     runtime/GlobalExecutable.h
 850     runtime/HashMapImpl.h
 851     runtime/Identifier.h
 852     runtime/IdentifierInlines.h
 853     runtime/IndexingHeader.h
 854     runtime/IndexingHeaderInlines.h
 855     runtime/IndexingType.h
 856     runtime/InferredValue.h
 857     runtime/InitializeThreading.h
 858     runtime/Int16Array.h
 859     runtime/Int32Array.h
 860     runtime/Int8Array.h
 861     runtime/InternalFunction.h
 862     runtime/Intrinsic.h
 863     runtime/IterationKind.h
 864     runtime/IterationStatus.h
 865     runtime/IteratorOperations.h
 866     runtime/IteratorPrototype.h
 867     runtime/JSArray.h
 868     runtime/JSArrayBuffer.h
 869     runtime/JSArrayBufferPrototype.h
 870     runtime/JSArrayBufferView.h
 871     runtime/JSArrayBufferViewInlines.h
 872     runtime/JSBigInt.h
 873     runtime/JSCConfig.h
 874     runtime/JSCInlines.h
 875     runtime/JSCJSValue.h
 876     runtime/JSCJSValueInlines.h
 877     runtime/JSCPtrTag.h
 878     runtime/JSCallee.h
 879     runtime/JSCast.h
 880     runtime/JSCell.h
 881     runtime/JSCellInlines.h
 882     runtime/JSDataView.h
 883     runtime/JSDestructibleObject.h
 884     runtime/JSDestructibleObjectHeapCellType.h
 885     runtime/JSExportMacros.h
 886     runtime/JSFunction.h
 887     runtime/JSFunctionInlines.h
 888     runtime/JSGenericTypedArrayView.h
 889     runtime/JSGenericTypedArrayViewInlines.h
 890     runtime/JSGenericTypedArrayViewPrototype.h
 891     runtime/JSGenericTypedArrayViewPrototypeInlines.h
 892     runtime/JSGlobalLexicalEnvironment.h
 893     runtime/JSGlobalObject.h
 894     runtime/JSGlobalObjectFunctions.h
 895     runtime/JSGlobalObjectInlines.h
 896     runtime/JSImmutableButterfly.h
 897     runtime/JSInternalFieldObjectImpl.h
 898     runtime/JSInternalPromise.h
 899     runtime/JSMicrotask.h
 900     runtime/JSLock.h
 901     runtime/JSMap.h
 902     runtime/JSMapIterator.h
 903     runtime/JSModuleLoader.h
 904     runtime/JSModuleRecord.h
 905     runtime/JSNativeStdFunction.h
 906     runtime/JSONObject.h
 907     runtime/JSObject.h
 908     runtime/JSObjectInlines.h
 909     runtime/JSPromise.h
 910     runtime/JSPromiseConstructor.h
 911     runtime/JSPropertyNameEnumerator.h
 912     runtime/JSProxy.h
 913     runtime/JSRunLoopTimer.h
 914     runtime/JSScope.h
 915     runtime/JSScriptFetchParameters.h
 916     runtime/JSScriptFetcher.h
 917     runtime/JSSegmentedVariableObject.h
 918     runtime/JSSet.h
 919     runtime/JSSetIterator.h
 920     runtime/JSSourceCode.h
 921     runtime/JSString.h
 922     runtime/JSStringInlines.h
 923     runtime/JSSymbolTableObject.h
 924     runtime/JSType.h
 925     runtime/JSTypeInfo.h
 926     runtime/JSTypedArrays.h
 927     runtime/JSWithScope.h
 928     runtime/JSWrapperObject.h
 929     runtime/LazyClassStructure.h
 930     runtime/LazyProperty.h
 931     runtime/LeafExecutable.h
 932     runtime/Lookup.h
 933     runtime/MatchResult.h
 934     runtime/MathCommon.h
 935     runtime/MemoryStatistics.h
 936     runtime/Microtask.h
 937     runtime/ModuleProgramExecutable.h
 938     runtime/NativeExecutable.h
 939     runtime/NativeFunction.h
 940     runtime/NumberObject.h
 941     runtime/NumberPrototype.h
 942     runtime/NumericStrings.h
 943     runtime/ObjectConstructor.h
 944     runtime/ObjectInitializationScope.h
 945     runtime/ObjectPrototype.h
 946     runtime/Operations.h
 947     runtime/Options.h
 948     runtime/OptionsList.h
 949     runtime/ParseInt.h
 950     runtime/PrivateName.h
 951     runtime/ProgramExecutable.h
 952     runtime/PromiseTimer.h
 953     runtime/PropertyDescriptor.h
 954     runtime/PropertyMapHashTable.h
 955     runtime/PropertyName.h
 956     runtime/PropertyNameArray.h
 957     runtime/PropertyOffset.h
 958     runtime/PropertySlot.h
 959     runtime/PropertyStorage.h
 960     runtime/Protect.h
 961     runtime/PrototypeKey.h
 962     runtime/ProxyObject.h
 963     runtime/PureNaN.h
 964     runtime/PutDirectIndexMode.h
 965     runtime/PutPropertySlot.h
 966     runtime/RegExp.h
 967     runtime/RegExpCachedResult.h
 968     runtime/RegExpGlobalData.h
 969     runtime/RegExpKey.h
 970     runtime/RegExpObject.h
 971     runtime/RegExpStringIteratorPrototype.h
 972     runtime/RuntimeFlags.h
 973     runtime/RuntimeType.h
 974     runtime/SamplingProfiler.h
 975     runtime/ScopeOffset.h
 976     runtime/ScopedArgumentsTable.h
 977     runtime/ScriptExecutable.h
 978     runtime/ScriptFetchParameters.h
 979     runtime/ScriptFetcher.h
 980     runtime/SlowPathReturnType.h
 981     runtime/SmallStrings.h
 982     runtime/SourceOrigin.h
 983     runtime/SparseArrayValueMap.h
 984     runtime/StackAlignment.h
 985     runtime/StackFrame.h
 986     runtime/StringObject.h
 987     runtime/StringPrototype.h
 988     runtime/Structure.h
 989     runtime/StructureCache.h
 990     runtime/StructureChain.h
 991     runtime/StructureIDBlob.h
 992     runtime/StructureIDTable.h
 993     runtime/StructureInlines.h
 994     runtime/StructureRareData.h
 995     runtime/StructureRareDataInlines.h
 996     runtime/StructureTransitionTable.h
 997     runtime/SubspaceAccess.h
 998     runtime/Symbol.h
 999     runtime/SymbolPrototype.h
1000     runtime/SymbolTable.h
1001     runtime/SymbolTableOrScopeDepth.h
1002     runtime/TemplateObjectDescriptor.h
1003     runtime/TestRunnerUtils.h
1004     runtime/ThrowScope.h
1005     runtime/ToNativeFromValue.h
1006     runtime/TypeError.h
1007     runtime/TypeSet.h
1008     runtime/TypedArrayAdaptors.h
1009     runtime/TypedArrayController.h
1010     runtime/TypedArrayInlines.h
1011     runtime/TypedArrayType.h
1012     runtime/TypedArrays.h
1013     runtime/TypeofType.h
1014     runtime/Uint16Array.h
1015     runtime/Uint32Array.h
1016     runtime/Uint8Array.h
1017     runtime/Uint8ClampedArray.h
1018     runtime/VM.h
1019     runtime/VMEntryScope.h
1020     runtime/VMInlines.h
1021     runtime/VMTraps.h
1022     runtime/VarOffset.h
1023     runtime/Watchdog.h
1024     runtime/WeakGCMap.h
1025     runtime/WeakGCMapInlines.h
1026     runtime/WriteBarrier.h
1027     runtime/WriteBarrierInlines.h
1028 
1029     tools/Integrity.h
1030     tools/IntegrityInlines.h
1031     tools/VMInspector.h
1032     tools/VMInspectorInlines.h
1033 
1034     wasm/WasmCallee.h
1035     wasm/WasmCapabilities.h
1036     wasm/WasmCodeBlock.h
1037     wasm/WasmCompilationMode.h
1038     wasm/WasmContext.h
1039     wasm/WasmEmbedder.h
1040     wasm/WasmExceptionType.h
1041     wasm/WasmFaultSignalHandler.h
1042     wasm/WasmFormat.h
1043     wasm/WasmFunctionCodeBlock.h
1044     wasm/WasmIndexOrName.h
1045     wasm/WasmLLIntTierUpCounter.h
1046     wasm/WasmMemory.h
1047     wasm/WasmMemoryInformation.h
1048     wasm/WasmMemoryMode.h
1049     wasm/WasmModule.h
1050     wasm/WasmName.h
1051     wasm/WasmNameSection.h
1052     wasm/WasmPageCount.h
1053     wasm/WasmSignature.h
1054     wasm/WasmTierUpCount.h
1055 
1056     wasm/js/JSWebAssembly.h
1057     wasm/js/JSWebAssemblyModule.h
1058 
1059 
1060     yarr/RegularExpression.h
1061     yarr/Yarr.h
1062     yarr/YarrErrorCode.h
1063     yarr/YarrFlags.h
1064     yarr/YarrInterpreter.h
1065     yarr/YarrJIT.h
1066     yarr/YarrParser.h
1067     yarr/YarrPattern.h
1068     yarr/YarrUnicodeProperties.h
1069 )
1070 
1071 # GENERATOR 1-B: particular LUT creator (for 1 file only)
1072 GENERATE_HASH_LUT(${CMAKE_CURRENT_SOURCE_DIR}/parser/Keywords.table ${JavaScriptCore_DERIVED_SOURCES_DIR}/Lexer.lut.h)
1073 
1074 file(MAKE_DIRECTORY ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr)
1075 
1076 #GENERATOR: &quot;RegExpJitTables.h&quot;: tables used by Yarr
1077 add_custom_command(
1078     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/RegExpJitTables.h
1079     MAIN_DEPENDENCY ${CMAKE_CURRENT_SOURCE_DIR}/yarr/create_regex_tables
1080     COMMAND ${PYTHON_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/yarr/create_regex_tables ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/RegExpJitTables.h
1081     VERBATIM)
1082 list(APPEND JavaScriptCore_HEADERS ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/RegExpJitTables.h)
1083 WEBKIT_ADD_SOURCE_DEPENDENCIES(${CMAKE_CURRENT_SOURCE_DIR}/yarr/YarrPattern.cpp ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/RegExpJitTables.h)
1084 
1085 add_custom_command(
1086     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/UnicodePatternTables.h
1087     MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/yarr/generateYarrUnicodePropertyTables.py
1088     DEPENDS ${JAVASCRIPTCORE_DIR}/yarr/hasher.py ${JAVASCRIPTCORE_DIR}/ucd/DerivedBinaryProperties.txt ${JAVASCRIPTCORE_DIR}/ucd/DerivedCoreProperties.txt ${JAVASCRIPTCORE_DIR}/ucd/DerivedNormalizationProps.txt ${JAVASCRIPTCORE_DIR}/ucd/PropList.txt ${JAVASCRIPTCORE_DIR}/ucd/PropertyAliases.txt ${JAVASCRIPTCORE_DIR}/ucd/PropertyValueAliases.txt ${JAVASCRIPTCORE_DIR}/ucd/ScriptExtensions.txt ${JAVASCRIPTCORE_DIR}/ucd/Scripts.txt ${JAVASCRIPTCORE_DIR}/ucd/UnicodeData.txt ${JAVASCRIPTCORE_DIR}/ucd/emoji-data.txt
1089     COMMAND ${PYTHON_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/yarr/generateYarrUnicodePropertyTables.py ${JAVASCRIPTCORE_DIR}/ucd ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/UnicodePatternTables.h
1090     VERBATIM)
1091 list(APPEND JavaScriptCore_HEADERS ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/UnicodePatternTables.h)
1092 WEBKIT_ADD_SOURCE_DEPENDENCIES(${CMAKE_CURRENT_SOURCE_DIR}/yarr/UnicodePatternTables.cpp ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/UnicodePatternTables.h)
1093 
1094 add_custom_command(
1095     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/YarrCanonicalizeUnicode.cpp
1096     MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/yarr/generateYarrCanonicalizeUnicode
1097     DEPENDS ${JAVASCRIPTCORE_DIR}/ucd/CaseFolding.txt
1098     COMMAND ${PYTHON_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/yarr/generateYarrCanonicalizeUnicode ${JAVASCRIPTCORE_DIR}/ucd/CaseFolding.txt ${JavaScriptCore_DERIVED_SOURCES_DIR}/yarr/YarrCanonicalizeUnicode.cpp
1099     VERBATIM)
1100 
1101 #GENERATOR: &quot;IntlCanonicalizeLanguage.h&quot;: tables used by Intl
1102 add_custom_command(
1103     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/IntlCanonicalizeLanguage.h
1104     MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/Scripts/generateIntlCanonicalizeLanguage.py
1105     DEPENDS ${JAVASCRIPTCORE_DIR}/ucd/language-subtag-registry.txt
1106     COMMAND ${PYTHON_EXECUTABLE} ${JAVASCRIPTCORE_DIR}/Scripts/generateIntlCanonicalizeLanguage.py ${JAVASCRIPTCORE_DIR}/ucd/language-subtag-registry.txt ${JavaScriptCore_DERIVED_SOURCES_DIR}/IntlCanonicalizeLanguage.h
1107     VERBATIM)
1108 list(APPEND JavaScriptCore_HEADERS ${JavaScriptCore_DERIVED_SOURCES_DIR}/IntlCanonicalizeLanguage.h)
1109 WEBKIT_ADD_SOURCE_DEPENDENCIES(${CMAKE_CURRENT_SOURCE_DIR}/runtime/IntlObject.cpp ${JavaScriptCore_DERIVED_SOURCES_DIR}/IntlCanonicalizeLanguage.h)
1110 
1111 #GENERATOR: &quot;KeywordLookup.h&quot;: keyword decision tree used by the lexer
1112 add_custom_command(
1113     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/KeywordLookup.h
1114     MAIN_DEPENDENCY ${CMAKE_CURRENT_SOURCE_DIR}/KeywordLookupGenerator.py
1115     DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/parser/Keywords.table
1116     COMMAND ${PYTHON_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/KeywordLookupGenerator.py ${CMAKE_CURRENT_SOURCE_DIR}/parser/Keywords.table &gt; ${JavaScriptCore_DERIVED_SOURCES_DIR}/KeywordLookup.h
1117     VERBATIM)
1118 list(APPEND JavaScriptCore_HEADERS ${JavaScriptCore_DERIVED_SOURCES_DIR}/KeywordLookup.h)
1119 WEBKIT_ADD_SOURCE_DEPENDENCIES(${CMAKE_CURRENT_SOURCE_DIR}/parser/Lexer.cpp ${JavaScriptCore_DERIVED_SOURCES_DIR}/KeywordLookup.h)
1120 
1121 
1122 # Inspector Interfaces
1123 
1124 set(JavaScriptCore_INSPECTOR_SCRIPTS_DIR &quot;${JAVASCRIPTCORE_DIR}/inspector/scripts&quot;)
1125 
1126 set(JavaScriptCore_INSPECTOR_PROTOCOL_SCRIPTS
1127     ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/generate-inspector-protocol-bindings.py
1128     ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/codegen/cpp_generator.py
1129     ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/codegen/cpp_generator_templates.py
1130     ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/codegen/generate_js_backend_commands.py
1131     ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/codegen/generate_cpp_backend_dispatcher_header.py
1132     ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/codegen/generate_cpp_backend_dispatcher_implementation.py
1133     ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/codegen/generate_cpp_frontend_dispatcher_header.py
1134     ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/codegen/generate_cpp_frontend_dispatcher_implementation.py
1135     ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/codegen/generate_cpp_protocol_types_header.py
1136     ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/codegen/generate_cpp_protocol_types_implementation.py
1137     ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/codegen/generator.py
1138     ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/codegen/generator_templates.py
1139     ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/codegen/__init__.py
1140     ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/codegen/models.py
1141 )
1142 
1143 set(JavaScriptCore_INSPECTOR_DOMAINS
1144     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Animation.json
1145     ${JAVASCRIPTCORE_DIR}/inspector/protocol/ApplicationCache.json
1146     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Audit.json
1147     ${JAVASCRIPTCORE_DIR}/inspector/protocol/CSS.json
1148     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Canvas.json
1149     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Console.json
1150     ${JAVASCRIPTCORE_DIR}/inspector/protocol/DOM.json
1151     ${JAVASCRIPTCORE_DIR}/inspector/protocol/DOMDebugger.json
1152     ${JAVASCRIPTCORE_DIR}/inspector/protocol/DOMStorage.json
1153     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Database.json
1154     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Debugger.json
1155     ${JAVASCRIPTCORE_DIR}/inspector/protocol/GenericTypes.json
1156     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Heap.json
1157     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Inspector.json
1158     ${JAVASCRIPTCORE_DIR}/inspector/protocol/LayerTree.json
1159     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Network.json
1160     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Page.json
1161     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Recording.json
1162     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Runtime.json
1163     ${JAVASCRIPTCORE_DIR}/inspector/protocol/ScriptProfiler.json
1164     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Security.json
1165     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Target.json
1166     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Timeline.json
1167     ${JAVASCRIPTCORE_DIR}/inspector/protocol/Worker.json
1168 )
1169 
1170 if (ENABLE_INDEXED_DATABASE)
1171     list(APPEND JavaScriptCore_INSPECTOR_DOMAINS
1172         ${JAVASCRIPTCORE_DIR}/inspector/protocol/IndexedDB.json
1173     )
1174 endif ()
1175 
1176 if (ENABLE_RESOURCE_USAGE)
1177     list(APPEND JavaScriptCore_INSPECTOR_DOMAINS
1178         ${JAVASCRIPTCORE_DIR}/inspector/protocol/CPUProfiler.json
1179         ${JAVASCRIPTCORE_DIR}/inspector/protocol/Memory.json
1180     )
1181 endif ()
1182 
1183 if (ENABLE_SERVICE_WORKER)
1184     list(APPEND JavaScriptCore_INSPECTOR_DOMAINS
1185         ${JAVASCRIPTCORE_DIR}/inspector/protocol/ServiceWorker.json
1186     )
1187 endif ()
1188 
1189 add_custom_command(
1190     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/CombinedDomains.json
1191     MAIN_DEPENDENCY ${JavaScriptCore_SCRIPTS_DIR}/generate-combined-inspector-json.py
1192     DEPENDS ${JavaScriptCore_INSPECTOR_DOMAINS}
1193     COMMAND ${PYTHON_EXECUTABLE} ${JavaScriptCore_SCRIPTS_DIR}/generate-combined-inspector-json.py ${JavaScriptCore_INSPECTOR_DOMAINS} &gt; ${JavaScriptCore_DERIVED_SOURCES_DIR}/CombinedDomains.json
1194     VERBATIM)
1195 
1196 # Inspector Backend Dispatchers, Frontend Dispatchers, Type Builders
1197 file(MAKE_DIRECTORY ${DERIVED_SOURCES_WEBINSPECTORUI_DIR}/UserInterface/Protocol)
1198 file(MAKE_DIRECTORY ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector)
1199 add_custom_command(
1200     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorBackendDispatchers.cpp
1201            ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorBackendDispatchers.h
1202            ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorFrontendDispatchers.cpp
1203            ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorFrontendDispatchers.h
1204            ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorProtocolObjects.cpp
1205            ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorProtocolObjects.h
1206            ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorBackendCommands.js
1207     MAIN_DEPENDENCY ${JavaScriptCore_DERIVED_SOURCES_DIR}/CombinedDomains.json
1208     DEPENDS ${JavaScriptCore_INSPECTOR_PROTOCOL_SCRIPTS}
1209     COMMAND ${PYTHON_EXECUTABLE} ${JavaScriptCore_INSPECTOR_SCRIPTS_DIR}/generate-inspector-protocol-bindings.py --outputDir &quot;${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector&quot; --framework JavaScriptCore ${JavaScriptCore_DERIVED_SOURCES_DIR}/CombinedDomains.json
1210     VERBATIM)
1211 
1212 # JSCBuiltins
1213 
1214 set(BUILTINS_GENERATOR_SCRIPTS
1215     ${JavaScriptCore_SCRIPTS_DIR}/wkbuiltins.py
1216     ${JavaScriptCore_SCRIPTS_DIR}/builtins_generator.py
1217     ${JavaScriptCore_SCRIPTS_DIR}/builtins_model.py
1218     ${JavaScriptCore_SCRIPTS_DIR}/builtins_templates.py
1219     ${JavaScriptCore_SCRIPTS_DIR}/builtins_generate_combined_header.py
1220     ${JavaScriptCore_SCRIPTS_DIR}/builtins_generate_combined_implementation.py
1221     ${JavaScriptCore_SCRIPTS_DIR}/builtins_generate_separate_header.py
1222     ${JavaScriptCore_SCRIPTS_DIR}/builtins_generate_separate_implementation.py
1223     ${JavaScriptCore_SCRIPTS_DIR}/builtins_generate_wrapper_header.py
1224     ${JavaScriptCore_SCRIPTS_DIR}/builtins_generate_wrapper_implementation.py
1225     ${JavaScriptCore_SCRIPTS_DIR}/builtins_generate_internals_wrapper_header.py
1226     ${JavaScriptCore_SCRIPTS_DIR}/builtins_generate_internals_wrapper_implementation.py
1227     ${JavaScriptCore_SCRIPTS_DIR}/generate-js-builtins.py
1228     ${JavaScriptCore_SCRIPTS_DIR}/lazywriter.py
1229 )
1230 
1231 set(JavaScriptCore_BUILTINS_SOURCES
1232     ${JAVASCRIPTCORE_DIR}/builtins/AsyncFromSyncIteratorPrototype.js
1233     ${JAVASCRIPTCORE_DIR}/builtins/ArrayConstructor.js
1234     ${JAVASCRIPTCORE_DIR}/builtins/ArrayIteratorPrototype.js
1235     ${JAVASCRIPTCORE_DIR}/builtins/ArrayPrototype.js
1236     ${JAVASCRIPTCORE_DIR}/builtins/AsyncFunctionPrototype.js
1237     ${JAVASCRIPTCORE_DIR}/builtins/AsyncIteratorPrototype.js
1238     ${JAVASCRIPTCORE_DIR}/builtins/AsyncGeneratorPrototype.js
1239     ${JAVASCRIPTCORE_DIR}/builtins/DatePrototype.js
1240     ${JAVASCRIPTCORE_DIR}/builtins/FunctionPrototype.js
1241     ${JAVASCRIPTCORE_DIR}/builtins/GeneratorPrototype.js
1242     ${JAVASCRIPTCORE_DIR}/builtins/GlobalObject.js
1243     ${JAVASCRIPTCORE_DIR}/builtins/GlobalOperations.js
1244     ${JAVASCRIPTCORE_DIR}/builtins/InspectorInstrumentationObject.js
1245     ${JAVASCRIPTCORE_DIR}/builtins/InternalPromiseConstructor.js
1246     ${JAVASCRIPTCORE_DIR}/builtins/IteratorHelpers.js
1247     ${JAVASCRIPTCORE_DIR}/builtins/IteratorPrototype.js
1248     ${JAVASCRIPTCORE_DIR}/builtins/MapIteratorPrototype.js
1249     ${JAVASCRIPTCORE_DIR}/builtins/MapPrototype.js
1250     ${JAVASCRIPTCORE_DIR}/builtins/ModuleLoader.js
1251     ${JAVASCRIPTCORE_DIR}/builtins/NumberConstructor.js
1252     ${JAVASCRIPTCORE_DIR}/builtins/ObjectConstructor.js
1253     ${JAVASCRIPTCORE_DIR}/builtins/PromiseConstructor.js
1254     ${JAVASCRIPTCORE_DIR}/builtins/PromiseOperations.js
1255     ${JAVASCRIPTCORE_DIR}/builtins/PromisePrototype.js
1256     ${JAVASCRIPTCORE_DIR}/builtins/ReflectObject.js
1257     ${JAVASCRIPTCORE_DIR}/builtins/RegExpPrototype.js
1258     ${JAVASCRIPTCORE_DIR}/builtins/RegExpStringIteratorPrototype.js
1259     ${JAVASCRIPTCORE_DIR}/builtins/SetIteratorPrototype.js
1260     ${JAVASCRIPTCORE_DIR}/builtins/SetPrototype.js
1261     ${JAVASCRIPTCORE_DIR}/builtins/StringConstructor.js
1262     ${JAVASCRIPTCORE_DIR}/builtins/StringIteratorPrototype.js
1263     ${JAVASCRIPTCORE_DIR}/builtins/StringPrototype.js
1264     ${JAVASCRIPTCORE_DIR}/builtins/TypedArrayConstructor.js
1265     ${JAVASCRIPTCORE_DIR}/builtins/TypedArrayPrototype.js
1266     ${JAVASCRIPTCORE_DIR}/builtins/WebAssembly.js
1267 )
1268 
1269 add_custom_command(
1270     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/JSCBuiltins.cpp ${JavaScriptCore_DERIVED_SOURCES_DIR}/JSCBuiltins.h
1271     MAIN_DEPENDENCY ${JavaScriptCore_SCRIPTS_DIR}/generate-js-builtins.py
1272     DEPENDS ${JavaScriptCore_BUILTINS_SOURCES} ${BUILTINS_GENERATOR_SCRIPTS}
1273     COMMAND ${PYTHON_EXECUTABLE} ${JavaScriptCore_SCRIPTS_DIR}/generate-js-builtins.py --framework JavaScriptCore --output-directory ${JavaScriptCore_DERIVED_SOURCES_DIR} --combined ${JavaScriptCore_BUILTINS_SOURCES}
1274     VERBATIM)
1275 
1276 list(APPEND JavaScriptCore_HEADERS
1277     ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorBackendDispatchers.h
1278     ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorFrontendDispatchers.h
1279     ${JavaScriptCore_DERIVED_SOURCES_DIR}/inspector/InspectorProtocolObjects.h
1280     ${JavaScriptCore_DERIVED_SOURCES_DIR}/JSCBuiltins.h
1281 )
1282 
1283 add_custom_command(
1284     OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/InjectedScriptSource.h ${JavaScriptCore_DERIVED_SOURCES_DIR}/InjectedScriptSource.min.js
1285     MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/inspector/InjectedScriptSource.js
1286     DEPENDS ${JavaScriptCore_SCRIPTS_DIR}/xxd.pl ${JavaScriptCore_SCRIPTS_DIR}/jsmin.py
1287     COMMAND ${CMAKE_COMMAND} -E echo &quot;//# sourceURL=__InjectedScript_InjectedScriptSource.js&quot; &gt; ${JavaScriptCore_DERIVED_SOURCES_DIR}/InjectedScriptSource.min.js
1288     COMMAND ${PYTHON_EXECUTABLE} ${JavaScriptCore_SCRIPTS_DIR}/jsmin.py &lt; ${JAVASCRIPTCORE_DIR}/inspector/InjectedScriptSource.js &gt;&gt; ${JavaScriptCore_DERIVED_SOURCES_DIR}/InjectedScriptSource.min.js
1289     COMMAND ${PERL_EXECUTABLE} ${JavaScriptCore_SCRIPTS_DIR}/xxd.pl InjectedScriptSource_js ${JavaScriptCore_DERIVED_SOURCES_DIR}/InjectedScriptSource.min.js ${JavaScriptCore_DERIVED_SOURCES_DIR}/InjectedScriptSource.h
1290     VERBATIM)
1291 
1292 list(APPEND JavaScriptCore_HEADERS ${JavaScriptCore_DERIVED_SOURCES_DIR}/InjectedScriptSource.h)
1293 
1294 if (WTF_CPU_X86_64)
1295     if (MSVC AND NOT ENABLE_C_LOOP)
1296         add_custom_command(
1297             OUTPUT ${JavaScriptCore_DERIVED_SOURCES_DIR}/JITStubsMSVC64.obj
1298             MAIN_DEPENDENCY ${JAVASCRIPTCORE_DIR}/jit/JITStubsMSVC64.asm
1299             COMMAND ml64 -nologo -c -Fo ${JavaScriptCore_DERIVED_SOURCES_DIR}/JITStubsMSVC64.obj ${JAVASCRIPTCORE_DIR}/jit/JITStubsMSVC64.asm
1300             VERBATIM)
1301 
1302         list(APPEND JavaScriptCore_SOURCES ${JavaScriptCore_DERIVED_SOURCES_DIR}/JITStubsMSVC64.obj)
1303     endif ()
1304 endif ()
1305 
1306 set(JavaScriptCore_INTERFACE_LIBRARIES JavaScriptCore)
1307 set(JavaScriptCore_INTERFACE_INCLUDE_DIRECTORIES
1308     ${JavaScriptCore_FRAMEWORK_HEADERS_DIR}
1309     ${JavaScriptCore_PRIVATE_FRAMEWORK_HEADERS_DIR}
1310 )
1311 set(JavaScriptCore_INTERFACE_DEPENDENCIES
1312     JavaScriptCore_CopyHeaders
1313     JavaScriptCore_CopyPrivateHeaders
1314 )
1315 
1316 WEBKIT_FRAMEWORK_DECLARE(JavaScriptCore)
1317 WEBKIT_INCLUDE_CONFIG_FILES_IF_EXISTS()
1318 
1319 if (COMPILER_IS_GCC_OR_CLANG)
1320     # Avoid using fused multiply-add instructions since this could give different results
1321     # for e.g. parseInt depending on the platform and compilation flags.
1322     WEBKIT_ADD_TARGET_CXX_FLAGS(JavaScriptCore -ffp-contract=off)
1323 endif ()
1324 
1325 WEBKIT_COPY_FILES(JavaScriptCore_CopyHeaders
1326     DESTINATION ${JavaScriptCore_FRAMEWORK_HEADERS_DIR}/JavaScriptCore
1327     FILES ${JavaScriptCore_PUBLIC_FRAMEWORK_HEADERS}
1328     FLATTENED
1329 )
1330 
1331 WEBKIT_COPY_FILES(JavaScriptCore_CopyPrivateHeaders
1332     DESTINATION ${JavaScriptCore_PRIVATE_FRAMEWORK_HEADERS_DIR}/JavaScriptCore
1333     FILES ${JavaScriptCore_PRIVATE_FRAMEWORK_HEADERS}
1334     FLATTENED
1335 )
1336 # JavaScriptCore_CopyPrivateHeaders needs to have a direct or indirect
1337 # dependency of JavaScriptCore for CMake Visual Studio generator to
1338 # eliminate duplicated custom commands. Otherwise,
1339 # CombinedDomains.json will be generated in both projects.
1340 if (NOT INTERNAL_BUILD)
1341     add_dependencies(JavaScriptCore_CopyPrivateHeaders JavaScriptCore)
1342 endif ()
1343 
1344 target_include_directories(LLIntSettingsExtractor PRIVATE
1345     ${JavaScriptCore_INCLUDE_DIRECTORIES}
1346     ${JavaScriptCore_PRIVATE_INCLUDE_DIRECTORIES}
1347 )
1348 target_include_directories(LLIntSettingsExtractor SYSTEM PRIVATE ${JavaScriptCore_SYSTEM_INCLUDE_DIRECTORIES})
1349 
1350 target_include_directories(LLIntOffsetsExtractor PRIVATE
1351     ${JavaScriptCore_INCLUDE_DIRECTORIES}
1352     ${JavaScriptCore_PRIVATE_INCLUDE_DIRECTORIES}
1353 )
1354 target_include_directories(LLIntOffsetsExtractor SYSTEM PRIVATE ${JavaScriptCore_SYSTEM_INCLUDE_DIRECTORIES})
1355 
1356 if (NOT PORT STREQUAL &quot;Java&quot;)
1357     add_subdirectory(shell)
1358 endif ()
1359 
1360 WEBKIT_COMPUTE_SOURCES(JavaScriptCore)
1361 WEBKIT_WRAP_SOURCELIST(${JavaScriptCore_SOURCES})
1362 WEBKIT_FRAMEWORK(JavaScriptCore)
1363 WEBKIT_FRAMEWORK_TARGET(JavaScriptCore)
1364 
1365 if (NOT &quot;${PORT}&quot; STREQUAL &quot;Mac&quot;)
1366     if (${JavaScriptCore_LIBRARY_TYPE} STREQUAL &quot;SHARED&quot;)
1367         WEBKIT_POPULATE_LIBRARY_VERSION(JAVASCRIPTCORE)
1368         set_target_properties(JavaScriptCore PROPERTIES VERSION ${JAVASCRIPTCORE_VERSION} SOVERSION ${JAVASCRIPTCORE_VERSION_MAJOR})
1369         install(TARGETS JavaScriptCore DESTINATION &quot;${LIB_INSTALL_DIR}&quot;)
1370     endif ()
1371 endif ()
1372 
1373 # Force staging of shared scripts, even if they aren&#39;t directly used to build JavaScriptCore.
1374 
1375 add_custom_target(stageSharedScripts DEPENDS ${JavaScriptCore_SCRIPTS})
1376 add_dependencies(JavaScriptCore stageSharedScripts ${JavaScriptCore_EXTRA_DEPENDENCIES})
1377 
1378 if (USE_VERSION_STAMPER)
1379     add_custom_command(
1380         TARGET JavaScriptCore
1381         PRE_BUILD
1382         COMMAND ${PERL_EXECUTABLE} ${WEBKIT_LIBRARIES_DIR}/tools/scripts/auto-version.pl ${JavaScriptCore_DERIVED_SOURCES_DIR}
1383         VERBATIM)
1384 
1385     add_custom_command(
1386         TARGET JavaScriptCore
1387         POST_BUILD
1388         COMMAND ${PERL_EXECUTABLE} ${WEBKIT_LIBRARIES_DIR}/tools/scripts/version-stamp.pl ${JavaScriptCore_DERIVED_SOURCES_DIR} $&lt;TARGET_FILE:JavaScriptCore&gt;
1389         VERBATIM)
1390 endif ()
    </pre>
  </body>
</html>