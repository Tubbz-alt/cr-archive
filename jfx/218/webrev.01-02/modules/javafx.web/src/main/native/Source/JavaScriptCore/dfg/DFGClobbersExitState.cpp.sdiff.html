<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/dfg/DFGClobbersExitState.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DFGClobberize.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DFGCombinedLiveness.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/dfg/DFGClobbersExitState.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 40     // There are certain nodes whose effect on the exit state has nothing to do with what they
 41     // normally clobber.
 42     switch (node-&gt;op()) {
 43     case InitializeEntrypointArguments:
 44     case MovHint:
 45     case ZombieHint:
 46     case PutHint:
 47     case KillStack:
 48         return true;
 49 
 50     case SetLocal:
 51     case PutStack:
 52         // These nodes write to the stack, but they may only do so after we have already had a MovHint
 53         // for the exact same value and the same stack location. Hence, they have no further effect on
 54         // exit state.
 55         return false;
 56 
 57     case ArrayifyToStructure:
 58     case Arrayify:
 59     case NewObject:




 60     case NewRegexp:
 61     case NewSymbol:
 62     case NewStringObject:
 63     case PhantomNewObject:
 64     case MaterializeNewObject:
 65     case PhantomNewFunction:
 66     case PhantomNewGeneratorFunction:
 67     case PhantomNewAsyncGeneratorFunction:
 68     case PhantomNewAsyncFunction:


 69     case PhantomCreateActivation:
 70     case MaterializeCreateActivation:
 71     case PhantomNewRegexp:
 72     case CountExecution:
 73     case SuperSamplerBegin:
 74     case SuperSamplerEnd:
 75     case StoreBarrier:
 76     case FencedStoreBarrier:
 77     case AllocatePropertyStorage:
 78     case ReallocatePropertyStorage:
 79     case FilterCallLinkStatus:
<span class="line-modified"> 80     case FilterGetByIdStatus:</span>
 81     case FilterPutByIdStatus:
 82     case FilterInByIdStatus:
 83         // These do clobber memory, but nothing that is observable. It may be nice to separate the
 84         // heaps into those that are observable and those that aren&#39;t, but we don&#39;t do that right now.
 85         // FIXME: https://bugs.webkit.org/show_bug.cgi?id=148440
 86         return false;
 87 
 88     case CreateActivation:
 89         // Like above, but with the activation allocation caveat.
 90         return node-&gt;castOperand&lt;SymbolTable*&gt;()-&gt;singleton().isStillValid();
 91 
 92     case NewFunction:
 93     case NewGeneratorFunction:
 94     case NewAsyncGeneratorFunction:
 95     case NewAsyncFunction:
 96         // Like above, but with the JSFunction allocation caveat.
 97         return node-&gt;castOperand&lt;FunctionExecutable*&gt;()-&gt;singleton().isStillValid();
 98 
 99     default:
100         // For all other nodes, we just care about whether they write to something other than SideState.
</pre>
</td>
<td>
<hr />
<pre>
 40     // There are certain nodes whose effect on the exit state has nothing to do with what they
 41     // normally clobber.
 42     switch (node-&gt;op()) {
 43     case InitializeEntrypointArguments:
 44     case MovHint:
 45     case ZombieHint:
 46     case PutHint:
 47     case KillStack:
 48         return true;
 49 
 50     case SetLocal:
 51     case PutStack:
 52         // These nodes write to the stack, but they may only do so after we have already had a MovHint
 53         // for the exact same value and the same stack location. Hence, they have no further effect on
 54         // exit state.
 55         return false;
 56 
 57     case ArrayifyToStructure:
 58     case Arrayify:
 59     case NewObject:
<span class="line-added"> 60     case NewPromise:</span>
<span class="line-added"> 61     case NewGenerator:</span>
<span class="line-added"> 62     case NewAsyncGenerator:</span>
<span class="line-added"> 63     case NewArrayIterator:</span>
 64     case NewRegexp:
 65     case NewSymbol:
 66     case NewStringObject:
 67     case PhantomNewObject:
 68     case MaterializeNewObject:
 69     case PhantomNewFunction:
 70     case PhantomNewGeneratorFunction:
 71     case PhantomNewAsyncGeneratorFunction:
 72     case PhantomNewAsyncFunction:
<span class="line-added"> 73     case PhantomNewArrayIterator:</span>
<span class="line-added"> 74     case MaterializeNewInternalFieldObject:</span>
 75     case PhantomCreateActivation:
 76     case MaterializeCreateActivation:
 77     case PhantomNewRegexp:
 78     case CountExecution:
 79     case SuperSamplerBegin:
 80     case SuperSamplerEnd:
 81     case StoreBarrier:
 82     case FencedStoreBarrier:
 83     case AllocatePropertyStorage:
 84     case ReallocatePropertyStorage:
 85     case FilterCallLinkStatus:
<span class="line-modified"> 86     case FilterGetByStatus:</span>
 87     case FilterPutByIdStatus:
 88     case FilterInByIdStatus:
 89         // These do clobber memory, but nothing that is observable. It may be nice to separate the
 90         // heaps into those that are observable and those that aren&#39;t, but we don&#39;t do that right now.
 91         // FIXME: https://bugs.webkit.org/show_bug.cgi?id=148440
 92         return false;
 93 
 94     case CreateActivation:
 95         // Like above, but with the activation allocation caveat.
 96         return node-&gt;castOperand&lt;SymbolTable*&gt;()-&gt;singleton().isStillValid();
 97 
 98     case NewFunction:
 99     case NewGeneratorFunction:
100     case NewAsyncGeneratorFunction:
101     case NewAsyncFunction:
102         // Like above, but with the JSFunction allocation caveat.
103         return node-&gt;castOperand&lt;FunctionExecutable*&gt;()-&gt;singleton().isStillValid();
104 
105     default:
106         // For all other nodes, we just care about whether they write to something other than SideState.
</pre>
</td>
</tr>
</table>
<center><a href="DFGClobberize.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DFGCombinedLiveness.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>