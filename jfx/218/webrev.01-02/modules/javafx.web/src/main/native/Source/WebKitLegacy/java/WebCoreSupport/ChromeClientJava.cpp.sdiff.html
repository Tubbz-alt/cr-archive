<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebKitLegacy/java/WebCoreSupport/ChromeClientJava.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="BackForwardList.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="ChromeClientJava.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebKitLegacy/java/WebCoreSupport/ChromeClientJava.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
583 
584 void ChromeClientJava::addMessageToConsole(MessageSource, MessageLevel, const String&amp; message,
585     unsigned lineNumber, unsigned, const String&amp; sourceID)
586 {
587     using namespace ChromeClientJavaInternal;
588     JNIEnv* env = WTF::GetJavaEnv();
589     initRefs(env);
590 
591     env-&gt;CallVoidMethod(m_webPage, addMessageToConsoleMID,
592             (jstring)message.toJavaString(env),
593             (jint)lineNumber,
594             (jstring)sourceID.toJavaString(env));
595     WTF::CheckAndClearException(env);
596 }
597 
598 KeyboardUIMode ChromeClientJava::keyboardUIMode()
599 {
600     return KeyboardAccessTabsToLinks;
601 }
602 
<span class="line-modified">603 void ChromeClientJava::mouseDidMoveOverElement(const HitTestResult&amp; htr, unsigned)</span>
604 {
605     static Node* mouseOverNode = 0;
606     Element* urlElement = htr.URLElement();
607     if (urlElement &amp;&amp; isDraggableLink(*urlElement)) {
608         Node* overNode = htr.innerNode();
609         URL url = htr.absoluteLinkURL();
610         if (!url.isEmpty() &amp;&amp; (overNode != mouseOverNode)) {
611             setStatusbarText(url.string());
612             mouseOverNode = overNode;
613         }
614     } else {
615         if (mouseOverNode) {
616             setStatusbarText(&quot;&quot;);
617             mouseOverNode = 0;
618         }
619     }

620 }
621 
<span class="line-modified">622 void ChromeClientJava::setToolTip(const String&amp; tooltip, TextDirection)</span>
623 {
624     using namespace ChromeClientJavaInternal;
625     JNIEnv* env = WTF::GetJavaEnv();
626     initRefs(env);
627 
<span class="line-modified">628     JLString tooltipStr(NULL);</span>
<span class="line-modified">629     if (tooltip.length() &gt; 0) {</span>
<span class="line-modified">630         tooltipStr = tooltip.toJavaString(env);</span>
631     }
<span class="line-modified">632     env-&gt;CallVoidMethod(m_webPage, setTooltipMID, (jstring)tooltipStr);</span>
633     WTF::CheckAndClearException(env);
634 }
635 
636 void ChromeClientJava::print(Frame&amp;)
637 {
638     using namespace ChromeClientJavaInternal;
639     JNIEnv* env = WTF::GetJavaEnv();
640     initRefs(env);
641 
642     static jmethodID mid =  env-&gt;GetMethodID(
643         getWebPageCls(),
644         &quot;fwkPrint&quot;,
645         &quot;()V&quot;);
646     ASSERT(mid);
647 
648     env-&gt;CallVoidMethod(m_webPage, mid);
649     WTF::CheckAndClearException(env);
650 }
651 
652 void ChromeClientJava::exceededDatabaseQuota(Frame&amp;, const String&amp;, DatabaseDetails) {
</pre>
</td>
<td>
<hr />
<pre>
583 
584 void ChromeClientJava::addMessageToConsole(MessageSource, MessageLevel, const String&amp; message,
585     unsigned lineNumber, unsigned, const String&amp; sourceID)
586 {
587     using namespace ChromeClientJavaInternal;
588     JNIEnv* env = WTF::GetJavaEnv();
589     initRefs(env);
590 
591     env-&gt;CallVoidMethod(m_webPage, addMessageToConsoleMID,
592             (jstring)message.toJavaString(env),
593             (jint)lineNumber,
594             (jstring)sourceID.toJavaString(env));
595     WTF::CheckAndClearException(env);
596 }
597 
598 KeyboardUIMode ChromeClientJava::keyboardUIMode()
599 {
600     return KeyboardAccessTabsToLinks;
601 }
602 
<span class="line-modified">603 void ChromeClientJava::mouseDidMoveOverElement(const HitTestResult&amp; htr, unsigned, const String&amp; toolTip, TextDirection)</span>
604 {
605     static Node* mouseOverNode = 0;
606     Element* urlElement = htr.URLElement();
607     if (urlElement &amp;&amp; isDraggableLink(*urlElement)) {
608         Node* overNode = htr.innerNode();
609         URL url = htr.absoluteLinkURL();
610         if (!url.isEmpty() &amp;&amp; (overNode != mouseOverNode)) {
611             setStatusbarText(url.string());
612             mouseOverNode = overNode;
613         }
614     } else {
615         if (mouseOverNode) {
616             setStatusbarText(&quot;&quot;);
617             mouseOverNode = 0;
618         }
619     }
<span class="line-added">620     setToolTip(toolTip);</span>
621 }
622 
<span class="line-modified">623 void ChromeClientJava::setToolTip(const String&amp; toolTip)</span>
624 {
625     using namespace ChromeClientJavaInternal;
626     JNIEnv* env = WTF::GetJavaEnv();
627     initRefs(env);
628 
<span class="line-modified">629     JLString toolTipStr(NULL);</span>
<span class="line-modified">630     if (toolTip.length() &gt; 0) {</span>
<span class="line-modified">631         toolTipStr = toolTip.toJavaString(env);</span>
632     }
<span class="line-modified">633     env-&gt;CallVoidMethod(m_webPage, setTooltipMID, (jstring)toolTipStr);</span>
634     WTF::CheckAndClearException(env);
635 }
636 
637 void ChromeClientJava::print(Frame&amp;)
638 {
639     using namespace ChromeClientJavaInternal;
640     JNIEnv* env = WTF::GetJavaEnv();
641     initRefs(env);
642 
643     static jmethodID mid =  env-&gt;GetMethodID(
644         getWebPageCls(),
645         &quot;fwkPrint&quot;,
646         &quot;()V&quot;);
647     ASSERT(mid);
648 
649     env-&gt;CallVoidMethod(m_webPage, mid);
650     WTF::CheckAndClearException(env);
651 }
652 
653 void ChromeClientJava::exceededDatabaseQuota(Frame&amp;, const String&amp;, DatabaseDetails) {
</pre>
</td>
</tr>
</table>
<center><a href="BackForwardList.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="ChromeClientJava.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>