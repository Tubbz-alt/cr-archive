diff a/modules/javafx.web/src/main/native/Source/bmalloc/bmalloc/Environment.cpp b/modules/javafx.web/src/main/native/Source/bmalloc/bmalloc/Environment.cpp
--- a/modules/javafx.web/src/main/native/Source/bmalloc/bmalloc/Environment.cpp
+++ b/modules/javafx.web/src/main/native/Source/bmalloc/bmalloc/Environment.cpp
@@ -125,11 +125,11 @@
 }
 #endif
 
 DEFINE_STATIC_PER_PROCESS_STORAGE(Environment);
 
-Environment::Environment(std::lock_guard<Mutex>&)
+Environment::Environment(const LockHolder&)
     : m_isDebugHeapEnabled(computeIsDebugHeapEnabled())
 {
 }
 
 bool Environment::computeIsDebugHeapEnabled()
@@ -141,10 +141,13 @@
     if (isSanitizerEnabled())
         return true;
 #if BUSE(CHECK_NANO_MALLOC)
     if (!isNanoMallocEnabled() && !shouldProcessUnconditionallyUseBmalloc())
         return true;
+#endif
+#if BENABLE_MALLOC_HEAP_BREAKDOWN
+    return true;
 #endif
     return false;
 }
 
 } // namespace bmalloc
