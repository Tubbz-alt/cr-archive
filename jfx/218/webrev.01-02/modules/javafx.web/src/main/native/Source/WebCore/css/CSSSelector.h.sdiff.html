<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/css/CSSSelector.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="CSSSelector.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="CSSStyleDeclaration.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/css/CSSSelector.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 17  * along with this library; see the file COPYING.LIB.  If not, write to
 18  * the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 19  * Boston, MA 02110-1301, USA.
 20  */
 21 
 22 #pragma once
 23 
 24 #include &quot;QualifiedName.h&quot;
 25 #include &quot;RenderStyleConstants.h&quot;
 26 
 27 namespace WebCore {
 28     class CSSSelectorList;
 29 
 30     enum class SelectorSpecificityIncrement {
 31         ClassA = 0x10000,
 32         ClassB = 0x100,
 33         ClassC = 1
 34     };
 35 
 36     // this class represents a selector for a StyleRule

 37     class CSSSelector {
 38         WTF_MAKE_FAST_ALLOCATED;
 39     public:
 40         CSSSelector();
 41         CSSSelector(const CSSSelector&amp;);
 42         explicit CSSSelector(const QualifiedName&amp;, bool tagIsForNamespaceRule = false);
 43 
 44         ~CSSSelector();
 45 
 46         /**
 47          * Re-create selector text from selector&#39;s data
 48          */
 49         String selectorText(const String&amp; = emptyString()) const;
 50 
 51         // checks if the 2 selectors (including sub selectors) agree.
 52         bool operator==(const CSSSelector&amp;) const;
 53 
 54         static const unsigned maxValueMask = 0xffffff;
 55         static const unsigned idMask = 0xff0000;
 56         static const unsigned classMask = 0xff00;
</pre>
<hr />
<pre>
 93             PseudoClassEmpty,
 94             PseudoClassFirstChild,
 95             PseudoClassFirstOfType,
 96             PseudoClassLastChild,
 97             PseudoClassLastOfType,
 98             PseudoClassOnlyChild,
 99             PseudoClassOnlyOfType,
100             PseudoClassNthChild,
101             PseudoClassNthOfType,
102             PseudoClassNthLastChild,
103             PseudoClassNthLastOfType,
104             PseudoClassLink,
105             PseudoClassVisited,
106             PseudoClassAny,
107             PseudoClassAnyLink,
108             PseudoClassAnyLinkDeprecated,
109             PseudoClassAutofill,
110             PseudoClassAutofillStrongPassword,
111             PseudoClassAutofillStrongPasswordViewable,
112             PseudoClassHover,

113             PseudoClassDrag,
114             PseudoClassFocus,
115             PseudoClassFocusWithin,
116             PseudoClassActive,
117             PseudoClassChecked,
118             PseudoClassEnabled,
119             PseudoClassFullPageMedia,
120             PseudoClassDefault,
121             PseudoClassDisabled,
122             PseudoClassMatches,
123             PseudoClassOptional,
124             PseudoClassPlaceholderShown,
125             PseudoClassRequired,
126             PseudoClassReadOnly,
127             PseudoClassReadWrite,
128             PseudoClassValid,
129             PseudoClassInvalid,
130             PseudoClassIndeterminate,
131             PseudoClassTarget,
132             PseudoClassLang,
133             PseudoClassNot,
134             PseudoClassRoot,
135             PseudoClassScope,
136             PseudoClassWindowInactive,
137             PseudoClassCornerPresent,
138             PseudoClassDecrement,
139             PseudoClassIncrement,
140             PseudoClassHorizontal,
141             PseudoClassVertical,
142             PseudoClassStart,
143             PseudoClassEnd,
144             PseudoClassDoubleButton,
145             PseudoClassSingleButton,
146             PseudoClassNoButton,
147 #if ENABLE(FULLSCREEN_API)
148             PseudoClassFullScreen,
149             PseudoClassFullScreenDocument,
150             PseudoClassFullScreenAncestor,
151             PseudoClassAnimatingFullScreenTransition,
152             PseudoClassFullScreenControlsHidden,



153 #endif
154             PseudoClassInRange,
155             PseudoClassOutOfRange,
156 #if ENABLE(VIDEO_TRACK)
157             PseudoClassFuture,
158             PseudoClassPast,
159 #endif
160 #if ENABLE(CSS_SELECTORS_LEVEL4)
161             PseudoClassDir,
162             PseudoClassRole,
163 #endif
164             PseudoClassHost,
165             PseudoClassDefined,
166 #if ENABLE(ATTACHMENT_ELEMENT)
167             PseudoClassHasAttachment,
168 #endif
169         };
170 
171         enum PseudoElementType {
172             PseudoElementUnknown = 0,
173             PseudoElementAfter,
174             PseudoElementBefore,
175 #if ENABLE(VIDEO_TRACK)
176             PseudoElementCue,
177 #endif
178             PseudoElementFirstLetter,
179             PseudoElementFirstLine,

180             PseudoElementMarker,

181             PseudoElementResizer,
182             PseudoElementScrollbar,
183             PseudoElementScrollbarButton,
184             PseudoElementScrollbarCorner,
185             PseudoElementScrollbarThumb,
186             PseudoElementScrollbarTrack,
187             PseudoElementScrollbarTrackPiece,
188             PseudoElementSelection,
189             PseudoElementSlotted,
190             PseudoElementWebKitCustom,
191 
192             // WebKitCustom that appeared in an old prefixed form
193             // and need special handling.
194             PseudoElementWebKitCustomLegacyPrefixed,
195         };
196 
197         enum PagePseudoClassType {
198             PagePseudoClassFirst = 1,
199             PagePseudoClassLeft,
200             PagePseudoClassRight,
</pre>
<hr />
<pre>
223             CaseSensitive,
224             CaseInsensitive,
225         };
226 
227         static PseudoElementType parsePseudoElementType(StringView);
228         static PseudoId pseudoId(PseudoElementType);
229 
230         // Selectors are kept in an array by CSSSelectorList. The next component of the selector is
231         // the next item in the array.
232         const CSSSelector* tagHistory() const { return m_isLastInTagHistory ? 0 : const_cast&lt;CSSSelector*&gt;(this + 1); }
233 
234         const QualifiedName&amp; tagQName() const;
235         const AtomString&amp; tagLowercaseLocalName() const;
236 
237         const AtomString&amp; value() const;
238         const AtomString&amp; serializingValue() const;
239         const QualifiedName&amp; attribute() const;
240         const AtomString&amp; attributeCanonicalLocalName() const;
241         const AtomString&amp; argument() const { return m_hasRareData ? m_data.m_rareData-&gt;m_argument : nullAtom(); }
242         bool attributeValueMatchingIsCaseInsensitive() const;
<span class="line-modified">243         const Vector&lt;AtomString&gt;* langArgumentList() const { return m_hasRareData ? m_data.m_rareData-&gt;m_langArgumentList.get() : nullptr; }</span>
244         const CSSSelectorList* selectorList() const { return m_hasRareData ? m_data.m_rareData-&gt;m_selectorList.get() : nullptr; }
245 
246         void setValue(const AtomString&amp;, bool matchLowerCase = false);
247 
248         void setAttribute(const QualifiedName&amp;, bool convertToLowercase, AttributeMatchType);
249         void setNth(int a, int b);
250         void setArgument(const AtomString&amp;);
<span class="line-modified">251         void setLangArgumentList(std::unique_ptr&lt;Vector&lt;AtomString&gt;&gt;);</span>
252         void setSelectorList(std::unique_ptr&lt;CSSSelectorList&gt;);
253 
254         bool matchNth(int count) const;
255         int nthA() const;
256         int nthB() const;
257 
258         bool hasDescendantRelation() const { return relation() == DescendantSpace; }
259 
260         bool hasDescendantOrChildRelation() const { return relation() == Child || hasDescendantRelation(); }
261 
262         PseudoClassType pseudoClassType() const
263         {
264             ASSERT(match() == PseudoClass);
265             return static_cast&lt;PseudoClassType&gt;(m_pseudoType);
266         }
267         void setPseudoClassType(PseudoClassType pseudoType)
268         {
269             m_pseudoType = pseudoType;
270             ASSERT(m_pseudoType == pseudoType);
271         }
</pre>
<hr />
<pre>
325         unsigned m_relation              : 4; // enum RelationType.
326         mutable unsigned m_match         : 4; // enum Match.
327         mutable unsigned m_pseudoType    : 8; // PseudoType.
328         unsigned m_isLastInSelectorList  : 1;
329         unsigned m_isLastInTagHistory    : 1;
330         unsigned m_hasRareData           : 1;
331         unsigned m_hasNameWithCase       : 1;
332         unsigned m_isForPage             : 1;
333         unsigned m_tagIsForNamespaceRule : 1;
334         unsigned m_caseInsensitiveAttributeValueMatching : 1;
335 #if !ASSERT_WITH_SECURITY_IMPLICATION_DISABLED
336         unsigned m_destructorHasBeenCalled : 1;
337 #endif
338 
339         unsigned simpleSelectorSpecificityForPage() const;
340 
341         // Hide.
342         CSSSelector&amp; operator=(const CSSSelector&amp;);
343 
344         struct RareData : public RefCounted&lt;RareData&gt; {

345             static Ref&lt;RareData&gt; create(AtomString&amp;&amp; value) { return adoptRef(*new RareData(WTFMove(value))); }
346             ~RareData();
347 
348             bool matchNth(int count);
349 
350             // For quirks mode, class and id are case-insensitive. In the case where uppercase
351             // letters are used in quirks mode, |m_matchingValue| holds the lowercase class/id
352             // and |m_serializingValue| holds the original string.
353             AtomString m_matchingValue;
354             AtomString m_serializingValue;
355 
356             int m_a; // Used for :nth-*
357             int m_b; // Used for :nth-*
358             QualifiedName m_attribute; // used for attribute selector
359             AtomString m_attributeCanonicalLocalName;
360             AtomString m_argument; // Used for :contains and :nth-*
<span class="line-modified">361             std::unique_ptr&lt;Vector&lt;AtomString&gt;&gt; m_langArgumentList; // Used for :lang arguments.</span>
362             std::unique_ptr&lt;CSSSelectorList&gt; m_selectorList; // Used for :matches() and :not().
363 
364         private:
365             RareData(AtomString&amp;&amp; value);
366         };
367         void createRareData();
368 
369         struct NameWithCase : public RefCounted&lt;NameWithCase&gt; {
370             NameWithCase(const QualifiedName&amp; originalName, const AtomString&amp; lowercaseName)
371                 : m_originalName(originalName)
372                 , m_lowercaseLocalName(lowercaseName)
373             {
374                 ASSERT(originalName.localName() != lowercaseName);
375             }
376 
377             const QualifiedName m_originalName;
378             const AtomString m_lowercaseLocalName;
379         };
380 
381         union DataUnion {
</pre>
<hr />
<pre>
421 inline bool CSSSelector::isWebKitCustomPseudoElement() const
422 {
423     return pseudoElementType() == PseudoElementWebKitCustom || pseudoElementType() == PseudoElementWebKitCustomLegacyPrefixed;
424 }
425 
426 static inline bool pseudoClassIsRelativeToSiblings(CSSSelector::PseudoClassType type)
427 {
428     return type == CSSSelector::PseudoClassEmpty
429         || type == CSSSelector::PseudoClassFirstChild
430         || type == CSSSelector::PseudoClassFirstOfType
431         || type == CSSSelector::PseudoClassLastChild
432         || type == CSSSelector::PseudoClassLastOfType
433         || type == CSSSelector::PseudoClassOnlyChild
434         || type == CSSSelector::PseudoClassOnlyOfType
435         || type == CSSSelector::PseudoClassNthChild
436         || type == CSSSelector::PseudoClassNthOfType
437         || type == CSSSelector::PseudoClassNthLastChild
438         || type == CSSSelector::PseudoClassNthLastOfType;
439 }
440 





441 inline bool CSSSelector::isSiblingSelector() const
442 {
443     return relation() == DirectAdjacent
444         || relation() == IndirectAdjacent
445         || (match() == CSSSelector::PseudoClass &amp;&amp; pseudoClassIsRelativeToSiblings(pseudoClassType()));
446 }
447 
448 inline bool CSSSelector::isAttributeSelector() const
449 {
450     return match() == CSSSelector::Exact
451         || match() ==  CSSSelector::Set
452         || match() == CSSSelector::List
453         || match() == CSSSelector::Hyphen
454         || match() == CSSSelector::Contain
455         || match() == CSSSelector::Begin
456         || match() == CSSSelector::End;
457 }
458 
459 inline void CSSSelector::setValue(const AtomString&amp; value, bool matchLowerCase)
460 {
</pre>
</td>
<td>
<hr />
<pre>
 17  * along with this library; see the file COPYING.LIB.  If not, write to
 18  * the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 19  * Boston, MA 02110-1301, USA.
 20  */
 21 
 22 #pragma once
 23 
 24 #include &quot;QualifiedName.h&quot;
 25 #include &quot;RenderStyleConstants.h&quot;
 26 
 27 namespace WebCore {
 28     class CSSSelectorList;
 29 
 30     enum class SelectorSpecificityIncrement {
 31         ClassA = 0x10000,
 32         ClassB = 0x100,
 33         ClassC = 1
 34     };
 35 
 36     // this class represents a selector for a StyleRule
<span class="line-added"> 37     DECLARE_ALLOCATOR_WITH_HEAP_IDENTIFIER(CSSSelectorRareData);</span>
 38     class CSSSelector {
 39         WTF_MAKE_FAST_ALLOCATED;
 40     public:
 41         CSSSelector();
 42         CSSSelector(const CSSSelector&amp;);
 43         explicit CSSSelector(const QualifiedName&amp;, bool tagIsForNamespaceRule = false);
 44 
 45         ~CSSSelector();
 46 
 47         /**
 48          * Re-create selector text from selector&#39;s data
 49          */
 50         String selectorText(const String&amp; = emptyString()) const;
 51 
 52         // checks if the 2 selectors (including sub selectors) agree.
 53         bool operator==(const CSSSelector&amp;) const;
 54 
 55         static const unsigned maxValueMask = 0xffffff;
 56         static const unsigned idMask = 0xff0000;
 57         static const unsigned classMask = 0xff00;
</pre>
<hr />
<pre>
 94             PseudoClassEmpty,
 95             PseudoClassFirstChild,
 96             PseudoClassFirstOfType,
 97             PseudoClassLastChild,
 98             PseudoClassLastOfType,
 99             PseudoClassOnlyChild,
100             PseudoClassOnlyOfType,
101             PseudoClassNthChild,
102             PseudoClassNthOfType,
103             PseudoClassNthLastChild,
104             PseudoClassNthLastOfType,
105             PseudoClassLink,
106             PseudoClassVisited,
107             PseudoClassAny,
108             PseudoClassAnyLink,
109             PseudoClassAnyLinkDeprecated,
110             PseudoClassAutofill,
111             PseudoClassAutofillStrongPassword,
112             PseudoClassAutofillStrongPasswordViewable,
113             PseudoClassHover,
<span class="line-added">114             PseudoClassDirectFocus,</span>
115             PseudoClassDrag,
116             PseudoClassFocus,
117             PseudoClassFocusWithin,
118             PseudoClassActive,
119             PseudoClassChecked,
120             PseudoClassEnabled,
121             PseudoClassFullPageMedia,
122             PseudoClassDefault,
123             PseudoClassDisabled,
124             PseudoClassMatches,
125             PseudoClassOptional,
126             PseudoClassPlaceholderShown,
127             PseudoClassRequired,
128             PseudoClassReadOnly,
129             PseudoClassReadWrite,
130             PseudoClassValid,
131             PseudoClassInvalid,
132             PseudoClassIndeterminate,
133             PseudoClassTarget,
134             PseudoClassLang,
135             PseudoClassNot,
136             PseudoClassRoot,
137             PseudoClassScope,
138             PseudoClassWindowInactive,
139             PseudoClassCornerPresent,
140             PseudoClassDecrement,
141             PseudoClassIncrement,
142             PseudoClassHorizontal,
143             PseudoClassVertical,
144             PseudoClassStart,
145             PseudoClassEnd,
146             PseudoClassDoubleButton,
147             PseudoClassSingleButton,
148             PseudoClassNoButton,
149 #if ENABLE(FULLSCREEN_API)
150             PseudoClassFullScreen,
151             PseudoClassFullScreenDocument,
152             PseudoClassFullScreenAncestor,
153             PseudoClassAnimatingFullScreenTransition,
154             PseudoClassFullScreenControlsHidden,
<span class="line-added">155 #endif</span>
<span class="line-added">156 #if ENABLE(PICTURE_IN_PICTURE_API)</span>
<span class="line-added">157             PseudoClassPictureInPicture,</span>
158 #endif
159             PseudoClassInRange,
160             PseudoClassOutOfRange,
161 #if ENABLE(VIDEO_TRACK)
162             PseudoClassFuture,
163             PseudoClassPast,
164 #endif
165 #if ENABLE(CSS_SELECTORS_LEVEL4)
166             PseudoClassDir,
167             PseudoClassRole,
168 #endif
169             PseudoClassHost,
170             PseudoClassDefined,
171 #if ENABLE(ATTACHMENT_ELEMENT)
172             PseudoClassHasAttachment,
173 #endif
174         };
175 
176         enum PseudoElementType {
177             PseudoElementUnknown = 0,
178             PseudoElementAfter,
179             PseudoElementBefore,
180 #if ENABLE(VIDEO_TRACK)
181             PseudoElementCue,
182 #endif
183             PseudoElementFirstLetter,
184             PseudoElementFirstLine,
<span class="line-added">185             PseudoElementHighlight,</span>
186             PseudoElementMarker,
<span class="line-added">187             PseudoElementPart,</span>
188             PseudoElementResizer,
189             PseudoElementScrollbar,
190             PseudoElementScrollbarButton,
191             PseudoElementScrollbarCorner,
192             PseudoElementScrollbarThumb,
193             PseudoElementScrollbarTrack,
194             PseudoElementScrollbarTrackPiece,
195             PseudoElementSelection,
196             PseudoElementSlotted,
197             PseudoElementWebKitCustom,
198 
199             // WebKitCustom that appeared in an old prefixed form
200             // and need special handling.
201             PseudoElementWebKitCustomLegacyPrefixed,
202         };
203 
204         enum PagePseudoClassType {
205             PagePseudoClassFirst = 1,
206             PagePseudoClassLeft,
207             PagePseudoClassRight,
</pre>
<hr />
<pre>
230             CaseSensitive,
231             CaseInsensitive,
232         };
233 
234         static PseudoElementType parsePseudoElementType(StringView);
235         static PseudoId pseudoId(PseudoElementType);
236 
237         // Selectors are kept in an array by CSSSelectorList. The next component of the selector is
238         // the next item in the array.
239         const CSSSelector* tagHistory() const { return m_isLastInTagHistory ? 0 : const_cast&lt;CSSSelector*&gt;(this + 1); }
240 
241         const QualifiedName&amp; tagQName() const;
242         const AtomString&amp; tagLowercaseLocalName() const;
243 
244         const AtomString&amp; value() const;
245         const AtomString&amp; serializingValue() const;
246         const QualifiedName&amp; attribute() const;
247         const AtomString&amp; attributeCanonicalLocalName() const;
248         const AtomString&amp; argument() const { return m_hasRareData ? m_data.m_rareData-&gt;m_argument : nullAtom(); }
249         bool attributeValueMatchingIsCaseInsensitive() const;
<span class="line-modified">250         const Vector&lt;AtomString&gt;* argumentList() const { return m_hasRareData ? m_data.m_rareData-&gt;m_argumentList.get() : nullptr; }</span>
251         const CSSSelectorList* selectorList() const { return m_hasRareData ? m_data.m_rareData-&gt;m_selectorList.get() : nullptr; }
252 
253         void setValue(const AtomString&amp;, bool matchLowerCase = false);
254 
255         void setAttribute(const QualifiedName&amp;, bool convertToLowercase, AttributeMatchType);
256         void setNth(int a, int b);
257         void setArgument(const AtomString&amp;);
<span class="line-modified">258         void setArgumentList(std::unique_ptr&lt;Vector&lt;AtomString&gt;&gt;);</span>
259         void setSelectorList(std::unique_ptr&lt;CSSSelectorList&gt;);
260 
261         bool matchNth(int count) const;
262         int nthA() const;
263         int nthB() const;
264 
265         bool hasDescendantRelation() const { return relation() == DescendantSpace; }
266 
267         bool hasDescendantOrChildRelation() const { return relation() == Child || hasDescendantRelation(); }
268 
269         PseudoClassType pseudoClassType() const
270         {
271             ASSERT(match() == PseudoClass);
272             return static_cast&lt;PseudoClassType&gt;(m_pseudoType);
273         }
274         void setPseudoClassType(PseudoClassType pseudoType)
275         {
276             m_pseudoType = pseudoType;
277             ASSERT(m_pseudoType == pseudoType);
278         }
</pre>
<hr />
<pre>
332         unsigned m_relation              : 4; // enum RelationType.
333         mutable unsigned m_match         : 4; // enum Match.
334         mutable unsigned m_pseudoType    : 8; // PseudoType.
335         unsigned m_isLastInSelectorList  : 1;
336         unsigned m_isLastInTagHistory    : 1;
337         unsigned m_hasRareData           : 1;
338         unsigned m_hasNameWithCase       : 1;
339         unsigned m_isForPage             : 1;
340         unsigned m_tagIsForNamespaceRule : 1;
341         unsigned m_caseInsensitiveAttributeValueMatching : 1;
342 #if !ASSERT_WITH_SECURITY_IMPLICATION_DISABLED
343         unsigned m_destructorHasBeenCalled : 1;
344 #endif
345 
346         unsigned simpleSelectorSpecificityForPage() const;
347 
348         // Hide.
349         CSSSelector&amp; operator=(const CSSSelector&amp;);
350 
351         struct RareData : public RefCounted&lt;RareData&gt; {
<span class="line-added">352             WTF_MAKE_STRUCT_FAST_ALLOCATED_WITH_HEAP_IDENTIFIER(CSSSelectorRareData);</span>
353             static Ref&lt;RareData&gt; create(AtomString&amp;&amp; value) { return adoptRef(*new RareData(WTFMove(value))); }
354             ~RareData();
355 
356             bool matchNth(int count);
357 
358             // For quirks mode, class and id are case-insensitive. In the case where uppercase
359             // letters are used in quirks mode, |m_matchingValue| holds the lowercase class/id
360             // and |m_serializingValue| holds the original string.
361             AtomString m_matchingValue;
362             AtomString m_serializingValue;
363 
364             int m_a; // Used for :nth-*
365             int m_b; // Used for :nth-*
366             QualifiedName m_attribute; // used for attribute selector
367             AtomString m_attributeCanonicalLocalName;
368             AtomString m_argument; // Used for :contains and :nth-*
<span class="line-modified">369             std::unique_ptr&lt;Vector&lt;AtomString&gt;&gt; m_argumentList; // Used for :lang and ::part arguments.</span>
370             std::unique_ptr&lt;CSSSelectorList&gt; m_selectorList; // Used for :matches() and :not().
371 
372         private:
373             RareData(AtomString&amp;&amp; value);
374         };
375         void createRareData();
376 
377         struct NameWithCase : public RefCounted&lt;NameWithCase&gt; {
378             NameWithCase(const QualifiedName&amp; originalName, const AtomString&amp; lowercaseName)
379                 : m_originalName(originalName)
380                 , m_lowercaseLocalName(lowercaseName)
381             {
382                 ASSERT(originalName.localName() != lowercaseName);
383             }
384 
385             const QualifiedName m_originalName;
386             const AtomString m_lowercaseLocalName;
387         };
388 
389         union DataUnion {
</pre>
<hr />
<pre>
429 inline bool CSSSelector::isWebKitCustomPseudoElement() const
430 {
431     return pseudoElementType() == PseudoElementWebKitCustom || pseudoElementType() == PseudoElementWebKitCustomLegacyPrefixed;
432 }
433 
434 static inline bool pseudoClassIsRelativeToSiblings(CSSSelector::PseudoClassType type)
435 {
436     return type == CSSSelector::PseudoClassEmpty
437         || type == CSSSelector::PseudoClassFirstChild
438         || type == CSSSelector::PseudoClassFirstOfType
439         || type == CSSSelector::PseudoClassLastChild
440         || type == CSSSelector::PseudoClassLastOfType
441         || type == CSSSelector::PseudoClassOnlyChild
442         || type == CSSSelector::PseudoClassOnlyOfType
443         || type == CSSSelector::PseudoClassNthChild
444         || type == CSSSelector::PseudoClassNthOfType
445         || type == CSSSelector::PseudoClassNthLastChild
446         || type == CSSSelector::PseudoClassNthLastOfType;
447 }
448 
<span class="line-added">449 static inline bool isTreeStructuralPseudoClass(CSSSelector::PseudoClassType type)</span>
<span class="line-added">450 {</span>
<span class="line-added">451     return pseudoClassIsRelativeToSiblings(type) || type == CSSSelector::PseudoClassRoot;</span>
<span class="line-added">452 }</span>
<span class="line-added">453 </span>
454 inline bool CSSSelector::isSiblingSelector() const
455 {
456     return relation() == DirectAdjacent
457         || relation() == IndirectAdjacent
458         || (match() == CSSSelector::PseudoClass &amp;&amp; pseudoClassIsRelativeToSiblings(pseudoClassType()));
459 }
460 
461 inline bool CSSSelector::isAttributeSelector() const
462 {
463     return match() == CSSSelector::Exact
464         || match() ==  CSSSelector::Set
465         || match() == CSSSelector::List
466         || match() == CSSSelector::Hyphen
467         || match() == CSSSelector::Contain
468         || match() == CSSSelector::Begin
469         || match() == CSSSelector::End;
470 }
471 
472 inline void CSSSelector::setValue(const AtomString&amp; value, bool matchLowerCase)
473 {
</pre>
</td>
</tr>
</table>
<center><a href="CSSSelector.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="CSSStyleDeclaration.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>