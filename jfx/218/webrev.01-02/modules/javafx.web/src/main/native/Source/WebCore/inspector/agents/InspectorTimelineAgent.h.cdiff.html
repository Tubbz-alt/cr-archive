<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/inspector/agents/InspectorTimelineAgent.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="InspectorTimelineAgent.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="InspectorWorkerAgent.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/inspector/agents/InspectorTimelineAgent.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 84,34 ***</span>
  class InspectorTimelineAgent final : public InspectorAgentBase , public Inspector::TimelineBackendDispatcherHandler , public Inspector::ScriptDebugListener {
      WTF_MAKE_NONCOPYABLE(InspectorTimelineAgent);
      WTF_MAKE_FAST_ALLOCATED;
  public:
      InspectorTimelineAgent(PageAgentContext&amp;);
<span class="line-modified">!     virtual ~InspectorTimelineAgent();</span>
  
      // InspectorAgentBase
<span class="line-modified">!     void didCreateFrontendAndBackend(Inspector::FrontendRouter*, Inspector::BackendDispatcher*);</span>
<span class="line-modified">!     void willDestroyFrontendAndBackend(Inspector::DisconnectReason);</span>
  
      // TimelineBackendDispatcherHandler
<span class="line-modified">!     void enable(ErrorString&amp;);</span>
<span class="line-modified">!     void disable(ErrorString&amp;);</span>
<span class="line-modified">!     void start(ErrorString&amp;, const int* maxCallStackDepth = nullptr);</span>
<span class="line-modified">!     void stop(ErrorString&amp;);</span>
<span class="line-modified">!     void setAutoCaptureEnabled(ErrorString&amp;, bool);</span>
<span class="line-modified">!     void setInstruments(ErrorString&amp;, const JSON::Array&amp;);</span>
  
      // ScriptDebugListener
<span class="line-modified">!     void didParseSource(JSC::SourceID, const Script&amp;) { }</span>
<span class="line-modified">!     void failedToParseSource(const String&amp;, const String&amp;, int, int, const String&amp;) { }</span>
<span class="line-modified">!     void willRunMicrotask() { }</span>
<span class="line-modified">!     void didRunMicrotask() { }</span>
<span class="line-modified">!     void didPause(JSC::ExecState&amp;, JSC::JSValue, JSC::JSValue) { }</span>
<span class="line-modified">!     void didContinue() { }</span>
<span class="line-modified">!     void breakpointActionLog(JSC::ExecState&amp;, const String&amp;) { }</span>
<span class="line-modified">!     void breakpointActionSound(int) { }</span>
<span class="line-modified">!     void breakpointActionProbe(JSC::ExecState&amp;, const Inspector::ScriptBreakpointAction&amp;, unsigned batchId, unsigned sampleId, JSC::JSValue result);</span>
  
      // InspectorInstrumentation
      void didInstallTimer(int timerId, Seconds timeout, bool singleShot, Frame*);
      void didRemoveTimer(int timerId, Frame*);
      void willFireTimer(int timerId, Frame*);
<span class="line-new-header">--- 84,34 ---</span>
  class InspectorTimelineAgent final : public InspectorAgentBase , public Inspector::TimelineBackendDispatcherHandler , public Inspector::ScriptDebugListener {
      WTF_MAKE_NONCOPYABLE(InspectorTimelineAgent);
      WTF_MAKE_FAST_ALLOCATED;
  public:
      InspectorTimelineAgent(PageAgentContext&amp;);
<span class="line-modified">!     ~InspectorTimelineAgent() override;</span>
  
      // InspectorAgentBase
<span class="line-modified">!     void didCreateFrontendAndBackend(Inspector::FrontendRouter*, Inspector::BackendDispatcher*) override;</span>
<span class="line-modified">!     void willDestroyFrontendAndBackend(Inspector::DisconnectReason) override;</span>
  
      // TimelineBackendDispatcherHandler
<span class="line-modified">!     void enable(ErrorString&amp;) override;</span>
<span class="line-modified">!     void disable(ErrorString&amp;) override;</span>
<span class="line-modified">!     void start(ErrorString&amp;, const int* maxCallStackDepth = nullptr) override;</span>
<span class="line-modified">!     void stop(ErrorString&amp;) override;</span>
<span class="line-modified">!     void setAutoCaptureEnabled(ErrorString&amp;, bool) override;</span>
<span class="line-modified">!     void setInstruments(ErrorString&amp;, const JSON::Array&amp;) override;</span>
  
      // ScriptDebugListener
<span class="line-modified">!     void didParseSource(JSC::SourceID, const Script&amp;) override { }</span>
<span class="line-modified">!     void failedToParseSource(const String&amp;, const String&amp;, int, int, const String&amp;) override { }</span>
<span class="line-modified">!     void willRunMicrotask() override { }</span>
<span class="line-modified">!     void didRunMicrotask() override { }</span>
<span class="line-modified">!     void didPause(JSC::JSGlobalObject*, JSC::JSValue, JSC::JSValue) override { }</span>
<span class="line-modified">!     void didContinue() override { }</span>
<span class="line-modified">!     void breakpointActionLog(JSC::JSGlobalObject*, const String&amp;) override { }</span>
<span class="line-modified">!     void breakpointActionSound(int) override { }</span>
<span class="line-modified">!     void breakpointActionProbe(JSC::JSGlobalObject*, const Inspector::ScriptBreakpointAction&amp;, unsigned batchId, unsigned sampleId, JSC::JSValue result) override;</span>
  
      // InspectorInstrumentation
      void didInstallTimer(int timerId, Seconds timeout, bool singleShot, Frame*);
      void didRemoveTimer(int timerId, Frame*);
      void willFireTimer(int timerId, Frame*);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 143,14 ***</span>
      void timeEnd(Frame&amp;, const String&amp;);
      void mainFrameStartedLoading();
      void mainFrameNavigated();
  
      // Console
<span class="line-modified">!     void startFromConsole(JSC::ExecState*, const String&amp; title);</span>
<span class="line-modified">!     void stopFromConsole(JSC::ExecState*, const String&amp; title);</span>
<span class="line-removed">- </span>
<span class="line-removed">-     int id() const { return m_id; }</span>
  
  private:
      void startProgrammaticCapture();
      void stopProgrammaticCapture();
  
<span class="line-new-header">--- 143,12 ---</span>
      void timeEnd(Frame&amp;, const String&amp;);
      void mainFrameStartedLoading();
      void mainFrameNavigated();
  
      // Console
<span class="line-modified">!     void startFromConsole(JSC::JSGlobalObject*, const String&amp; title);</span>
<span class="line-modified">!     void stopFromConsole(JSC::JSGlobalObject*, const String&amp; title);</span>
  
  private:
      void startProgrammaticCapture();
      void stopProgrammaticCapture();
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 159,10 ***</span>
<span class="line-new-header">--- 157,11 ---</span>
      void toggleScriptProfilerInstrument(InstrumentState);
      void toggleHeapInstrument(InstrumentState);
      void toggleCPUInstrument(InstrumentState);
      void toggleMemoryInstrument(InstrumentState);
      void toggleTimelineInstrument(InstrumentState);
<span class="line-added">+     void toggleAnimationInstrument(InstrumentState);</span>
      void disableBreakpoints();
      void enableBreakpoints();
  
      friend class TimelineRecordStack;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 198,22 ***</span>
  
      void didCompleteRecordEntry(const TimelineRecordEntry&amp;);
      void didCompleteCurrentRecord(TimelineRecordType);
  
      void addRecordToTimeline(RefPtr&lt;JSON::Object&gt;&amp;&amp;, TimelineRecordType);
<span class="line-removed">-     void clearRecordStack();</span>
  
      void localToPageQuad(const RenderObject&amp;, const LayoutRect&amp;, FloatQuad*);
  
      std::unique_ptr&lt;Inspector::TimelineFrontendDispatcher&gt; m_frontendDispatcher;
      RefPtr&lt;Inspector::TimelineBackendDispatcher&gt; m_backendDispatcher;
      Page&amp; m_inspectedPage;
  
      Vector&lt;TimelineRecordEntry&gt; m_recordStack;
      Vector&lt;TimelineRecordEntry&gt; m_pendingConsoleProfileRecords;
  
<span class="line-removed">-     int m_id { 1 };</span>
      int m_maxCallStackDepth { 5 };
  
      bool m_tracking { false };
      bool m_trackingFromFrontend { false };
      bool m_programmaticCaptureRestoreBreakpointActiveValue { false };
<span class="line-new-header">--- 197,20 ---</span>
</pre>
<center><a href="InspectorTimelineAgent.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="InspectorWorkerAgent.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>