<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/ExtensionsGL.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (C) 2011 Google Inc. All rights reserved.
  3  *
  4  * Redistribution and use in source and binary forms, with or without
  5  * modification, are permitted provided that the following conditions
  6  * are met:
  7  *
  8  * 1.  Redistributions of source code must retain the above copyright
  9  *     notice, this list of conditions and the following disclaimer.
 10  * 2.  Redistributions in binary form must reproduce the above copyright
 11  *     notice, this list of conditions and the following disclaimer in the
 12  *     documentation and/or other materials provided with the distribution.
 13  *
 14  * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS &quot;AS IS&quot; AND ANY
 15  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 16  * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 17  * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY
 18  * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 19  * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 20  * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 21  * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 22  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
 23  * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 24  */
 25 
 26 #pragma once
 27 
 28 #include &quot;GraphicsTypesGL.h&quot;
 29 
 30 #include &lt;wtf/text/WTFString.h&gt;
 31 
 32 namespace WebCore {
 33 
 34 // This is a base class containing only pure virtual functions.
 35 // Implementations must provide a subclass.
 36 //
 37 // The supported extensions are defined below and in subclasses,
 38 // possibly platform-specific ones.
 39 //
 40 // Calling any extension function not supported by the current context
 41 // must be a no-op; in particular, it may not have side effects. In
 42 // this situation, if the function has a return value, 0 is returned.
 43 class ExtensionsGL {
 44 public:
 45     virtual ~ExtensionsGL() = default;
 46 
 47     // Supported extensions:
 48     //   GL_EXT_texture_format_BGRA8888
 49     //   GL_EXT_read_format_bgra
 50     //   GL_ARB_robustness
 51     //   GL_ARB_texture_non_power_of_two / GL_OES_texture_npot
 52     //   GL_EXT_packed_depth_stencil / GL_OES_packed_depth_stencil
 53     //   GL_ANGLE_framebuffer_blit / GL_ANGLE_framebuffer_multisample
 54     //   GL_IMG_multisampled_render_to_texture
 55     //   GL_OES_texture_float
 56     //   GL_OES_texture_float_linear
 57     //   GL_OES_texture_half_float
 58     //   GL_OES_texture_half_float_linear
 59     //   GL_OES_standard_derivatives
 60     //   GL_OES_rgb8_rgba8
 61     //   GL_OES_vertex_array_object
 62     //   GL_OES_element_index_uint
 63     //   GL_ANGLE_translated_shader_source
 64     //   GL_ARB_texture_rectangle (only the subset required to
 65     //     implement IOSurface binding; it&#39;s recommended to support
 66     //     this only on Mac OS X to limit the amount of code dependent
 67     //     on this extension)
 68     //   GL_EXT_texture_compression_dxt1
 69     //   GL_EXT_texture_compression_s3tc
 70     //   GL_OES_compressed_ETC1_RGB8_texture
 71     //   GL_IMG_texture_compression_pvrtc
 72     //   GL_KHR_texture_compression_astc_hdr
 73     //   GL_KHR_texture_compression_astc_ldr
 74     //   EXT_texture_filter_anisotropic
 75     //   GL_EXT_debug_marker
 76     //   GL_ARB_draw_buffers / GL_EXT_draw_buffers
 77     //   GL_ANGLE_instanced_arrays
 78 
 79     // Takes full name of extension; for example,
 80     // &quot;GL_EXT_texture_format_BGRA8888&quot;.
 81     virtual bool supports(const String&amp;) = 0;
 82 
 83     // Certain OpenGL and WebGL implementations may support enabling
 84     // extensions lazily. This method may only be called with
 85     // extension names for which supports returns true.
 86     virtual void ensureEnabled(const String&amp;) = 0;
 87 
 88     // Takes full name of extension: for example, &quot;GL_EXT_texture_format_BGRA8888&quot;.
 89     // Checks to see whether the given extension is actually enabled (see ensureEnabled).
 90     // Has no other side-effects.
 91     virtual bool isEnabled(const String&amp;) = 0;
 92 
 93     enum ExtensionsEnumType {
 94         // EXT_sRGB formats
 95         SRGB_EXT = 0x8C40,
 96         SRGB_ALPHA_EXT = 0x8C42,
 97         SRGB8_ALPHA8_EXT = 0x8C43,
 98         FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT = 0x8210,
 99 
100         // EXT_blend_minmax enums
101         MIN_EXT = 0x8007,
102         MAX_EXT = 0x8008,
103 
104         // GL_EXT_texture_format_BGRA8888 enums
105         BGRA_EXT = 0x80E1,
106 
107         // GL_ARB_robustness enums
108         GUILTY_CONTEXT_RESET_ARB = 0x8253,
109         INNOCENT_CONTEXT_RESET_ARB = 0x8254,
110         UNKNOWN_CONTEXT_RESET_ARB = 0x8255,
111         CONTEXT_ROBUST_ACCESS = 0x90F3,
112 
113         // GL_EXT/OES_packed_depth_stencil enums
114         DEPTH24_STENCIL8 = 0x88F0,
115 
116         // GL_ANGLE_framebuffer_blit names
117         READ_FRAMEBUFFER = 0x8CA8,
118         DRAW_FRAMEBUFFER = 0x8CA9,
119         DRAW_FRAMEBUFFER_BINDING = 0x8CA6,
120         READ_FRAMEBUFFER_BINDING = 0x8CAA,
121 
122         // GL_ANGLE_framebuffer_multisample names
123         RENDERBUFFER_SAMPLES = 0x8CAB,
124         FRAMEBUFFER_INCOMPLETE_MULTISAMPLE = 0x8D56,
125         MAX_SAMPLES = 0x8D57,
126 
127         // GL_IMG_multisampled_render_to_texture
128         RENDERBUFFER_SAMPLES_IMG = 0x9133,
129         FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_IMG = 0x9134,
130         MAX_SAMPLES_IMG = 0x9135,
131         TEXTURE_SAMPLES_IMG = 0x9136,
132 
133         // GL_OES_standard_derivatives names
134         FRAGMENT_SHADER_DERIVATIVE_HINT_OES = 0x8B8B,
135 
136         // GL_OES_rgb8_rgba8 names
137         RGB8_OES = 0x8051,
138         RGBA8_OES = 0x8058,
139 
140         // GL_OES_vertex_array_object names
141         VERTEX_ARRAY_BINDING_OES = 0x85B5,
142 
143         // GL_ANGLE_translated_shader_source
144         TRANSLATED_SHADER_SOURCE_LENGTH_ANGLE = 0x93A0,
145 
146         // GL_ARB_texture_rectangle
147         TEXTURE_RECTANGLE_ARB =  0x84F5,
148         TEXTURE_BINDING_RECTANGLE_ARB = 0x84F6,
149 
150         // GL_EXT_texture_compression_dxt1
151         // GL_EXT_texture_compression_s3tc
152         COMPRESSED_RGB_S3TC_DXT1_EXT = 0x83F0,
153         COMPRESSED_RGBA_S3TC_DXT1_EXT = 0x83F1,
154         COMPRESSED_RGBA_S3TC_DXT3_EXT = 0x83F2,
155         COMPRESSED_RGBA_S3TC_DXT5_EXT = 0x83F3,
156 
157         // GL_OES_compressed_ETC1_RGB8_texture
158         ETC1_RGB8_OES = 0x8D64,
159 
160         // WEBGL_compressed_texture_etc
161         COMPRESSED_R11_EAC = 0x9270,
162         COMPRESSED_SIGNED_R11_EAC = 0x9271,
163         COMPRESSED_RG11_EAC = 0x9272,
164         COMPRESSED_SIGNED_RG11_EAC = 0x9273,
165         COMPRESSED_RGB8_ETC2 = 0x9274,
166         COMPRESSED_SRGB8_ETC2 = 0x9275,
167         COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 0x9276,
168         COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 0x9277,
169         COMPRESSED_RGBA8_ETC2_EAC = 0x9278,
170         COMPRESSED_SRGB8_ALPHA8_ETC2_EAC = 0x9279,
171 
172         // GL_IMG_texture_compression_pvrtc
173         COMPRESSED_RGB_PVRTC_4BPPV1_IMG = 0x8C00,
174         COMPRESSED_RGB_PVRTC_2BPPV1_IMG = 0x8C01,
175         COMPRESSED_RGBA_PVRTC_4BPPV1_IMG = 0x8C02,
176         COMPRESSED_RGBA_PVRTC_2BPPV1_IMG = 0x8C03,
177 
178         // GL_AMD_compressed_ATC_texture
179         COMPRESSED_ATC_RGB_AMD = 0x8C92,
180         COMPRESSED_ATC_RGBA_EXPLICIT_ALPHA_AMD = 0x8C93,
181         COMPRESSED_ATC_RGBA_INTERPOLATED_ALPHA_AMD = 0x87EE,
182 
183         // GL_KHR_texture_compression_astc_hdr
184         COMPRESSED_RGBA_ASTC_4x4_KHR = 0x93B0,
185         COMPRESSED_RGBA_ASTC_5x4_KHR = 0x93B1,
186         COMPRESSED_RGBA_ASTC_5x5_KHR = 0x93B2,
187         COMPRESSED_RGBA_ASTC_6x5_KHR = 0x93B3,
188         COMPRESSED_RGBA_ASTC_6x6_KHR = 0x93B4,
189         COMPRESSED_RGBA_ASTC_8x5_KHR = 0x93B5,
190         COMPRESSED_RGBA_ASTC_8x6_KHR = 0x93B6,
191         COMPRESSED_RGBA_ASTC_8x8_KHR = 0x93B7,
192         COMPRESSED_RGBA_ASTC_10x5_KHR = 0x93B8,
193         COMPRESSED_RGBA_ASTC_10x6_KHR = 0x93B9,
194         COMPRESSED_RGBA_ASTC_10x8_KHR = 0x93BA,
195         COMPRESSED_RGBA_ASTC_10x10_KHR = 0x93BB,
196         COMPRESSED_RGBA_ASTC_12x10_KHR = 0x93BC,
197         COMPRESSED_RGBA_ASTC_12x12_KHR = 0x93BD,
198 
199         COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR = 0x93D0,
200         COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR = 0x93D1,
201         COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR = 0x93D2,
202         COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR = 0x93D3,
203         COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR = 0x93D4,
204         COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR = 0x93D5,
205         COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR = 0x93D6,
206         COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR = 0x93D7,
207         COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR = 0x93D8,
208         COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR = 0x93D9,
209         COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR = 0x93DA,
210         COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR = 0x93DB,
211         COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR = 0x93DC,
212         COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR = 0x93DD,
213 
214         // GL_EXT_texture_filter_anisotropic
215         TEXTURE_MAX_ANISOTROPY_EXT = 0x84FE,
216         MAX_TEXTURE_MAX_ANISOTROPY_EXT = 0x84FF,
217 
218         // GL_ARB_draw_buffers / GL_EXT_draw_buffers
219         MAX_DRAW_BUFFERS_EXT = 0x8824,
220         DRAW_BUFFER0_EXT = 0x8825,
221         DRAW_BUFFER1_EXT = 0x8826,
222         DRAW_BUFFER2_EXT = 0x8827,
223         DRAW_BUFFER3_EXT = 0x8828,
224         DRAW_BUFFER4_EXT = 0x8829,
225         DRAW_BUFFER5_EXT = 0x882A,
226         DRAW_BUFFER6_EXT = 0x882B,
227         DRAW_BUFFER7_EXT = 0x882C,
228         DRAW_BUFFER8_EXT = 0x882D,
229         DRAW_BUFFER9_EXT = 0x882E,
230         DRAW_BUFFER10_EXT = 0x882F,
231         DRAW_BUFFER11_EXT = 0x8830,
232         DRAW_BUFFER12_EXT = 0x8831,
233         DRAW_BUFFER13_EXT = 0x8832,
234         DRAW_BUFFER14_EXT = 0x8833,
235         DRAW_BUFFER15_EXT = 0x8834,
236         MAX_COLOR_ATTACHMENTS_EXT = 0x8CDF,
237         COLOR_ATTACHMENT0_EXT = 0x8CE0,
238         COLOR_ATTACHMENT1_EXT = 0x8CE1,
239         COLOR_ATTACHMENT2_EXT = 0x8CE2,
240         COLOR_ATTACHMENT3_EXT = 0x8CE3,
241         COLOR_ATTACHMENT4_EXT = 0x8CE4,
242         COLOR_ATTACHMENT5_EXT = 0x8CE5,
243         COLOR_ATTACHMENT6_EXT = 0x8CE6,
244         COLOR_ATTACHMENT7_EXT = 0x8CE7,
245         COLOR_ATTACHMENT8_EXT = 0x8CE8,
246         COLOR_ATTACHMENT9_EXT = 0x8CE9,
247         COLOR_ATTACHMENT10_EXT = 0x8CEA,
248         COLOR_ATTACHMENT11_EXT = 0x8CEB,
249         COLOR_ATTACHMENT12_EXT = 0x8CEC,
250         COLOR_ATTACHMENT13_EXT = 0x8CED,
251         COLOR_ATTACHMENT14_EXT = 0x8CEE,
252         COLOR_ATTACHMENT15_EXT = 0x8CEF
253     };
254 
255     // GL_ARB_robustness
256     // Note: This method&#39;s behavior differs from the GL_ARB_robustness
257     // specification in the following way:
258     // The implementation must not reset the error state during this call.
259     // If getGraphicsResetStatusARB returns an error, it should continue
260     // returning the same error. Restoring the GraphicsContextGLOpenGL is handled
261     // externally.
262     virtual int getGraphicsResetStatusARB() = 0;
263 
264     // GL_ANGLE_framebuffer_blit
265     virtual void blitFramebuffer(long srcX0, long srcY0, long srcX1, long srcY1, long dstX0, long dstY0, long dstX1, long dstY1, unsigned long mask, unsigned long filter) = 0;
266 
267     // GL_ANGLE_framebuffer_multisample
268     virtual void renderbufferStorageMultisample(unsigned long target, unsigned long samples, unsigned long internalformat, unsigned long width, unsigned long height) = 0;
269 
270     // GL_OES_vertex_array_object
271     virtual PlatformGLObject createVertexArrayOES() = 0;
272     virtual void deleteVertexArrayOES(PlatformGLObject) = 0;
273     virtual GCGLboolean isVertexArrayOES(PlatformGLObject) = 0;
274     virtual void bindVertexArrayOES(PlatformGLObject) = 0;
275 
276     // GL_ANGLE_translated_shader_source
277     virtual String getTranslatedShaderSourceANGLE(PlatformGLObject) = 0;
278 
279     // EXT Robustness - uses getGraphicsResetStatusARB
280     virtual void readnPixelsEXT(int x, int y, GCGLsizei width, GCGLsizei height, GCGLenum format, GCGLenum type, GCGLsizei bufSize, void *data) = 0;
281     virtual void getnUniformfvEXT(GCGLuint program, int location, GCGLsizei bufSize, float *params) = 0;
282     virtual void getnUniformivEXT(GCGLuint program, int location, GCGLsizei bufSize, int *params) = 0;
283 
284     // GL_EXT_debug_marker
285     virtual void insertEventMarkerEXT(const String&amp;) = 0;
286     virtual void pushGroupMarkerEXT(const String&amp;) = 0;
287     virtual void popGroupMarkerEXT(void) = 0;
288 
289     // GL_ARB_draw_buffers / GL_EXT_draw_buffers
290     virtual void drawBuffersEXT(GCGLsizei n, const GCGLenum* bufs) = 0;
291 
292     // GL_ANGLE_instanced_arrays
293     virtual void drawArraysInstanced(GCGLenum mode, GCGLint first, GCGLsizei count, GCGLsizei primcount) = 0;
294     virtual void drawElementsInstanced(GCGLenum mode, GCGLsizei count, GCGLenum type, long long offset, GCGLsizei primcount) = 0;
295     virtual void vertexAttribDivisor(GCGLuint index, GCGLuint divisor) = 0;
296 
297     virtual bool isNVIDIA() = 0;
298     virtual bool isAMD() = 0;
299     virtual bool isIntel() = 0;
300     virtual bool isImagination() = 0;
301     virtual String vendor() = 0;
302 
303     // Some configurations have bugs regarding built-in functions in their OpenGL drivers
304     // that must be avoided. Ports should implement these flags on such configurations.
305     virtual bool requiresBuiltInFunctionEmulation() = 0;
306     virtual bool requiresRestrictedMaximumTextureSize() = 0;
307 
308 };
309 
310 } // namespace WebCore
    </pre>
  </body>
</html>