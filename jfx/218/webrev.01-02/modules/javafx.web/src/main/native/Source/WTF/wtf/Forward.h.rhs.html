<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.web/src/main/native/Source/WTF/wtf/Forward.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
  2  *  Copyright (C) 2006-2018 Apple Inc. All rights reserved.
  3  *
  4  *  This library is free software; you can redistribute it and/or
  5  *  modify it under the terms of the GNU Library General Public
  6  *  License as published by the Free Software Foundation; either
  7  *  version 2 of the License, or (at your option) any later version.
  8  *
  9  *  This library is distributed in the hope that it will be useful,
 10  *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 11  *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 12  *  Library General Public License for more details.
 13  *
 14  *  You should have received a copy of the GNU Library General Public License
 15  *  along with this library; see the file COPYING.LIB.  If not, write to
 16  *  the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 17  *  Boston, MA 02110-1301, USA.
 18  *
 19  */
 20 
 21 #pragma once
 22 
 23 #include &lt;stddef.h&gt;
<a name="1" id="anc1"></a><span class="line-added"> 24 #include &lt;wtf/Platform.h&gt;</span>
 25 
 26 namespace WTF {
 27 
 28 class AtomString;
 29 class AtomStringImpl;
 30 class BinarySemaphore;
 31 class CString;
 32 class CrashOnOverflow;
 33 class FunctionDispatcher;
 34 class Hasher;
 35 class MonotonicTime;
 36 class OrdinalNumber;
 37 class PrintStream;
 38 class SHA1;
 39 class Seconds;
 40 class String;
 41 class StringBuilder;
 42 class StringImpl;
 43 class StringView;
 44 class TextPosition;
 45 class TextStream;
 46 class UniquedStringImpl;
 47 class URL;
 48 class WallTime;
 49 
 50 struct FastMalloc;
<a name="2" id="anc2"></a><span class="line-added"> 51 #if ENABLE(MALLOC_HEAP_BREAKDOWN)</span>
<span class="line-added"> 52 struct VectorMalloc;</span>
<span class="line-added"> 53 #else</span>
<span class="line-added"> 54 using VectorMalloc = FastMalloc;</span>
<span class="line-added"> 55 #endif</span>
 56 
 57 template&lt;typename&gt; class CompletionHandler;
 58 template&lt;typename T&gt; struct DumbPtrTraits;
 59 template&lt;typename T&gt; struct DumbValueTraits;
 60 template&lt;typename&gt; class Function;
 61 template&lt;typename&gt; class LazyNeverDestroyed;
 62 template&lt;typename&gt; class NeverDestroyed;
 63 template&lt;typename&gt; class OptionSet;
 64 template&lt;typename&gt; class Optional;
<a name="3" id="anc3"></a><span class="line-added"> 65 template&lt;typename T&gt; class Packed;</span>
<span class="line-added"> 66 template&lt;typename T, size_t = alignof(T)&gt; class PackedAlignedPtr;</span>
 67 template&lt;typename T, typename = DumbPtrTraits&lt;T&gt;&gt; class Ref;
 68 template&lt;typename T, typename = DumbPtrTraits&lt;T&gt;&gt; class RefPtr;
 69 template&lt;typename&gt; class StringBuffer;
 70 template&lt;typename, typename = void&gt; class StringTypeAdapter;
 71 template&lt;typename T&gt; class WeakPtr;
 72 
 73 template&lt;typename&gt; struct DefaultHash { using Hash = void; };
 74 template&lt;typename&gt; struct HashTraits;
 75 
 76 template&lt;typename&gt; struct EnumTraits;
 77 template&lt;typename E, E...&gt; struct EnumValues;
 78 
 79 template&lt;typename...&gt; class Variant;
<a name="4" id="anc4"></a><span class="line-modified"> 80 template&lt;typename, size_t = 0, typename = CrashOnOverflow, size_t = 16, typename Malloc = VectorMalloc&gt; class Vector;</span>
 81 template&lt;typename Value, typename = typename DefaultHash&lt;Value&gt;::Hash, typename = HashTraits&lt;Value&gt;&gt; class HashCountedSet;
 82 template&lt;typename KeyArg, typename MappedArg, typename = typename DefaultHash&lt;KeyArg&gt;::Hash, typename = HashTraits&lt;KeyArg&gt;, typename = HashTraits&lt;MappedArg&gt;&gt; class HashMap;
 83 template&lt;typename ValueArg, typename = typename DefaultHash&lt;ValueArg&gt;::Hash, typename = HashTraits&lt;ValueArg&gt;&gt; class HashSet;
 84 
 85 template&lt;size_t, typename&gt; struct variant_alternative;
 86 template&lt;ptrdiff_t, typename...&gt; struct __indexed_type;
 87 template&lt;ptrdiff_t _Index, typename... _Types&gt; constexpr typename __indexed_type&lt;_Index, _Types...&gt;::__type const&amp; get(Variant&lt;_Types...&gt; const&amp;);
 88 
 89 }
 90 
 91 namespace std {
 92 namespace experimental {
 93 inline namespace fundamentals_v3 {
 94 template&lt;class, class&gt; class expected;
 95 template&lt;class&gt; class unexpected;
 96 }}} // namespace std::experimental::fundamentals_v3
 97 
 98 using WTF::AtomString;
 99 using WTF::AtomStringImpl;
100 using WTF::BinarySemaphore;
101 using WTF::CString;
102 using WTF::CompletionHandler;
103 using WTF::DumbPtrTraits;
104 using WTF::DumbValueTraits;
105 using WTF::Function;
106 using WTF::FunctionDispatcher;
107 using WTF::HashCountedSet;
108 using WTF::HashMap;
109 using WTF::HashSet;
110 using WTF::Hasher;
111 using WTF::LazyNeverDestroyed;
112 using WTF::NeverDestroyed;
113 using WTF::OptionSet;
114 using WTF::Optional;
115 using WTF::OrdinalNumber;
116 using WTF::PrintStream;
117 using WTF::Ref;
118 using WTF::RefPtr;
119 using WTF::SHA1;
120 using WTF::String;
121 using WTF::StringBuffer;
122 using WTF::StringBuilder;
123 using WTF::StringImpl;
124 using WTF::StringView;
125 using WTF::TextPosition;
126 using WTF::TextStream;
127 using WTF::URL;
128 using WTF::Variant;
129 using WTF::Vector;
130 
131 template&lt;class T, class E&gt; using Expected = std::experimental::expected&lt;T, E&gt;;
132 template&lt;class E&gt; using Unexpected = std::experimental::unexpected&lt;E&gt;;
133 
134 // Sometimes an inline method simply forwards to another one and does nothing else. If it were
135 // just a forward declaration of that method then you would only need a forward declaration of
136 // its return types and parameter types too, but because it&#39;s inline and it actually needs to
137 // return / pass these types (even though it&#39;s just passing through whatever it called) you
138 // now find yourself having to actually have a full declaration of these types. That might be
139 // an include you&#39;d rather avoid.
140 //
141 // No more. Enter template magic to lazily instantiate that method!
142 //
143 // This macro makes the method work as if you&#39;d declared the return / parameter types as normal,
144 // but forces lazy instantiation of the method at the call site, at which point the caller (not
145 // the declaration) had better have a full declaration of the return / parameter types.
146 //
147 // Simply pass the forward-declared types to the macro, with an alias for each, and then define
148 // your function as you otherwise would have but using the aliased name. Why the alias? So you
149 // can be lazy on templated types! Sample usage:
150 //
151 // struct Foo; // No need to define Foo!
152 // template&lt;typename T&gt;
153 // struct A {
154 //     Foo declared(Bar); // Forward declarations of Foo and Bar are sufficient here.
155 //     // The below code would normally require a definition of Foo and Bar.
156 //     WTF_LAZY_INSTANTIATE(Foo=Foo, Bar=Bar) Foo forwarder(Bar b) { return declared(b); }
157 // };
158 #define WTF_LAZY_JOIN_UNLAZE(A, B) A##B
159 #define WTF_LAZY_JOIN(A, B) WTF_LAZY_JOIN_UNLAZE(A, B)
160 #define WTF_LAZY_ARGUMENT_NUMBER(_1, _2, _3, _4, _5, _6, _7, _8, N, ...) N
161 #define WTF_LAZY_AUGMENT(...) unused, __VA_ARGS__
162 #define WTF_LAZY_EXPAND(x) x
163 #define WTF_LAZY_NUM_ARGS_(...) WTF_LAZY_EXPAND(WTF_LAZY_ARGUMENT_NUMBER(__VA_ARGS__, 7, 6, 5, 4, 3, 2, 1, 0))
164 #define WTF_LAZY_NUM_ARGS(...) WTF_LAZY_NUM_ARGS_(WTF_LAZY_AUGMENT(__VA_ARGS__))
165 #define WTF_LAZY_FOR_EACH_TERM(F, ...) \
166     WTF_LAZY_JOIN(WTF_LAZY_FOR_EACH_TERM_, WTF_LAZY_NUM_ARGS(__VA_ARGS__))(F, (__VA_ARGS__))
167 #define WTF_LAZY_FIRST(_1, ...) _1
168 #define WTF_LAZY_REST(_1, ...) (__VA_ARGS__)
169 #define WTF_LAZY_REST_(_1, ...) __VA_ARGS__
170 #define WTF_LAZY_CALL(F, ARG) F(ARG)
171 #define WTF_LAZY_FOR_EACH_TERM_0(...)
172 #define WTF_LAZY_FOR_EACH_TERM_1(F, ARGS) WTF_LAZY_CALL(F, WTF_LAZY_FIRST ARGS) WTF_LAZY_FOR_EACH_TERM_0(F, WTF_LAZY_REST ARGS)
173 #define WTF_LAZY_FOR_EACH_TERM_2(F, ARGS) WTF_LAZY_CALL(F, WTF_LAZY_FIRST ARGS) WTF_LAZY_FOR_EACH_TERM_1(F, WTF_LAZY_REST ARGS)
174 #define WTF_LAZY_FOR_EACH_TERM_3(F, ARGS) WTF_LAZY_CALL(F, WTF_LAZY_FIRST ARGS) WTF_LAZY_FOR_EACH_TERM_2(F, WTF_LAZY_REST ARGS)
175 #define WTF_LAZY_FOR_EACH_TERM_4(F, ARGS) WTF_LAZY_CALL(F, WTF_LAZY_FIRST ARGS) WTF_LAZY_FOR_EACH_TERM_3(F, WTF_LAZY_REST ARGS)
176 #define WTF_LAZY_FOR_EACH_TERM_5(F, ARGS) WTF_LAZY_CALL(F, WTF_LAZY_FIRST ARGS) WTF_LAZY_FOR_EACH_TERM_4(F, WTF_LAZY_REST ARGS)
177 #define WTF_LAZY_FOR_EACH_TERM_6(F, ARGS) WTF_LAZY_CALL(F, WTF_LAZY_FIRST ARGS) WTF_LAZY_FOR_EACH_TERM_5(F, WTF_LAZY_REST ARGS)
178 #define WTF_LAZY_FOR_EACH_TERM_7(F, ARGS) WTF_LAZY_CALL(F, WTF_LAZY_FIRST ARGS) WTF_LAZY_FOR_EACH_TERM_6(F, WTF_LAZY_REST ARGS)
179 #define WTF_LAZY_DECLARE_ALIAS_AND_TYPE(ALIAS_AND_TYPE) typename ALIAS_AND_TYPE,
180 #define WTF_LAZY_INSTANTIATE(...)                                        \
181     template&lt;                                                            \
182     WTF_LAZY_FOR_EACH_TERM(WTF_LAZY_DECLARE_ALIAS_AND_TYPE, __VA_ARGS__) \
183     typename = void&gt;
184 
185 #define WTF_LAZY_HAS_REST_0(...)
186 #define WTF_LAZY_HAS_REST_1(...)
187 #define WTF_LAZY_HAS_REST_2 WTF_LAZY_EXPAND
188 #define WTF_LAZY_HAS_REST_3 WTF_LAZY_EXPAND
189 #define WTF_LAZY_HAS_REST_4 WTF_LAZY_EXPAND
190 #define WTF_LAZY_HAS_REST_5 WTF_LAZY_EXPAND
191 #define WTF_LAZY_HAS_REST_6 WTF_LAZY_EXPAND
192 #define WTF_LAZY_HAS_REST_7 WTF_LAZY_EXPAND
193 #define WTF_LAZY_HAS_REST_8 WTF_LAZY_EXPAND
194 #define WTF_LAZY_HAS_REST(...) \
195     WTF_LAZY_JOIN(WTF_LAZY_HAS_REST_, WTF_LAZY_NUM_ARGS(__VA_ARGS__))
<a name="5" id="anc5"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="5" type="hidden" />
</body>
</html>