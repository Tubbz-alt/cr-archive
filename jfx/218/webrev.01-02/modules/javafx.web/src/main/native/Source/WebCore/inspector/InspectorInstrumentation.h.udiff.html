<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WebCore/inspector/InspectorInstrumentation.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="InspectorInstrumentation.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="InspectorNodeFinder.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/inspector/InspectorInstrumentation.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -34,32 +34,36 @@</span>
  #include &quot;CSSSelector.h&quot;
  #include &quot;CallTracerTypes.h&quot;
  #include &quot;CanvasBase.h&quot;
  #include &quot;CanvasRenderingContext.h&quot;
  #include &quot;Database.h&quot;
<span class="udiff-line-added">+ #include &quot;DeclarativeAnimation.h&quot;</span>
  #include &quot;DocumentThreadableLoader.h&quot;
  #include &quot;Element.h&quot;
  #include &quot;EventTarget.h&quot;
  #include &quot;FormData.h&quot;
  #include &quot;Frame.h&quot;
  #include &quot;HitTestResult.h&quot;
<span class="udiff-line-modified-removed">- #include &quot;InspectorController.h&quot;</span>
<span class="udiff-line-removed">- #include &quot;InspectorInstrumentationCookie.h&quot;</span>
<span class="udiff-line-removed">- #include &quot;OffscreenCanvas.h&quot;</span>
<span class="udiff-line-modified-added">+ #include &quot;InspectorInstrumentationPublic.h&quot;</span>
  #include &quot;Page.h&quot;
  #include &quot;StorageArea.h&quot;
<span class="udiff-line-modified-removed">- #include &quot;WorkerGlobalScope.h&quot;</span>
<span class="udiff-line-modified-removed">- #include &quot;WorkerInspectorController.h&quot;</span>
<span class="udiff-line-removed">- #include &lt;JavaScriptCore/JSCInlines.h&gt;</span>
<span class="udiff-line-modified-added">+ #include &quot;WebAnimation.h&quot;</span>
<span class="udiff-line-modified-added">+ #include &lt;JavaScriptCore/ConsoleMessage.h&gt;</span>
  #include &lt;initializer_list&gt;
<span class="udiff-line-added">+ #include &lt;wtf/CompletionHandler.h&gt;</span>
  #include &lt;wtf/MemoryPressureHandler.h&gt;
  #include &lt;wtf/RefPtr.h&gt;
  
  #if ENABLE(WEBGL)
  #include &quot;WebGLRenderingContextBase.h&quot;
  #endif
  
<span class="udiff-line-added">+ #if ENABLE(WEBGPU)</span>
<span class="udiff-line-added">+ #include &quot;GPUCanvasContext.h&quot;</span>
<span class="udiff-line-added">+ #include &quot;WebGPUPipeline.h&quot;</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ </span>
  namespace Inspector {
  class ConsoleMessage;
  class ScriptArguments;
  class ScriptCallStack;
  }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -74,10 +78,11 @@</span>
  class DocumentLoader;
  class EventListener;
  class HTTPHeaderMap;
  class InspectorTimelineAgent;
  class InstrumentingAgents;
<span class="udiff-line-added">+ class KeyframeEffect;</span>
  class NetworkLoadMetrics;
  class Node;
  class PseudoElement;
  class RegisteredEventListener;
  class RenderLayer;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -86,22 +91,29 @@</span>
  class ResourceRequest;
  class ResourceResponse;
  class ScriptExecutionContext;
  class SecurityOrigin;
  class ShadowRoot;
<span class="udiff-line-added">+ class SharedBuffer;</span>
  class TimerBase;
<span class="udiff-line-added">+ class WebKitNamedFlow;</span>
<span class="udiff-line-added">+ class WorkerGlobalScope;</span>
<span class="udiff-line-added">+ class WorkerInspectorProxy;</span>
<span class="udiff-line-added">+ </span>
  #if ENABLE(WEBGL)
  class WebGLProgram;
  #endif
<span class="udiff-line-removed">- class WebKitNamedFlow;</span>
<span class="udiff-line-removed">- class WorkerInspectorProxy;</span>
  
<span class="udiff-line-modified-removed">- enum class StorageType;</span>
<span class="udiff-line-modified-added">+ #if ENABLE(WEBGPU)</span>
<span class="udiff-line-added">+ class WebGPUDevice;</span>
<span class="udiff-line-added">+ class WebGPUSwapChain;</span>
<span class="udiff-line-added">+ #endif</span>
  
<span class="udiff-line-modified-removed">- struct WebSocketFrame;</span>
<span class="udiff-line-modified-added">+ enum class StorageType : uint8_t;</span>
  
<span class="udiff-line-modified-removed">- #define FAST_RETURN_IF_NO_FRONTENDS(value) if (LIKELY(!InspectorInstrumentation::hasFrontends())) return value;</span>
<span class="udiff-line-modified-added">+ struct ComputedEffectTiming;</span>
<span class="udiff-line-added">+ struct WebSocketFrame;</span>
  
  class InspectorInstrumentation {
  public:
      static void didClearWindowObjectInWorld(Frame&amp;, DOMWrapperWorld&amp;);
      static bool isDebuggerPaused(Frame*);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -141,41 +153,41 @@</span>
      static void willSendXMLHttpRequest(ScriptExecutionContext*, const String&amp; url);
      static void willFetch(ScriptExecutionContext&amp;, const String&amp; url);
      static void didInstallTimer(ScriptExecutionContext&amp;, int timerId, Seconds timeout, bool singleShot);
      static void didRemoveTimer(ScriptExecutionContext&amp;, int timerId);
  
<span class="udiff-line-modified-removed">-     static void didPostMessage(Frame&amp;, TimerBase&amp;, JSC::ExecState&amp;);</span>
<span class="udiff-line-modified-added">+     static void didPostMessage(Frame&amp;, TimerBase&amp;, JSC::JSGlobalObject&amp;);</span>
      static void didFailPostMessage(Frame&amp;, TimerBase&amp;);
      static void willDispatchPostMessage(Frame&amp;, TimerBase&amp;);
      static void didDispatchPostMessage(Frame&amp;, TimerBase&amp;);
  
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willCallFunction(ScriptExecutionContext*, const String&amp; scriptName, int scriptLine, int scriptColumn);</span>
<span class="udiff-line-modified-removed">-     static void didCallFunction(const InspectorInstrumentationCookie&amp;, ScriptExecutionContext*);</span>
<span class="udiff-line-modified-added">+     static void willCallFunction(ScriptExecutionContext*, const String&amp; scriptName, int scriptLine, int scriptColumn);</span>
<span class="udiff-line-modified-added">+     static void didCallFunction(ScriptExecutionContext*);</span>
      static void didAddEventListener(EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
      static void willRemoveEventListener(EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
      static bool isEventListenerDisabled(EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willDispatchEvent(Document&amp;, const Event&amp;, bool hasEventListeners);</span>
<span class="udiff-line-modified-removed">-     static void didDispatchEvent(const InspectorInstrumentationCookie&amp;, bool defaultPrevented);</span>
<span class="udiff-line-modified-added">+     static void willDispatchEvent(Document&amp;, const Event&amp;);</span>
<span class="udiff-line-modified-added">+     static void didDispatchEvent(Document&amp;, const Event&amp;);</span>
      static void willHandleEvent(ScriptExecutionContext&amp;, Event&amp;, const RegisteredEventListener&amp;);
      static void didHandleEvent(ScriptExecutionContext&amp;);
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willDispatchEventOnWindow(Frame*, const Event&amp;, DOMWindow&amp;);</span>
<span class="udiff-line-modified-removed">-     static void didDispatchEventOnWindow(const InspectorInstrumentationCookie&amp;, bool defaultPrevented);</span>
<span class="udiff-line-modified-added">+     static void willDispatchEventOnWindow(Frame*, const Event&amp;, DOMWindow&amp;);</span>
<span class="udiff-line-modified-added">+     static void didDispatchEventOnWindow(Frame*, const Event&amp;);</span>
      static void eventDidResetAfterDispatch(const Event&amp;);
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willEvaluateScript(Frame&amp;, const String&amp; url, int lineNumber, int columnNumber);</span>
<span class="udiff-line-modified-removed">-     static void didEvaluateScript(const InspectorInstrumentationCookie&amp;, Frame&amp;);</span>
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willFireTimer(ScriptExecutionContext&amp;, int timerId, bool oneShot);</span>
<span class="udiff-line-modified-removed">-     static void didFireTimer(const InspectorInstrumentationCookie&amp;);</span>
<span class="udiff-line-modified-added">+     static void willEvaluateScript(Frame&amp;, const String&amp; url, int lineNumber, int columnNumber);</span>
<span class="udiff-line-modified-added">+     static void didEvaluateScript(Frame&amp;);</span>
<span class="udiff-line-modified-added">+     static void willFireTimer(ScriptExecutionContext&amp;, int timerId, bool oneShot);</span>
<span class="udiff-line-modified-added">+     static void didFireTimer(ScriptExecutionContext&amp;);</span>
      static void didInvalidateLayout(Frame&amp;);
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willLayout(Frame&amp;);</span>
<span class="udiff-line-modified-removed">-     static void didLayout(const InspectorInstrumentationCookie&amp;, RenderObject&amp;);</span>
<span class="udiff-line-modified-added">+     static void willLayout(Frame&amp;);</span>
<span class="udiff-line-modified-added">+     static void didLayout(Frame&amp;, RenderObject&amp;);</span>
      static void didScroll(Page&amp;);
      static void willComposite(Frame&amp;);
      static void didComposite(Frame&amp;);
      static void willPaint(RenderObject&amp;);
      static void didPaint(RenderObject&amp;, const LayoutRect&amp;);
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willRecalculateStyle(Document&amp;);</span>
<span class="udiff-line-modified-removed">-     static void didRecalculateStyle(const InspectorInstrumentationCookie&amp;);</span>
<span class="udiff-line-modified-added">+     static void willRecalculateStyle(Document&amp;);</span>
<span class="udiff-line-modified-added">+     static void didRecalculateStyle(Document&amp;);</span>
      static void didScheduleStyleRecalculation(Document&amp;);
      static void applyUserAgentOverride(Frame&amp;, String&amp;);
      static void applyEmulatedMedia(Frame&amp;, String&amp;);
  
      static void willSendRequest(Frame*, unsigned long identifier, DocumentLoader*, ResourceRequest&amp;, const ResourceResponse&amp; redirectResponse);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -217,37 +229,42 @@</span>
      static void frameScheduledNavigation(Frame&amp;, Seconds delay);
      static void frameClearedScheduledNavigation(Frame&amp;);
      static void defaultAppearanceDidChange(Page&amp;, bool useDarkAppearance);
      static void willDestroyCachedResource(CachedResource&amp;);
  
<span class="udiff-line-added">+     static bool willInterceptRequest(const Frame*, const ResourceRequest&amp;);</span>
<span class="udiff-line-added">+     static bool shouldInterceptResponse(const Frame&amp;, const ResourceResponse&amp;);</span>
<span class="udiff-line-added">+     static void interceptResponse(const Frame&amp;, const ResourceResponse&amp;, unsigned long identifier, CompletionHandler&lt;void(const ResourceResponse&amp;, RefPtr&lt;SharedBuffer&gt;)&gt;&amp;&amp;);</span>
<span class="udiff-line-added">+ </span>
      static void addMessageToConsole(Page&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
      static void addMessageToConsole(WorkerGlobalScope&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
  
<span class="udiff-line-modified-removed">-     static void consoleCount(Page&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="udiff-line-modified-removed">-     static void consoleCount(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="udiff-line-modified-removed">-     static void consoleCountReset(Page&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="udiff-line-modified-removed">-     static void consoleCountReset(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="udiff-line-modified-added">+     static void consoleCount(Page&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="udiff-line-modified-added">+     static void consoleCount(WorkerGlobalScope&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="udiff-line-modified-added">+     static void consoleCountReset(Page&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="udiff-line-modified-added">+     static void consoleCountReset(WorkerGlobalScope&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
  
      static void takeHeapSnapshot(Frame&amp;, const String&amp; title);
<span class="udiff-line-modified-removed">-     static void startConsoleTiming(Frame&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="udiff-line-modified-removed">-     static void startConsoleTiming(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="udiff-line-modified-removed">-     static void logConsoleTiming(Frame&amp;, JSC::ExecState*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="udiff-line-modified-removed">-     static void logConsoleTiming(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="udiff-line-modified-removed">-     static void stopConsoleTiming(Frame&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="udiff-line-modified-removed">-     static void stopConsoleTiming(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="udiff-line-modified-added">+     static void startConsoleTiming(Frame&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="udiff-line-modified-added">+     static void startConsoleTiming(WorkerGlobalScope&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="udiff-line-modified-added">+     static void logConsoleTiming(Frame&amp;, JSC::JSGlobalObject*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="udiff-line-modified-added">+     static void logConsoleTiming(WorkerGlobalScope&amp;, JSC::JSGlobalObject*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="udiff-line-modified-added">+     static void stopConsoleTiming(Frame&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="udiff-line-modified-added">+     static void stopConsoleTiming(WorkerGlobalScope&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
      static void consoleTimeStamp(Frame&amp;, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);
<span class="udiff-line-modified-removed">-     static void startProfiling(Page&amp;, JSC::ExecState*, const String&amp; title);</span>
<span class="udiff-line-modified-removed">-     static void stopProfiling(Page&amp;, JSC::ExecState*, const String&amp; title);</span>
<span class="udiff-line-modified-removed">-     static void consoleStartRecordingCanvas(CanvasRenderingContext&amp;, JSC::ExecState&amp;, JSC::JSObject* options);</span>
<span class="udiff-line-modified-added">+     static void startProfiling(Page&amp;, JSC::JSGlobalObject*, const String&amp; title);</span>
<span class="udiff-line-modified-added">+     static void stopProfiling(Page&amp;, JSC::JSGlobalObject*, const String&amp; title);</span>
<span class="udiff-line-modified-added">+     static void consoleStartRecordingCanvas(CanvasRenderingContext&amp;, JSC::JSGlobalObject&amp;, JSC::JSObject* options);</span>
<span class="udiff-line-added">+     static void consoleStopRecordingCanvas(CanvasRenderingContext&amp;);</span>
  
      static void didRequestAnimationFrame(Document&amp;, int callbackId);
      static void didCancelAnimationFrame(Document&amp;, int callbackId);
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willFireAnimationFrame(Document&amp;, int callbackId);</span>
<span class="udiff-line-modified-removed">-     static void didFireAnimationFrame(const InspectorInstrumentationCookie&amp;);</span>
<span class="udiff-line-modified-added">+     static void willFireAnimationFrame(Document&amp;, int callbackId);</span>
<span class="udiff-line-modified-added">+     static void didFireAnimationFrame(Document&amp;);</span>
  
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willFireObserverCallback(ScriptExecutionContext&amp;, const String&amp; callbackType);</span>
<span class="udiff-line-modified-removed">-     static void didFireObserverCallback(const InspectorInstrumentationCookie&amp;);</span>
<span class="udiff-line-modified-added">+     static void willFireObserverCallback(ScriptExecutionContext&amp;, const String&amp; callbackType);</span>
<span class="udiff-line-modified-added">+     static void didFireObserverCallback(ScriptExecutionContext&amp;);</span>
  
      static void didOpenDatabase(Database&amp;);
  
      static void didDispatchDOMStorageEvent(Page&amp;, const String&amp; key, const String&amp; oldValue, const String&amp; newValue, StorageType, SecurityOrigin*);
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -272,25 +289,39 @@</span>
      static void didChangeCanvasMemory(CanvasRenderingContext&amp;);
      static void recordCanvasAction(CanvasRenderingContext&amp;, const String&amp;, std::initializer_list&lt;RecordCanvasActionVariant&gt;&amp;&amp; = { });
      static void didFinishRecordingCanvasFrame(CanvasRenderingContext&amp;, bool forceDispatch = false);
  #if ENABLE(WEBGL)
      static void didEnableExtension(WebGLRenderingContextBase&amp;, const String&amp;);
<span class="udiff-line-modified-removed">-     static void didCreateProgram(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-modified-removed">-     static void willDeleteProgram(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-modified-removed">-     static bool isShaderProgramDisabled(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-modified-removed">-     static bool isShaderProgramHighlighted(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-modified-added">+     static void didCreateWebGLProgram(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-modified-added">+     static void willDestroyWebGLProgram(WebGLProgram&amp;);</span>
<span class="udiff-line-modified-added">+     static bool isWebGLProgramDisabled(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-modified-added">+     static bool isWebGLProgramHighlighted(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ #if ENABLE(WEBGPU)</span>
<span class="udiff-line-added">+     static void didCreateWebGPUDevice(WebGPUDevice&amp;);</span>
<span class="udiff-line-added">+     static void willDestroyWebGPUDevice(WebGPUDevice&amp;);</span>
<span class="udiff-line-added">+     static void willConfigureSwapChain(GPUCanvasContext&amp;, WebGPUSwapChain&amp;);</span>
<span class="udiff-line-added">+     static void didCreateWebGPUPipeline(WebGPUDevice&amp;, WebGPUPipeline&amp;);</span>
<span class="udiff-line-added">+     static void willDestroyWebGPUPipeline(WebGPUPipeline&amp;);</span>
  #endif
  
<span class="udiff-line-added">+     static void willApplyKeyframeEffect(Element&amp;, KeyframeEffect&amp;, ComputedEffectTiming);</span>
<span class="udiff-line-added">+     static void didSetWebAnimationEffect(WebAnimation&amp;);</span>
<span class="udiff-line-added">+     static void didChangeWebAnimationEffectTiming(WebAnimation&amp;);</span>
<span class="udiff-line-added">+     static void didChangeWebAnimationEffectTarget(WebAnimation&amp;);</span>
<span class="udiff-line-added">+     static void didCreateWebAnimation(WebAnimation&amp;);</span>
<span class="udiff-line-added">+     static void willDestroyWebAnimation(WebAnimation&amp;);</span>
<span class="udiff-line-added">+ </span>
      static void networkStateChanged(Page&amp;);
      static void updateApplicationCacheStatus(Frame*);
  
      static void layerTreeDidChange(Page*);
      static void renderLayerDestroyed(Page*, const RenderLayer&amp;);
  
      static void frontendCreated();
      static void frontendDeleted();
<span class="udiff-line-modified-removed">-     static bool hasFrontends() { return s_frontendCounter; }</span>
<span class="udiff-line-modified-added">+     static bool hasFrontends() { return InspectorInstrumentationPublic::hasFrontends(); }</span>
  
      static void firstFrontendCreated();
      static void lastFrontendDeleted();
  
      static bool consoleAgentEnabled(ScriptExecutionContext*);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -340,41 +371,41 @@</span>
      static void willSendXMLHttpRequestImpl(InstrumentingAgents&amp;, const String&amp; url);
      static void willFetchImpl(InstrumentingAgents&amp;, const String&amp; url);
      static void didInstallTimerImpl(InstrumentingAgents&amp;, int timerId, Seconds timeout, bool singleShot, ScriptExecutionContext&amp;);
      static void didRemoveTimerImpl(InstrumentingAgents&amp;, int timerId, ScriptExecutionContext&amp;);
  
<span class="udiff-line-modified-removed">-     static void didPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;, JSC::ExecState&amp;);</span>
<span class="udiff-line-modified-added">+     static void didPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;, JSC::JSGlobalObject&amp;);</span>
      static void didFailPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
      static void willDispatchPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
      static void didDispatchPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
  
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willCallFunctionImpl(InstrumentingAgents&amp;, const String&amp; scriptName, int scriptLine, int scriptColumn, ScriptExecutionContext*);</span>
<span class="udiff-line-modified-removed">-     static void didCallFunctionImpl(const InspectorInstrumentationCookie&amp;, ScriptExecutionContext*);</span>
<span class="udiff-line-modified-added">+     static void willCallFunctionImpl(InstrumentingAgents&amp;, const String&amp; scriptName, int scriptLine, int scriptColumn, ScriptExecutionContext*);</span>
<span class="udiff-line-modified-added">+     static void didCallFunctionImpl(InstrumentingAgents&amp;, ScriptExecutionContext*);</span>
      static void didAddEventListenerImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
      static void willRemoveEventListenerImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
      static bool isEventListenerDisabledImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willDispatchEventImpl(InstrumentingAgents&amp;, Document&amp;, const Event&amp;, bool hasEventListeners);</span>
<span class="udiff-line-modified-added">+     static void willDispatchEventImpl(InstrumentingAgents&amp;, Document&amp;, const Event&amp;);</span>
      static void willHandleEventImpl(InstrumentingAgents&amp;, Event&amp;, const RegisteredEventListener&amp;);
      static void didHandleEventImpl(InstrumentingAgents&amp;);
<span class="udiff-line-modified-removed">-     static void didDispatchEventImpl(const InspectorInstrumentationCookie&amp;, bool defaultPrevented);</span>
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willDispatchEventOnWindowImpl(InstrumentingAgents&amp;, const Event&amp;, DOMWindow&amp;);</span>
<span class="udiff-line-modified-removed">-     static void didDispatchEventOnWindowImpl(const InspectorInstrumentationCookie&amp;, bool defaultPrevented);</span>
<span class="udiff-line-modified-added">+     static void didDispatchEventImpl(InstrumentingAgents&amp;, const Event&amp;);</span>
<span class="udiff-line-modified-added">+     static void willDispatchEventOnWindowImpl(InstrumentingAgents&amp;, const Event&amp;, DOMWindow&amp;);</span>
<span class="udiff-line-modified-added">+     static void didDispatchEventOnWindowImpl(InstrumentingAgents&amp;, const Event&amp;);</span>
      static void eventDidResetAfterDispatchImpl(InstrumentingAgents&amp;, const Event&amp;);
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willEvaluateScriptImpl(InstrumentingAgents&amp;, Frame&amp;, const String&amp; url, int lineNumber, int columnNumber);</span>
<span class="udiff-line-modified-removed">-     static void didEvaluateScriptImpl(const InspectorInstrumentationCookie&amp;, Frame&amp;);</span>
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willFireTimerImpl(InstrumentingAgents&amp;, int timerId, bool oneShot, ScriptExecutionContext&amp;);</span>
<span class="udiff-line-modified-removed">-     static void didFireTimerImpl(const InspectorInstrumentationCookie&amp;);</span>
<span class="udiff-line-modified-added">+     static void willEvaluateScriptImpl(InstrumentingAgents&amp;, Frame&amp;, const String&amp; url, int lineNumber, int columnNumber);</span>
<span class="udiff-line-modified-added">+     static void didEvaluateScriptImpl(InstrumentingAgents&amp;, Frame&amp;);</span>
<span class="udiff-line-modified-added">+     static void willFireTimerImpl(InstrumentingAgents&amp;, int timerId, bool oneShot, ScriptExecutionContext&amp;);</span>
<span class="udiff-line-modified-added">+     static void didFireTimerImpl(InstrumentingAgents&amp;);</span>
      static void didInvalidateLayoutImpl(InstrumentingAgents&amp;, Frame&amp;);
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willLayoutImpl(InstrumentingAgents&amp;, Frame&amp;);</span>
<span class="udiff-line-modified-removed">-     static void didLayoutImpl(const InspectorInstrumentationCookie&amp;, RenderObject&amp;);</span>
<span class="udiff-line-modified-added">+     static void willLayoutImpl(InstrumentingAgents&amp;, Frame&amp;);</span>
<span class="udiff-line-modified-added">+     static void didLayoutImpl(InstrumentingAgents&amp;, RenderObject&amp;);</span>
      static void didScrollImpl(InstrumentingAgents&amp;);
      static void willCompositeImpl(InstrumentingAgents&amp;, Frame&amp;);
      static void didCompositeImpl(InstrumentingAgents&amp;);
      static void willPaintImpl(InstrumentingAgents&amp;, RenderObject&amp;);
      static void didPaintImpl(InstrumentingAgents&amp;, RenderObject&amp;, const LayoutRect&amp;);
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willRecalculateStyleImpl(InstrumentingAgents&amp;, Document&amp;);</span>
<span class="udiff-line-modified-removed">-     static void didRecalculateStyleImpl(const InspectorInstrumentationCookie&amp;);</span>
<span class="udiff-line-modified-added">+     static void willRecalculateStyleImpl(InstrumentingAgents&amp;, Document&amp;);</span>
<span class="udiff-line-modified-added">+     static void didRecalculateStyleImpl(InstrumentingAgents&amp;);</span>
      static void didScheduleStyleRecalculationImpl(InstrumentingAgents&amp;, Document&amp;);
      static void applyUserAgentOverrideImpl(InstrumentingAgents&amp;, String&amp;);
      static void applyEmulatedMediaImpl(InstrumentingAgents&amp;, String&amp;);
  
      static void willSendRequestImpl(InstrumentingAgents&amp;, unsigned long identifier, DocumentLoader*, ResourceRequest&amp;, const ResourceResponse&amp; redirectResponse);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -402,32 +433,37 @@</span>
      static void frameScheduledNavigationImpl(InstrumentingAgents&amp;, Frame&amp;, Seconds delay);
      static void frameClearedScheduledNavigationImpl(InstrumentingAgents&amp;, Frame&amp;);
      static void defaultAppearanceDidChangeImpl(InstrumentingAgents&amp;, bool useDarkAppearance);
      static void willDestroyCachedResourceImpl(CachedResource&amp;);
  
<span class="udiff-line-added">+     static bool willInterceptRequestImpl(InstrumentingAgents&amp;, const ResourceRequest&amp;);</span>
<span class="udiff-line-added">+     static bool shouldInterceptResponseImpl(InstrumentingAgents&amp;, const ResourceResponse&amp;);</span>
<span class="udiff-line-added">+     static void interceptResponseImpl(InstrumentingAgents&amp;, const ResourceResponse&amp;, unsigned long identifier, CompletionHandler&lt;void(const ResourceResponse&amp;, RefPtr&lt;SharedBuffer&gt;)&gt;&amp;&amp;);</span>
<span class="udiff-line-added">+ </span>
      static void addMessageToConsoleImpl(InstrumentingAgents&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
  
<span class="udiff-line-modified-removed">-     static void consoleCountImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="udiff-line-modified-removed">-     static void consoleCountResetImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="udiff-line-modified-added">+     static void consoleCountImpl(InstrumentingAgents&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="udiff-line-modified-added">+     static void consoleCountResetImpl(InstrumentingAgents&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
      static void takeHeapSnapshotImpl(InstrumentingAgents&amp;, const String&amp; title);
<span class="udiff-line-modified-removed">-     static void startConsoleTimingImpl(InstrumentingAgents&amp;, Frame&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="udiff-line-modified-removed">-     static void startConsoleTimingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="udiff-line-modified-removed">-     static void logConsoleTimingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="udiff-line-modified-removed">-     static void stopConsoleTimingImpl(InstrumentingAgents&amp;, Frame&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="udiff-line-modified-removed">-     static void stopConsoleTimingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="udiff-line-modified-added">+     static void startConsoleTimingImpl(InstrumentingAgents&amp;, Frame&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="udiff-line-modified-added">+     static void startConsoleTimingImpl(InstrumentingAgents&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="udiff-line-modified-added">+     static void logConsoleTimingImpl(InstrumentingAgents&amp;, JSC::JSGlobalObject*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="udiff-line-modified-added">+     static void stopConsoleTimingImpl(InstrumentingAgents&amp;, Frame&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="udiff-line-modified-added">+     static void stopConsoleTimingImpl(InstrumentingAgents&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
      static void consoleTimeStampImpl(InstrumentingAgents&amp;, Frame&amp;, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);
<span class="udiff-line-modified-removed">-     static void startProfilingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; title);</span>
<span class="udiff-line-modified-removed">-     static void stopProfilingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; title);</span>
<span class="udiff-line-modified-removed">-     static void consoleStartRecordingCanvasImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, JSC::ExecState&amp;, JSC::JSObject* options);</span>
<span class="udiff-line-modified-added">+     static void startProfilingImpl(InstrumentingAgents&amp;, JSC::JSGlobalObject*, const String&amp; title);</span>
<span class="udiff-line-modified-added">+     static void stopProfilingImpl(InstrumentingAgents&amp;, JSC::JSGlobalObject*, const String&amp; title);</span>
<span class="udiff-line-modified-added">+     static void consoleStartRecordingCanvasImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, JSC::JSGlobalObject&amp;, JSC::JSObject* options);</span>
<span class="udiff-line-added">+     static void consoleStopRecordingCanvasImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;);</span>
  
      static void didRequestAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);
      static void didCancelAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willFireAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);</span>
<span class="udiff-line-modified-removed">-     static void didFireAnimationFrameImpl(const InspectorInstrumentationCookie&amp;);</span>
<span class="udiff-line-modified-added">+     static void willFireAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);</span>
<span class="udiff-line-modified-added">+     static void didFireAnimationFrameImpl(InstrumentingAgents&amp;);</span>
  
<span class="udiff-line-modified-removed">-     static InspectorInstrumentationCookie willFireObserverCallbackImpl(InstrumentingAgents&amp;, const String&amp;, ScriptExecutionContext&amp;);</span>
<span class="udiff-line-modified-removed">-     static void didFireObserverCallbackImpl(const InspectorInstrumentationCookie&amp;);</span>
<span class="udiff-line-modified-added">+     static void willFireObserverCallbackImpl(InstrumentingAgents&amp;, const String&amp;, ScriptExecutionContext&amp;);</span>
<span class="udiff-line-modified-added">+     static void didFireObserverCallbackImpl(InstrumentingAgents&amp;);</span>
  
      static void didOpenDatabaseImpl(InstrumentingAgents&amp;, Database&amp;);
  
      static void didDispatchDOMStorageEventImpl(InstrumentingAgents&amp;, const String&amp; key, const String&amp; oldValue, const String&amp; newValue, StorageType, SecurityOrigin*);
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -455,34 +491,45 @@</span>
      static void didChangeCanvasMemoryImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;);
      static void recordCanvasActionImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, const String&amp;, std::initializer_list&lt;RecordCanvasActionVariant&gt;&amp;&amp; = { });
      static void didFinishRecordingCanvasFrameImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, bool forceDispatch = false);
  #if ENABLE(WEBGL)
      static void didEnableExtensionImpl(InstrumentingAgents&amp;, WebGLRenderingContextBase&amp;, const String&amp;);
<span class="udiff-line-modified-removed">-     static void didCreateProgramImpl(InstrumentingAgents&amp;, WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-modified-removed">-     static void willDeleteProgramImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-modified-removed">-     static bool isShaderProgramDisabledImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-modified-removed">-     static bool isShaderProgramHighlightedImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-modified-added">+     static void didCreateWebGLProgramImpl(InstrumentingAgents&amp;, WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-modified-added">+     static void willDestroyWebGLProgramImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-modified-added">+     static bool isWebGLProgramDisabledImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-modified-added">+     static bool isWebGLProgramHighlightedImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ #if ENABLE(WEBGPU)</span>
<span class="udiff-line-added">+     static void didCreateWebGPUDeviceImpl(InstrumentingAgents&amp;, WebGPUDevice&amp;);</span>
<span class="udiff-line-added">+     static void willDestroyWebGPUDeviceImpl(InstrumentingAgents&amp;, WebGPUDevice&amp;);</span>
<span class="udiff-line-added">+     static void willConfigureSwapChainImpl(InstrumentingAgents&amp;, GPUCanvasContext&amp;, WebGPUSwapChain&amp;);</span>
<span class="udiff-line-added">+     static void didCreateWebGPUPipelineImpl(InstrumentingAgents&amp;, WebGPUDevice&amp;, WebGPUPipeline&amp;);</span>
<span class="udiff-line-added">+     static void willDestroyWebGPUPipelineImpl(InstrumentingAgents&amp;, WebGPUPipeline&amp;);</span>
<span class="udiff-line-added">+     static InstrumentingAgents* instrumentingAgentsForWebGPUDevice(WebGPUDevice&amp;);</span>
  #endif
  
<span class="udiff-line-added">+     static void willApplyKeyframeEffectImpl(InstrumentingAgents&amp;, Element&amp;, KeyframeEffect&amp;, ComputedEffectTiming);</span>
<span class="udiff-line-added">+     static void didSetWebAnimationEffectImpl(InstrumentingAgents&amp;, WebAnimation&amp;);</span>
<span class="udiff-line-added">+     static void didChangeWebAnimationEffectTimingImpl(InstrumentingAgents&amp;, WebAnimation&amp;);</span>
<span class="udiff-line-added">+     static void didChangeWebAnimationEffectTargetImpl(InstrumentingAgents&amp;, WebAnimation&amp;);</span>
<span class="udiff-line-added">+     static void didCreateWebAnimationImpl(InstrumentingAgents&amp;, WebAnimation&amp;);</span>
<span class="udiff-line-added">+     static void willDestroyWebAnimationImpl(InstrumentingAgents&amp;, WebAnimation&amp;);</span>
<span class="udiff-line-added">+ </span>
      static void layerTreeDidChangeImpl(InstrumentingAgents&amp;);
      static void renderLayerDestroyedImpl(InstrumentingAgents&amp;, const RenderLayer&amp;);
  
      static InstrumentingAgents&amp; instrumentingAgentsForPage(Page&amp;);
      static InstrumentingAgents&amp; instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope&amp;);
  
<span class="udiff-line-modified-removed">-     static InstrumentingAgents* instrumentingAgentsForFrame(Frame&amp;);</span>
<span class="udiff-line-modified-removed">-     static InstrumentingAgents* instrumentingAgentsForFrame(Frame*);</span>
<span class="udiff-line-modified-added">+     static InstrumentingAgents* instrumentingAgentsForFrame(const Frame&amp;);</span>
<span class="udiff-line-modified-added">+     static InstrumentingAgents* instrumentingAgentsForFrame(const Frame*);</span>
      static InstrumentingAgents* instrumentingAgentsForContext(ScriptExecutionContext*);
      static InstrumentingAgents* instrumentingAgentsForContext(ScriptExecutionContext&amp;);
      static InstrumentingAgents* instrumentingAgentsForDocument(Document&amp;);
      static InstrumentingAgents* instrumentingAgentsForDocument(Document*);
      static InstrumentingAgents* instrumentingAgentsForRenderer(RenderObject&amp;);
      static InstrumentingAgents* instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope*);
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     static InspectorTimelineAgent* retrieveTimelineAgent(const InspectorInstrumentationCookie&amp;);</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     WEBCORE_EXPORT static int s_frontendCounter;</span>
  };
  
  inline void InspectorInstrumentation::didClearWindowObjectInWorld(Frame&amp; frame, DOMWrapperWorld&amp; world)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -758,11 +805,11 @@</span>
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(target.scriptExecutionContext()))
          return isEventListenerDisabledImpl(*instrumentingAgents, target, eventType, listener, capture);
      return false;
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::didPostMessage(Frame&amp; frame, TimerBase&amp; timer, JSC::ExecState&amp; state)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::didPostMessage(Frame&amp; frame, TimerBase&amp; timer, JSC::JSGlobalObject&amp; state)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          didPostMessageImpl(*instrumentingAgents, timer, state);
  }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -786,38 +833,36 @@</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          didDispatchPostMessageImpl(*instrumentingAgents, timer);
  }
  
<span class="udiff-line-modified-removed">- inline InspectorInstrumentationCookie InspectorInstrumentation::willCallFunction(ScriptExecutionContext* context, const String&amp; scriptName, int scriptLine, int scriptColumn)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::willCallFunction(ScriptExecutionContext* context, const String&amp; scriptName, int scriptLine, int scriptColumn)</span>
  {
<span class="udiff-line-modified-removed">-     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="udiff-line-modified-removed">-     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="udiff-line-modified-removed">-         return willCallFunctionImpl(*instrumentingAgents, scriptName, scriptLine, scriptColumn, context);</span>
<span class="udiff-line-removed">-     return InspectorInstrumentationCookie();</span>
<span class="udiff-line-modified-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="udiff-line-modified-added">+         willCallFunctionImpl(*instrumentingAgents, scriptName, scriptLine, scriptColumn, context);</span>
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::didCallFunction(const InspectorInstrumentationCookie&amp; cookie, ScriptExecutionContext* context)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::didCallFunction(ScriptExecutionContext* context)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="udiff-line-modified-removed">-     if (cookie.isValid())</span>
<span class="udiff-line-modified-removed">-         didCallFunctionImpl(cookie, context);</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="udiff-line-modified-added">+         didCallFunctionImpl(*instrumentingAgents, context);</span>
  }
  
<span class="udiff-line-modified-removed">- inline InspectorInstrumentationCookie InspectorInstrumentation::willDispatchEvent(Document&amp; document, const Event&amp; event, bool hasEventListeners)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::willDispatchEvent(Document&amp; document, const Event&amp; event)</span>
  {
<span class="udiff-line-modified-removed">-     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="udiff-line-modified-removed">-     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="udiff-line-modified-removed">-         return willDispatchEventImpl(*instrumentingAgents, document, event, hasEventListeners);</span>
<span class="udiff-line-removed">-     return InspectorInstrumentationCookie();</span>
<span class="udiff-line-modified-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="udiff-line-modified-added">+         willDispatchEventImpl(*instrumentingAgents, document, event);</span>
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::didDispatchEvent(const InspectorInstrumentationCookie&amp; cookie, bool defaultPrevented)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::didDispatchEvent(Document&amp; document, const Event&amp; event)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="udiff-line-modified-removed">-     if (cookie.isValid())</span>
<span class="udiff-line-modified-removed">-         didDispatchEventImpl(cookie, defaultPrevented);</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="udiff-line-modified-added">+         didDispatchEventImpl(*instrumentingAgents, event);</span>
  }
  
  inline void InspectorInstrumentation::willHandleEvent(ScriptExecutionContext&amp; context, Event&amp; event, const RegisteredEventListener&amp; listener)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -830,23 +875,22 @@</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
          return didHandleEventImpl(*instrumentingAgents);
  }
  
<span class="udiff-line-modified-removed">- inline InspectorInstrumentationCookie InspectorInstrumentation::willDispatchEventOnWindow(Frame* frame, const Event&amp; event, DOMWindow&amp; window)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::willDispatchEventOnWindow(Frame* frame, const Event&amp; event, DOMWindow&amp; window)</span>
  {
<span class="udiff-line-modified-removed">-     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="udiff-line-modified-removed">-     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="udiff-line-modified-removed">-         return willDispatchEventOnWindowImpl(*instrumentingAgents, event, window);</span>
<span class="udiff-line-removed">-     return InspectorInstrumentationCookie();</span>
<span class="udiff-line-modified-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="udiff-line-modified-added">+         willDispatchEventOnWindowImpl(*instrumentingAgents, event, window);</span>
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::didDispatchEventOnWindow(const InspectorInstrumentationCookie&amp; cookie, bool defaultPrevented)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::didDispatchEventOnWindow(Frame* frame, const Event&amp; event)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="udiff-line-modified-removed">-     if (cookie.isValid())</span>
<span class="udiff-line-modified-removed">-         didDispatchEventOnWindowImpl(cookie, defaultPrevented);</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="udiff-line-modified-added">+         didDispatchEventOnWindowImpl(*instrumentingAgents, event);</span>
  }
  
  inline void InspectorInstrumentation::eventDidResetAfterDispatch(const Event&amp; event)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -857,60 +901,57 @@</span>
      auto* node = downcast&lt;Node&gt;(event.target());
      if (auto* instrumentingAgents = instrumentingAgentsForContext(node-&gt;scriptExecutionContext()))
          return eventDidResetAfterDispatchImpl(*instrumentingAgents, event);
  }
  
<span class="udiff-line-modified-removed">- inline InspectorInstrumentationCookie InspectorInstrumentation::willEvaluateScript(Frame&amp; frame, const String&amp; url, int lineNumber, int columnNumber)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::willEvaluateScript(Frame&amp; frame, const String&amp; url, int lineNumber, int columnNumber)</span>
  {
<span class="udiff-line-modified-removed">-     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="udiff-line-modified-removed">-     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="udiff-line-modified-removed">-         return willEvaluateScriptImpl(*instrumentingAgents, frame, url, lineNumber, columnNumber);</span>
<span class="udiff-line-removed">-     return InspectorInstrumentationCookie();</span>
<span class="udiff-line-modified-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="udiff-line-modified-added">+         willEvaluateScriptImpl(*instrumentingAgents, frame, url, lineNumber, columnNumber);</span>
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::didEvaluateScript(const InspectorInstrumentationCookie&amp; cookie, Frame&amp; frame)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::didEvaluateScript(Frame&amp; frame)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="udiff-line-modified-removed">-     if (cookie.isValid())</span>
<span class="udiff-line-modified-removed">-         didEvaluateScriptImpl(cookie, frame);</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="udiff-line-modified-added">+         didEvaluateScriptImpl(*instrumentingAgents, frame);</span>
  }
  
<span class="udiff-line-modified-removed">- inline InspectorInstrumentationCookie InspectorInstrumentation::willFireTimer(ScriptExecutionContext&amp; context, int timerId, bool oneShot)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::willFireTimer(ScriptExecutionContext&amp; context, int timerId, bool oneShot)</span>
  {
<span class="udiff-line-modified-removed">-     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="udiff-line-modified-removed">-     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="udiff-line-modified-removed">-         return willFireTimerImpl(*instrumentingAgents, timerId, oneShot, context);</span>
<span class="udiff-line-removed">-     return InspectorInstrumentationCookie();</span>
<span class="udiff-line-modified-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="udiff-line-modified-added">+         willFireTimerImpl(*instrumentingAgents, timerId, oneShot, context);</span>
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::didFireTimer(const InspectorInstrumentationCookie&amp; cookie)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::didFireTimer(ScriptExecutionContext&amp; context)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="udiff-line-modified-removed">-     if (cookie.isValid())</span>
<span class="udiff-line-modified-removed">-         didFireTimerImpl(cookie);</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="udiff-line-modified-added">+         didFireTimerImpl(*instrumentingAgents);</span>
  }
  
  inline void InspectorInstrumentation::didInvalidateLayout(Frame&amp; frame)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          didInvalidateLayoutImpl(*instrumentingAgents, frame);
  }
  
<span class="udiff-line-modified-removed">- inline InspectorInstrumentationCookie InspectorInstrumentation::willLayout(Frame&amp; frame)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::willLayout(Frame&amp; frame)</span>
  {
<span class="udiff-line-modified-removed">-     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="udiff-line-modified-removed">-     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="udiff-line-modified-removed">-         return willLayoutImpl(*instrumentingAgents, frame);</span>
<span class="udiff-line-removed">-     return InspectorInstrumentationCookie();</span>
<span class="udiff-line-modified-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="udiff-line-modified-added">+         willLayoutImpl(*instrumentingAgents, frame);</span>
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::didLayout(const InspectorInstrumentationCookie&amp; cookie, RenderObject&amp; root)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::didLayout(Frame&amp; frame, RenderObject&amp; root)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="udiff-line-modified-removed">-     if (cookie.isValid())</span>
<span class="udiff-line-modified-removed">-         didLayoutImpl(cookie, root);</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="udiff-line-modified-added">+         didLayoutImpl(*instrumentingAgents, root);</span>
  }
  
  inline void InspectorInstrumentation::didScroll(Page&amp; page)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -943,23 +984,22 @@</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForRenderer(renderer))
          didPaintImpl(*instrumentingAgents, renderer, rect);
  }
  
<span class="udiff-line-modified-removed">- inline InspectorInstrumentationCookie InspectorInstrumentation::willRecalculateStyle(Document&amp; document)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::willRecalculateStyle(Document&amp; document)</span>
  {
<span class="udiff-line-modified-removed">-     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="udiff-line-modified-removed">-     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="udiff-line-modified-removed">-         return willRecalculateStyleImpl(*instrumentingAgents, document);</span>
<span class="udiff-line-removed">-     return InspectorInstrumentationCookie();</span>
<span class="udiff-line-modified-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="udiff-line-modified-added">+         willRecalculateStyleImpl(*instrumentingAgents, document);</span>
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::didRecalculateStyle(const InspectorInstrumentationCookie&amp; cookie)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::didRecalculateStyle(Document&amp; document)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="udiff-line-modified-removed">-     if (cookie.isValid())</span>
<span class="udiff-line-modified-removed">-         didRecalculateStyleImpl(cookie);</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="udiff-line-modified-added">+         didRecalculateStyleImpl(*instrumentingAgents);</span>
  }
  
  inline void InspectorInstrumentation::didScheduleStyleRecalculation(Document&amp; document)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1197,10 +1237,33 @@</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      willDestroyCachedResourceImpl(cachedResource);
  }
  
<span class="udiff-line-added">+ inline bool InspectorInstrumentation::willInterceptRequest(const Frame* frame, const ResourceRequest&amp; request)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     FAST_RETURN_IF_NO_FRONTENDS(false);</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="udiff-line-added">+         return willInterceptRequestImpl(*instrumentingAgents, request);</span>
<span class="udiff-line-added">+     return false;</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ inline bool InspectorInstrumentation::shouldInterceptResponse(const Frame&amp; frame, const ResourceResponse&amp; response)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     ASSERT(InspectorInstrumentationPublic::hasFrontends());</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="udiff-line-added">+         return shouldInterceptResponseImpl(*instrumentingAgents, response);</span>
<span class="udiff-line-added">+     return false;</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ inline void InspectorInstrumentation::interceptResponse(const Frame&amp; frame, const ResourceResponse&amp; response, unsigned long identifier, CompletionHandler&lt;void(const ResourceResponse&amp;, RefPtr&lt;SharedBuffer&gt;)&gt;&amp;&amp; handler)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     ASSERT(InspectorInstrumentation::shouldInterceptResponse(frame, response));</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="udiff-line-added">+         interceptResponseImpl(*instrumentingAgents, response, identifier, WTFMove(handler));</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
  inline void InspectorInstrumentation::didOpenDatabase(Database&amp; database)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (auto* instrumentingAgents = instrumentingAgentsForContext(database.document()))
          didOpenDatabaseImpl(*instrumentingAgents, database);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1332,41 +1395,120 @@</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
          didEnableExtensionImpl(*instrumentingAgents, contextWebGLBase, extension);
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::didCreateProgram(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::didCreateWebGLProgram(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
<span class="udiff-line-modified-removed">-         didCreateProgramImpl(*instrumentingAgents, contextWebGLBase, program);</span>
<span class="udiff-line-modified-added">+         didCreateWebGLProgramImpl(*instrumentingAgents, contextWebGLBase, program);</span>
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::willDeleteProgram(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::willDestroyWebGLProgram(WebGLProgram&amp; program)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="udiff-line-modified-removed">-     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))</span>
<span class="udiff-line-modified-removed">-         willDeleteProgramImpl(*instrumentingAgents, program);</span>
<span class="udiff-line-modified-added">+     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(program.scriptExecutionContext()))</span>
<span class="udiff-line-modified-added">+         willDestroyWebGLProgramImpl(*instrumentingAgents, program);</span>
  }
  
<span class="udiff-line-modified-removed">- inline bool InspectorInstrumentation::isShaderProgramDisabled(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)</span>
<span class="udiff-line-modified-added">+ inline bool InspectorInstrumentation::isWebGLProgramDisabled(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(false);
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
<span class="udiff-line-modified-removed">-         return isShaderProgramDisabledImpl(*instrumentingAgents, program);</span>
<span class="udiff-line-modified-added">+         return isWebGLProgramDisabledImpl(*instrumentingAgents, program);</span>
      return false;
  }
  
<span class="udiff-line-modified-removed">- inline bool InspectorInstrumentation::isShaderProgramHighlighted(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)</span>
<span class="udiff-line-modified-added">+ inline bool InspectorInstrumentation::isWebGLProgramHighlighted(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(false);
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
<span class="udiff-line-modified-removed">-         return isShaderProgramHighlightedImpl(*instrumentingAgents, program);</span>
<span class="udiff-line-modified-added">+         return isWebGLProgramHighlightedImpl(*instrumentingAgents, program);</span>
      return false;
  }
  #endif
  
<span class="udiff-line-added">+ #if ENABLE(WEBGPU)</span>
<span class="udiff-line-added">+ inline void InspectorInstrumentation::didCreateWebGPUDevice(WebGPUDevice&amp; device)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForWebGPUDevice(device))</span>
<span class="udiff-line-added">+         didCreateWebGPUDeviceImpl(*instrumentingAgents, device);</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ inline void InspectorInstrumentation::willDestroyWebGPUDevice(WebGPUDevice&amp; device)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForWebGPUDevice(device))</span>
<span class="udiff-line-added">+         willDestroyWebGPUDeviceImpl(*instrumentingAgents, device);</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ inline void InspectorInstrumentation::willConfigureSwapChain(GPUCanvasContext&amp; contextGPU, WebGPUSwapChain&amp; newSwapChain)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(contextGPU.canvasBase().scriptExecutionContext()))</span>
<span class="udiff-line-added">+         willConfigureSwapChainImpl(*instrumentingAgents, contextGPU, newSwapChain);</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ inline void InspectorInstrumentation::didCreateWebGPUPipeline(WebGPUDevice&amp; device, WebGPUPipeline&amp; pipeline)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForWebGPUDevice(device))</span>
<span class="udiff-line-added">+         didCreateWebGPUPipelineImpl(*instrumentingAgents, device, pipeline);</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ inline void InspectorInstrumentation::willDestroyWebGPUPipeline(WebGPUPipeline&amp; pipeline)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(pipeline.scriptExecutionContext()))</span>
<span class="udiff-line-added">+         willDestroyWebGPUPipelineImpl(*instrumentingAgents, pipeline);</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ inline void InspectorInstrumentation::willApplyKeyframeEffect(Element&amp; target, KeyframeEffect&amp; effect, ComputedEffectTiming computedTiming)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForDocument(target.document()))</span>
<span class="udiff-line-added">+         willApplyKeyframeEffectImpl(*instrumentingAgents, target, effect, computedTiming);</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ inline void InspectorInstrumentation::didSetWebAnimationEffect(WebAnimation&amp; animation)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(animation.scriptExecutionContext()))</span>
<span class="udiff-line-added">+         didSetWebAnimationEffectImpl(*instrumentingAgents, animation);</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ inline void InspectorInstrumentation::didChangeWebAnimationEffectTiming(WebAnimation&amp; animation)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(animation.scriptExecutionContext()))</span>
<span class="udiff-line-added">+         didChangeWebAnimationEffectTimingImpl(*instrumentingAgents, animation);</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ inline void InspectorInstrumentation::didChangeWebAnimationEffectTarget(WebAnimation&amp; animation)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(animation.scriptExecutionContext()))</span>
<span class="udiff-line-added">+         didChangeWebAnimationEffectTargetImpl(*instrumentingAgents, animation);</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ inline void InspectorInstrumentation::didCreateWebAnimation(WebAnimation&amp; animation)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(animation.scriptExecutionContext()))</span>
<span class="udiff-line-added">+         didCreateWebAnimationImpl(*instrumentingAgents, animation);</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ inline void InspectorInstrumentation::willDestroyWebAnimation(WebAnimation&amp; animation)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(animation.scriptExecutionContext()))</span>
<span class="udiff-line-added">+         willDestroyWebAnimationImpl(*instrumentingAgents, animation);</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
  inline void InspectorInstrumentation::networkStateChanged(Page&amp; page)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      networkStateChangedImpl(instrumentingAgentsForPage(page));
  }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1386,26 +1528,26 @@</span>
  inline void InspectorInstrumentation::addMessageToConsole(WorkerGlobalScope&amp; workerGlobalScope, std::unique_ptr&lt;Inspector::ConsoleMessage&gt; message)
  {
      addMessageToConsoleImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), WTFMove(message));
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::consoleCount(Page&amp; page, JSC::ExecState* state, const String&amp; label)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::consoleCount(Page&amp; page, JSC::JSGlobalObject* state, const String&amp; label)</span>
  {
      consoleCountImpl(instrumentingAgentsForPage(page), state, label);
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::consoleCount(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* state, const String&amp; label)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::consoleCount(WorkerGlobalScope&amp; workerGlobalScope, JSC::JSGlobalObject* state, const String&amp; label)</span>
  {
      consoleCountImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), state, label);
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::consoleCountReset(Page&amp; page, JSC::ExecState* state, const String&amp; label)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::consoleCountReset(Page&amp; page, JSC::JSGlobalObject* state, const String&amp; label)</span>
  {
      consoleCountResetImpl(instrumentingAgentsForPage(page), state, label);
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::consoleCountReset(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* state, const String&amp; label)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::consoleCountReset(WorkerGlobalScope&amp; workerGlobalScope, JSC::JSGlobalObject* state, const String&amp; label)</span>
  {
      consoleCountResetImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), state, label);
  }
  
  inline void InspectorInstrumentation::takeHeapSnapshot(Frame&amp; frame, const String&amp; title)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1413,39 +1555,39 @@</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          takeHeapSnapshotImpl(*instrumentingAgents, title);
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::startConsoleTiming(Frame&amp; frame, JSC::ExecState* exec, const String&amp; label)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::startConsoleTiming(Frame&amp; frame, JSC::JSGlobalObject* exec, const String&amp; label)</span>
  {
      if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))
          startConsoleTimingImpl(*instrumentingAgents, frame, exec, label);
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::startConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* exec, const String&amp; label)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::startConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::JSGlobalObject* exec, const String&amp; label)</span>
  {
      startConsoleTimingImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), exec, label);
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::logConsoleTiming(Frame&amp; frame, JSC::ExecState* exec, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::logConsoleTiming(Frame&amp; frame, JSC::JSGlobalObject* exec, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
      if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))
          logConsoleTimingImpl(*instrumentingAgents, exec, label, WTFMove(arguments));
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::logConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* exec, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::logConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::JSGlobalObject* exec, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
      logConsoleTimingImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), exec, label, WTFMove(arguments));
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::stopConsoleTiming(Frame&amp; frame, JSC::ExecState* exec, const String&amp; label)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::stopConsoleTiming(Frame&amp; frame, JSC::JSGlobalObject* exec, const String&amp; label)</span>
  {
      if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))
          stopConsoleTimingImpl(*instrumentingAgents, frame, exec, label);
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::stopConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* exec, const String&amp; label)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::stopConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::JSGlobalObject* exec, const String&amp; label)</span>
  {
      stopConsoleTimingImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), exec, label);
  }
  
  inline void InspectorInstrumentation::consoleTimeStamp(Frame&amp; frame, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1453,29 +1595,34 @@</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          consoleTimeStampImpl(*instrumentingAgents, frame, WTFMove(arguments));
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::startProfiling(Page&amp; page, JSC::ExecState* exec, const String &amp;title)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::startProfiling(Page&amp; page, JSC::JSGlobalObject* exec, const String &amp;title)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      startProfilingImpl(instrumentingAgentsForPage(page), exec, title);
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::stopProfiling(Page&amp; page, JSC::ExecState* exec, const String &amp;title)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::stopProfiling(Page&amp; page, JSC::JSGlobalObject* exec, const String &amp;title)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      stopProfilingImpl(instrumentingAgentsForPage(page), exec, title);
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::consoleStartRecordingCanvas(CanvasRenderingContext&amp; context, JSC::ExecState&amp; exec, JSC::JSObject* options)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::consoleStartRecordingCanvas(CanvasRenderingContext&amp; context, JSC::JSGlobalObject&amp; exec, JSC::JSObject* options)</span>
  {
<span class="udiff-line-removed">-     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))
          consoleStartRecordingCanvasImpl(*instrumentingAgents, context, exec, options);
  }
  
<span class="udiff-line-added">+ inline void InspectorInstrumentation::consoleStopRecordingCanvas(CanvasRenderingContext&amp; context)</span>
<span class="udiff-line-added">+ {</span>
<span class="udiff-line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))</span>
<span class="udiff-line-added">+         consoleStopRecordingCanvasImpl(*instrumentingAgents, context);</span>
<span class="udiff-line-added">+ }</span>
<span class="udiff-line-added">+ </span>
  inline void InspectorInstrumentation::didRequestAnimationFrame(Document&amp; document, int callbackId)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
          didRequestAnimationFrameImpl(*instrumentingAgents, callbackId, document);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1486,38 +1633,36 @@</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
          didCancelAnimationFrameImpl(*instrumentingAgents, callbackId, document);
  }
  
<span class="udiff-line-modified-removed">- inline InspectorInstrumentationCookie InspectorInstrumentation::willFireAnimationFrame(Document&amp; document, int callbackId)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::willFireAnimationFrame(Document&amp; document, int callbackId)</span>
  {
<span class="udiff-line-modified-removed">-     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="udiff-line-modified-removed">-     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="udiff-line-modified-removed">-         return willFireAnimationFrameImpl(*instrumentingAgents, callbackId, document);</span>
<span class="udiff-line-removed">-     return InspectorInstrumentationCookie();</span>
<span class="udiff-line-modified-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="udiff-line-modified-added">+         willFireAnimationFrameImpl(*instrumentingAgents, callbackId, document);</span>
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::didFireAnimationFrame(const InspectorInstrumentationCookie&amp; cookie)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::didFireAnimationFrame(Document&amp; document)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="udiff-line-modified-removed">-     if (cookie.isValid())</span>
<span class="udiff-line-modified-removed">-         didFireAnimationFrameImpl(cookie);</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="udiff-line-modified-added">+         didFireAnimationFrameImpl(*instrumentingAgents);</span>
  }
  
<span class="udiff-line-modified-removed">- inline InspectorInstrumentationCookie InspectorInstrumentation::willFireObserverCallback(ScriptExecutionContext&amp; context, const String&amp; callbackType)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::willFireObserverCallback(ScriptExecutionContext&amp; context, const String&amp; callbackType)</span>
  {
<span class="udiff-line-modified-removed">-     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="udiff-line-modified-removed">-     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="udiff-line-modified-removed">-         return willFireObserverCallbackImpl(*instrumentingAgents, callbackType, context);</span>
<span class="udiff-line-removed">-     return InspectorInstrumentationCookie();</span>
<span class="udiff-line-modified-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="udiff-line-modified-added">+         willFireObserverCallbackImpl(*instrumentingAgents, callbackType, context);</span>
  }
  
<span class="udiff-line-modified-removed">- inline void InspectorInstrumentation::didFireObserverCallback(const InspectorInstrumentationCookie&amp; cookie)</span>
<span class="udiff-line-modified-added">+ inline void InspectorInstrumentation::didFireObserverCallback(ScriptExecutionContext&amp; context)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="udiff-line-modified-removed">-     if (cookie.isValid())</span>
<span class="udiff-line-modified-removed">-         didFireObserverCallbackImpl(cookie);</span>
<span class="udiff-line-modified-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="udiff-line-modified-added">+         didFireObserverCallbackImpl(*instrumentingAgents);</span>
  }
  
  inline void InspectorInstrumentation::layerTreeDidChange(Page* page)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1535,25 +1680,16 @@</span>
  inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForContext(ScriptExecutionContext* context)
  {
      return context ? instrumentingAgentsForContext(*context) : nullptr;
  }
  
<span class="udiff-line-modified-removed">- inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForContext(ScriptExecutionContext&amp; context)</span>
<span class="udiff-line-removed">- {</span>
<span class="udiff-line-removed">-     if (is&lt;Document&gt;(context))</span>
<span class="udiff-line-removed">-         return instrumentingAgentsForPage(downcast&lt;Document&gt;(context).page());</span>
<span class="udiff-line-removed">-     if (is&lt;WorkerGlobalScope&gt;(context))</span>
<span class="udiff-line-removed">-         return &amp;instrumentingAgentsForWorkerGlobalScope(downcast&lt;WorkerGlobalScope&gt;(context));</span>
<span class="udiff-line-removed">-     return nullptr;</span>
<span class="udiff-line-removed">- }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForFrame(Frame* frame)</span>
<span class="udiff-line-modified-added">+ inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForFrame(const Frame* frame)</span>
  {
      return frame ? instrumentingAgentsForFrame(*frame) : nullptr;
  }
  
<span class="udiff-line-modified-removed">- inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForFrame(Frame&amp; frame)</span>
<span class="udiff-line-modified-added">+ inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForFrame(const Frame&amp; frame)</span>
  {
      return instrumentingAgentsForPage(frame.page());
  }
  
  inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForDocument(Document* document)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1572,40 +1708,29 @@</span>
  inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForPage(Page* page)
  {
      return page ? &amp;instrumentingAgentsForPage(*page) : nullptr;
  }
  
<span class="udiff-line-removed">- inline InstrumentingAgents&amp; InspectorInstrumentation::instrumentingAgentsForPage(Page&amp; page)</span>
<span class="udiff-line-removed">- {</span>
<span class="udiff-line-removed">-     ASSERT(isMainThread());</span>
<span class="udiff-line-removed">-     return page.inspectorController().m_instrumentingAgents.get();</span>
<span class="udiff-line-removed">- }</span>
<span class="udiff-line-removed">- </span>
  inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope* workerGlobalScope)
  {
      return workerGlobalScope ? &amp;instrumentingAgentsForWorkerGlobalScope(*workerGlobalScope) : nullptr;
  }
  
<span class="udiff-line-removed">- inline InstrumentingAgents&amp; InspectorInstrumentation::instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope&amp; workerGlobalScope)</span>
<span class="udiff-line-removed">- {</span>
<span class="udiff-line-removed">-     return workerGlobalScope.inspectorController().m_instrumentingAgents;</span>
<span class="udiff-line-removed">- }</span>
<span class="udiff-line-removed">- </span>
  inline void InspectorInstrumentation::frontendCreated()
  {
      ASSERT(isMainThread());
<span class="udiff-line-modified-removed">-     s_frontendCounter++;</span>
<span class="udiff-line-modified-added">+     ++InspectorInstrumentationPublic::s_frontendCounter;</span>
  
<span class="udiff-line-modified-removed">-     if (s_frontendCounter == 1)</span>
<span class="udiff-line-modified-added">+     if (InspectorInstrumentationPublic::s_frontendCounter == 1)</span>
          InspectorInstrumentation::firstFrontendCreated();
  }
  
  inline void InspectorInstrumentation::frontendDeleted()
  {
      ASSERT(isMainThread());
<span class="udiff-line-modified-removed">-     s_frontendCounter--;</span>
<span class="udiff-line-modified-added">+     --InspectorInstrumentationPublic::s_frontendCounter;</span>
  
<span class="udiff-line-modified-removed">-     if (!s_frontendCounter)</span>
<span class="udiff-line-modified-added">+     if (!InspectorInstrumentationPublic::s_frontendCounter)</span>
          InspectorInstrumentation::lastFrontendDeleted();
  }
  
  } // namespace WebCore
</pre>
<center><a href="InspectorInstrumentation.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="InspectorNodeFinder.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>