<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/WebCoreMacros.cmake</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="SourcesWPE.txt.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="WebCorePrefix.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/WebCoreMacros.cmake</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 62,10 ***</span>
<span class="line-new-header">--- 62,11 ---</span>
      set(multiValueArgs INPUT_FILES IDL_INCLUDES PP_EXTRA_OUTPUT PP_EXTRA_ARGS)
      cmake_parse_arguments(arg &quot;${options}&quot; &quot;${oneValueArgs}&quot; &quot;${multiValueArgs}&quot; ${ARGN})
      set(binding_generator ${WEBCORE_DIR}/bindings/scripts/generate-bindings-all.pl)
      set(idl_attributes_file ${WEBCORE_DIR}/bindings/scripts/IDLAttributes.json)
      set(idl_files_list ${CMAKE_CURRENT_BINARY_DIR}/idl_files_${target}.tmp)
<span class="line-added">+     set(idl_include_list ${CMAKE_CURRENT_BINARY_DIR}/idl_include_${target}.tmp)</span>
      set(_supplemental_dependency)
  
      set(content)
      foreach (f ${arg_INPUT_FILES})
          if (NOT IS_ABSOLUTE ${f})
</pre>
<hr />
<pre>
<span class="line-old-header">*** 78,44 ***</span>
      set(args
          --defines ${arg_FEATURES}
          --generator ${arg_GENERATOR}
          --outputDir ${arg_DESTINATION}
          --idlFilesList ${idl_files_list}
          --preprocessor &quot;${CODE_GENERATOR_PREPROCESSOR}&quot;
          --idlAttributesFile ${idl_attributes_file}
      )
      if (arg_SUPPLEMENTAL_DEPFILE)
          list(APPEND args --supplementalDependencyFile ${arg_SUPPLEMENTAL_DEPFILE})
      endif ()
      ProcessorCount(PROCESSOR_COUNT)
      if (PROCESSOR_COUNT)
          list(APPEND args --numOfJobs ${PROCESSOR_COUNT})
      endif ()
<span class="line-modified">! </span>
<span class="line-modified">!     # https://support.microsoft.com/en-in/help/830473/command-prompt-cmd-exe-command-line-string-limitation</span>
<span class="line-modified">!     # pass --include dir list to tmp file instead of multiple argument</span>
<span class="line-modified">!     if (WIN32 AND PORT STREQUAL &quot;Java&quot;)</span>
<span class="line-modified">!         set(include_dir_list ${CMAKE_CURRENT_BINARY_DIR}/include_dir_${target}.tmp)</span>
<span class="line-modified">!         set(includeDirectories)</span>
<span class="line-modified">!         foreach (i IN LISTS arg_IDL_INCLUDES)</span>
<span class="line-modified">!             if (IS_ABSOLUTE ${i})</span>
<span class="line-modified">!                 set(includeDirectories &quot;${includeDirectories}${i}\n&quot;)</span>
<span class="line-modified">!             else ()</span>
<span class="line-removed">-                 set(includeDirectories &quot;${includeDirectories}${CMAKE_CURRENT_SOURCE_DIR}/${i}\n&quot;)</span>
<span class="line-removed">-             endif ()</span>
<span class="line-removed">-         endforeach ()</span>
<span class="line-removed">-         file(WRITE ${include_dir_list} ${includeDirectories})</span>
<span class="line-removed">-         list(APPEND args --includeDirList ${include_dir_list})</span>
<span class="line-removed">-     else ()</span>
<span class="line-removed">-             foreach (i IN LISTS arg_IDL_INCLUDES)</span>
<span class="line-removed">-             if (IS_ABSOLUTE ${i})</span>
<span class="line-removed">-                 list(APPEND args --include ${i})</span>
<span class="line-removed">-             else ()</span>
<span class="line-removed">-                 list(APPEND args --include ${CMAKE_CURRENT_SOURCE_DIR}/${i})</span>
<span class="line-removed">-             endif ()</span>
<span class="line-removed">-         endforeach ()</span>
<span class="line-removed">-     endif ()</span>
  
      foreach (i IN LISTS arg_PP_EXTRA_OUTPUT)
          list(APPEND args --ppExtraOutput ${i})
      endforeach ()
      foreach (i IN LISTS arg_PP_EXTRA_ARGS)
<span class="line-new-header">--- 79,31 ---</span>
      set(args
          --defines ${arg_FEATURES}
          --generator ${arg_GENERATOR}
          --outputDir ${arg_DESTINATION}
          --idlFilesList ${idl_files_list}
<span class="line-added">+         --includeDirsList ${idl_include_list}</span>
          --preprocessor &quot;${CODE_GENERATOR_PREPROCESSOR}&quot;
          --idlAttributesFile ${idl_attributes_file}
      )
      if (arg_SUPPLEMENTAL_DEPFILE)
          list(APPEND args --supplementalDependencyFile ${arg_SUPPLEMENTAL_DEPFILE})
      endif ()
      ProcessorCount(PROCESSOR_COUNT)
      if (PROCESSOR_COUNT)
          list(APPEND args --numOfJobs ${PROCESSOR_COUNT})
      endif ()
<span class="line-modified">!     set(include_dir)</span>
<span class="line-modified">!     foreach (i IN LISTS arg_IDL_INCLUDES)</span>
<span class="line-modified">!         if (IS_ABSOLUTE ${i})</span>
<span class="line-modified">!             set(f ${i})</span>
<span class="line-modified">!         else ()</span>
<span class="line-modified">!             set(f ${CMAKE_CURRENT_SOURCE_DIR}/${i})</span>
<span class="line-modified">!         endif ()</span>
<span class="line-modified">!         set(include_dir &quot;${include_dir}${f}\n&quot;)</span>
<span class="line-modified">!     endforeach ()</span>
<span class="line-modified">!     file(WRITE ${idl_include_list} ${include_dir})</span>
  
      foreach (i IN LISTS arg_PP_EXTRA_OUTPUT)
          list(APPEND args --ppExtraOutput ${i})
      endforeach ()
      foreach (i IN LISTS arg_PP_EXTRA_ARGS)
</pre>
<center><a href="SourcesWPE.txt.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="WebCorePrefix.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>