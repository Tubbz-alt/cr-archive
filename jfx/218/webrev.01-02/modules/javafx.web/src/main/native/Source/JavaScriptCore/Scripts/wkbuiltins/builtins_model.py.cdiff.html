<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/Scripts/wkbuiltins/builtins_model.py</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="builtins_generator.py.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="builtins_templates.py.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/Scripts/wkbuiltins/builtins_model.py</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 42,10 ***</span>
<span class="line-new-header">--- 42,11 ---</span>
      },
  }
  
  functionHeadRegExp = re.compile(r&quot;(?:@[\w|=\[\] \&quot;\.]+\s*\n)*(?:async\s+)?function\s+\w+\s*\(.*?\)&quot;, re.MULTILINE | re.DOTALL)
  functionGlobalPrivateRegExp = re.compile(r&quot;.*^@globalPrivate&quot;, re.MULTILINE | re.DOTALL)
<span class="line-added">+ functionNakedConstructorRegExp = re.compile(r&quot;.*^@nakedConstructor&quot;, re.MULTILINE | re.DOTALL)</span>
  functionIntrinsicRegExp = re.compile(r&quot;.*^@intrinsic=(\w+)&quot;, re.MULTILINE | re.DOTALL)
  functionIsConstructorRegExp = re.compile(r&quot;.*^@constructor&quot;, re.MULTILINE | re.DOTALL)
  functionIsGetterRegExp = re.compile(r&quot;.*^@getter&quot;, re.MULTILINE | re.DOTALL)
  functionIsAsyncRegExp = re.compile(r&quot;(async)?\s*function&quot;, re.MULTILINE | re.DOTALL)
  functionNameRegExp = re.compile(r&quot;function\s+(\w+)\s*\(&quot;, re.MULTILINE | re.DOTALL)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 99,16 ***</span>
          for function in self.functions:
              function.object = self
  
  
  class BuiltinFunction:
<span class="line-modified">!     def __init__(self, function_name, function_source, parameters, is_async, is_constructor, is_global_private, intrinsic, overridden_name):</span>
          self.function_name = function_name
          self.function_source = function_source
          self.parameters = parameters
          self.is_async = is_async
          self.is_constructor = is_constructor
          self.is_global_private = is_global_private
          self.intrinsic = intrinsic
          self.overridden_name = overridden_name
          self.object = None  # Set by the owning BuiltinObject
  
<span class="line-new-header">--- 100,17 ---</span>
          for function in self.functions:
              function.object = self
  
  
  class BuiltinFunction:
<span class="line-modified">!     def __init__(self, function_name, function_source, parameters, is_async, is_constructor, is_global_private, is_naked_constructor, intrinsic, overridden_name):</span>
          self.function_name = function_name
          self.function_source = function_source
          self.parameters = parameters
          self.is_async = is_async
          self.is_constructor = is_constructor
<span class="line-added">+         self.is_naked_constructor = is_naked_constructor</span>
          self.is_global_private = is_global_private
          self.intrinsic = intrinsic
          self.overridden_name = overridden_name
          self.object = None  # Set by the owning BuiltinObject
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 138,21 ***</span>
          async_match = functionIsAsyncRegExp.match(function_source)
          is_async = async_match != None and async_match.group(1) == &quot;async&quot;
          is_constructor = functionIsConstructorRegExp.match(function_source) != None
          is_getter = functionIsGetterRegExp.match(function_source) != None
          is_global_private = functionGlobalPrivateRegExp.match(function_source) != None
          parameters = [s.strip() for s in functionParameterFinder.findall(function_source)[0].split(&#39;,&#39;)]
          if len(parameters[0]) == 0:
              parameters = []
  
          if is_getter and not overridden_name:
              overridden_name = &quot;\&quot;get %s\&quot;&quot; % (function_name)
  
          if not overridden_name:
              overridden_name = &quot;static_cast&lt;const char*&gt;(nullptr)&quot;
  
<span class="line-modified">!         return BuiltinFunction(function_name, function_source, parameters, is_async, is_constructor, is_global_private, intrinsic, overridden_name)</span>
  
      def __str__(self):
          interface = &quot;%s(%s)&quot; % (self.function_name, &#39;, &#39;.join(self.parameters))
          if self.is_constructor:
              interface = interface + &quot; [Constructor]&quot;
<span class="line-new-header">--- 140,24 ---</span>
          async_match = functionIsAsyncRegExp.match(function_source)
          is_async = async_match != None and async_match.group(1) == &quot;async&quot;
          is_constructor = functionIsConstructorRegExp.match(function_source) != None
          is_getter = functionIsGetterRegExp.match(function_source) != None
          is_global_private = functionGlobalPrivateRegExp.match(function_source) != None
<span class="line-added">+         is_naked_constructor = functionNakedConstructorRegExp.match(function_source) != None</span>
<span class="line-added">+         if is_naked_constructor:</span>
<span class="line-added">+             is_constructor = True</span>
          parameters = [s.strip() for s in functionParameterFinder.findall(function_source)[0].split(&#39;,&#39;)]
          if len(parameters[0]) == 0:
              parameters = []
  
          if is_getter and not overridden_name:
              overridden_name = &quot;\&quot;get %s\&quot;&quot; % (function_name)
  
          if not overridden_name:
              overridden_name = &quot;static_cast&lt;const char*&gt;(nullptr)&quot;
  
<span class="line-modified">!         return BuiltinFunction(function_name, function_source, parameters, is_async, is_constructor, is_global_private, is_naked_constructor, intrinsic, overridden_name)</span>
  
      def __str__(self):
          interface = &quot;%s(%s)&quot; % (self.function_name, &#39;, &#39;.join(self.parameters))
          if self.is_constructor:
              interface = interface + &quot; [Constructor]&quot;
</pre>
<center><a href="builtins_generator.py.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="builtins_templates.py.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>