<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old modules/javafx.web/src/main/native/Source/cmake/FindHarfBuzz.cmake</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 # Copyright (c) 2012, Intel Corporation
 2 #
 3 # Redistribution and use in source and binary forms, with or without
 4 # modification, are permitted provided that the following conditions are met:
 5 #
 6 # * Redistributions of source code must retain the above copyright notice, this
 7 #   list of conditions and the following disclaimer.
 8 # * Redistributions in binary form must reproduce the above copyright notice,
 9 #   this list of conditions and the following disclaimer in the documentation
10 #   and/or other materials provided with the distribution.
11 # * Neither the name of Intel Corporation nor the names of its contributors may
12 #   be used to endorse or promote products derived from this software without
13 #   specific prior written permission.
14 #
15 # THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;
16 # AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
17 # IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
18 # ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
19 # LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
20 # CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
21 # SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
22 # INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
23 # CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
24 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
25 # POSSIBILITY OF SUCH DAMAGE.
26 #
27 # Try to find Harfbuzz include and library directories.
28 #
29 # After successful discovery, this will set for inclusion where needed:
30 # HARFBUZZ_INCLUDE_DIRS - containg the HarfBuzz headers
31 # HARFBUZZ_LIBRARIES - containg the HarfBuzz library
32 
33 include(FindPkgConfig)
34 pkg_check_modules(PC_HARFBUZZ QUIET harfbuzz)
35 
36 find_path(HARFBUZZ_INCLUDE_DIRS
37     NAMES hb.h
38     HINTS ${PC_HARFBUZZ_INCLUDEDIR}
39           ${PC_HARFBUZZ_INCLUDE_DIRS}
40     PATH_SUFFIXES harfbuzz
41 )
42 
43 find_library(HARFBUZZ_LIBRARIES NAMES harfbuzz
44     HINTS ${PC_HARFBUZZ_LIBDIR}
45           ${PC_HARFBUZZ_LIBRARY_DIRS}
46 )
47 
48 if (HARFBUZZ_INCLUDE_DIRS)
49     if (EXISTS &quot;${HARFBUZZ_INCLUDE_DIRS}/hb-version.h&quot;)
50         file(READ &quot;${HARFBUZZ_INCLUDE_DIRS}/hb-version.h&quot; _harfbuzz_version_content)
51 
52         string(REGEX MATCH &quot;#define +HB_VERSION_STRING +\&quot;([0-9]+\.[0-9]+\.[0-9]+)\&quot;&quot; _dummy &quot;${_harfbuzz_version_content}&quot;)
53         set(HARFBUZZ_VERSION &quot;${CMAKE_MATCH_1}&quot;)
54     endif ()
55 endif ()
56 
57 if (&quot;${Harfbuzz_FIND_VERSION}&quot; VERSION_GREATER &quot;${HARFBUZZ_VERSION}&quot;)
58     message(FATAL_ERROR &quot;Required version (&quot; ${Harfbuzz_FIND_VERSION} &quot;) is higher than found version (&quot; ${CAIRO_VERSION} &quot;)&quot;)
59 endif ()
60 
61 # HarfBuzz 0.9.18 split ICU support into a separate harfbuzz-icu library.
62 if (&quot;${HARFBUZZ_VERSION}&quot; VERSION_GREATER &quot;0.9.17&quot;)
63     pkg_check_modules(PC_HARFBUZZ_ICU QUIET harfbuzz-icu)
64 
65     find_library(HARFBUZZ_ICU_LIBRARIES harfbuzz-icu
66         HINTS ${PC_HARFBUZZ_ICU_LIBDIR}
67               ${PC_HARFBUZZ_ICU_LIBRARY_DIRS}
68     )
69 
70     if (NOT HARFBUZZ_ICU_LIBRARIES)
71         message(FATAL_ERROR &quot;harfbuzz-icu library not found&quot;)
72     endif ()
73 
74     list(APPEND HARFBUZZ_LIBRARIES &quot;${HARFBUZZ_ICU_LIBRARIES}&quot;)
75 endif ()
76 
77 include(FindPackageHandleStandardArgs)
78 FIND_PACKAGE_HANDLE_STANDARD_ARGS(Harfbuzz REQUIRED_VARS HARFBUZZ_INCLUDE_DIRS HARFBUZZ_LIBRARIES
79                                            VERSION_VAR HARFBUZZ_VERSION)
80 
81 mark_as_advanced(
82     HARFBUZZ_INCLUDE_DIRS
83     HARFBUZZ_LIBRARIES
84     HARFBUZZ_ICU_LIBRARIES
85 )
    </pre>
  </body>
</html>