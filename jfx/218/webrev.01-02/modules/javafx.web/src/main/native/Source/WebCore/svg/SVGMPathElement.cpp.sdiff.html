<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/svg/SVGMPathElement.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SVGLinearGradientElement.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SVGMPathElement.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/svg/SVGMPathElement.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 17  * the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 18  * Boston, MA 02110-1301, USA.
 19  */
 20 
 21 #include &quot;config.h&quot;
 22 #include &quot;SVGMPathElement.h&quot;
 23 
 24 #include &quot;Document.h&quot;
 25 #include &quot;SVGAnimateMotionElement.h&quot;
 26 #include &quot;SVGDocumentExtensions.h&quot;
 27 #include &quot;SVGNames.h&quot;
 28 #include &quot;SVGPathElement.h&quot;
 29 #include &lt;wtf/IsoMallocInlines.h&gt;
 30 
 31 namespace WebCore {
 32 
 33 WTF_MAKE_ISO_ALLOCATED_IMPL(SVGMPathElement);
 34 
 35 inline SVGMPathElement::SVGMPathElement(const QualifiedName&amp; tagName, Document&amp; document)
 36     : SVGElement(tagName, document)
<span class="line-removed"> 37     , SVGExternalResourcesRequired(this)</span>
 38     , SVGURIReference(this)
 39 {
 40     ASSERT(hasTagName(SVGNames::mpathTag));
 41 }
 42 
 43 Ref&lt;SVGMPathElement&gt; SVGMPathElement::create(const QualifiedName&amp; tagName, Document&amp; document)
 44 {
 45     return adoptRef(*new SVGMPathElement(tagName, document));
 46 }
 47 
 48 SVGMPathElement::~SVGMPathElement()
 49 {
 50     clearResourceReferences();
 51 }
 52 
 53 void SVGMPathElement::buildPendingResource()
 54 {
 55     clearResourceReferences();
 56     if (!isConnected())
 57         return;
</pre>
<hr />
<pre>
 88     return InsertedIntoAncestorResult::Done;
 89 }
 90 
 91 void SVGMPathElement::didFinishInsertingNode()
 92 {
 93     buildPendingResource();
 94 }
 95 
 96 void SVGMPathElement::removedFromAncestor(RemovalType removalType, ContainerNode&amp; oldParentOfRemovedTree)
 97 {
 98     SVGElement::removedFromAncestor(removalType, oldParentOfRemovedTree);
 99     notifyParentOfPathChange(&amp;oldParentOfRemovedTree);
100     if (removalType.disconnectedFromDocument)
101         clearResourceReferences();
102 }
103 
104 void SVGMPathElement::parseAttribute(const QualifiedName&amp; name, const AtomString&amp; value)
105 {
106     SVGElement::parseAttribute(name, value);
107     SVGURIReference::parseAttribute(name, value);
<span class="line-removed">108     SVGExternalResourcesRequired::parseAttribute(name, value);</span>
109 }
110 
111 void SVGMPathElement::svgAttributeChanged(const QualifiedName&amp; attrName)
112 {
113     if (SVGURIReference::isKnownAttribute(attrName)) {
114         InstanceInvalidationGuard guard(*this);
115         buildPendingResource();
116         return;
117     }
118 
119     SVGElement::svgAttributeChanged(attrName);
<span class="line-removed">120     SVGExternalResourcesRequired::svgAttributeChanged(attrName);</span>
121 }
122 
123 RefPtr&lt;SVGPathElement&gt; SVGMPathElement::pathElement()
124 {
125     auto target = targetElementFromIRIString(href(), treeScope());
126     if (is&lt;SVGPathElement&gt;(target.element))
127         return downcast&lt;SVGPathElement&gt;(target.element.get());
128     return nullptr;
129 }
130 
131 void SVGMPathElement::targetPathChanged()
132 {
133     notifyParentOfPathChange(parentNode());
134 }
135 
136 void SVGMPathElement::notifyParentOfPathChange(ContainerNode* parent)
137 {
138     if (is&lt;SVGAnimateMotionElement&gt;(parent))
139         downcast&lt;SVGAnimateMotionElement&gt;(*parent).updateAnimationPath();
140 }
</pre>
</td>
<td>
<hr />
<pre>
 17  * the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 18  * Boston, MA 02110-1301, USA.
 19  */
 20 
 21 #include &quot;config.h&quot;
 22 #include &quot;SVGMPathElement.h&quot;
 23 
 24 #include &quot;Document.h&quot;
 25 #include &quot;SVGAnimateMotionElement.h&quot;
 26 #include &quot;SVGDocumentExtensions.h&quot;
 27 #include &quot;SVGNames.h&quot;
 28 #include &quot;SVGPathElement.h&quot;
 29 #include &lt;wtf/IsoMallocInlines.h&gt;
 30 
 31 namespace WebCore {
 32 
 33 WTF_MAKE_ISO_ALLOCATED_IMPL(SVGMPathElement);
 34 
 35 inline SVGMPathElement::SVGMPathElement(const QualifiedName&amp; tagName, Document&amp; document)
 36     : SVGElement(tagName, document)

 37     , SVGURIReference(this)
 38 {
 39     ASSERT(hasTagName(SVGNames::mpathTag));
 40 }
 41 
 42 Ref&lt;SVGMPathElement&gt; SVGMPathElement::create(const QualifiedName&amp; tagName, Document&amp; document)
 43 {
 44     return adoptRef(*new SVGMPathElement(tagName, document));
 45 }
 46 
 47 SVGMPathElement::~SVGMPathElement()
 48 {
 49     clearResourceReferences();
 50 }
 51 
 52 void SVGMPathElement::buildPendingResource()
 53 {
 54     clearResourceReferences();
 55     if (!isConnected())
 56         return;
</pre>
<hr />
<pre>
 87     return InsertedIntoAncestorResult::Done;
 88 }
 89 
 90 void SVGMPathElement::didFinishInsertingNode()
 91 {
 92     buildPendingResource();
 93 }
 94 
 95 void SVGMPathElement::removedFromAncestor(RemovalType removalType, ContainerNode&amp; oldParentOfRemovedTree)
 96 {
 97     SVGElement::removedFromAncestor(removalType, oldParentOfRemovedTree);
 98     notifyParentOfPathChange(&amp;oldParentOfRemovedTree);
 99     if (removalType.disconnectedFromDocument)
100         clearResourceReferences();
101 }
102 
103 void SVGMPathElement::parseAttribute(const QualifiedName&amp; name, const AtomString&amp; value)
104 {
105     SVGElement::parseAttribute(name, value);
106     SVGURIReference::parseAttribute(name, value);

107 }
108 
109 void SVGMPathElement::svgAttributeChanged(const QualifiedName&amp; attrName)
110 {
111     if (SVGURIReference::isKnownAttribute(attrName)) {
112         InstanceInvalidationGuard guard(*this);
113         buildPendingResource();
114         return;
115     }
116 
117     SVGElement::svgAttributeChanged(attrName);

118 }
119 
120 RefPtr&lt;SVGPathElement&gt; SVGMPathElement::pathElement()
121 {
122     auto target = targetElementFromIRIString(href(), treeScope());
123     if (is&lt;SVGPathElement&gt;(target.element))
124         return downcast&lt;SVGPathElement&gt;(target.element.get());
125     return nullptr;
126 }
127 
128 void SVGMPathElement::targetPathChanged()
129 {
130     notifyParentOfPathChange(parentNode());
131 }
132 
133 void SVGMPathElement::notifyParentOfPathChange(ContainerNode* parent)
134 {
135     if (is&lt;SVGAnimateMotionElement&gt;(parent))
136         downcast&lt;SVGAnimateMotionElement&gt;(*parent).updateAnimationPath();
137 }
</pre>
</td>
</tr>
</table>
<center><a href="SVGLinearGradientElement.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SVGMPathElement.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>