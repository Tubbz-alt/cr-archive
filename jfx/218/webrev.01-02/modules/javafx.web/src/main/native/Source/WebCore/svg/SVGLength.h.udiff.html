<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WebCore/svg/SVGLength.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SVGImageLoader.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SVGLengthContext.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/svg/SVGLength.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -23,10 +23,11 @@</span>
   * THE POSSIBILITY OF SUCH DAMAGE.
   */
  
  #pragma once
  
<span class="udiff-line-added">+ #include &quot;SVGLengthContext.h&quot;</span>
  #include &quot;SVGLengthValue.h&quot;
  #include &quot;SVGValueProperty.h&quot;
  
  namespace WebCore {
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -36,21 +37,21 @@</span>
      using Base::m_value;
  
  public:
      // Forward declare these enums in the w3c naming scheme, for IDL generation
      enum {
<span class="udiff-line-modified-removed">-         SVG_LENGTHTYPE_UNKNOWN = LengthTypeUnknown,</span>
<span class="udiff-line-modified-removed">-         SVG_LENGTHTYPE_NUMBER = LengthTypeNumber,</span>
<span class="udiff-line-modified-removed">-         SVG_LENGTHTYPE_PERCENTAGE = LengthTypePercentage,</span>
<span class="udiff-line-modified-removed">-         SVG_LENGTHTYPE_EMS = LengthTypeEMS,</span>
<span class="udiff-line-modified-removed">-         SVG_LENGTHTYPE_EXS = LengthTypeEXS,</span>
<span class="udiff-line-modified-removed">-         SVG_LENGTHTYPE_PX = LengthTypePX,</span>
<span class="udiff-line-modified-removed">-         SVG_LENGTHTYPE_CM = LengthTypeCM,</span>
<span class="udiff-line-modified-removed">-         SVG_LENGTHTYPE_MM = LengthTypeMM,</span>
<span class="udiff-line-modified-removed">-         SVG_LENGTHTYPE_IN = LengthTypeIN,</span>
<span class="udiff-line-modified-removed">-         SVG_LENGTHTYPE_PT = LengthTypePT,</span>
<span class="udiff-line-modified-removed">-         SVG_LENGTHTYPE_PC = LengthTypePC</span>
<span class="udiff-line-modified-added">+         SVG_LENGTHTYPE_UNKNOWN      = static_cast&lt;unsigned&gt;(SVGLengthType::Unknown),</span>
<span class="udiff-line-modified-added">+         SVG_LENGTHTYPE_NUMBER       = static_cast&lt;unsigned&gt;(SVGLengthType::Number),</span>
<span class="udiff-line-modified-added">+         SVG_LENGTHTYPE_PERCENTAGE   = static_cast&lt;unsigned&gt;(SVGLengthType::Percentage),</span>
<span class="udiff-line-modified-added">+         SVG_LENGTHTYPE_EMS          = static_cast&lt;unsigned&gt;(SVGLengthType::Ems),</span>
<span class="udiff-line-modified-added">+         SVG_LENGTHTYPE_EXS          = static_cast&lt;unsigned&gt;(SVGLengthType::Exs),</span>
<span class="udiff-line-modified-added">+         SVG_LENGTHTYPE_PX           = static_cast&lt;unsigned&gt;(SVGLengthType::Pixels),</span>
<span class="udiff-line-modified-added">+         SVG_LENGTHTYPE_CM           = static_cast&lt;unsigned&gt;(SVGLengthType::Centimeters),</span>
<span class="udiff-line-modified-added">+         SVG_LENGTHTYPE_MM           = static_cast&lt;unsigned&gt;(SVGLengthType::Millimeters),</span>
<span class="udiff-line-modified-added">+         SVG_LENGTHTYPE_IN           = static_cast&lt;unsigned&gt;(SVGLengthType::Inches),</span>
<span class="udiff-line-modified-added">+         SVG_LENGTHTYPE_PT           = static_cast&lt;unsigned&gt;(SVGLengthType::Points),</span>
<span class="udiff-line-modified-added">+         SVG_LENGTHTYPE_PC           = static_cast&lt;unsigned&gt;(SVGLengthType::Picas)</span>
      };
  
      static Ref&lt;SVGLength&gt; create()
      {
          return adoptRef(*new SVGLength());
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -77,13 +78,13 @@</span>
      Ref&lt;SVGLength&gt; clone() const
      {
          return SVGLength::create(m_value);
      }
  
<span class="udiff-line-modified-removed">-     unsigned short unitType()</span>
<span class="udiff-line-modified-added">+     unsigned short unitType()  const</span>
      {
<span class="udiff-line-modified-removed">-         return m_value.unitType();</span>
<span class="udiff-line-modified-added">+         return static_cast&lt;unsigned&gt;(m_value.lengthType());</span>
      }
  
      ExceptionOr&lt;float&gt; valueForBindings()
      {
          return m_value.valueForBindings(SVGLengthContext { contextElement() });
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -92,11 +93,11 @@</span>
      ExceptionOr&lt;void&gt; setValueForBindings(float value)
      {
          if (isReadOnly())
              return Exception { NoModificationAllowedError };
  
<span class="udiff-line-modified-removed">-         auto result = m_value.setValue(value, SVGLengthContext { contextElement() });</span>
<span class="udiff-line-modified-added">+         auto result = m_value.setValue(SVGLengthContext { contextElement() }, value);</span>
          if (result.hasException())
              return result;
  
          commitChange();
          return result;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -133,24 +134,27 @@</span>
      ExceptionOr&lt;void&gt; newValueSpecifiedUnits(unsigned short unitType, float valueInSpecifiedUnits)
      {
          if (isReadOnly())
              return Exception { NoModificationAllowedError };
  
<span class="udiff-line-modified-removed">-         auto result = m_value.newValueSpecifiedUnits(unitType, valueInSpecifiedUnits);</span>
<span class="udiff-line-modified-removed">-         if (result.hasException())</span>
<span class="udiff-line-removed">-             return result;</span>
<span class="udiff-line-modified-added">+         if (unitType == SVG_LENGTHTYPE_UNKNOWN || unitType &gt; SVG_LENGTHTYPE_PC)</span>
<span class="udiff-line-modified-added">+             return Exception { NotSupportedError };</span>
  
<span class="udiff-line-added">+         m_value = { valueInSpecifiedUnits, static_cast&lt;SVGLengthType&gt;(unitType), m_value.lengthMode() };</span>
          commitChange();
<span class="udiff-line-modified-removed">-         return result;</span>
<span class="udiff-line-modified-added">+         return { };</span>
      }
  
      ExceptionOr&lt;void&gt; convertToSpecifiedUnits(unsigned short unitType)
      {
          if (isReadOnly())
              return Exception { NoModificationAllowedError };
  
<span class="udiff-line-modified-removed">-         auto result = m_value.convertToSpecifiedUnits(unitType, SVGLengthContext { contextElement() });</span>
<span class="udiff-line-modified-added">+         if (unitType == SVG_LENGTHTYPE_UNKNOWN || unitType &gt; SVG_LENGTHTYPE_PC)</span>
<span class="udiff-line-added">+             return Exception { NotSupportedError };</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+         auto result = m_value.convertToSpecifiedUnits(SVGLengthContext { contextElement() }, static_cast&lt;SVGLengthType&gt;(unitType));</span>
          if (result.hasException())
              return result;
  
          commitChange();
          return result;
</pre>
<center><a href="SVGImageLoader.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SVGLengthContext.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>