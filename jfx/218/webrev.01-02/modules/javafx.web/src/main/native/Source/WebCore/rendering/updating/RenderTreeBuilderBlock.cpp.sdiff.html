<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/rendering/updating/RenderTreeBuilderBlock.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="RenderTreeBuilder.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="RenderTreeBuilderBlock.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/rendering/updating/RenderTreeBuilderBlock.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
149     if (childIsNormal == bcpIsNormal) {
150         m_builder.attachIgnoringContinuation(*beforeChildParent, WTFMove(child), beforeChild);
151         return;
152     }
153     if (flowIsNormal == childIsNormal) {
154         m_builder.attachIgnoringContinuation(*flow, WTFMove(child)); // Just treat like an append.
155         return;
156     }
157     m_builder.attachIgnoringContinuation(*beforeChildParent, WTFMove(child), beforeChild);
158 }
159 
160 void RenderTreeBuilder::Block::attachIgnoringContinuation(RenderBlock&amp; parent, RenderPtr&lt;RenderObject&gt; child, RenderObject* beforeChild)
161 {
162     if (beforeChild &amp;&amp; beforeChild-&gt;parent() != &amp;parent) {
163         RenderElement* beforeChildContainer = beforeChild-&gt;parent();
164         while (beforeChildContainer-&gt;parent() != &amp;parent)
165             beforeChildContainer = beforeChildContainer-&gt;parent();
166         ASSERT(beforeChildContainer);
167 
168         if (beforeChildContainer-&gt;isAnonymous()) {







169             RELEASE_ASSERT_WITH_SECURITY_IMPLICATION(!beforeChildContainer-&gt;isInline());
170 
171             // If the requested beforeChild is not one of our children, then this is because
172             // there is an anonymous container within this object that contains the beforeChild.
173             RenderElement* beforeChildAnonymousContainer = beforeChildContainer;
174             if (beforeChildAnonymousContainer-&gt;isAnonymousBlock()
175 #if ENABLE(FULLSCREEN_API)
176                 // Full screen renderers and full screen placeholders act as anonymous blocks, not tables:
177                 || beforeChildAnonymousContainer-&gt;isRenderFullScreen()
178                 || beforeChildAnonymousContainer-&gt;isRenderFullScreenPlaceholder()
179 #endif
180                 ) {
181                 // Insert the child into the anonymous block box instead of here.
182                 if (child-&gt;isInline() || beforeChild-&gt;parent()-&gt;firstChild() != beforeChild)
183                     m_builder.attach(*beforeChild-&gt;parent(), WTFMove(child), beforeChild);
184                 else
185                     m_builder.attach(parent, WTFMove(child), beforeChild-&gt;parent());
186                 return;
187             }
188 
</pre>
</td>
<td>
<hr />
<pre>
149     if (childIsNormal == bcpIsNormal) {
150         m_builder.attachIgnoringContinuation(*beforeChildParent, WTFMove(child), beforeChild);
151         return;
152     }
153     if (flowIsNormal == childIsNormal) {
154         m_builder.attachIgnoringContinuation(*flow, WTFMove(child)); // Just treat like an append.
155         return;
156     }
157     m_builder.attachIgnoringContinuation(*beforeChildParent, WTFMove(child), beforeChild);
158 }
159 
160 void RenderTreeBuilder::Block::attachIgnoringContinuation(RenderBlock&amp; parent, RenderPtr&lt;RenderObject&gt; child, RenderObject* beforeChild)
161 {
162     if (beforeChild &amp;&amp; beforeChild-&gt;parent() != &amp;parent) {
163         RenderElement* beforeChildContainer = beforeChild-&gt;parent();
164         while (beforeChildContainer-&gt;parent() != &amp;parent)
165             beforeChildContainer = beforeChildContainer-&gt;parent();
166         ASSERT(beforeChildContainer);
167 
168         if (beforeChildContainer-&gt;isAnonymous()) {
<span class="line-added">169             if (beforeChildContainer-&gt;isInline() &amp;&amp; child-&gt;isInline()) {</span>
<span class="line-added">170                 // The before child happens to be a block level box wrapped in an anonymous inline-block in an inline context (e.g. ruby).</span>
<span class="line-added">171                 // Let&#39;s attach this new child before the anonymous inline-block wrapper.</span>
<span class="line-added">172                 ASSERT(beforeChildContainer-&gt;isInlineBlockOrInlineTable());</span>
<span class="line-added">173                 m_builder.attach(parent, WTFMove(child), beforeChildContainer);</span>
<span class="line-added">174                 return;</span>
<span class="line-added">175             }</span>
176             RELEASE_ASSERT_WITH_SECURITY_IMPLICATION(!beforeChildContainer-&gt;isInline());
177 
178             // If the requested beforeChild is not one of our children, then this is because
179             // there is an anonymous container within this object that contains the beforeChild.
180             RenderElement* beforeChildAnonymousContainer = beforeChildContainer;
181             if (beforeChildAnonymousContainer-&gt;isAnonymousBlock()
182 #if ENABLE(FULLSCREEN_API)
183                 // Full screen renderers and full screen placeholders act as anonymous blocks, not tables:
184                 || beforeChildAnonymousContainer-&gt;isRenderFullScreen()
185                 || beforeChildAnonymousContainer-&gt;isRenderFullScreenPlaceholder()
186 #endif
187                 ) {
188                 // Insert the child into the anonymous block box instead of here.
189                 if (child-&gt;isInline() || beforeChild-&gt;parent()-&gt;firstChild() != beforeChild)
190                     m_builder.attach(*beforeChild-&gt;parent(), WTFMove(child), beforeChild);
191                 else
192                     m_builder.attach(parent, WTFMove(child), beforeChild-&gt;parent());
193                 return;
194             }
195 
</pre>
</td>
</tr>
</table>
<center><a href="RenderTreeBuilder.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="RenderTreeBuilderBlock.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>