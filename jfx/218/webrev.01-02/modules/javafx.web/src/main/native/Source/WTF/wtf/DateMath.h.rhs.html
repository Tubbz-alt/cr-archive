<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.web/src/main/native/Source/WTF/wtf/DateMath.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
  2  * Copyright (C) 1999-2000 Harri Porten (porten@kde.org)
  3  * Copyright (C) 2006, 2007 Apple Inc. All rights reserved.
  4  * Copyright (C) 2009 Google Inc. All rights reserved.
  5  * Copyright (C) 2010 Research In Motion Limited. All rights reserved.
  6  *
  7  * Version: MPL 1.1/GPL 2.0/LGPL 2.1
  8  *
  9  * The contents of this file are subject to the Mozilla Public License Version
 10  * 1.1 (the &quot;License&quot;); you may not use this file except in compliance with
 11  * the License. You may obtain a copy of the License at
 12  * http://www.mozilla.org/MPL/
 13  *
 14  * Software distributed under the License is distributed on an &quot;AS IS&quot; basis,
 15  * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
 16  * for the specific language governing rights and limitations under the
 17  * License.
 18  *
 19  * The Original Code is Mozilla Communicator client code, released
 20  * March 31, 1998.
 21  *
 22  * The Initial Developer of the Original Code is
 23  * Netscape Communications Corporation.
 24  * Portions created by the Initial Developer are Copyright (C) 1998
 25  * the Initial Developer. All Rights Reserved.
 26  *
 27  * Contributor(s):
 28  *
 29  * Alternatively, the contents of this file may be used under the terms of
 30  * either of the GNU General Public License Version 2 or later (the &quot;GPL&quot;),
 31  * or the GNU Lesser General Public License Version 2.1 or later (the &quot;LGPL&quot;),
 32  * in which case the provisions of the GPL or the LGPL are applicable instead
 33  * of those above. If you wish to allow use of your version of this file only
 34  * under the terms of either the GPL or the LGPL, and not to allow others to
 35  * use your version of this file under the terms of the MPL, indicate your
 36  * decision by deleting the provisions above and replace them with the notice
 37  * and other provisions required by the GPL or the LGPL. If you do not delete
 38  * the provisions above, a recipient may use your version of this file under
 39  * the terms of any one of the MPL, the GPL or the LGPL.
 40  *
 41  */
 42 
 43 #pragma once
 44 
 45 #include &lt;math.h&gt;
 46 #include &lt;stdint.h&gt;
 47 #include &lt;string.h&gt;
 48 #include &lt;time.h&gt;
 49 #include &lt;wtf/WallTime.h&gt;
 50 #include &lt;wtf/text/WTFString.h&gt;
 51 
 52 namespace WTF {
 53 
 54 enum TimeType {
 55     UTCTime = 0,
 56     LocalTime
 57 };
 58 
 59 struct LocalTimeOffset {
 60     WTF_MAKE_STRUCT_FAST_ALLOCATED;
 61 
 62     LocalTimeOffset()
 63         : isDST(false)
 64         , offset(0)
 65     {
 66     }
 67 
 68     LocalTimeOffset(bool isDST, int offset)
 69         : isDST(isDST)
 70         , offset(offset)
 71     {
 72     }
 73 
 74     bool operator==(const LocalTimeOffset&amp; other)
 75     {
 76         return isDST == other.isDST &amp;&amp; offset == other.offset;
 77     }
 78 
 79     bool operator!=(const LocalTimeOffset&amp; other)
 80     {
 81         return isDST != other.isDST || offset != other.offset;
 82     }
 83 
 84     bool isDST;
 85     int offset;
 86 };
 87 
 88 void initializeDates();
 89 int equivalentYearForDST(int year);
 90 
 91 // Not really math related, but this is currently the only shared place to put these.
<a name="1" id="anc1"></a><span class="line-modified"> 92 WTF_EXPORT_PRIVATE double parseES5DateFromNullTerminatedCharacters(const char* dateString, bool&amp; isLocalTime);</span>
 93 WTF_EXPORT_PRIVATE double parseDateFromNullTerminatedCharacters(const char* dateString);
<a name="2" id="anc2"></a><span class="line-modified"> 94 WTF_EXPORT_PRIVATE double parseDateFromNullTerminatedCharacters(const char* dateString, bool&amp; isLocalTime);</span>

 95 // dayOfWeek: [0, 6] 0 being Monday, day: [1, 31], month: [0, 11], year: ex: 2011, hours: [0, 23], minutes: [0, 59], seconds: [0, 59], utcOffset: [-720,720].
 96 String makeRFC2822DateString(unsigned dayOfWeek, unsigned day, unsigned month, unsigned year, unsigned hours, unsigned minutes, unsigned seconds, int utcOffset);
 97 
 98 inline double jsCurrentTime()
 99 {
100     // JavaScript doesn&#39;t recognize fractions of a millisecond.
101     return floor(WallTime::now().secondsSinceEpoch().milliseconds());
102 }
103 
<a name="3" id="anc3"></a><span class="line-modified">104 extern WTF_EXPORT_PRIVATE const char* const weekdayName[7];</span>
<span class="line-modified">105 extern WTF_EXPORT_PRIVATE const char* const monthName[12];</span>
<span class="line-modified">106 extern WTF_EXPORT_PRIVATE const char* const monthFullName[12];</span>
<span class="line-added">107 extern WTF_EXPORT_PRIVATE const int firstDayOfMonth[2][12];</span>
108 
<a name="4" id="anc4"></a><span class="line-modified">109 static constexpr double hoursPerDay = 24.0;</span>
<span class="line-modified">110 static constexpr double minutesPerHour = 60.0;</span>
<span class="line-modified">111 static constexpr double secondsPerMinute = 60.0;</span>
<span class="line-modified">112 static constexpr double msPerSecond = 1000.0;</span>
<span class="line-modified">113 static constexpr double msPerMonth = 2592000000.0;</span>
<span class="line-modified">114 static constexpr double secondsPerHour = secondsPerMinute * minutesPerHour;</span>
<span class="line-modified">115 static constexpr double secondsPerDay = secondsPerHour * hoursPerDay;</span>
<span class="line-modified">116 static constexpr double msPerMinute = msPerSecond * secondsPerMinute;</span>
<span class="line-modified">117 static constexpr double msPerHour = msPerSecond * secondsPerHour;</span>
<span class="line-modified">118 static constexpr double msPerDay = msPerSecond * secondsPerDay;</span>
119 
<a name="5" id="anc5"></a><span class="line-modified">120 static constexpr double maxUnixTime = 2145859200.0; // 12/31/2037</span>
<span class="line-added">121 // ECMAScript asks not to support for a date of which total</span>
<span class="line-added">122 // millisecond value is larger than the following value.</span>
<span class="line-added">123 // See 15.9.1.14 of ECMA-262 5th edition.</span>
<span class="line-added">124 static constexpr double maxECMAScriptTime = 8.64E15;</span>
<span class="line-added">125 </span>
<span class="line-added">126 class TimeClippedPositiveMilliseconds {</span>
<span class="line-added">127 public:</span>
<span class="line-added">128     static constexpr int64_t hoursPerDay = 24;</span>
<span class="line-added">129     static constexpr int64_t minutesPerHour = 60;</span>
<span class="line-added">130     static constexpr int64_t secondsPerMinute = 60;</span>
<span class="line-added">131     static constexpr int64_t msPerSecond = 1000;</span>
<span class="line-added">132     static constexpr int64_t msPerMonth = 2592000000;</span>
<span class="line-added">133     static constexpr int64_t secondsPerHour = secondsPerMinute * minutesPerHour;</span>
<span class="line-added">134     static constexpr int64_t secondsPerDay = secondsPerHour * hoursPerDay;</span>
<span class="line-added">135     static constexpr int64_t msPerMinute = msPerSecond * secondsPerMinute;</span>
<span class="line-added">136     static constexpr int64_t msPerHour = msPerSecond * secondsPerHour;</span>
<span class="line-added">137     static constexpr int64_t msPerDay = msPerSecond * secondsPerDay;</span>
<span class="line-added">138     static constexpr int64_t maxECMAScriptTime = 8.64E15;</span>
<span class="line-added">139 </span>
<span class="line-added">140     explicit TimeClippedPositiveMilliseconds(int64_t value)</span>
<span class="line-added">141         : m_value(value)</span>
<span class="line-added">142     {</span>
<span class="line-added">143         ASSERT(value &gt;= 0);</span>
<span class="line-added">144     }</span>
<span class="line-added">145 </span>
<span class="line-added">146     int64_t value() const { return m_value; }</span>
<span class="line-added">147     double asDouble() const { return static_cast&lt;double&gt;(m_value); }</span>
<span class="line-added">148 private:</span>
<span class="line-added">149     int64_t m_value;</span>
<span class="line-added">150 };</span>
<span class="line-added">151 </span>
<span class="line-added">152 inline double timeClip(double t)</span>
<span class="line-added">153 {</span>
<span class="line-added">154     if (std::abs(t) &gt; maxECMAScriptTime)</span>
<span class="line-added">155         return std::numeric_limits&lt;double&gt;::quiet_NaN();</span>
<span class="line-added">156     return std::trunc(t) + 0.0;</span>
<span class="line-added">157 }</span>
<span class="line-added">158 </span>
<span class="line-added">159 inline double daysFrom1970ToYear(int year)</span>
<span class="line-added">160 {</span>
<span class="line-added">161     // The Gregorian Calendar rules for leap years:</span>
<span class="line-added">162     // Every fourth year is a leap year. 2004, 2008, and 2012 are leap years.</span>
<span class="line-added">163     // However, every hundredth year is not a leap year. 1900 and 2100 are not leap years.</span>
<span class="line-added">164     // Every four hundred years, there&#39;s a leap year after all. 2000 and 2400 are leap years.</span>
<span class="line-added">165 </span>
<span class="line-added">166     static constexpr int leapDaysBefore1971By4Rule = 1970 / 4;</span>
<span class="line-added">167     static constexpr int excludedLeapDaysBefore1971By100Rule = 1970 / 100;</span>
<span class="line-added">168     static constexpr int leapDaysBefore1971By400Rule = 1970 / 400;</span>
<span class="line-added">169 </span>
<span class="line-added">170     const double yearMinusOne = year - 1;</span>
<span class="line-added">171     const double yearsToAddBy4Rule = floor(yearMinusOne / 4.0) - leapDaysBefore1971By4Rule;</span>
<span class="line-added">172     const double yearsToExcludeBy100Rule = floor(yearMinusOne / 100.0) - excludedLeapDaysBefore1971By100Rule;</span>
<span class="line-added">173     const double yearsToAddBy400Rule = floor(yearMinusOne / 400.0) - leapDaysBefore1971By400Rule;</span>
<span class="line-added">174 </span>
<span class="line-added">175     return 365.0 * (year - 1970.0) + yearsToAddBy4Rule - yearsToExcludeBy100Rule + yearsToAddBy400Rule;</span>
<span class="line-added">176 }</span>
<span class="line-added">177 </span>
<span class="line-added">178 inline int64_t daysFrom1970ToYearTimeClippedPositive(int year)</span>
<span class="line-added">179 {</span>
<span class="line-added">180     static constexpr int leapDaysBefore1971By4Rule = 1970 / 4;</span>
<span class="line-added">181     static constexpr int excludedLeapDaysBefore1971By100Rule = 1970 / 100;</span>
<span class="line-added">182     static constexpr int leapDaysBefore1971By400Rule = 1970 / 400;</span>
<span class="line-added">183 </span>
<span class="line-added">184     ASSERT(year &gt;= 1970);</span>
<span class="line-added">185     const int64_t yearMinusOne = year - 1;</span>
<span class="line-added">186     const int64_t yearsToAddBy4Rule = yearMinusOne / 4.0 - leapDaysBefore1971By4Rule;</span>
<span class="line-added">187     const int64_t yearsToExcludeBy100Rule = yearMinusOne / 100.0 - excludedLeapDaysBefore1971By100Rule;</span>
<span class="line-added">188     const int64_t yearsToAddBy400Rule = yearMinusOne / 400.0 - leapDaysBefore1971By400Rule;</span>
<span class="line-added">189 </span>
<span class="line-added">190     return 365 * (year - 1970) + yearsToAddBy4Rule - yearsToExcludeBy100Rule + yearsToAddBy400Rule;</span>
<span class="line-added">191 }</span>
<span class="line-added">192 </span>
<span class="line-added">193 inline bool isLeapYear(int year)</span>
<span class="line-added">194 {</span>
<span class="line-added">195     if (year % 4 != 0)</span>
<span class="line-added">196         return false;</span>
<span class="line-added">197     if (year % 400 == 0)</span>
<span class="line-added">198         return true;</span>
<span class="line-added">199     if (year % 100 == 0)</span>
<span class="line-added">200         return false;</span>
<span class="line-added">201     return true;</span>
<span class="line-added">202 }</span>
<span class="line-added">203 </span>
<span class="line-added">204 inline int daysInYear(int year)</span>
<span class="line-added">205 {</span>
<span class="line-added">206     return 365 + isLeapYear(year);</span>
<span class="line-added">207 }</span>
<span class="line-added">208 </span>
<span class="line-added">209 inline double msToDays(double ms)</span>
<span class="line-added">210 {</span>
<span class="line-added">211     return floor(ms / msPerDay);</span>
<span class="line-added">212 }</span>
<span class="line-added">213 </span>
<span class="line-added">214 inline int64_t msToDays(TimeClippedPositiveMilliseconds ms)</span>
<span class="line-added">215 {</span>
<span class="line-added">216     return ms.value() / TimeClippedPositiveMilliseconds::msPerDay;</span>
<span class="line-added">217 }</span>
<span class="line-added">218 </span>
<span class="line-added">219 inline int dayInYear(int year, int month, int day)</span>
<span class="line-added">220 {</span>
<span class="line-added">221     return firstDayOfMonth[isLeapYear(year)][month] + day - 1;</span>
<span class="line-added">222 }</span>
<span class="line-added">223 </span>
<span class="line-added">224 inline int dayInYear(double ms, int year)</span>
<span class="line-added">225 {</span>
<span class="line-added">226     return static_cast&lt;int&gt;(msToDays(ms) - daysFrom1970ToYear(year));</span>
<span class="line-added">227 }</span>
<span class="line-added">228 </span>
<span class="line-added">229 inline int dayInYear(TimeClippedPositiveMilliseconds ms, int year)</span>
<span class="line-added">230 {</span>
<span class="line-added">231     return static_cast&lt;int&gt;(msToDays(ms) - daysFrom1970ToYearTimeClippedPositive(year));</span>
<span class="line-added">232 }</span>
233 
234 // Returns the number of days from 1970-01-01 to the specified date.
<a name="6" id="anc6"></a><span class="line-modified">235 inline double dateToDaysFrom1970(int year, int month, int day)</span>
<span class="line-modified">236 {</span>
<span class="line-modified">237     year += month / 12;</span>
<span class="line-modified">238 </span>
<span class="line-modified">239     month %= 12;</span>
<span class="line-modified">240     if (month &lt; 0) {</span>
<span class="line-modified">241         month += 12;</span>
<span class="line-modified">242         --year;</span>
<span class="line-modified">243     }</span>
<span class="line-added">244 </span>
<span class="line-added">245     double yearday = floor(daysFrom1970ToYear(year));</span>
<span class="line-added">246     ASSERT((year &gt;= 1970 &amp;&amp; yearday &gt;= 0) || (year &lt; 1970 &amp;&amp; yearday &lt; 0));</span>
<span class="line-added">247     return yearday + dayInYear(year, month, day);</span>
<span class="line-added">248 }</span>
<span class="line-added">249 </span>
<span class="line-added">250 inline int msToYear(double ms)</span>
<span class="line-added">251 {</span>
<span class="line-added">252     int approxYear = static_cast&lt;int&gt;(floor(ms / (msPerDay * 365.2425)) + 1970);</span>
<span class="line-added">253     double msFromApproxYearTo1970 = msPerDay * daysFrom1970ToYear(approxYear);</span>
<span class="line-added">254     if (msFromApproxYearTo1970 &gt; ms)</span>
<span class="line-added">255         return approxYear - 1;</span>
<span class="line-added">256     if (msFromApproxYearTo1970 + msPerDay * daysInYear(approxYear) &lt;= ms)</span>
<span class="line-added">257         return approxYear + 1;</span>
<span class="line-added">258     return approxYear;</span>
<span class="line-added">259 }</span>
<span class="line-added">260 </span>
<span class="line-added">261 inline int msToMinutes(double ms)</span>
<span class="line-added">262 {</span>
<span class="line-added">263     double result = fmod(floor(ms / msPerMinute), minutesPerHour);</span>
<span class="line-added">264     if (result &lt; 0)</span>
<span class="line-added">265         result += minutesPerHour;</span>
<span class="line-added">266     return static_cast&lt;int&gt;(result);</span>
<span class="line-added">267 }</span>
<span class="line-added">268 </span>
<span class="line-added">269 inline int msToMinutes(TimeClippedPositiveMilliseconds ms)</span>
<span class="line-added">270 {</span>
<span class="line-added">271     int64_t result = (ms.value() / TimeClippedPositiveMilliseconds::msPerMinute) % TimeClippedPositiveMilliseconds::minutesPerHour;</span>
<span class="line-added">272     ASSERT(result &gt;= 0);</span>
<span class="line-added">273     return static_cast&lt;int&gt;(result);</span>
<span class="line-added">274 }</span>
<span class="line-added">275 </span>
<span class="line-added">276 inline int msToHours(double ms)</span>
<span class="line-added">277 {</span>
<span class="line-added">278     double result = fmod(floor(ms / msPerHour), hoursPerDay);</span>
<span class="line-added">279     if (result &lt; 0)</span>
<span class="line-added">280         result += hoursPerDay;</span>
<span class="line-added">281     return static_cast&lt;int&gt;(result);</span>
<span class="line-added">282 }</span>
<span class="line-added">283 </span>
<span class="line-added">284 inline int msToHours(TimeClippedPositiveMilliseconds ms)</span>
<span class="line-added">285 {</span>
<span class="line-added">286     int64_t result = (ms.value() / TimeClippedPositiveMilliseconds::msPerHour) % TimeClippedPositiveMilliseconds::hoursPerDay;</span>
<span class="line-added">287     ASSERT(result &gt;= 0);</span>
<span class="line-added">288     return static_cast&lt;int&gt;(result);</span>
<span class="line-added">289 }</span>
<span class="line-added">290 </span>
<span class="line-added">291 inline int msToSeconds(double ms)</span>
<span class="line-added">292 {</span>
<span class="line-added">293     double result = fmod(floor(ms / msPerSecond), secondsPerMinute);</span>
<span class="line-added">294     if (result &lt; 0)</span>
<span class="line-added">295         result += secondsPerMinute;</span>
<span class="line-added">296     return static_cast&lt;int&gt;(result);</span>
<span class="line-added">297 }</span>
<span class="line-added">298 </span>
<span class="line-added">299 inline int msToSeconds(TimeClippedPositiveMilliseconds ms)</span>
<span class="line-added">300 {</span>
<span class="line-added">301     int64_t result = ms.value() / TimeClippedPositiveMilliseconds::msPerSecond % TimeClippedPositiveMilliseconds::secondsPerMinute;</span>
<span class="line-added">302     ASSERT(result &gt;= 0);</span>
<span class="line-added">303     return static_cast&lt;int&gt;(result);</span>
<span class="line-added">304 }</span>
<span class="line-added">305 </span>
<span class="line-added">306 // 0: Sunday, 1: Monday, etc.</span>
<span class="line-added">307 inline int msToWeekDay(double ms)</span>
<span class="line-added">308 {</span>
<span class="line-added">309     int wd = (static_cast&lt;int&gt;(msToDays(ms)) + 4) % 7;</span>
<span class="line-added">310     if (wd &lt; 0)</span>
<span class="line-added">311         wd += 7;</span>
<span class="line-added">312     return wd;</span>
<span class="line-added">313 }</span>
<span class="line-added">314 </span>
<span class="line-added">315 inline int msToWeekDay(TimeClippedPositiveMilliseconds ms)</span>
<span class="line-added">316 {</span>
<span class="line-added">317     int result = (static_cast&lt;int&gt;(msToDays(ms)) + 4) % 7;</span>
<span class="line-added">318     ASSERT(result &gt;= 0);</span>
<span class="line-added">319     return result;</span>
<span class="line-added">320 }</span>
<span class="line-added">321 </span>
<span class="line-added">322 inline int monthFromDayInYear(int dayInYear, bool leapYear)</span>
<span class="line-added">323 {</span>
<span class="line-added">324     const int d = dayInYear;</span>
<span class="line-added">325     int step;</span>
<span class="line-added">326 </span>
<span class="line-added">327     if (d &lt; (step = 31))</span>
<span class="line-added">328         return 0;</span>
<span class="line-added">329     step += (leapYear ? 29 : 28);</span>
<span class="line-added">330     if (d &lt; step)</span>
<span class="line-added">331         return 1;</span>
<span class="line-added">332     if (d &lt; (step += 31))</span>
<span class="line-added">333         return 2;</span>
<span class="line-added">334     if (d &lt; (step += 30))</span>
<span class="line-added">335         return 3;</span>
<span class="line-added">336     if (d &lt; (step += 31))</span>
<span class="line-added">337         return 4;</span>
<span class="line-added">338     if (d &lt; (step += 30))</span>
<span class="line-added">339         return 5;</span>
<span class="line-added">340     if (d &lt; (step += 31))</span>
<span class="line-added">341         return 6;</span>
<span class="line-added">342     if (d &lt; (step += 31))</span>
<span class="line-added">343         return 7;</span>
<span class="line-added">344     if (d &lt; (step += 30))</span>
<span class="line-added">345         return 8;</span>
<span class="line-added">346     if (d &lt; (step += 31))</span>
<span class="line-added">347         return 9;</span>
<span class="line-added">348     if (d &lt; (step += 30))</span>
<span class="line-added">349         return 10;</span>
<span class="line-added">350     return 11;</span>
<span class="line-added">351 }</span>
<span class="line-added">352 </span>
<span class="line-added">353 inline int dayInMonthFromDayInYear(int dayInYear, bool leapYear)</span>
<span class="line-added">354 {</span>
<span class="line-added">355     auto checkMonth = [] (int dayInYear, int&amp; startDayOfThisMonth, int&amp; startDayOfNextMonth, int daysInThisMonth) -&gt; bool {</span>
<span class="line-added">356         startDayOfThisMonth = startDayOfNextMonth;</span>
<span class="line-added">357         startDayOfNextMonth += daysInThisMonth;</span>
<span class="line-added">358         return (dayInYear &lt;= startDayOfNextMonth);</span>
<span class="line-added">359     };</span>
<span class="line-added">360 </span>
<span class="line-added">361     const int d = dayInYear;</span>
<span class="line-added">362     int step;</span>
<span class="line-added">363     int next = 30;</span>
<span class="line-added">364 </span>
<span class="line-added">365     if (d &lt;= next)</span>
<span class="line-added">366         return d + 1;</span>
<span class="line-added">367     const int daysInFeb = (leapYear ? 29 : 28);</span>
<span class="line-added">368     if (checkMonth(d, step, next, daysInFeb))</span>
<span class="line-added">369         return d - step;</span>
<span class="line-added">370     if (checkMonth(d, step, next, 31))</span>
<span class="line-added">371         return d - step;</span>
<span class="line-added">372     if (checkMonth(d, step, next, 30))</span>
<span class="line-added">373         return d - step;</span>
<span class="line-added">374     if (checkMonth(d, step, next, 31))</span>
<span class="line-added">375         return d - step;</span>
<span class="line-added">376     if (checkMonth(d, step, next, 30))</span>
<span class="line-added">377         return d - step;</span>
<span class="line-added">378     if (checkMonth(d, step, next, 31))</span>
<span class="line-added">379         return d - step;</span>
<span class="line-added">380     if (checkMonth(d, step, next, 31))</span>
<span class="line-added">381         return d - step;</span>
<span class="line-added">382     if (checkMonth(d, step, next, 30))</span>
<span class="line-added">383         return d - step;</span>
<span class="line-added">384     if (checkMonth(d, step, next, 31))</span>
<span class="line-added">385         return d - step;</span>
<span class="line-added">386     if (checkMonth(d, step, next, 30))</span>
<span class="line-added">387         return d - step;</span>
<span class="line-added">388     step = next;</span>
<span class="line-added">389     return d - step;</span>
<span class="line-added">390 }</span>
391 
392 // Returns combined offset in millisecond (UTC + DST).
393 WTF_EXPORT_PRIVATE LocalTimeOffset calculateLocalTimeOffset(double utcInMilliseconds, TimeType = UTCTime);
394 
395 } // namespace WTF
396 
397 using WTF::isLeapYear;
398 using WTF::dateToDaysFrom1970;
399 using WTF::dayInMonthFromDayInYear;
400 using WTF::dayInYear;
401 using WTF::minutesPerHour;
402 using WTF::monthFromDayInYear;
403 using WTF::msPerDay;
404 using WTF::msPerHour;
405 using WTF::msPerMinute;
406 using WTF::msPerSecond;
407 using WTF::msToYear;
408 using WTF::msToDays;
409 using WTF::msToMinutes;
410 using WTF::msToHours;
411 using WTF::secondsPerDay;
412 using WTF::secondsPerMinute;
413 using WTF::parseDateFromNullTerminatedCharacters;
414 using WTF::makeRFC2822DateString;
415 using WTF::LocalTimeOffset;
416 using WTF::calculateLocalTimeOffset;
<a name="7" id="anc7"></a><span class="line-added">417 using WTF::timeClip;</span>
<span class="line-added">418 using WTF::jsCurrentTime;</span>
<a name="8" id="anc8"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="8" type="hidden" />
</body>
</html>