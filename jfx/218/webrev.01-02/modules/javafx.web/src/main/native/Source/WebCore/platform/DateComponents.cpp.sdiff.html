<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/DateComponents.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Cursor.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DeferrableTask.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/DateComponents.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
672 }
673 
674 double DateComponents::monthsSinceEpoch() const
675 {
676     ASSERT(m_type == Month);
677     return (m_year - 1970) * 12 + m_month;
678 }
679 
680 String DateComponents::toStringForTime(SecondFormat format) const
681 {
682     ASSERT(m_type == DateTime || m_type == DateTimeLocal || m_type == Time);
683     SecondFormat effectiveFormat = format;
684     if (m_millisecond)
685         effectiveFormat = Millisecond;
686     else if (format == None &amp;&amp; m_second)
687         effectiveFormat = Second;
688 
689     switch (effectiveFormat) {
690     default:
691         ASSERT_NOT_REACHED();
<span class="line-modified">692 #if ASSERT_DISABLED</span>
693         FALLTHROUGH; // To None.
694 #endif
695     case None:
696         return makeString(pad(&#39;0&#39;, 2, m_hour), &#39;:&#39;, pad(&#39;0&#39;, 2, m_minute));
697     case Second:
698         return makeString(pad(&#39;0&#39;, 2, m_hour), &#39;:&#39;, pad(&#39;0&#39;, 2, m_minute), &#39;:&#39;, pad(&#39;0&#39;, 2, m_second));
699     case Millisecond:
700         return makeString(pad(&#39;0&#39;, 2, m_hour), &#39;:&#39;, pad(&#39;0&#39;, 2, m_minute), &#39;:&#39;, pad(&#39;0&#39;, 2, m_second), &#39;.&#39;, pad(&#39;0&#39;, 3, m_millisecond));
701     }
702 }
703 
704 String DateComponents::toString(SecondFormat format) const
705 {
706     switch (m_type) {
707     case Date:
708         return makeString(pad(&#39;0&#39;, 4, m_year), &#39;-&#39;, pad(&#39;0&#39;, 2, m_month + 1), &#39;-&#39;, pad(&#39;0&#39;, 2, m_monthDay));
709     case DateTime:
710         return makeString(pad(&#39;0&#39;, 4, m_year), &#39;-&#39;, pad(&#39;0&#39;, 2, m_month + 1), &#39;-&#39;, pad(&#39;0&#39;, 2, m_monthDay), &#39;T&#39;, toStringForTime(format), &#39;Z&#39;);
711     case DateTimeLocal:
712         return makeString(pad(&#39;0&#39;, 4, m_year), &#39;-&#39;, pad(&#39;0&#39;, 2, m_month + 1), &#39;-&#39;, pad(&#39;0&#39;, 2, m_monthDay), &#39;T&#39;, toStringForTime(format));
</pre>
</td>
<td>
<hr />
<pre>
672 }
673 
674 double DateComponents::monthsSinceEpoch() const
675 {
676     ASSERT(m_type == Month);
677     return (m_year - 1970) * 12 + m_month;
678 }
679 
680 String DateComponents::toStringForTime(SecondFormat format) const
681 {
682     ASSERT(m_type == DateTime || m_type == DateTimeLocal || m_type == Time);
683     SecondFormat effectiveFormat = format;
684     if (m_millisecond)
685         effectiveFormat = Millisecond;
686     else if (format == None &amp;&amp; m_second)
687         effectiveFormat = Second;
688 
689     switch (effectiveFormat) {
690     default:
691         ASSERT_NOT_REACHED();
<span class="line-modified">692 #if !ASSERT_ENABLED</span>
693         FALLTHROUGH; // To None.
694 #endif
695     case None:
696         return makeString(pad(&#39;0&#39;, 2, m_hour), &#39;:&#39;, pad(&#39;0&#39;, 2, m_minute));
697     case Second:
698         return makeString(pad(&#39;0&#39;, 2, m_hour), &#39;:&#39;, pad(&#39;0&#39;, 2, m_minute), &#39;:&#39;, pad(&#39;0&#39;, 2, m_second));
699     case Millisecond:
700         return makeString(pad(&#39;0&#39;, 2, m_hour), &#39;:&#39;, pad(&#39;0&#39;, 2, m_minute), &#39;:&#39;, pad(&#39;0&#39;, 2, m_second), &#39;.&#39;, pad(&#39;0&#39;, 3, m_millisecond));
701     }
702 }
703 
704 String DateComponents::toString(SecondFormat format) const
705 {
706     switch (m_type) {
707     case Date:
708         return makeString(pad(&#39;0&#39;, 4, m_year), &#39;-&#39;, pad(&#39;0&#39;, 2, m_month + 1), &#39;-&#39;, pad(&#39;0&#39;, 2, m_monthDay));
709     case DateTime:
710         return makeString(pad(&#39;0&#39;, 4, m_year), &#39;-&#39;, pad(&#39;0&#39;, 2, m_month + 1), &#39;-&#39;, pad(&#39;0&#39;, 2, m_monthDay), &#39;T&#39;, toStringForTime(format), &#39;Z&#39;);
711     case DateTimeLocal:
712         return makeString(pad(&#39;0&#39;, 4, m_year), &#39;-&#39;, pad(&#39;0&#39;, 2, m_month + 1), &#39;-&#39;, pad(&#39;0&#39;, 2, m_monthDay), &#39;T&#39;, toStringForTime(format));
</pre>
</td>
</tr>
</table>
<center><a href="Cursor.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DeferrableTask.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>