<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Tools/TestRunnerShared/UIScriptContext/UIScriptController.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="UIScriptContext.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="UIScriptController.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Tools/TestRunnerShared/UIScriptContext/UIScriptController.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 41         DeviceOrientation::LandscapeLeft,
 42         DeviceOrientation::LandscapeRight
 43     };
 44 
 45     auto option = adopt(JSValueToStringCopy(context, value, nullptr));
 46     if (option.get()-&gt;string() == &quot;portrait&quot;)
 47         return &amp;values[0];
 48 
 49     if (option.get()-&gt;string() == &quot;portrait-upsidedown&quot;)
 50         return &amp;values[1];
 51 
 52     if (option.get()-&gt;string() == &quot;landscape-left&quot;)
 53         return &amp;values[2];
 54 
 55     if (option.get()-&gt;string() == &quot;landscape-right&quot;)
 56         return &amp;values[3];
 57 
 58     return nullptr;
 59 }
 60 
<span class="line-modified"> 61 #if !PLATFORM(GTK) &amp;&amp; !PLATFORM(COCOA)</span>
 62 Ref&lt;UIScriptController&gt; UIScriptController::create(UIScriptContext&amp; context)
 63 {
 64     return adoptRef(*new UIScriptController(context));
 65 }
 66 #endif
 67 
 68 UIScriptController::UIScriptController(UIScriptContext&amp; context)
 69     : m_context(&amp;context)
 70 {
 71 }
 72 
 73 void UIScriptController::contextDestroyed()
 74 {
 75     m_context = nullptr;
 76 }
 77 
 78 void UIScriptController::makeWindowObject(JSContextRef context, JSObjectRef windowObject, JSValueRef* exception)
 79 {
 80     setProperty(context, windowObject, &quot;uiController&quot;, this, kJSPropertyAttributeReadOnly | kJSPropertyAttributeDontDelete, exception);
 81 }
</pre>
<hr />
<pre>
 88 void UIScriptController::setDidStartFormControlInteractionCallback(JSValueRef callback)
 89 {
 90     m_context-&gt;registerCallback(callback, CallbackTypeDidStartFormControlInteraction);
 91 }
 92 
 93 JSValueRef UIScriptController::didStartFormControlInteractionCallback() const
 94 {
 95     return m_context-&gt;callbackWithID(CallbackTypeDidStartFormControlInteraction);
 96 }
 97 
 98 void UIScriptController::setDidEndFormControlInteractionCallback(JSValueRef callback)
 99 {
100     m_context-&gt;registerCallback(callback, CallbackTypeDidEndFormControlInteraction);
101 }
102 
103 JSValueRef UIScriptController::didEndFormControlInteractionCallback() const
104 {
105     return m_context-&gt;callbackWithID(CallbackTypeDidEndFormControlInteraction);
106 }
107 
<span class="line-modified">108 void UIScriptController::setDidShowForcePressPreviewCallback(JSValueRef callback)</span>
109 {
<span class="line-modified">110     m_context-&gt;registerCallback(callback, CallbackTypeDidShowForcePressPreview);</span>
111 }
112 
<span class="line-modified">113 JSValueRef UIScriptController::didShowForcePressPreviewCallback() const</span>
114 {
<span class="line-modified">115     return m_context-&gt;callbackWithID(CallbackTypeDidShowForcePressPreview);</span>
116 }
117 
<span class="line-modified">118 void UIScriptController::setDidDismissForcePressPreviewCallback(JSValueRef callback)</span>
119 {
<span class="line-modified">120     m_context-&gt;registerCallback(callback, CallbackTypeDidDismissForcePressPreview);</span>
121 }
122 
<span class="line-modified">123 JSValueRef UIScriptController::didDismissForcePressPreviewCallback() const</span>
124 {
<span class="line-modified">125     return m_context-&gt;callbackWithID(CallbackTypeDidDismissForcePressPreview);</span>
126 }
127 
128 void UIScriptController::setWillBeginZoomingCallback(JSValueRef callback)
129 {
130     m_context-&gt;registerCallback(callback, CallbackTypeWillBeginZooming);
131 }
132 
133 JSValueRef UIScriptController::willBeginZoomingCallback() const
134 {
135     return m_context-&gt;callbackWithID(CallbackTypeWillBeginZooming);
136 }
137 
138 void UIScriptController::setDidEndZoomingCallback(JSValueRef callback)
139 {
140     m_context-&gt;registerCallback(callback, CallbackTypeDidEndZooming);
141 }
142 
143 JSValueRef UIScriptController::didEndZoomingCallback() const
144 {
145     return m_context-&gt;callbackWithID(CallbackTypeDidEndZooming);
</pre>
<hr />
<pre>
214 {
215     return m_context-&gt;callbackWithID(CallbackTypeWillPresentPopover);
216 }
217 
218 void UIScriptController::setDidDismissPopoverCallback(JSValueRef callback)
219 {
220     m_context-&gt;registerCallback(callback, CallbackTypeDidDismissPopover);
221 }
222 
223 JSValueRef UIScriptController::didDismissPopoverCallback() const
224 {
225     return m_context-&gt;callbackWithID(CallbackTypeDidDismissPopover);
226 }
227 
228 void UIScriptController::uiScriptComplete(JSStringRef result)
229 {
230     m_context-&gt;requestUIScriptCompletion(result);
231     clearAllCallbacks();
232 }
233 








234 }
</pre>
</td>
<td>
<hr />
<pre>
 41         DeviceOrientation::LandscapeLeft,
 42         DeviceOrientation::LandscapeRight
 43     };
 44 
 45     auto option = adopt(JSValueToStringCopy(context, value, nullptr));
 46     if (option.get()-&gt;string() == &quot;portrait&quot;)
 47         return &amp;values[0];
 48 
 49     if (option.get()-&gt;string() == &quot;portrait-upsidedown&quot;)
 50         return &amp;values[1];
 51 
 52     if (option.get()-&gt;string() == &quot;landscape-left&quot;)
 53         return &amp;values[2];
 54 
 55     if (option.get()-&gt;string() == &quot;landscape-right&quot;)
 56         return &amp;values[3];
 57 
 58     return nullptr;
 59 }
 60 
<span class="line-modified"> 61 #if !PLATFORM(GTK) &amp;&amp; !PLATFORM(COCOA) &amp;&amp; !PLATFORM(WIN) &amp;&amp; !PLATFORM(WPE)</span>
 62 Ref&lt;UIScriptController&gt; UIScriptController::create(UIScriptContext&amp; context)
 63 {
 64     return adoptRef(*new UIScriptController(context));
 65 }
 66 #endif
 67 
 68 UIScriptController::UIScriptController(UIScriptContext&amp; context)
 69     : m_context(&amp;context)
 70 {
 71 }
 72 
 73 void UIScriptController::contextDestroyed()
 74 {
 75     m_context = nullptr;
 76 }
 77 
 78 void UIScriptController::makeWindowObject(JSContextRef context, JSObjectRef windowObject, JSValueRef* exception)
 79 {
 80     setProperty(context, windowObject, &quot;uiController&quot;, this, kJSPropertyAttributeReadOnly | kJSPropertyAttributeDontDelete, exception);
 81 }
</pre>
<hr />
<pre>
 88 void UIScriptController::setDidStartFormControlInteractionCallback(JSValueRef callback)
 89 {
 90     m_context-&gt;registerCallback(callback, CallbackTypeDidStartFormControlInteraction);
 91 }
 92 
 93 JSValueRef UIScriptController::didStartFormControlInteractionCallback() const
 94 {
 95     return m_context-&gt;callbackWithID(CallbackTypeDidStartFormControlInteraction);
 96 }
 97 
 98 void UIScriptController::setDidEndFormControlInteractionCallback(JSValueRef callback)
 99 {
100     m_context-&gt;registerCallback(callback, CallbackTypeDidEndFormControlInteraction);
101 }
102 
103 JSValueRef UIScriptController::didEndFormControlInteractionCallback() const
104 {
105     return m_context-&gt;callbackWithID(CallbackTypeDidEndFormControlInteraction);
106 }
107 
<span class="line-modified">108 void UIScriptController::setDidShowContextMenuCallback(JSValueRef callback)</span>
109 {
<span class="line-modified">110     m_context-&gt;registerCallback(callback, CallbackTypeDidShowContextMenu);</span>
111 }
112 
<span class="line-modified">113 JSValueRef UIScriptController::didShowContextMenuCallback() const</span>
114 {
<span class="line-modified">115     return m_context-&gt;callbackWithID(CallbackTypeDidShowContextMenu);</span>
116 }
117 
<span class="line-modified">118 void UIScriptController::setDidDismissContextMenuCallback(JSValueRef callback)</span>
119 {
<span class="line-modified">120     m_context-&gt;registerCallback(callback, CallbackTypeDidDismissContextMenu);</span>
121 }
122 
<span class="line-modified">123 JSValueRef UIScriptController::didDismissContextMenuCallback() const</span>
124 {
<span class="line-modified">125     return m_context-&gt;callbackWithID(CallbackTypeDidDismissContextMenu);</span>
126 }
127 
128 void UIScriptController::setWillBeginZoomingCallback(JSValueRef callback)
129 {
130     m_context-&gt;registerCallback(callback, CallbackTypeWillBeginZooming);
131 }
132 
133 JSValueRef UIScriptController::willBeginZoomingCallback() const
134 {
135     return m_context-&gt;callbackWithID(CallbackTypeWillBeginZooming);
136 }
137 
138 void UIScriptController::setDidEndZoomingCallback(JSValueRef callback)
139 {
140     m_context-&gt;registerCallback(callback, CallbackTypeDidEndZooming);
141 }
142 
143 JSValueRef UIScriptController::didEndZoomingCallback() const
144 {
145     return m_context-&gt;callbackWithID(CallbackTypeDidEndZooming);
</pre>
<hr />
<pre>
214 {
215     return m_context-&gt;callbackWithID(CallbackTypeWillPresentPopover);
216 }
217 
218 void UIScriptController::setDidDismissPopoverCallback(JSValueRef callback)
219 {
220     m_context-&gt;registerCallback(callback, CallbackTypeDidDismissPopover);
221 }
222 
223 JSValueRef UIScriptController::didDismissPopoverCallback() const
224 {
225     return m_context-&gt;callbackWithID(CallbackTypeDidDismissPopover);
226 }
227 
228 void UIScriptController::uiScriptComplete(JSStringRef result)
229 {
230     m_context-&gt;requestUIScriptCompletion(result);
231     clearAllCallbacks();
232 }
233 
<span class="line-added">234 void UIScriptController::dismissMenu()</span>
<span class="line-added">235 {</span>
<span class="line-added">236 }</span>
<span class="line-added">237 </span>
<span class="line-added">238 void UIScriptController::chooseMenuAction(JSStringRef, JSValueRef)</span>
<span class="line-added">239 {</span>
<span class="line-added">240 }</span>
<span class="line-added">241 </span>
242 }
</pre>
</td>
</tr>
</table>
<center><a href="UIScriptContext.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="UIScriptController.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>