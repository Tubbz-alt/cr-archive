<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.web/src/main/native/Source/WTF/wtf/Platform.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
<a name="1" id="anc1"></a><span class="line-modified">  2  * Copyright (C) 2006-2020 Apple Inc. All rights reserved.</span>
  3  * Copyright (C) 2007-2009 Torch Mobile, Inc.
  4  * Copyright (C) 2010, 2011 Research In Motion Limited. All rights reserved.
  5  *
  6  * Redistribution and use in source and binary forms, with or without
  7  * modification, are permitted provided that the following conditions
  8  * are met:
  9  * 1. Redistributions of source code must retain the above copyright
 10  *    notice, this list of conditions and the following disclaimer.
 11  * 2. Redistributions in binary form must reproduce the above copyright
 12  *    notice, this list of conditions and the following disclaimer in the
 13  *    documentation and/or other materials provided with the distribution.
 14  *
 15  * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS&#39;&#39; AND ANY
 16  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 17  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 18  * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR
 19  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 20  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 21  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 22  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 23  * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 24  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 25  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 26  */
 27 
 28 #pragma once
 29 
 30 /* Include compiler specific macros */
 31 #include &lt;wtf/Compiler.h&gt;
 32 
<a name="2" id="anc2"></a><span class="line-modified"> 33 /* This ensures that users #include &lt;wtf/Platform.h&gt; rather than one of the helper files files directly. */</span>
<span class="line-modified"> 34 #define WTF_PLATFORM_GUARD_AGAINST_INDIRECT_INCLUSION</span>


 35 
 36 
 37 /* ==== Platform adaptation macros: these describe properties of the target environment. ==== */
 38 
 39 /* CPU() - the target CPU architecture */
<a name="3" id="anc3"></a><span class="line-modified"> 40 #include &lt;wtf/PlatformCPU.h&gt;</span>
<span class="line-modified"> 41 </span>

 42 /* OS() - underlying operating system; only to be used for mandated low-level services like
 43    virtual memory, not to choose a GUI toolkit */
<a name="4" id="anc4"></a><span class="line-modified"> 44 #include &lt;wtf/PlatformOS.h&gt;</span>












































































































































































































































 45 
<a name="5" id="anc5"></a><span class="line-modified"> 46 /* PLATFORM() - handles OS, operating environment, graphics API, and</span>
<span class="line-modified"> 47    CPU. This macro will be phased out in favor of platform adaptation</span>
<span class="line-modified"> 48    macros, policy decision macros, and top-level port definitions. */</span>
<span class="line-modified"> 49 #include &lt;wtf/PlatformLegacy.h&gt;</span>



































































































































 50 
<a name="6" id="anc6"></a><span class="line-modified"> 51 /* HAVE() - specific system features (headers, functions or similar) that are present or not */</span>
<span class="line-modified"> 52 #include &lt;wtf/PlatformHave.h&gt;</span>
 53 
<a name="7" id="anc7"></a>













 54 
<a name="8" id="anc8"></a><span class="line-modified"> 55 /* ==== Policy decision macros: these define policy choices for a particular port. ==== */</span>
 56 
<a name="9" id="anc9"></a><span class="line-modified"> 57 /* USE() - use a particular third-party library or optional OS service */</span>
<span class="line-added"> 58 #include &lt;wtf/PlatformUse.h&gt;</span>
 59 
<a name="10" id="anc10"></a><span class="line-modified"> 60 /* ENABLE() - turn on a specific feature of WebKit */</span>
<span class="line-modified"> 61 #include &lt;wtf/PlatformEnable.h&gt;</span>











































 62 
<a name="11" id="anc11"></a>


 63 
<a name="12" id="anc12"></a><span class="line-modified"> 64 /* ==== Helper macros ==== */</span>











 65 
<a name="13" id="anc13"></a><span class="line-modified"> 66 /* Macros for specifing specific calling conventions. */</span>
<span class="line-modified"> 67 #include &lt;wtf/PlatformCallingConventions.h&gt;</span>



 68 
<a name="14" id="anc14"></a>


































 69 
<a name="15" id="anc15"></a><span class="line-modified"> 70 /* ==== Platform additions: additions to Platform.h from outside the main repository ==== */</span>



 71 
<a name="16" id="anc16"></a><span class="line-modified"> 72 #if USE(APPLE_INTERNAL_SDK) &amp;&amp; __has_include(&lt;WebKitAdditions/AdditionalPlatform.h&gt;)</span>
<span class="line-modified"> 73 #include &lt;WebKitAdditions/AdditionalPlatform.h&gt;</span>


 74 #endif
 75 
<a name="17" id="anc17"></a>



 76 
<a name="18" id="anc18"></a><span class="line-modified"> 77 #undef WTF_PLATFORM_GUARD_AGAINST_INDIRECT_INCLUSION</span>



 78 
<a name="19" id="anc19"></a>
 79 
<a name="20" id="anc20"></a><span class="line-modified"> 80 /* FIXME: The following are currenly positioned at the bottom of this file as they either</span>
<span class="line-modified"> 81    are currently dependent on macros they should not be and need to be refined or do not</span>
<span class="line-modified"> 82    belong as part of Platform.h at all. */</span>


 83 
<a name="21" id="anc21"></a>







 84 
 85 #if PLATFORM(GTK)
 86 #define GLIB_VERSION_MIN_REQUIRED GLIB_VERSION_2_36
 87 #define GDK_VERSION_MIN_REQUIRED GDK_VERSION_3_6
 88 #endif
 89 
 90 #if PLATFORM(WPE)
 91 #define GLIB_VERSION_MIN_REQUIRED GLIB_VERSION_2_40
 92 #endif
 93 
 94 #if USE(SOUP)
 95 #define SOUP_VERSION_MIN_REQUIRED SOUP_VERSION_2_42
 96 #endif
 97 
<a name="22" id="anc22"></a>




 98 #if PLATFORM(COCOA)
<a name="23" id="anc23"></a>






 99 /* Cocoa defines a series of platform macros for debugging. */
100 /* Some of them are really annoying because they use common names (e.g. check()). */
101 /* Disable those macros so that we are not limited in how we name methods and functions. */
102 #undef __ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORES
103 #define __ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORES 0
<a name="24" id="anc24"></a>




































































































104 #endif
105 
<a name="25" id="anc25"></a><span class="line-modified">106 #if COMPILER(MSVC)</span>
<span class="line-modified">107 #undef __STDC_FORMAT_MACROS</span>
<span class="line-modified">108 #define __STDC_FORMAT_MACROS</span>
<span class="line-modified">109 #undef __STDC_LIMIT_MACROS</span>
<span class="line-added">110 #define __STDC_LIMIT_MACROS</span>
111 #endif
<a name="26" id="anc26"></a>





112 
<a name="27" id="anc27"></a><span class="line-modified">113 /* FIXME: Any remaining use of TARGET_OS_IPHONE should be removed outside of Apple only files and replaced with OS() checks. */</span>
<span class="line-modified">114 /* Set TARGET_OS_IPHONE to 0 by default to allow using it as a guard</span>
<span class="line-modified">115  * in cross-platform the same way as it is used in OS(DARWIN) code. */</span>
<span class="line-modified">116 #if !defined(TARGET_OS_IPHONE) &amp;&amp; !OS(DARWIN)</span>
<span class="line-added">117 #define TARGET_OS_IPHONE 0</span>
118 #endif
119 
<a name="28" id="anc28"></a><span class="line-modified">120 /* FIXME: This does not belong in Platform.h and should instead be included in another mechanism (compiler option, prefix header, config.h, etc) */</span>
<span class="line-modified">121 #if COMPILER(MSVC)</span>
<span class="line-added">122 /* Enable strict runtime stack buffer checks. */</span>
<span class="line-added">123 #pragma strict_gs_check(on)</span>
124 #endif
125 
<a name="29" id="anc29"></a><span class="line-modified">126 /* FIXME: This does not belong in Platform.h and should instead be included in another mechanism (prefix header, config.h, etc) */</span>
<span class="line-modified">127 #if USE(GLIB)</span>
<span class="line-modified">128 #include &lt;wtf/glib/GTypedefs.h&gt;</span>


129 #endif
130 
<a name="30" id="anc30"></a><span class="line-modified">131 /* FIXME: The availability of RSA_PSS should not depend on the policy decision to USE(GCRYPT). */</span>
<span class="line-modified">132 #if PLATFORM(MAC) || PLATFORM(IOS) || PLATFORM(MACCATALYST) || USE(GCRYPT)</span>
<span class="line-modified">133 #define HAVE_RSA_PSS 1</span>






134 #endif
135 
<a name="31" id="anc31"></a><span class="line-modified">136 /* FIXME: Remove dependence on ENABLE(WEB_RTC). */</span>
<span class="line-modified">137 #if PLATFORM(COCOA) &amp;&amp; ENABLE(WEB_RTC)</span>
<span class="line-modified">138 #define USE_LIBWEBRTC 1</span>


139 #endif
<a name="32" id="anc32"></a>
140 
<a name="33" id="anc33"></a>





141 
<a name="34" id="anc34"></a><span class="line-modified">142 #if PLATFORM(COCOA)</span>
<span class="line-modified">143 #if ENABLE(WEBGL)</span>












144 
<a name="35" id="anc35"></a><span class="line-modified">145 /* USE_ANGLE=1 uses ANGLE for the WebGL backend.</span>
<span class="line-modified">146    It replaces USE_OPENGL, USE_OPENGL_ES and USE_EGL. */</span>
<span class="line-modified">147 #if PLATFORM(MAC) || (PLATFORM(MACCATALYST) &amp;&amp; __has_include(&lt;OpenGL/OpenGL.h&gt;))</span>
<span class="line-modified">148 #define USE_OPENGL 1</span>
<span class="line-added">149 #define USE_OPENGL_ES 0</span>
<span class="line-added">150 #define USE_ANGLE 0</span>
151 #else
<a name="36" id="anc36"></a><span class="line-modified">152 #define USE_OPENGL 0</span>
<span class="line-modified">153 #define USE_OPENGL_ES 1</span>
<span class="line-modified">154 #define USE_ANGLE 0</span>


























155 #endif
156 
<a name="37" id="anc37"></a><span class="line-modified">157 #ifndef GL_SILENCE_DEPRECATION</span>
<span class="line-modified">158 #define GL_SILENCE_DEPRECATION 1</span>











159 #endif
160 
<a name="38" id="anc38"></a><span class="line-modified">161 #if USE(OPENGL) &amp;&amp; !defined(HAVE_OPENGL_4)</span>
<span class="line-modified">162 #define HAVE_OPENGL_4 1</span>




163 #endif
164 
<a name="39" id="anc39"></a><span class="line-modified">165 #if USE(OPENGL_ES) &amp;&amp; !defined(HAVE_OPENGL_ES_3)</span>
<span class="line-modified">166 #define HAVE_OPENGL_ES_3 1</span>
167 #endif
168 
<a name="40" id="anc40"></a><span class="line-modified">169 #if USE_ANGLE &amp;&amp; (USE_OPENGL || USE_OPENGL_ES)</span>
<span class="line-modified">170 #error USE_ANGLE is incompatible with USE_OPENGL and USE_OPENGL_ES</span>
171 #endif
172 
<a name="41" id="anc41"></a><span class="line-modified">173 #endif /* ENABLE(WEBGL) */</span>
<span class="line-modified">174 #endif /* PLATFORM(COCOA) */</span>



175 
<a name="42" id="anc42"></a><span class="line-modified">176 #if ENABLE(WEBGL)</span>
<span class="line-modified">177 #if !defined(USE_ANGLE)</span>
<span class="line-modified">178 #define USE_ANGLE 0</span>
179 #endif
180 
<a name="43" id="anc43"></a><span class="line-modified">181 #if (USE_ANGLE &amp;&amp; (USE_OPENGL || USE_OPENGL_ES || (defined(USE_EGL) &amp;&amp; USE_EGL))) &amp;&amp; !USE(TEXTURE_MAPPER)</span>
<span class="line-modified">182 #error USE_ANGLE is incompatible with USE_OPENGL, USE_OPENGL_ES and USE_EGL</span>





183 #endif
<a name="44" id="anc44"></a>




184 #endif
185 
<a name="45" id="anc45"></a><span class="line-modified">186 #if USE(TEXTURE_MAPPER) &amp;&amp; ENABLE(GRAPHICS_CONTEXT_GL) &amp;&amp; !defined(USE_TEXTURE_MAPPER_GL)</span>
<span class="line-modified">187 #define USE_TEXTURE_MAPPER_GL 1</span>

188 #endif
189 
<a name="46" id="anc46"></a><span class="line-modified">190 /* FIXME: This is used to &quot;turn on a specific feature of WebKit&quot;, so should be converted to an ENABLE macro. */</span>
<span class="line-modified">191 #if PLATFORM(COCOA) &amp;&amp; ENABLE(ACCESSIBILITY)</span>















































































































































































































































192 #define USE_ACCESSIBILITY_CONTEXT_MENUS 1
193 #endif
<a name="47" id="anc47"></a>






































































































































































































































































































































































































































































































































<a name="48" id="anc48"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="48" type="hidden" />
</body>
</html>