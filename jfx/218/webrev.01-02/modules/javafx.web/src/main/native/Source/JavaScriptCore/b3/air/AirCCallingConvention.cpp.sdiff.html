<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/b3/air/AirCCallingConvention.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="AirCCallSpecial.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="AirCode.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/b3/air/AirCCallingConvention.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 28 
 29 #if ENABLE(B3_JIT)
 30 
 31 #include &quot;AirCCallSpecial.h&quot;
 32 #include &quot;AirCode.h&quot;
 33 #include &quot;B3CCallValue.h&quot;
 34 #include &quot;B3ValueInlines.h&quot;
 35 
 36 namespace JSC { namespace B3 { namespace Air {
 37 
 38 namespace {
 39 
 40 template&lt;typename BankInfo&gt;
 41 Arg marshallCCallArgumentImpl(unsigned&amp; argumentCount, unsigned&amp; stackOffset, Value* child)
 42 {
 43     unsigned argumentIndex = argumentCount++;
 44     if (argumentIndex &lt; BankInfo::numberOfArgumentRegisters)
 45         return Tmp(BankInfo::toArgumentRegister(argumentIndex));
 46 
 47     unsigned slotSize;
<span class="line-modified"> 48     if (isARM64() &amp;&amp; isIOS()) {</span>
 49         // Arguments are packed.
 50         slotSize = sizeofType(child-&gt;type());
 51     } else {
 52         // Arguments are aligned.
 53         slotSize = 8;
 54     }
 55 
 56     stackOffset = WTF::roundUpToMultipleOf(slotSize, stackOffset);
 57     Arg result = Arg::callArg(stackOffset);
 58     stackOffset += slotSize;
 59     return result;
 60 }
 61 
 62 Arg marshallCCallArgument(
 63     unsigned&amp; gpArgumentCount, unsigned&amp; fpArgumentCount, unsigned&amp; stackOffset, Value* child)
 64 {
 65     switch (bankForType(child-&gt;type())) {
 66     case GP:
 67         return marshallCCallArgumentImpl&lt;GPRInfo&gt;(gpArgumentCount, stackOffset, child);
 68     case FP:
</pre>
</td>
<td>
<hr />
<pre>
 28 
 29 #if ENABLE(B3_JIT)
 30 
 31 #include &quot;AirCCallSpecial.h&quot;
 32 #include &quot;AirCode.h&quot;
 33 #include &quot;B3CCallValue.h&quot;
 34 #include &quot;B3ValueInlines.h&quot;
 35 
 36 namespace JSC { namespace B3 { namespace Air {
 37 
 38 namespace {
 39 
 40 template&lt;typename BankInfo&gt;
 41 Arg marshallCCallArgumentImpl(unsigned&amp; argumentCount, unsigned&amp; stackOffset, Value* child)
 42 {
 43     unsigned argumentIndex = argumentCount++;
 44     if (argumentIndex &lt; BankInfo::numberOfArgumentRegisters)
 45         return Tmp(BankInfo::toArgumentRegister(argumentIndex));
 46 
 47     unsigned slotSize;
<span class="line-modified"> 48     if (isARM64() &amp;&amp; isDarwin()) {</span>
 49         // Arguments are packed.
 50         slotSize = sizeofType(child-&gt;type());
 51     } else {
 52         // Arguments are aligned.
 53         slotSize = 8;
 54     }
 55 
 56     stackOffset = WTF::roundUpToMultipleOf(slotSize, stackOffset);
 57     Arg result = Arg::callArg(stackOffset);
 58     stackOffset += slotSize;
 59     return result;
 60 }
 61 
 62 Arg marshallCCallArgument(
 63     unsigned&amp; gpArgumentCount, unsigned&amp; fpArgumentCount, unsigned&amp; stackOffset, Value* child)
 64 {
 65     switch (bankForType(child-&gt;type())) {
 66     case GP:
 67         return marshallCCallArgumentImpl&lt;GPRInfo&gt;(gpArgumentCount, stackOffset, child);
 68     case FP:
</pre>
</td>
</tr>
</table>
<center><a href="AirCCallSpecial.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="AirCode.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>