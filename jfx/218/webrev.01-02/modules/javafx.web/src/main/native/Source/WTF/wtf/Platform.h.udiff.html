<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WTF/wtf/Platform.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ParkingLot.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="PlatformJSCOnly.cmake.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/Platform.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,7 +1,7 @@</span>
  /*
<span class="udiff-line-modified-removed">-  * Copyright (C) 2006-2019 Apple Inc. All rights reserved.</span>
<span class="udiff-line-modified-added">+  * Copyright (C) 2006-2020 Apple Inc. All rights reserved.</span>
   * Copyright (C) 2007-2009 Torch Mobile, Inc.
   * Copyright (C) 2010, 2011 Research In Motion Limited. All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -28,562 +28,61 @@</span>
  #pragma once
  
  /* Include compiler specific macros */
  #include &lt;wtf/Compiler.h&gt;
  
<span class="udiff-line-modified-removed">- /* ==== PLATFORM handles OS, operating environment, graphics API, and</span>
<span class="udiff-line-modified-removed">-    CPU. This macro will be phased out in favor of platform adaptation</span>
<span class="udiff-line-removed">-    macros, policy decision macros, and top-level port definitions. ==== */</span>
<span class="udiff-line-removed">- #define PLATFORM(WTF_FEATURE) (defined WTF_PLATFORM_##WTF_FEATURE  &amp;&amp; WTF_PLATFORM_##WTF_FEATURE)</span>
<span class="udiff-line-modified-added">+ /* This ensures that users #include &lt;wtf/Platform.h&gt; rather than one of the helper files files directly. */</span>
<span class="udiff-line-modified-added">+ #define WTF_PLATFORM_GUARD_AGAINST_INDIRECT_INCLUSION</span>
  
  
  /* ==== Platform adaptation macros: these describe properties of the target environment. ==== */
  
  /* CPU() - the target CPU architecture */
<span class="udiff-line-modified-removed">- #define CPU(WTF_FEATURE) (defined WTF_CPU_##WTF_FEATURE  &amp;&amp; WTF_CPU_##WTF_FEATURE)</span>
<span class="udiff-line-modified-removed">- /* HAVE() - specific system features (headers, functions or similar) that are present or not */</span>
<span class="udiff-line-removed">- #define HAVE(WTF_FEATURE) (defined HAVE_##WTF_FEATURE  &amp;&amp; HAVE_##WTF_FEATURE)</span>
<span class="udiff-line-modified-added">+ #include &lt;wtf/PlatformCPU.h&gt;</span>
<span class="udiff-line-modified-added">+ </span>
  /* OS() - underlying operating system; only to be used for mandated low-level services like
     virtual memory, not to choose a GUI toolkit */
<span class="udiff-line-modified-removed">- #define OS(WTF_FEATURE) (defined WTF_OS_##WTF_FEATURE  &amp;&amp; WTF_OS_##WTF_FEATURE)</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* ==== Policy decision macros: these define policy choices for a particular port. ==== */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* USE() - use a particular third-party library or optional OS service */</span>
<span class="udiff-line-removed">- #define USE(WTF_FEATURE) (defined USE_##WTF_FEATURE  &amp;&amp; USE_##WTF_FEATURE)</span>
<span class="udiff-line-removed">- /* ENABLE() - turn on a specific feature of WebKit */</span>
<span class="udiff-line-removed">- #define ENABLE(WTF_FEATURE) (defined ENABLE_##WTF_FEATURE  &amp;&amp; ENABLE_##WTF_FEATURE)</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* ==== CPU() - the target CPU architecture ==== */</span>
<span class="udiff-line-removed">- /* CPU(KNOWN) becomes true if we explicitly support a target CPU. */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* CPU(MIPS) - MIPS 32-bit and 64-bit */</span>
<span class="udiff-line-removed">- #if (defined(mips) || defined(__mips__) || defined(MIPS) || defined(_MIPS_) || defined(__mips64))</span>
<span class="udiff-line-removed">- #if defined(_ABI64) &amp;&amp; (_MIPS_SIM == _ABI64)</span>
<span class="udiff-line-removed">- #define WTF_CPU_MIPS64 1</span>
<span class="udiff-line-removed">- #define WTF_MIPS_ARCH __mips64</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define WTF_CPU_MIPS 1</span>
<span class="udiff-line-removed">- #define WTF_MIPS_ARCH __mips</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #define WTF_CPU_KNOWN 1</span>
<span class="udiff-line-removed">- #define WTF_MIPS_PIC (defined __PIC__)</span>
<span class="udiff-line-removed">- #define WTF_MIPS_ISA(v) (defined WTF_MIPS_ARCH &amp;&amp; WTF_MIPS_ARCH == v)</span>
<span class="udiff-line-removed">- #define WTF_MIPS_ISA_AT_LEAST(v) (defined WTF_MIPS_ARCH &amp;&amp; WTF_MIPS_ARCH &gt;= v)</span>
<span class="udiff-line-removed">- #define WTF_MIPS_ARCH_REV __mips_isa_rev</span>
<span class="udiff-line-removed">- #define WTF_MIPS_ISA_REV(v) (defined WTF_MIPS_ARCH_REV &amp;&amp; WTF_MIPS_ARCH_REV == v)</span>
<span class="udiff-line-removed">- #define WTF_MIPS_ISA_REV_AT_LEAST(v) (defined WTF_MIPS_ARCH_REV &amp;&amp; WTF_MIPS_ARCH_REV &gt;= v)</span>
<span class="udiff-line-removed">- #define WTF_MIPS_DOUBLE_FLOAT (defined __mips_hard_float &amp;&amp; !defined __mips_single_float)</span>
<span class="udiff-line-removed">- #define WTF_MIPS_FP64 (defined __mips_fpr &amp;&amp; __mips_fpr == 64)</span>
<span class="udiff-line-removed">- /* MIPS requires allocators to use aligned memory */</span>
<span class="udiff-line-removed">- #define USE_ARENA_ALLOC_ALIGNMENT_INTEGER 1</span>
<span class="udiff-line-removed">- #endif /* MIPS */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* CPU(PPC64) - PowerPC 64-bit Big Endian */</span>
<span class="udiff-line-removed">- #if (  defined(__ppc64__)      \</span>
<span class="udiff-line-removed">-     || defined(__PPC64__))     \</span>
<span class="udiff-line-removed">-     &amp;&amp; defined(__BYTE_ORDER__) \</span>
<span class="udiff-line-removed">-     &amp;&amp; (__BYTE_ORDER__ == __ORDER_BIG_ENDIAN__)</span>
<span class="udiff-line-removed">- #define WTF_CPU_PPC64 1</span>
<span class="udiff-line-removed">- #define WTF_CPU_KNOWN 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* CPU(PPC64LE) - PowerPC 64-bit Little Endian */</span>
<span class="udiff-line-removed">- #if (   defined(__ppc64__)     \</span>
<span class="udiff-line-removed">-     || defined(__PPC64__)      \</span>
<span class="udiff-line-removed">-     || defined(__ppc64le__)    \</span>
<span class="udiff-line-removed">-     || defined(__PPC64LE__))   \</span>
<span class="udiff-line-removed">-     &amp;&amp; defined(__BYTE_ORDER__) \</span>
<span class="udiff-line-removed">-     &amp;&amp; (__BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__)</span>
<span class="udiff-line-removed">- #define WTF_CPU_PPC64LE 1</span>
<span class="udiff-line-removed">- #define WTF_CPU_KNOWN 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* CPU(PPC) - PowerPC 32-bit */</span>
<span class="udiff-line-removed">- #if (  defined(__ppc__)        \</span>
<span class="udiff-line-removed">-     || defined(__PPC__)        \</span>
<span class="udiff-line-removed">-     || defined(__powerpc__)    \</span>
<span class="udiff-line-removed">-     || defined(__powerpc)      \</span>
<span class="udiff-line-removed">-     || defined(__POWERPC__)    \</span>
<span class="udiff-line-removed">-     || defined(_M_PPC)         \</span>
<span class="udiff-line-removed">-     || defined(__PPC))         \</span>
<span class="udiff-line-removed">-     &amp;&amp; !CPU(PPC64)             \</span>
<span class="udiff-line-removed">-     &amp;&amp; CPU(BIG_ENDIAN)</span>
<span class="udiff-line-removed">- #define WTF_CPU_PPC 1</span>
<span class="udiff-line-removed">- #define WTF_CPU_KNOWN 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* CPU(X86) - i386 / x86 32-bit */</span>
<span class="udiff-line-removed">- #if   defined(__i386__) \</span>
<span class="udiff-line-removed">-     || defined(i386)     \</span>
<span class="udiff-line-removed">-     || defined(_M_IX86)  \</span>
<span class="udiff-line-removed">-     || defined(_X86_)    \</span>
<span class="udiff-line-removed">-     || defined(__THW_INTEL)</span>
<span class="udiff-line-removed">- #define WTF_CPU_X86 1</span>
<span class="udiff-line-removed">- #define WTF_CPU_KNOWN 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if defined(__SSE2__) || (defined(_M_IX86_FP) &amp;&amp; _M_IX86_FP &gt;= 2)</span>
<span class="udiff-line-removed">- #define WTF_CPU_X86_SSE2 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* CPU(X86_64) - AMD64 / Intel64 / x86_64 64-bit */</span>
<span class="udiff-line-removed">- #if   defined(__x86_64__) \</span>
<span class="udiff-line-removed">-     || defined(_M_X64)</span>
<span class="udiff-line-removed">- #define WTF_CPU_X86_64 1</span>
<span class="udiff-line-removed">- #define WTF_CPU_X86_SSE2 1</span>
<span class="udiff-line-removed">- #define WTF_CPU_KNOWN 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* CPU(ARM64) - Apple */</span>
<span class="udiff-line-removed">- #if (defined(__arm64__) &amp;&amp; defined(__APPLE__)) || defined(__aarch64__)</span>
<span class="udiff-line-removed">- #define WTF_CPU_ARM64 1</span>
<span class="udiff-line-removed">- #define WTF_CPU_KNOWN 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if defined(__arm64e__)</span>
<span class="udiff-line-removed">- #define WTF_CPU_ARM64E 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* CPU(ARM) - ARM, any version*/</span>
<span class="udiff-line-removed">- #define WTF_ARM_ARCH_AT_LEAST(N) (CPU(ARM) &amp;&amp; WTF_ARM_ARCH_VERSION &gt;= N)</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if   defined(arm) \</span>
<span class="udiff-line-removed">-     || defined(__arm__) \</span>
<span class="udiff-line-removed">-     || defined(ARM) \</span>
<span class="udiff-line-removed">-     || defined(_ARM_)</span>
<span class="udiff-line-removed">- #define WTF_CPU_ARM 1</span>
<span class="udiff-line-removed">- #define WTF_CPU_KNOWN 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if defined(__ARM_PCS_VFP)</span>
<span class="udiff-line-removed">- #define WTF_CPU_ARM_HARDFP 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* Set WTF_ARM_ARCH_VERSION */</span>
<span class="udiff-line-removed">- #if   defined(__ARM_ARCH_4__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_4T__) \</span>
<span class="udiff-line-removed">-     || defined(__MARM_ARMV4__)</span>
<span class="udiff-line-removed">- #define WTF_ARM_ARCH_VERSION 4</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #elif defined(__ARM_ARCH_5__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_5T__) \</span>
<span class="udiff-line-removed">-     || defined(__MARM_ARMV5__)</span>
<span class="udiff-line-removed">- #define WTF_ARM_ARCH_VERSION 5</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #elif defined(__ARM_ARCH_5E__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_5TE__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_5TEJ__)</span>
<span class="udiff-line-removed">- #define WTF_ARM_ARCH_VERSION 5</span>
<span class="udiff-line-removed">- /*ARMv5TE requires allocators to use aligned memory*/</span>
<span class="udiff-line-removed">- #define USE_ARENA_ALLOC_ALIGNMENT_INTEGER 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #elif defined(__ARM_ARCH_6__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_6J__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_6K__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_6Z__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_6ZK__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_6T2__) \</span>
<span class="udiff-line-removed">-     || defined(__ARMV6__)</span>
<span class="udiff-line-removed">- #define WTF_ARM_ARCH_VERSION 6</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #elif defined(__ARM_ARCH_7A__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_7K__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_7R__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_7S__)</span>
<span class="udiff-line-removed">- #define WTF_ARM_ARCH_VERSION 7</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #elif defined(__ARM_ARCH_8__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_8A__)</span>
<span class="udiff-line-removed">- #define WTF_ARM_ARCH_VERSION 8</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* MSVC sets _M_ARM */</span>
<span class="udiff-line-removed">- #elif defined(_M_ARM)</span>
<span class="udiff-line-removed">- #define WTF_ARM_ARCH_VERSION _M_ARM</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* RVCT sets _TARGET_ARCH_ARM */</span>
<span class="udiff-line-removed">- #elif defined(__TARGET_ARCH_ARM)</span>
<span class="udiff-line-removed">- #define WTF_ARM_ARCH_VERSION __TARGET_ARCH_ARM</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if defined(__TARGET_ARCH_5E) \</span>
<span class="udiff-line-removed">-     || defined(__TARGET_ARCH_5TE) \</span>
<span class="udiff-line-removed">-     || defined(__TARGET_ARCH_5TEJ)</span>
<span class="udiff-line-removed">- /*ARMv5TE requires allocators to use aligned memory*/</span>
<span class="udiff-line-removed">- #define USE_ARENA_ALLOC_ALIGNMENT_INTEGER 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define WTF_ARM_ARCH_VERSION 0</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* Set WTF_THUMB_ARCH_VERSION */</span>
<span class="udiff-line-removed">- #if   defined(__ARM_ARCH_4T__)</span>
<span class="udiff-line-removed">- #define WTF_THUMB_ARCH_VERSION 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #elif defined(__ARM_ARCH_5T__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_5TE__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_5TEJ__)</span>
<span class="udiff-line-removed">- #define WTF_THUMB_ARCH_VERSION 2</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #elif defined(__ARM_ARCH_6J__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_6K__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_6Z__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_6ZK__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_6M__)</span>
<span class="udiff-line-removed">- #define WTF_THUMB_ARCH_VERSION 3</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #elif defined(__ARM_ARCH_6T2__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_7__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_7A__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_7K__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_7M__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_7R__) \</span>
<span class="udiff-line-removed">-     || defined(__ARM_ARCH_7S__)</span>
<span class="udiff-line-removed">- #define WTF_THUMB_ARCH_VERSION 4</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* RVCT sets __TARGET_ARCH_THUMB */</span>
<span class="udiff-line-removed">- #elif defined(__TARGET_ARCH_THUMB)</span>
<span class="udiff-line-removed">- #define WTF_THUMB_ARCH_VERSION __TARGET_ARCH_THUMB</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define WTF_THUMB_ARCH_VERSION 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* CPU(ARMV5_OR_LOWER) - ARM instruction set v5 or earlier */</span>
<span class="udiff-line-removed">- /* On ARMv5 and below the natural alignment is required.</span>
<span class="udiff-line-removed">-    And there are some other differences for v5 or earlier. */</span>
<span class="udiff-line-removed">- #if !defined(ARMV5_OR_LOWER) &amp;&amp; !WTF_ARM_ARCH_AT_LEAST(6)</span>
<span class="udiff-line-removed">- #define WTF_CPU_ARMV5_OR_LOWER 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* CPU(ARM_TRADITIONAL) - Thumb2 is not available, only traditional ARM (v4 or greater) */</span>
<span class="udiff-line-removed">- /* CPU(ARM_THUMB2) - Thumb2 instruction set is available */</span>
<span class="udiff-line-removed">- /* Only one of these will be defined. */</span>
<span class="udiff-line-removed">- #if !defined(WTF_CPU_ARM_TRADITIONAL) &amp;&amp; !defined(WTF_CPU_ARM_THUMB2)</span>
<span class="udiff-line-removed">- #  if defined(thumb2) || defined(__thumb2__) \</span>
<span class="udiff-line-removed">-     || ((defined(__thumb) || defined(__thumb__)) &amp;&amp; WTF_THUMB_ARCH_VERSION == 4)</span>
<span class="udiff-line-removed">- #    define WTF_CPU_ARM_TRADITIONAL 0</span>
<span class="udiff-line-removed">- #    define WTF_CPU_ARM_THUMB2 1</span>
<span class="udiff-line-removed">- #  elif WTF_ARM_ARCH_AT_LEAST(4)</span>
<span class="udiff-line-removed">- #    define WTF_CPU_ARM_TRADITIONAL 1</span>
<span class="udiff-line-removed">- #    define WTF_CPU_ARM_THUMB2 0</span>
<span class="udiff-line-removed">- #  else</span>
<span class="udiff-line-removed">- #    error &quot;Not supported ARM architecture&quot;</span>
<span class="udiff-line-removed">- #  endif</span>
<span class="udiff-line-removed">- #elif CPU(ARM_TRADITIONAL) &amp;&amp; CPU(ARM_THUMB2) /* Sanity Check */</span>
<span class="udiff-line-removed">- #  error &quot;Cannot use both of WTF_CPU_ARM_TRADITIONAL and WTF_CPU_ARM_THUMB2 platforms&quot;</span>
<span class="udiff-line-removed">- #endif /* !defined(WTF_CPU_ARM_TRADITIONAL) &amp;&amp; !defined(WTF_CPU_ARM_THUMB2) */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if defined(__ARM_NEON__) &amp;&amp; !defined(WTF_CPU_ARM_NEON)</span>
<span class="udiff-line-removed">- #define WTF_CPU_ARM_NEON 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-modified-added">+ #include &lt;wtf/PlatformOS.h&gt;</span>
  
<span class="udiff-line-modified-removed">- #if CPU(ARM_NEON)</span>
<span class="udiff-line-modified-removed">- /* All NEON intrinsics usage can be disabled by this macro. */</span>
<span class="udiff-line-modified-removed">- #define HAVE_ARM_NEON_INTRINSICS 1</span>
<span class="udiff-line-modified-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (defined(__VFP_FP__) &amp;&amp; !defined(__SOFTFP__))</span>
<span class="udiff-line-removed">- #define WTF_CPU_ARM_VFP 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* If CPU(ARM_NEON) is not enabled, we&#39;ll conservatively assume only VFP2 or VFPv3D16</span>
<span class="udiff-line-removed">-    support is available. Hence, only the first 16 64-bit floating point registers</span>
<span class="udiff-line-removed">-    are available. See:</span>
<span class="udiff-line-removed">-    NEON registers: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0473c/CJACABEJ.html</span>
<span class="udiff-line-removed">-    VFP2 and VFP3 registers: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0473c/CIHDIBDG.html</span>
<span class="udiff-line-removed">-    NEON to VFP register mapping: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0473c/CJAIJHFC.html</span>
<span class="udiff-line-removed">- */</span>
<span class="udiff-line-removed">- #if CPU(ARM_NEON)</span>
<span class="udiff-line-removed">- #define WTF_CPU_ARM_VFP_V3_D32 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define WTF_CPU_ARM_VFP_V2 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if defined(__ARM_ARCH_7K__)</span>
<span class="udiff-line-removed">- #define WTF_CPU_APPLE_ARMV7K 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if defined(__ARM_ARCH_7S__)</span>
<span class="udiff-line-removed">- #define WTF_CPU_APPLE_ARMV7S 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if defined(__ARM_ARCH_EXT_IDIV__) || CPU(APPLE_ARMV7S)</span>
<span class="udiff-line-removed">- #define HAVE_ARM_IDIV_INSTRUCTIONS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #endif /* ARM */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !CPU(KNOWN)</span>
<span class="udiff-line-removed">- #define WTF_CPU_UNKNOWN 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if CPU(ARM) || CPU(MIPS) || CPU(UNKNOWN)</span>
<span class="udiff-line-removed">- #define WTF_CPU_NEEDS_ALIGNED_ACCESS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if COMPILER(GCC_COMPATIBLE)</span>
<span class="udiff-line-removed">- /* __LP64__ is not defined on 64bit Windows since it uses LLP64. Using __SIZEOF_POINTER__ is simpler. */</span>
<span class="udiff-line-removed">- #if __SIZEOF_POINTER__ == 8</span>
<span class="udiff-line-removed">- #define WTF_CPU_ADDRESS64 1</span>
<span class="udiff-line-removed">- #elif __SIZEOF_POINTER__ == 4</span>
<span class="udiff-line-removed">- #define WTF_CPU_ADDRESS32 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #error &quot;Unsupported pointer width&quot;</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #elif COMPILER(MSVC)</span>
<span class="udiff-line-removed">- #if defined(_WIN64)</span>
<span class="udiff-line-removed">- #define WTF_CPU_ADDRESS64 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define WTF_CPU_ADDRESS32 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- /* This is the most generic way. But in OS(DARWIN), Platform.h can be included by sandbox definition file (.sb).</span>
<span class="udiff-line-removed">-  * At that time, we cannot include &quot;stdint.h&quot; header. So in the case of known compilers, we use predefined constants instead. */</span>
<span class="udiff-line-removed">- #include &lt;stdint.h&gt;</span>
<span class="udiff-line-removed">- #if UINTPTR_MAX &gt; UINT32_MAX</span>
<span class="udiff-line-removed">- #define WTF_CPU_ADDRESS64 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define WTF_CPU_ADDRESS32 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* ==== OS() - underlying operating system; only to be used for mandated low-level services like</span>
<span class="udiff-line-removed">-    virtual memory, not to choose a GUI toolkit ==== */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* OS(AIX) - AIX */</span>
<span class="udiff-line-removed">- #ifdef _AIX</span>
<span class="udiff-line-removed">- #define WTF_OS_AIX 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* OS(DARWIN) - Any Darwin-based OS, including Mac OS X and iPhone OS */</span>
<span class="udiff-line-removed">- #ifdef __APPLE__</span>
<span class="udiff-line-removed">- #define WTF_OS_DARWIN 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #include &lt;Availability.h&gt;</span>
<span class="udiff-line-removed">- #include &lt;AvailabilityMacros.h&gt;</span>
<span class="udiff-line-removed">- #include &lt;TargetConditionals.h&gt;</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* OS(IOS_FAMILY) - iOS family, including iOS, macCatalyst, tvOS, watchOS */</span>
<span class="udiff-line-removed">- /* OS(IOS) - iOS only, not including macCatalyst */</span>
<span class="udiff-line-removed">- /* OS(MAC_OS_X) - macOS (not including iOS family) */</span>
<span class="udiff-line-removed">- #if OS(DARWIN)</span>
<span class="udiff-line-removed">- #if TARGET_OS_IOS &amp;&amp; !(defined(TARGET_OS_IOSMAC) &amp;&amp; TARGET_OS_IOSMAC)</span>
<span class="udiff-line-removed">- #define WTF_OS_IOS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #if TARGET_OS_IPHONE</span>
<span class="udiff-line-removed">- #define WTF_OS_IOS_FAMILY 1</span>
<span class="udiff-line-removed">- #elif TARGET_OS_MAC</span>
<span class="udiff-line-removed">- #define WTF_OS_MAC_OS_X 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* OS(FREEBSD) - FreeBSD */</span>
<span class="udiff-line-removed">- #if defined(__FreeBSD__) || defined(__DragonFly__) || defined(__FreeBSD_kernel__)</span>
<span class="udiff-line-removed">- #define WTF_OS_FREEBSD 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* OS(FUCHSIA) - Fuchsia */</span>
<span class="udiff-line-removed">- #ifdef __Fuchsia__</span>
<span class="udiff-line-removed">- #define WTF_OS_FUCHSIA 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* OS(HURD) - GNU/Hurd */</span>
<span class="udiff-line-removed">- #ifdef __GNU__</span>
<span class="udiff-line-removed">- #define WTF_OS_HURD 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* OS(LINUX) - Linux */</span>
<span class="udiff-line-removed">- #ifdef __linux__</span>
<span class="udiff-line-removed">- #define WTF_OS_LINUX 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* OS(NETBSD) - NetBSD */</span>
<span class="udiff-line-removed">- #if defined(__NetBSD__)</span>
<span class="udiff-line-removed">- #define WTF_OS_NETBSD 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* OS(OPENBSD) - OpenBSD */</span>
<span class="udiff-line-removed">- #ifdef __OpenBSD__</span>
<span class="udiff-line-removed">- #define WTF_OS_OPENBSD 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* OS(WINDOWS) - Any version of Windows */</span>
<span class="udiff-line-removed">- #if defined(WIN32) || defined(_WIN32)</span>
<span class="udiff-line-removed">- #define WTF_OS_WINDOWS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-modified-added">+ /* PLATFORM() - handles OS, operating environment, graphics API, and</span>
<span class="udiff-line-modified-added">+    CPU. This macro will be phased out in favor of platform adaptation</span>
<span class="udiff-line-modified-added">+    macros, policy decision macros, and top-level port definitions. */</span>
<span class="udiff-line-modified-added">+ #include &lt;wtf/PlatformLegacy.h&gt;</span>
  
<span class="udiff-line-modified-removed">- #define WTF_OS_WIN ERROR &quot;USE WINDOWS WITH OS NOT WIN&quot;</span>
<span class="udiff-line-modified-removed">- #define WTF_OS_MAC ERROR &quot;USE MAC_OS_X WITH OS NOT MAC&quot;</span>
<span class="udiff-line-modified-added">+ /* HAVE() - specific system features (headers, functions or similar) that are present or not */</span>
<span class="udiff-line-modified-added">+ #include &lt;wtf/PlatformHave.h&gt;</span>
  
<span class="udiff-line-removed">- /* OS(UNIX) - Any Unix-like system */</span>
<span class="udiff-line-removed">- #if    OS(AIX)              \</span>
<span class="udiff-line-removed">-     || OS(DARWIN)           \</span>
<span class="udiff-line-removed">-     || OS(FREEBSD)          \</span>
<span class="udiff-line-removed">-     || OS(FUCHSIA)          \</span>
<span class="udiff-line-removed">-     || OS(HURD)             \</span>
<span class="udiff-line-removed">-     || OS(LINUX)            \</span>
<span class="udiff-line-removed">-     || OS(NETBSD)           \</span>
<span class="udiff-line-removed">-     || OS(OPENBSD)          \</span>
<span class="udiff-line-removed">-     || defined(unix)        \</span>
<span class="udiff-line-removed">-     || defined(__unix)      \</span>
<span class="udiff-line-removed">-     || defined(__unix__)</span>
<span class="udiff-line-removed">- #define WTF_OS_UNIX 1</span>
<span class="udiff-line-removed">- #endif</span>
  
<span class="udiff-line-modified-removed">- /* Operating environments */</span>
<span class="udiff-line-modified-added">+ /* ==== Policy decision macros: these define policy choices for a particular port. ==== */</span>
  
<span class="udiff-line-modified-removed">- /* CPU(BIG_ENDIAN) or CPU(MIDDLE_ENDIAN) or neither, as appropriate. */</span>
<span class="udiff-line-modified-added">+ /* USE() - use a particular third-party library or optional OS service */</span>
<span class="udiff-line-added">+ #include &lt;wtf/PlatformUse.h&gt;</span>
  
<span class="udiff-line-modified-removed">- #if COMPILER(GCC_COMPATIBLE)</span>
<span class="udiff-line-modified-removed">- #if __BYTE_ORDER__ == __ORDER_BIG_ENDIAN__</span>
<span class="udiff-line-removed">- #define WTF_CPU_BIG_ENDIAN 1</span>
<span class="udiff-line-removed">- #elif __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__</span>
<span class="udiff-line-removed">- #define WTF_CPU_LITTLE_ENDIAN 1</span>
<span class="udiff-line-removed">- #elif __BYTE_ORDER__ == __ORDER_PDP_ENDIAN__</span>
<span class="udiff-line-removed">- #define WTF_CPU_MIDDLE_ENDIAN 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #error &quot;Unknown endian&quot;</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #if OS(WINDOWS)</span>
<span class="udiff-line-removed">- /* Windows only have little endian architecture. */</span>
<span class="udiff-line-removed">- #define WTF_CPU_LITTLE_ENDIAN 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #include &lt;sys/types.h&gt;</span>
<span class="udiff-line-removed">- #if __has_include(&lt;endian.h&gt;)</span>
<span class="udiff-line-removed">- #include &lt;endian.h&gt;</span>
<span class="udiff-line-removed">- #if __BYTE_ORDER == __BIG_ENDIAN</span>
<span class="udiff-line-removed">- #define WTF_CPU_BIG_ENDIAN 1</span>
<span class="udiff-line-removed">- #elif __BYTE_ORDER == __LITTLE_ENDIAN</span>
<span class="udiff-line-removed">- #define WTF_CPU_LITTLE_ENDIAN 1</span>
<span class="udiff-line-removed">- #elif __BYTE_ORDER == __PDP_ENDIAN</span>
<span class="udiff-line-removed">- #define WTF_CPU_MIDDLE_ENDIAN 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #error &quot;Unknown endian&quot;</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #if __has_include(&lt;machine/endian.h&gt;)</span>
<span class="udiff-line-removed">- #include &lt;machine/endian.h&gt;</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #include &lt;sys/endian.h&gt;</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #if BYTE_ORDER == BIG_ENDIAN</span>
<span class="udiff-line-removed">- #define WTF_CPU_BIG_ENDIAN 1</span>
<span class="udiff-line-removed">- #elif BYTE_ORDER == LITTLE_ENDIAN</span>
<span class="udiff-line-removed">- #define WTF_CPU_LITTLE_ENDIAN 1</span>
<span class="udiff-line-removed">- #elif BYTE_ORDER == PDP_ENDIAN</span>
<span class="udiff-line-removed">- #define WTF_CPU_MIDDLE_ENDIAN 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #error &quot;Unknown endian&quot;</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-modified-added">+ /* ENABLE() - turn on a specific feature of WebKit */</span>
<span class="udiff-line-modified-added">+ #include &lt;wtf/PlatformEnable.h&gt;</span>
  
<span class="udiff-line-removed">- #if !CPU(LITTLE_ENDIAN) &amp;&amp; !CPU(BIG_ENDIAN)</span>
<span class="udiff-line-removed">- #error &quot;Unsupported endian&quot;</span>
<span class="udiff-line-removed">- #endif</span>
  
<span class="udiff-line-modified-removed">- /* Export macro support. Detects the attributes available for shared library symbol export</span>
<span class="udiff-line-removed">-    decorations. */</span>
<span class="udiff-line-removed">- #if OS(WINDOWS) || (COMPILER_HAS_CLANG_DECLSPEC(dllimport) &amp;&amp; COMPILER_HAS_CLANG_DECLSPEC(dllexport))</span>
<span class="udiff-line-removed">- #define USE_DECLSPEC_ATTRIBUTE 1</span>
<span class="udiff-line-removed">- #define USE_VISIBILITY_ATTRIBUTE 0</span>
<span class="udiff-line-removed">- #elif defined(__GNUC__)</span>
<span class="udiff-line-removed">- #define USE_DECLSPEC_ATTRIBUTE 0</span>
<span class="udiff-line-removed">- #define USE_VISIBILITY_ATTRIBUTE 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define USE_DECLSPEC_ATTRIBUTE 0</span>
<span class="udiff-line-removed">- #define USE_VISIBILITY_ATTRIBUTE 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-modified-added">+ /* ==== Helper macros ==== */</span>
  
<span class="udiff-line-modified-removed">- /* Standard libraries */</span>
<span class="udiff-line-modified-removed">- #if defined(HAVE_FEATURES_H) &amp;&amp; HAVE_FEATURES_H</span>
<span class="udiff-line-removed">- /* If the included features.h is glibc&#39;s one, __GLIBC__ is defined. */</span>
<span class="udiff-line-removed">- #include &lt;features.h&gt;</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-modified-added">+ /* Macros for specifing specific calling conventions. */</span>
<span class="udiff-line-modified-added">+ #include &lt;wtf/PlatformCallingConventions.h&gt;</span>
  
<span class="udiff-line-removed">- /* FIXME: these are all mixes of OS, operating environment and policy choices. */</span>
<span class="udiff-line-removed">- /* PLATFORM(GTK) */</span>
<span class="udiff-line-removed">- /* PLATFORM(MAC) */</span>
<span class="udiff-line-removed">- /* PLATFORM(IOS) */</span>
<span class="udiff-line-removed">- /* PLATFORM(IOS_FAMILY) */</span>
<span class="udiff-line-removed">- /* PLATFORM(IOS_SIMULATOR) */</span>
<span class="udiff-line-removed">- /* PLATFORM(IOS_FAMILY_SIMULATOR) */</span>
<span class="udiff-line-removed">- /* PLATFORM(WIN) */</span>
<span class="udiff-line-removed">- #if defined(BUILDING_GTK__)</span>
<span class="udiff-line-removed">- #define WTF_PLATFORM_GTK 1</span>
<span class="udiff-line-removed">- #elif defined(BUILDING_JAVA__)</span>
<span class="udiff-line-removed">- #define WTF_PLATFORM_JAVA 1</span>
<span class="udiff-line-removed">- #elif defined(BUILDING_WPE__)</span>
<span class="udiff-line-removed">- #define WTF_PLATFORM_WPE 1</span>
<span class="udiff-line-removed">- #elif defined(BUILDING_JSCONLY__)</span>
<span class="udiff-line-removed">- /* JSCOnly does not provide PLATFORM() macro */</span>
<span class="udiff-line-removed">- #elif OS(MAC_OS_X)</span>
<span class="udiff-line-removed">- #define WTF_PLATFORM_MAC 1</span>
<span class="udiff-line-removed">- #elif OS(IOS_FAMILY)</span>
<span class="udiff-line-removed">- #if OS(IOS)</span>
<span class="udiff-line-removed">- #define WTF_PLATFORM_IOS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #define WTF_PLATFORM_IOS_FAMILY 1</span>
<span class="udiff-line-removed">- #if TARGET_OS_SIMULATOR</span>
<span class="udiff-line-removed">- #if OS(IOS)</span>
<span class="udiff-line-removed">- #define WTF_PLATFORM_IOS_SIMULATOR 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #define WTF_PLATFORM_IOS_FAMILY_SIMULATOR 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #if defined(TARGET_OS_IOSMAC) &amp;&amp; TARGET_OS_IOSMAC</span>
<span class="udiff-line-removed">- #define WTF_PLATFORM_MACCATALYST 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #elif OS(WINDOWS)</span>
<span class="udiff-line-removed">- #define WTF_PLATFORM_WIN 1</span>
<span class="udiff-line-removed">- #endif</span>
  
<span class="udiff-line-modified-removed">- /* PLATFORM(COCOA) */</span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
<span class="udiff-line-removed">- #define WTF_PLATFORM_COCOA 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-modified-added">+ /* ==== Platform additions: additions to Platform.h from outside the main repository ==== */</span>
  
<span class="udiff-line-modified-removed">- #if PLATFORM(COCOA)</span>
<span class="udiff-line-modified-removed">- #if defined __has_include &amp;&amp; __has_include(&lt;CoreFoundation/CFPriv.h&gt;)</span>
<span class="udiff-line-removed">- #define USE_APPLE_INTERNAL_SDK 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-modified-added">+ #if USE(APPLE_INTERNAL_SDK) &amp;&amp; __has_include(&lt;WebKitAdditions/AdditionalPlatform.h&gt;)</span>
<span class="udiff-line-modified-added">+ #include &lt;WebKitAdditions/AdditionalPlatform.h&gt;</span>
  #endif
  
<span class="udiff-line-removed">- /* PLATFORM(APPLETV) */</span>
<span class="udiff-line-removed">- #if defined(TARGET_OS_TV) &amp;&amp; TARGET_OS_TV</span>
<span class="udiff-line-removed">- #define WTF_PLATFORM_APPLETV 1</span>
<span class="udiff-line-removed">- #endif</span>
  
<span class="udiff-line-modified-removed">- /* PLATFORM(WATCHOS) */</span>
<span class="udiff-line-removed">- #if defined(TARGET_OS_WATCH) &amp;&amp; TARGET_OS_WATCH</span>
<span class="udiff-line-removed">- #define WTF_PLATFORM_WATCHOS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-modified-added">+ #undef WTF_PLATFORM_GUARD_AGAINST_INDIRECT_INCLUSION</span>
  
<span class="udiff-line-removed">- /* Graphics engines */</span>
  
<span class="udiff-line-modified-removed">- /* USE(CG) and PLATFORM(CI) */</span>
<span class="udiff-line-modified-removed">- #if PLATFORM(COCOA)</span>
<span class="udiff-line-modified-removed">- #define USE_CG 1</span>
<span class="udiff-line-removed">- #define USE_CA 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-modified-added">+ /* FIXME: The following are currenly positioned at the bottom of this file as they either</span>
<span class="udiff-line-modified-added">+    are currently dependent on macros they should not be and need to be refined or do not</span>
<span class="udiff-line-modified-added">+    belong as part of Platform.h at all. */</span>
  
<span class="udiff-line-removed">- #if PLATFORM(GTK) || PLATFORM(WPE)</span>
<span class="udiff-line-removed">- #define USE_GLIB 1</span>
<span class="udiff-line-removed">- #define USE_FREETYPE 1</span>
<span class="udiff-line-removed">- #define USE_HARFBUZZ 1</span>
<span class="udiff-line-removed">- #define USE_SOUP 1</span>
<span class="udiff-line-removed">- #define USE_WEBP 1</span>
<span class="udiff-line-removed">- #define USE_FILE_LOCK 1</span>
<span class="udiff-line-removed">- #endif</span>
  
  #if PLATFORM(GTK)
  #define GLIB_VERSION_MIN_REQUIRED GLIB_VERSION_2_36
  #define GDK_VERSION_MIN_REQUIRED GDK_VERSION_3_6
  #endif
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -594,1056 +93,101 @@</span>
  
  #if USE(SOUP)
  #define SOUP_VERSION_MIN_REQUIRED SOUP_VERSION_2_42
  #endif
  
<span class="udiff-line-removed">- /* On Windows, use QueryPerformanceCounter by default */</span>
<span class="udiff-line-removed">- #if OS(WINDOWS)</span>
<span class="udiff-line-removed">- #define USE_QUERY_PERFORMANCE_COUNTER  1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
  #if PLATFORM(COCOA)
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #define HAVE_OUT_OF_PROCESS_LAYER_HOSTING 1</span>
<span class="udiff-line-removed">- #define USE_CF 1</span>
<span class="udiff-line-removed">- #define USE_FILE_LOCK 1</span>
<span class="udiff-line-removed">- #define USE_FOUNDATION 1</span>
<span class="udiff-line-removed">- #define USE_NETWORK_CFDATA_ARRAY_CALLBACK 1</span>
<span class="udiff-line-removed">- </span>
  /* Cocoa defines a series of platform macros for debugging. */
  /* Some of them are really annoying because they use common names (e.g. check()). */
  /* Disable those macros so that we are not limited in how we name methods and functions. */
  #undef __ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORES
  #define __ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORES 0
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC)</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #define HAVE_RUNLOOP_TIMER 1</span>
<span class="udiff-line-removed">- #define HAVE_SEC_KEYCHAIN 1</span>
<span class="udiff-line-removed">- #define USE_APPKIT 1</span>
<span class="udiff-line-removed">- #define USE_PASSKIT 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if CPU(X86_64)</span>
<span class="udiff-line-removed">- #define HAVE_NETWORK_EXTENSION 1</span>
<span class="udiff-line-removed">- #define USE_PLUGIN_HOST_PROCESS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif /* PLATFORM(MAC) */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS_FAMILY)</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #define HAVE_NETWORK_EXTENSION 1</span>
<span class="udiff-line-removed">- #define HAVE_READLINE 1</span>
<span class="udiff-line-removed">- #define USE_UIKIT_EDITING 1</span>
<span class="udiff-line-removed">- #define USE_WEB_THREAD 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if CPU(ARM64)</span>
<span class="udiff-line-removed">- #define ENABLE_JIT_CONSTANT_BLINDING 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if CPU(ARM_NEON)</span>
<span class="udiff-line-removed">- #undef HAVE_ARM_NEON_INTRINSICS</span>
<span class="udiff-line-removed">- #define HAVE_ARM_NEON_INTRINSICS 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #endif /* PLATFORM(IOS_FAMILY) */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !defined(HAVE_ACCESSIBILITY)</span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA) || PLATFORM(WIN) || PLATFORM(GTK) || PLATFORM(WPE)</span>
<span class="udiff-line-removed">- #define HAVE_ACCESSIBILITY 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif /* !defined(HAVE_ACCESSIBILITY) */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* FIXME: Remove after CMake build enabled on Darwin */</span>
<span class="udiff-line-removed">- #if OS(DARWIN)</span>
<span class="udiff-line-removed">- #define HAVE_ERRNO_H 1</span>
<span class="udiff-line-removed">- #define HAVE_LANGINFO_H 1</span>
<span class="udiff-line-removed">- #define HAVE_LOCALTIME_R 1</span>
<span class="udiff-line-removed">- #define HAVE_MMAP 1</span>
<span class="udiff-line-removed">- #define HAVE_REGEX_H 1</span>
<span class="udiff-line-removed">- #define HAVE_SIGNAL_H 1</span>
<span class="udiff-line-removed">- #define HAVE_STAT_BIRTHTIME 1</span>
<span class="udiff-line-removed">- #define HAVE_STRINGS_H 1</span>
<span class="udiff-line-removed">- #define HAVE_STRNSTR 1</span>
<span class="udiff-line-removed">- #define HAVE_SYS_PARAM_H 1</span>
<span class="udiff-line-removed">- #define HAVE_SYS_TIME_H 1</span>
<span class="udiff-line-removed">- #define HAVE_TM_GMTOFF 1</span>
<span class="udiff-line-removed">- #define HAVE_TM_ZONE 1</span>
<span class="udiff-line-removed">- #define HAVE_TIMEGM 1</span>
<span class="udiff-line-removed">- #define HAVE_PTHREAD_MAIN_NP 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if CPU(X86_64) || CPU(ARM64)</span>
<span class="udiff-line-removed">- #define HAVE_INT128_T 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif /* OS(DARWIN) */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if OS(UNIX)</span>
<span class="udiff-line-removed">- #define USE_PTHREADS 1</span>
<span class="udiff-line-removed">- #endif /* OS(UNIX) */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if OS(UNIX) &amp;&amp; !OS(FUCHSIA)</span>
<span class="udiff-line-removed">- #define HAVE_RESOURCE_H 1</span>
<span class="udiff-line-removed">- #define HAVE_PTHREAD_SETSCHEDPARAM 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if OS(DARWIN)</span>
<span class="udiff-line-removed">- #define HAVE_DISPATCH_H 1</span>
<span class="udiff-line-removed">- #define HAVE_MADV_FREE 1</span>
<span class="udiff-line-removed">- #define HAVE_MADV_FREE_REUSE 1</span>
<span class="udiff-line-removed">- #define HAVE_MADV_DONTNEED 1</span>
<span class="udiff-line-removed">- #define HAVE_MERGESORT 1</span>
<span class="udiff-line-removed">- #define HAVE_PTHREAD_SETNAME_NP 1</span>
<span class="udiff-line-removed">- #define HAVE_READLINE 1</span>
<span class="udiff-line-removed">- #define HAVE_SYS_TIMEB_H 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if __has_include(&lt;mach/mach_exc.defs&gt;) &amp;&amp; !PLATFORM(GTK)</span>
<span class="udiff-line-removed">- #define HAVE_MACH_EXCEPTIONS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !PLATFORM(GTK)</span>
<span class="udiff-line-removed">- #define USE_ACCELERATE 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #if !PLATFORM(IOS_FAMILY)</span>
<span class="udiff-line-removed">- #define HAVE_HOSTED_CORE_ANIMATION 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #endif /* OS(DARWIN) */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if OS(DARWIN) || OS(FUCHSIA) || ((OS(FREEBSD) || defined(__GLIBC__) || defined(__BIONIC__)) &amp;&amp; (CPU(X86) || CPU(X86_64) || CPU(ARM) || CPU(ARM64) || CPU(MIPS)))</span>
<span class="udiff-line-removed">- #define HAVE_MACHINE_CONTEXT 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if OS(DARWIN) || (OS(LINUX) &amp;&amp; defined(__GLIBC__) &amp;&amp; !defined(__UCLIBC__))</span>
<span class="udiff-line-removed">- #define HAVE_BACKTRACE 1</span>
  #endif
  
<span class="udiff-line-modified-removed">- #if OS(DARWIN) || OS(LINUX)</span>
<span class="udiff-line-modified-removed">- #if PLATFORM(GTK)</span>
<span class="udiff-line-modified-removed">- #if defined(__GLIBC__) &amp;&amp; !defined(__UCLIBC__)</span>
<span class="udiff-line-modified-removed">- #define HAVE_BACKTRACE_SYMBOLS 1</span>
<span class="udiff-line-modified-added">+ #if COMPILER(MSVC)</span>
<span class="udiff-line-modified-added">+ #undef __STDC_FORMAT_MACROS</span>
<span class="udiff-line-modified-added">+ #define __STDC_FORMAT_MACROS</span>
<span class="udiff-line-modified-added">+ #undef __STDC_LIMIT_MACROS</span>
<span class="udiff-line-added">+ #define __STDC_LIMIT_MACROS</span>
  #endif
<span class="udiff-line-removed">- #endif /* PLATFORM(GTK) */</span>
<span class="udiff-line-removed">- #define HAVE_DLADDR 1</span>
<span class="udiff-line-removed">- #endif /* OS(DARWIN) || OS(LINUX) */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* ENABLE macro defaults */</span>
  
<span class="udiff-line-modified-removed">- /* FIXME: move out all ENABLE() defines from here to FeatureDefines.h */</span>
<span class="udiff-line-modified-removed">- </span>
<span class="udiff-line-modified-removed">- #if USE(APPLE_INTERNAL_SDK) &amp;&amp; __has_include(&lt;WebKitAdditions/AdditionalPlatform.h&gt;)</span>
<span class="udiff-line-modified-removed">- #include &lt;WebKitAdditions/AdditionalPlatform.h&gt;</span>
<span class="udiff-line-modified-added">+ /* FIXME: Any remaining use of TARGET_OS_IPHONE should be removed outside of Apple only files and replaced with OS() checks. */</span>
<span class="udiff-line-modified-added">+ /* Set TARGET_OS_IPHONE to 0 by default to allow using it as a guard</span>
<span class="udiff-line-modified-added">+  * in cross-platform the same way as it is used in OS(DARWIN) code. */</span>
<span class="udiff-line-modified-added">+ #if !defined(TARGET_OS_IPHONE) &amp;&amp; !OS(DARWIN)</span>
<span class="udiff-line-added">+ #define TARGET_OS_IPHONE 0</span>
  #endif
  
<span class="udiff-line-modified-removed">- #if USE(APPLE_INTERNAL_SDK) &amp;&amp; __has_include(&lt;WebKitAdditions/AdditionalFeatureDefines.h&gt;)</span>
<span class="udiff-line-modified-removed">- #include &lt;WebKitAdditions/AdditionalFeatureDefines.h&gt;</span>
<span class="udiff-line-modified-added">+ /* FIXME: This does not belong in Platform.h and should instead be included in another mechanism (compiler option, prefix header, config.h, etc) */</span>
<span class="udiff-line-modified-added">+ #if COMPILER(MSVC)</span>
<span class="udiff-line-added">+ /* Enable strict runtime stack buffer checks. */</span>
<span class="udiff-line-added">+ #pragma strict_gs_check(on)</span>
  #endif
  
<span class="udiff-line-modified-removed">- /* Include feature macros */</span>
<span class="udiff-line-modified-removed">- #include &lt;wtf/FeatureDefines.h&gt;</span>
<span class="udiff-line-modified-removed">- </span>
<span class="udiff-line-removed">- #if OS(WINDOWS)</span>
<span class="udiff-line-removed">- #define USE_SYSTEM_MALLOC 1</span>
<span class="udiff-line-modified-added">+ /* FIXME: This does not belong in Platform.h and should instead be included in another mechanism (prefix header, config.h, etc) */</span>
<span class="udiff-line-modified-added">+ #if USE(GLIB)</span>
<span class="udiff-line-modified-added">+ #include &lt;wtf/glib/GTypedefs.h&gt;</span>
  #endif
  
<span class="udiff-line-modified-removed">- #if CPU(ADDRESS64)</span>
<span class="udiff-line-modified-removed">- #if OS(DARWIN) &amp;&amp; CPU(ARM64)</span>
<span class="udiff-line-modified-removed">- #define WTF_CPU_EFFECTIVE_ADDRESS_WIDTH 36</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- /* We strongly assume that effective address width is &lt;= 48 in 64bit architectures (e.g. NaN boxing). */</span>
<span class="udiff-line-removed">- #define WTF_CPU_EFFECTIVE_ADDRESS_WIDTH 48</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define WTF_CPU_EFFECTIVE_ADDRESS_WIDTH 32</span>
<span class="udiff-line-modified-added">+ /* FIXME: The availability of RSA_PSS should not depend on the policy decision to USE(GCRYPT). */</span>
<span class="udiff-line-modified-added">+ #if PLATFORM(MAC) || PLATFORM(IOS) || PLATFORM(MACCATALYST) || USE(GCRYPT)</span>
<span class="udiff-line-modified-added">+ #define HAVE_RSA_PSS 1</span>
  #endif
  
<span class="udiff-line-modified-removed">- #if !defined(USE_JSVALUE64) &amp;&amp; !defined(USE_JSVALUE32_64)</span>
<span class="udiff-line-modified-removed">- #if CPU(ADDRESS64) || CPU(ARM64)</span>
<span class="udiff-line-modified-removed">- #define USE_JSVALUE64 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define USE_JSVALUE32_64 1</span>
<span class="udiff-line-modified-added">+ /* FIXME: Remove dependence on ENABLE(WEB_RTC). */</span>
<span class="udiff-line-modified-added">+ #if PLATFORM(COCOA) &amp;&amp; ENABLE(WEB_RTC)</span>
<span class="udiff-line-modified-added">+ #define USE_LIBWEBRTC 1</span>
  #endif
<span class="udiff-line-removed">- #endif /* !defined(USE_JSVALUE64) &amp;&amp; !defined(USE_JSVALUE32_64) */</span>
  
<span class="udiff-line-removed">- /* The JIT is enabled by default on all x86-64 &amp; ARM64 platforms. */</span>
<span class="udiff-line-removed">- #if !defined(ENABLE_JIT) \</span>
<span class="udiff-line-removed">-     &amp;&amp; (CPU(X86_64) || CPU(ARM64)) \</span>
<span class="udiff-line-removed">-     &amp;&amp; !CPU(APPLE_ARMV7K)</span>
<span class="udiff-line-removed">- #define ENABLE_JIT 1</span>
<span class="udiff-line-removed">- #endif</span>
  
<span class="udiff-line-modified-removed">- #if USE(JSVALUE32_64)</span>
<span class="udiff-line-modified-removed">- #if (CPU(ARM_THUMB2) || CPU(MIPS)) &amp;&amp; OS(LINUX)</span>
<span class="udiff-line-removed">- /* On ARMv7 and MIPS on Linux the JIT is enabled unless explicitly disabled. */</span>
<span class="udiff-line-removed">- #if !defined(ENABLE_JIT)</span>
<span class="udiff-line-removed">- #define ENABLE_JIT 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- /* Disable JIT and force C_LOOP on all other 32bit architectures. */</span>
<span class="udiff-line-removed">- #undef ENABLE_JIT</span>
<span class="udiff-line-removed">- #define ENABLE_JIT 0</span>
<span class="udiff-line-removed">- #undef ENABLE_C_LOOP</span>
<span class="udiff-line-removed">- #define ENABLE_C_LOOP 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-modified-added">+ #if PLATFORM(COCOA)</span>
<span class="udiff-line-modified-added">+ #if ENABLE(WEBGL)</span>
  
<span class="udiff-line-modified-removed">- #if !defined(ENABLE_C_LOOP)</span>
<span class="udiff-line-modified-removed">- #if ENABLE(JIT) \</span>
<span class="udiff-line-modified-removed">-     || CPU(X86_64) || (CPU(ARM64) &amp;&amp; !defined(__ILP32__))</span>
<span class="udiff-line-modified-removed">- #define ENABLE_C_LOOP 0</span>
<span class="udiff-line-modified-added">+ /* USE_ANGLE=1 uses ANGLE for the WebGL backend.</span>
<span class="udiff-line-modified-added">+    It replaces USE_OPENGL, USE_OPENGL_ES and USE_EGL. */</span>
<span class="udiff-line-modified-added">+ #if PLATFORM(MAC) || (PLATFORM(MACCATALYST) &amp;&amp; __has_include(&lt;OpenGL/OpenGL.h&gt;))</span>
<span class="udiff-line-modified-added">+ #define USE_OPENGL 1</span>
<span class="udiff-line-added">+ #define USE_OPENGL_ES 0</span>
<span class="udiff-line-added">+ #define USE_ANGLE 0</span>
  #else
<span class="udiff-line-modified-removed">- #define ENABLE_C_LOOP 1</span>
<span class="udiff-line-modified-removed">- #endif</span>
<span class="udiff-line-modified-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* The FTL *does not* work on 32-bit platforms. Disable it even if someone asked us to enable it. */</span>
<span class="udiff-line-removed">- #if USE(JSVALUE32_64)</span>
<span class="udiff-line-removed">- #undef ENABLE_FTL_JIT</span>
<span class="udiff-line-removed">- #define ENABLE_FTL_JIT 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* The FTL is disabled on the iOS simulator, mostly for simplicity. */</span>
<span class="udiff-line-removed">- #if PLATFORM(IOS_FAMILY_SIMULATOR)</span>
<span class="udiff-line-removed">- #undef ENABLE_FTL_JIT</span>
<span class="udiff-line-removed">- #define ENABLE_FTL_JIT 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* If possible, try to enable a disassembler. This is optional. We proceed in two</span>
<span class="udiff-line-removed">-    steps: first we try to find some disassembler that we can use, and then we</span>
<span class="udiff-line-removed">-    decide if the high-level disassembler API can be enabled. */</span>
<span class="udiff-line-removed">- #if !defined(USE_UDIS86) &amp;&amp; ENABLE(JIT) &amp;&amp; (CPU(X86) || CPU(X86_64)) &amp;&amp; !USE(CAPSTONE)</span>
<span class="udiff-line-removed">- #define USE_UDIS86 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !defined(USE_ARM64_DISASSEMBLER) &amp;&amp; ENABLE(JIT) &amp;&amp; CPU(ARM64) &amp;&amp; !USE(CAPSTONE)</span>
<span class="udiff-line-removed">- #define USE_ARM64_DISASSEMBLER 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !defined(ENABLE_DISASSEMBLER) &amp;&amp; (USE(UDIS86) || USE(ARM64_DISASSEMBLER) || (ENABLE(JIT) &amp;&amp; USE(CAPSTONE)))</span>
<span class="udiff-line-removed">- #define ENABLE_DISASSEMBLER 1</span>
<span class="udiff-line-modified-added">+ #define USE_OPENGL 0</span>
<span class="udiff-line-modified-added">+ #define USE_OPENGL_ES 1</span>
<span class="udiff-line-modified-added">+ #define USE_ANGLE 0</span>
  #endif
  
<span class="udiff-line-modified-removed">- #if !defined(ENABLE_DFG_JIT) &amp;&amp; ENABLE(JIT)</span>
<span class="udiff-line-modified-removed">- /* Enable the DFG JIT on X86 and X86_64. */</span>
<span class="udiff-line-removed">- #if (CPU(X86) || CPU(X86_64)) &amp;&amp; (OS(DARWIN) || OS(LINUX) || OS(FREEBSD) || OS(HURD) || OS(WINDOWS))</span>
<span class="udiff-line-removed">- #define ENABLE_DFG_JIT 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- /* Enable the DFG JIT on ARMv7.  Only tested on iOS, Linux, and FreeBSD. */</span>
<span class="udiff-line-removed">- #if (CPU(ARM_THUMB2) || CPU(ARM64)) &amp;&amp; (PLATFORM(IOS_FAMILY) || OS(LINUX) || OS(FREEBSD))</span>
<span class="udiff-line-removed">- #define ENABLE_DFG_JIT 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- /* Enable the DFG JIT on MIPS. */</span>
<span class="udiff-line-removed">- #if CPU(MIPS)</span>
<span class="udiff-line-removed">- #define ENABLE_DFG_JIT 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-modified-added">+ #ifndef GL_SILENCE_DEPRECATION</span>
<span class="udiff-line-modified-added">+ #define GL_SILENCE_DEPRECATION 1</span>
  #endif
  
<span class="udiff-line-modified-removed">- /* Concurrent JS only works on 64-bit platforms because it requires that</span>
<span class="udiff-line-modified-removed">-    values get stored to atomically. This is trivially true on 64-bit platforms,</span>
<span class="udiff-line-removed">-    but not true at all on 32-bit platforms where values are composed of two</span>
<span class="udiff-line-removed">-    separate sub-values. */</span>
<span class="udiff-line-removed">- #if ENABLE(DFG_JIT) &amp;&amp; USE(JSVALUE64)</span>
<span class="udiff-line-removed">- #define ENABLE_CONCURRENT_JS 1</span>
<span class="udiff-line-modified-added">+ #if USE(OPENGL) &amp;&amp; !defined(HAVE_OPENGL_4)</span>
<span class="udiff-line-modified-added">+ #define HAVE_OPENGL_4 1</span>
  #endif
  
<span class="udiff-line-modified-removed">- #if __has_include(&lt;System/pthread_machdep.h&gt;)</span>
<span class="udiff-line-modified-removed">- #define HAVE_FAST_TLS 1</span>
<span class="udiff-line-modified-added">+ #if USE(OPENGL_ES) &amp;&amp; !defined(HAVE_OPENGL_ES_3)</span>
<span class="udiff-line-modified-added">+ #define HAVE_OPENGL_ES_3 1</span>
  #endif
  
<span class="udiff-line-modified-removed">- #if (CPU(X86_64) || CPU(ARM64)) &amp;&amp; HAVE(FAST_TLS)</span>
<span class="udiff-line-modified-removed">- #define ENABLE_FAST_TLS_JIT 1</span>
<span class="udiff-line-modified-added">+ #if USE_ANGLE &amp;&amp; (USE_OPENGL || USE_OPENGL_ES)</span>
<span class="udiff-line-modified-added">+ #error USE_ANGLE is incompatible with USE_OPENGL and USE_OPENGL_ES</span>
  #endif
  
<span class="udiff-line-modified-removed">- #if CPU(X86) || CPU(X86_64) || CPU(ARM_THUMB2) || CPU(ARM64) || CPU(MIPS)</span>
<span class="udiff-line-modified-removed">- #define ENABLE_MASM_PROBE 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define ENABLE_MASM_PROBE 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-modified-added">+ #endif /* ENABLE(WEBGL) */</span>
<span class="udiff-line-modified-added">+ #endif /* PLATFORM(COCOA) */</span>
  
<span class="udiff-line-modified-removed">- #if !ENABLE(JIT)</span>
<span class="udiff-line-modified-removed">- #undef ENABLE_MASM_PROBE</span>
<span class="udiff-line-modified-removed">- #define ENABLE_MASM_PROBE 0</span>
<span class="udiff-line-modified-added">+ #if ENABLE(WEBGL)</span>
<span class="udiff-line-modified-added">+ #if !defined(USE_ANGLE)</span>
<span class="udiff-line-modified-added">+ #define USE_ANGLE 0</span>
  #endif
  
<span class="udiff-line-modified-removed">- /* If the baseline jit is not available, then disable upper tiers as well.</span>
<span class="udiff-line-modified-removed">-    The MacroAssembler::probe() is also required for supporting the upper tiers. */</span>
<span class="udiff-line-removed">- #if !ENABLE(JIT) || !ENABLE(MASM_PROBE)</span>
<span class="udiff-line-removed">- #undef ENABLE_DFG_JIT</span>
<span class="udiff-line-removed">- #undef ENABLE_FTL_JIT</span>
<span class="udiff-line-removed">- #define ENABLE_DFG_JIT 0</span>
<span class="udiff-line-removed">- #define ENABLE_FTL_JIT 0</span>
<span class="udiff-line-modified-added">+ #if (USE_ANGLE &amp;&amp; (USE_OPENGL || USE_OPENGL_ES || (defined(USE_EGL) &amp;&amp; USE_EGL))) &amp;&amp; !USE(TEXTURE_MAPPER)</span>
<span class="udiff-line-modified-added">+ #error USE_ANGLE is incompatible with USE_OPENGL, USE_OPENGL_ES and USE_EGL</span>
  #endif
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* If the DFG jit is not available, then disable upper tiers as well: */</span>
<span class="udiff-line-removed">- #if !ENABLE(DFG_JIT)</span>
<span class="udiff-line-removed">- #undef ENABLE_FTL_JIT</span>
<span class="udiff-line-removed">- #define ENABLE_FTL_JIT 0</span>
  #endif
  
<span class="udiff-line-modified-removed">- /* This controls whether B3 is built. B3 is needed for FTL JIT and WebAssembly */</span>
<span class="udiff-line-modified-removed">- #if ENABLE(FTL_JIT)</span>
<span class="udiff-line-removed">- #define ENABLE_B3_JIT 1</span>
<span class="udiff-line-modified-added">+ #if USE(TEXTURE_MAPPER) &amp;&amp; ENABLE(GRAPHICS_CONTEXT_GL) &amp;&amp; !defined(USE_TEXTURE_MAPPER_GL)</span>
<span class="udiff-line-modified-added">+ #define USE_TEXTURE_MAPPER_GL 1</span>
  #endif
  
<span class="udiff-line-modified-removed">- #if !defined(ENABLE_WEBASSEMBLY)</span>
<span class="udiff-line-modified-removed">- #if ENABLE(B3_JIT) &amp;&amp; PLATFORM(COCOA) &amp;&amp; CPU(ADDRESS64)</span>
<span class="udiff-line-removed">- #define ENABLE_WEBASSEMBLY 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define ENABLE_WEBASSEMBLY 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* The SamplingProfiler is the probabilistic and low-overhead profiler used by</span>
<span class="udiff-line-removed">-  * JSC to measure where time is spent inside a JavaScript program.</span>
<span class="udiff-line-removed">-  * In configurations other than Windows and Darwin, because layout of mcontext_t depends on standard libraries (like glibc),</span>
<span class="udiff-line-removed">-  * sampling profiler is enabled if WebKit uses pthreads and glibc. */</span>
<span class="udiff-line-removed">- #if !defined(ENABLE_SAMPLING_PROFILER)</span>
<span class="udiff-line-removed">- #if !ENABLE(C_LOOP) &amp;&amp; (OS(WINDOWS) || HAVE(MACHINE_CONTEXT))</span>
<span class="udiff-line-removed">- #define ENABLE_SAMPLING_PROFILER 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define ENABLE_SAMPLING_PROFILER 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if ENABLE(WEBASSEMBLY) &amp;&amp; HAVE(MACHINE_CONTEXT)</span>
<span class="udiff-line-removed">- #define ENABLE_WEBASSEMBLY_FAST_MEMORY 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* Counts uses of write barriers using sampling counters. Be sure to also</span>
<span class="udiff-line-removed">-    set ENABLE_SAMPLING_COUNTERS to 1. */</span>
<span class="udiff-line-removed">- #if !defined(ENABLE_WRITE_BARRIER_PROFILING)</span>
<span class="udiff-line-removed">- #define ENABLE_WRITE_BARRIER_PROFILING 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* Logs all allocation-related activity that goes through fastMalloc or the</span>
<span class="udiff-line-removed">-    JSC GC (both cells and butterflies). Also logs marking. Note that this</span>
<span class="udiff-line-removed">-    isn&#39;t a completely accurate view of the heap since it doesn&#39;t include all</span>
<span class="udiff-line-removed">-    butterfly resize operations, doesn&#39;t tell you what is going on with weak</span>
<span class="udiff-line-removed">-    references (other than to tell you when they&#39;re marked), and doesn&#39;t</span>
<span class="udiff-line-removed">-    track direct mmap() allocations or things like JIT allocation. */</span>
<span class="udiff-line-removed">- #if !defined(ENABLE_ALLOCATION_LOGGING)</span>
<span class="udiff-line-removed">- #define ENABLE_ALLOCATION_LOGGING 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* Enable verification that that register allocations are not made within generated control flow.</span>
<span class="udiff-line-removed">-    Turned on for debug builds. */</span>
<span class="udiff-line-removed">- #if !defined(ENABLE_DFG_REGISTER_ALLOCATION_VALIDATION) &amp;&amp; ENABLE(DFG_JIT)</span>
<span class="udiff-line-removed">- #if !defined(NDEBUG)</span>
<span class="udiff-line-removed">- #define ENABLE_DFG_REGISTER_ALLOCATION_VALIDATION 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define ENABLE_DFG_REGISTER_ALLOCATION_VALIDATION 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* Configure the JIT */</span>
<span class="udiff-line-removed">- #if CPU(X86) &amp;&amp; COMPILER(MSVC)</span>
<span class="udiff-line-removed">- #define JSC_HOST_CALL __fastcall</span>
<span class="udiff-line-removed">- #elif CPU(X86) &amp;&amp; COMPILER(GCC_COMPATIBLE)</span>
<span class="udiff-line-removed">- #define JSC_HOST_CALL __attribute__ ((fastcall))</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define JSC_HOST_CALL</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if CPU(X86) &amp;&amp; OS(WINDOWS)</span>
<span class="udiff-line-removed">- #define CALLING_CONVENTION_IS_STDCALL 1</span>
<span class="udiff-line-removed">- #ifndef CDECL</span>
<span class="udiff-line-removed">- #if COMPILER(MSVC)</span>
<span class="udiff-line-removed">- #define CDECL __cdecl</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define CDECL __attribute__ ((__cdecl))</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define CALLING_CONVENTION_IS_STDCALL 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if CPU(X86)</span>
<span class="udiff-line-removed">- #define WTF_COMPILER_SUPPORTS_FASTCALL_CALLING_CONVENTION 1</span>
<span class="udiff-line-removed">- #ifndef FASTCALL</span>
<span class="udiff-line-removed">- #if COMPILER(MSVC)</span>
<span class="udiff-line-removed">- #define FASTCALL __fastcall</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define FASTCALL  __attribute__ ((fastcall))</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define WTF_COMPILER_SUPPORTS_FASTCALL_CALLING_CONVENTION 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if ENABLE(JIT) &amp;&amp; CALLING_CONVENTION_IS_STDCALL</span>
<span class="udiff-line-removed">- #define JIT_OPERATION CDECL</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define JIT_OPERATION</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS_FAMILY) &amp;&amp; CPU(ARM64) &amp;&amp; (!ENABLE(FAST_JIT_PERMISSIONS) || !CPU(ARM64E))</span>
<span class="udiff-line-removed">- #define ENABLE_SEPARATED_WX_HEAP 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define ENABLE_SEPARATED_WX_HEAP 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* Configure the interpreter */</span>
<span class="udiff-line-removed">- #if COMPILER(GCC_COMPATIBLE)</span>
<span class="udiff-line-removed">- #define HAVE_COMPUTED_GOTO 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* Determine if we need to enable Computed Goto Opcodes or not: */</span>
<span class="udiff-line-removed">- #if HAVE(COMPUTED_GOTO) || !ENABLE(C_LOOP)</span>
<span class="udiff-line-removed">- #define ENABLE_COMPUTED_GOTO_OPCODES 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !defined(USE_LLINT_EMBEDDED_OPCODE_ID) &amp;&amp; !ENABLE(C_LOOP) &amp;&amp; !COMPILER(MSVC) &amp;&amp; \</span>
<span class="udiff-line-removed">-     (CPU(X86) || CPU(X86_64) || CPU(ARM64) || (CPU(ARM_THUMB2) &amp;&amp; OS(DARWIN)))</span>
<span class="udiff-line-removed">- /* This feature works by embedding the OpcodeID in the 32 bit just before the generated LLint code</span>
<span class="udiff-line-removed">-    that executes each opcode. It cannot be supported by the CLoop since there&#39;s no way to embed the</span>
<span class="udiff-line-removed">-    OpcodeID word in the CLoop&#39;s switch statement cases. It is also currently not implemented for MSVC.</span>
<span class="udiff-line-removed">- */</span>
<span class="udiff-line-removed">- #define USE_LLINT_EMBEDDED_OPCODE_ID 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* Regular Expression Tracing - Set to 1 to trace RegExp&#39;s in jsc.  Results dumped at exit */</span>
<span class="udiff-line-removed">- #define ENABLE_REGEXP_TRACING 0</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* Yet Another Regex Runtime - turned on by default for JIT enabled ports. */</span>
<span class="udiff-line-removed">- #if !defined(ENABLE_YARR_JIT) &amp;&amp; ENABLE(JIT)</span>
<span class="udiff-line-removed">- #define ENABLE_YARR_JIT 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* Setting this flag compares JIT results with interpreter results. */</span>
<span class="udiff-line-removed">- #define ENABLE_YARR_JIT_DEBUG 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if ENABLE(YARR_JIT)</span>
<span class="udiff-line-removed">- #if CPU(ARM64) || (CPU(X86_64) &amp;&amp; !OS(WINDOWS))</span>
<span class="udiff-line-removed">- /* Enable JIT&#39;ing Regular Expressions that have nested parenthesis and back references. */</span>
<span class="udiff-line-removed">- #define ENABLE_YARR_JIT_ALL_PARENS_EXPRESSIONS 1</span>
<span class="udiff-line-removed">- #define ENABLE_YARR_JIT_BACKREFERENCES 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* If either the JIT or the RegExp JIT is enabled, then the Assembler must be</span>
<span class="udiff-line-removed">-    enabled as well: */</span>
<span class="udiff-line-removed">- #if ENABLE(JIT) || ENABLE(YARR_JIT) || !ENABLE(C_LOOP)</span>
<span class="udiff-line-removed">- #if defined(ENABLE_ASSEMBLER) &amp;&amp; !ENABLE_ASSEMBLER</span>
<span class="udiff-line-removed">- #error &quot;Cannot enable the JIT or RegExp JIT without enabling the Assembler&quot;</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #undef ENABLE_ASSEMBLER</span>
<span class="udiff-line-removed">- #define ENABLE_ASSEMBLER 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* If the Disassembler is enabled, then the Assembler must be enabled as well: */</span>
<span class="udiff-line-removed">- #if ENABLE(DISASSEMBLER)</span>
<span class="udiff-line-removed">- #if defined(ENABLE_ASSEMBLER) &amp;&amp; !ENABLE_ASSEMBLER</span>
<span class="udiff-line-removed">- #error &quot;Cannot enable the Disassembler without enabling the Assembler&quot;</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #undef ENABLE_ASSEMBLER</span>
<span class="udiff-line-removed">- #define ENABLE_ASSEMBLER 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #ifndef ENABLE_EXCEPTION_SCOPE_VERIFICATION</span>
<span class="udiff-line-removed">- #ifdef NDEBUG</span>
<span class="udiff-line-removed">- #define ENABLE_EXCEPTION_SCOPE_VERIFICATION 0</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define ENABLE_EXCEPTION_SCOPE_VERIFICATION 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if ENABLE(DFG_JIT) &amp;&amp; HAVE(MACHINE_CONTEXT) &amp;&amp; (CPU(X86) || CPU(X86_64) || CPU(ARM64))</span>
<span class="udiff-line-removed">- #define ENABLE_SIGNAL_BASED_VM_TRAPS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* CSS Selector JIT Compiler */</span>
<span class="udiff-line-removed">- #if !defined(ENABLE_CSS_SELECTOR_JIT)</span>
<span class="udiff-line-removed">- #if (CPU(X86_64) || CPU(ARM64) || (CPU(ARM_THUMB2) &amp;&amp; PLATFORM(IOS_FAMILY))) &amp;&amp; ENABLE(JIT) &amp;&amp; (OS(DARWIN) || PLATFORM(GTK) || PLATFORM(WPE))</span>
<span class="udiff-line-removed">- #define ENABLE_CSS_SELECTOR_JIT 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define ENABLE_CSS_SELECTOR_JIT 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if CPU(ARM64E) &amp;&amp; OS(DARWIN)</span>
<span class="udiff-line-removed">- #define HAVE_FJCVTZS_INSTRUCTION 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS)</span>
<span class="udiff-line-removed">- #define HAVE_APP_LINKS 1</span>
<span class="udiff-line-removed">- #define USE_PASSKIT 1</span>
<span class="udiff-line-removed">- #define USE_QUICK_LOOK 1</span>
<span class="udiff-line-removed">- #define USE_SYSTEM_PREVIEW 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(MACCATALYST)</span>
<span class="udiff-line-removed">- #define HAVE_CELESTIAL 1</span>
<span class="udiff-line-removed">- #define HAVE_CORE_ANIMATION_RENDER_SERVER 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(MACCATALYST) &amp;&amp; !PLATFORM(APPLETV)</span>
<span class="udiff-line-removed">- #define HAVE_PARENTAL_CONTROLS_WITH_UNBLOCK_HANDLER 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA)</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #define USE_AVFOUNDATION 1</span>
<span class="udiff-line-removed">- #define USE_PROTECTION_SPACE_AUTH_CALLBACK 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !PLATFORM(WATCHOS) &amp;&amp; !PLATFORM(APPLETV) &amp;&amp; !PLATFORM(MACCATALYST)</span>
<span class="udiff-line-removed">- #define ENABLE_DATA_DETECTION 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* FIXME: Enable HAVE_PARENTAL_CONTROLS for watchOS Simulator once rdar://problem/54608386 is resolved */</span>
<span class="udiff-line-removed">- #if !PLATFORM(APPLETV) &amp;&amp; (!PLATFORM(WATCHOS) || !PLATFORM(IOS_FAMILY_SIMULATOR))</span>
<span class="udiff-line-removed">- #define HAVE_PARENTAL_CONTROLS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !PLATFORM(APPLETV)</span>
<span class="udiff-line-removed">- #define HAVE_AVKIT 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if ENABLE(WEBGL)</span>
<span class="udiff-line-removed">- /* USE_ANGLE=1 uses ANGLE for the WebGL backend.</span>
<span class="udiff-line-removed">-    It replaces USE_OPENGL, USE_OPENGL_ES and USE_EGL. */</span>
<span class="udiff-line-removed">- #if PLATFORM(MAC)</span>
<span class="udiff-line-removed">- #define USE_OPENGL 1</span>
<span class="udiff-line-removed">- #define USE_OPENGL_ES 0</span>
<span class="udiff-line-removed">- #define USE_ANGLE 0</span>
<span class="udiff-line-removed">- #elif PLATFORM(MACCATALYST) &amp;&amp; __has_include(&lt;OpenGL/OpenGL.h&gt;)</span>
<span class="udiff-line-removed">- #define USE_OPENGL 1</span>
<span class="udiff-line-removed">- #define USE_OPENGL_ES 0</span>
<span class="udiff-line-removed">- #define USE_ANGLE 0</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define USE_OPENGL 0</span>
<span class="udiff-line-removed">- #define USE_OPENGL_ES 1</span>
<span class="udiff-line-removed">- #define USE_ANGLE 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA)</span>
<span class="udiff-line-removed">- #ifndef GL_SILENCE_DEPRECATION</span>
<span class="udiff-line-removed">- #define GL_SILENCE_DEPRECATION 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #define USE_METAL 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if ENABLE(ACCESSIBILITY)</span>
<span class="udiff-line-modified-added">+ /* FIXME: This is used to &quot;turn on a specific feature of WebKit&quot;, so should be converted to an ENABLE macro. */</span>
<span class="udiff-line-modified-added">+ #if PLATFORM(COCOA) &amp;&amp; ENABLE(ACCESSIBILITY)</span>
  #define USE_ACCESSIBILITY_CONTEXT_MENUS 1
  #endif
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if ENABLE(WEBGL) &amp;&amp; PLATFORM(WIN)</span>
<span class="udiff-line-removed">- #define USE_OPENGL 1</span>
<span class="udiff-line-removed">- #define USE_OPENGL_ES 1</span>
<span class="udiff-line-removed">- #define USE_EGL 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if ENABLE(WEBGL)</span>
<span class="udiff-line-removed">- #if !defined(USE_ANGLE)</span>
<span class="udiff-line-removed">- #define USE_ANGLE 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (USE_ANGLE &amp;&amp; (USE_OPENGL || USE_OPENGL_ES || (defined(USE_EGL) &amp;&amp; USE_EGL)))</span>
<span class="udiff-line-removed">- #error USE_ANGLE is incompatible with USE_OPENGL, USE_OPENGL_ES and USE_EGL</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if USE(TEXTURE_MAPPER) &amp;&amp; ENABLE(GRAPHICS_CONTEXT_3D) &amp;&amp; !defined(USE_TEXTURE_MAPPER_GL)</span>
<span class="udiff-line-removed">- #define USE_TEXTURE_MAPPER_GL 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if CPU(ARM_THUMB2) || CPU(ARM64)</span>
<span class="udiff-line-removed">- #define ENABLE_BRANCH_COMPACTION 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !defined(ENABLE_THREADING_LIBDISPATCH) &amp;&amp; HAVE(DISPATCH_H)</span>
<span class="udiff-line-removed">- #define ENABLE_THREADING_LIBDISPATCH 1</span>
<span class="udiff-line-removed">- #elif !defined(ENABLE_THREADING_OPENMP) &amp;&amp; defined(_OPENMP)</span>
<span class="udiff-line-removed">- #define ENABLE_THREADING_OPENMP 1</span>
<span class="udiff-line-removed">- #elif !defined(THREADING_GENERIC)</span>
<span class="udiff-line-removed">- #define ENABLE_THREADING_GENERIC 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if USE(GLIB)</span>
<span class="udiff-line-removed">- #include &lt;wtf/glib/GTypedefs.h&gt;</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !defined(USE_EXPORT_MACROS) &amp;&amp; (PLATFORM(COCOA) || OS(WINDOWS))</span>
<span class="udiff-line-removed">- #define USE_EXPORT_MACROS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(GTK) || PLATFORM(WPE)</span>
<span class="udiff-line-removed">- #define USE_UNIX_DOMAIN_SOCKETS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !defined(USE_IMLANG_FONT_LINK2)</span>
<span class="udiff-line-removed">- #define USE_IMLANG_FONT_LINK2 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !defined(ENABLE_GC_VALIDATION) &amp;&amp; !defined(NDEBUG)</span>
<span class="udiff-line-removed">- #define ENABLE_GC_VALIDATION 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !defined(ENABLE_BINDING_INTEGRITY) &amp;&amp; !OS(WINDOWS)</span>
<span class="udiff-line-removed">- #define ENABLE_BINDING_INTEGRITY 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !defined(ENABLE_TREE_DEBUGGING)</span>
<span class="udiff-line-removed">- #if !defined(NDEBUG)</span>
<span class="udiff-line-removed">- #define ENABLE_TREE_DEBUGGING 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define ENABLE_TREE_DEBUGGING 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)</span>
<span class="udiff-line-removed">- #define USE_COREMEDIA 1</span>
<span class="udiff-line-removed">- #define USE_VIDEOTOOLBOX 1</span>
<span class="udiff-line-removed">- #define HAVE_AVFOUNDATION_VIDEO_OUTPUT 1</span>
<span class="udiff-line-removed">- #define HAVE_CORE_VIDEO 1</span>
<span class="udiff-line-removed">- #define HAVE_MEDIA_PLAYER 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)</span>
<span class="udiff-line-removed">- #define HAVE_AVFOUNDATION_MEDIA_SELECTION_GROUP 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)</span>
<span class="udiff-line-removed">- #define HAVE_AVFOUNDATION_LEGIBLE_OUTPUT_SUPPORT 1</span>
<span class="udiff-line-removed">- #define HAVE_MEDIA_ACCESSIBILITY_FRAMEWORK 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)</span>
<span class="udiff-line-removed">- #define HAVE_AVFOUNDATION_LOADER_DELEGATE 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !PLATFORM(WIN) &amp;&amp; !PLATFORM(JAVA)</span>
<span class="udiff-line-removed">- #define USE_REQUEST_ANIMATION_FRAME_DISPLAY_MONITOR 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) || PLATFORM(MACCATALYST)</span>
<span class="udiff-line-removed">- #define HAVE_APPLE_GRAPHICS_CONTROL 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC)</span>
<span class="udiff-line-removed">- #define USE_COREAUDIO 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !defined(USE_ZLIB) &amp;&amp; !PLATFORM(JAVA)</span>
<span class="udiff-line-removed">- #define USE_ZLIB 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #ifndef HAVE_QOS_CLASSES</span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA)</span>
<span class="udiff-line-removed">- #define HAVE_QOS_CLASSES 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #ifndef HAVE_VOUCHERS</span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA)</span>
<span class="udiff-line-removed">- #define HAVE_VOUCHERS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #define USE_GRAMMAR_CHECKING 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA) || PLATFORM(GTK)</span>
<span class="udiff-line-removed">- #define USE_UNIFIED_TEXT_CHECKING 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #if PLATFORM(MAC)</span>
<span class="udiff-line-removed">- #define USE_AUTOMATIC_TEXT_REPLACEMENT 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC)</span>
<span class="udiff-line-removed">- /* Some platforms provide UI for suggesting autocorrection. */</span>
<span class="udiff-line-removed">- #define USE_AUTOCORRECTION_PANEL 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA)</span>
<span class="udiff-line-removed">- /* Some platforms use spelling and autocorrection markers to provide visual cue. On such platform, if word with marker is edited, we need to remove the marker. */</span>
<span class="udiff-line-removed">- #define USE_MARKER_REMOVAL_UPON_EDITING 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC)</span>
<span class="udiff-line-removed">- #define USE_INSERTION_UNDO_GROUPING 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
<span class="udiff-line-removed">- #define HAVE_AVASSETREADER 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA)</span>
<span class="udiff-line-removed">- #define HAVE_TIMINGDATAOPTIONS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA)</span>
<span class="udiff-line-removed">- #define USE_AUDIO_SESSION 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR)</span>
<span class="udiff-line-removed">- #define HAVE_IOSURFACE 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR) &amp;&amp; !PLATFORM(MACCATALYST)</span>
<span class="udiff-line-removed">- #define HAVE_IOSURFACE_ACCELERATOR 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA)</span>
<span class="udiff-line-removed">- #define ENABLE_RESOURCE_USAGE 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(GTK) || PLATFORM(WPE)</span>
<span class="udiff-line-removed">- #undef ENABLE_OPENTYPE_VERTICAL</span>
<span class="udiff-line-removed">- #define ENABLE_OPENTYPE_VERTICAL 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if COMPILER(MSVC)</span>
<span class="udiff-line-removed">- #undef __STDC_FORMAT_MACROS</span>
<span class="udiff-line-removed">- #define __STDC_FORMAT_MACROS</span>
<span class="udiff-line-removed">- #undef __STDC_LIMIT_MACROS</span>
<span class="udiff-line-removed">- #define __STDC_LIMIT_MACROS</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC)</span>
<span class="udiff-line-removed">- #define HAVE_NS_ACTIVITY 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* Disable SharedArrayBuffers until Spectre security concerns are mitigated. */</span>
<span class="udiff-line-removed">- #define ENABLE_SHARED_ARRAY_BUFFER 0</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (OS(DARWIN) &amp;&amp; USE(CG)) || (USE(FREETYPE) &amp;&amp; !PLATFORM(GTK)) || (PLATFORM(WIN) &amp;&amp; (USE(CG) || USE(CAIRO)))</span>
<span class="udiff-line-removed">- #undef ENABLE_OPENTYPE_MATH</span>
<span class="udiff-line-removed">- #define ENABLE_OPENTYPE_MATH 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* Set TARGET_OS_IPHONE to 0 by default to allow using it as a guard</span>
<span class="udiff-line-removed">-  * in cross-platform the same way as it is used in OS(DARWIN) code. */</span>
<span class="udiff-line-removed">- #if !defined(TARGET_OS_IPHONE) &amp;&amp; !OS(DARWIN)</span>
<span class="udiff-line-removed">- #define TARGET_OS_IPHONE 0</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA)</span>
<span class="udiff-line-removed">- #define USE_MEDIATOOLBOX 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
<span class="udiff-line-removed">- #define USE_OS_LOG 1</span>
<span class="udiff-line-removed">- #if USE(APPLE_INTERNAL_SDK)</span>
<span class="udiff-line-removed">- #define USE_OS_STATE 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA)</span>
<span class="udiff-line-removed">- #define HAVE_SEC_TRUST_SERIALIZATION 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !defined(WTF_DEFAULT_EVENT_LOOP)</span>
<span class="udiff-line-removed">- #define WTF_DEFAULT_EVENT_LOOP 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if WTF_DEFAULT_EVENT_LOOP</span>
<span class="udiff-line-removed">- #if USE(GLIB)</span>
<span class="udiff-line-removed">- /* Use GLib&#39;s event loop abstraction. Primarily GTK port uses it. */</span>
<span class="udiff-line-removed">- #define USE_GLIB_EVENT_LOOP 1</span>
<span class="udiff-line-removed">- #elif OS(WINDOWS)</span>
<span class="udiff-line-removed">- /* Use Windows message pump abstraction.</span>
<span class="udiff-line-removed">-  * Even if the port is AppleWin, we use the Windows message pump system for the event loop,</span>
<span class="udiff-line-removed">-  * so that USE(WINDOWS_EVENT_LOOP) &amp;&amp; USE(CF) can be true.</span>
<span class="udiff-line-removed">-  * And PLATFORM(WIN) and PLATFORM(GTK) are exclusive. If the port is GTK,</span>
<span class="udiff-line-removed">-  * PLATFORM(WIN) should be false. And in that case, GLib&#39;s event loop is used.</span>
<span class="udiff-line-removed">-  */</span>
<span class="udiff-line-removed">- #define USE_WINDOWS_EVENT_LOOP 1</span>
<span class="udiff-line-removed">- #elif PLATFORM(COCOA)</span>
<span class="udiff-line-removed">- /* OS X and IOS. Use CoreFoundation &amp; GCD abstraction. */</span>
<span class="udiff-line-removed">- #define USE_COCOA_EVENT_LOOP 1</span>
<span class="udiff-line-removed">- #else</span>
<span class="udiff-line-removed">- #define USE_GENERIC_EVENT_LOOP 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
<span class="udiff-line-removed">- #define USE_MEDIAREMOTE 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if COMPILER(MSVC)</span>
<span class="udiff-line-removed">- /* Enable strict runtime stack buffer checks. */</span>
<span class="udiff-line-removed">- #pragma strict_gs_check(on)</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC)</span>
<span class="udiff-line-removed">- #define HAVE_TOUCH_BAR 1</span>
<span class="udiff-line-removed">- #define USE_DICTATION_ALTERNATIVES 1</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if defined(__LP64__)</span>
<span class="udiff-line-removed">- #define ENABLE_WEB_PLAYBACK_CONTROLS_MANAGER 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif /* PLATFORM(MAC) */</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA) &amp;&amp; ENABLE(WEB_RTC)</span>
<span class="udiff-line-removed">- #define USE_LIBWEBRTC 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) || PLATFORM(IOS) || PLATFORM(MACCATALYST) || USE(GCRYPT)</span>
<span class="udiff-line-removed">- #define HAVE_RSA_PSS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || PLATFORM(IOS_FAMILY)</span>
<span class="udiff-line-removed">- #define USE_SOURCE_APPLICATION_AUDIT_DATA 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="udiff-line-removed">- #define HAVE_HSTS_STORAGE_PATH 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS) || PLATFORM(MACCATALYST)</span>
<span class="udiff-line-removed">- #define HAVE_URL_FORMATTING 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if !OS(WINDOWS)</span>
<span class="udiff-line-removed">- #define HAVE_STACK_BOUNDS_FOR_NEW_THREAD 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) || PLATFORM(IOS) || PLATFORM(MACCATALYST)</span>
<span class="udiff-line-removed">- #define HAVE_AVCONTENTKEYSESSION 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS) || PLATFORM(MACCATALYST)</span>
<span class="udiff-line-removed">- #define HAVE_SEC_KEY_PROXY 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA) &amp;&amp; USE(CA) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR)</span>
<span class="udiff-line-removed">- #define USE_IOSURFACE_CANVAS_BACKING_STORE 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* FIXME: Should this be enabled or IOS_FAMILY, not just IOS? */</span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS)</span>
<span class="udiff-line-removed">- #define HAVE_FOUNDATION_WITH_SAVE_COOKIES_WITH_COMPLETION_HANDLER 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- /* FIXME: Should this be enabled for IOS_FAMILY, not just IOS? */</span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS)</span>
<span class="udiff-line-removed">- #define HAVE_FOUNDATION_WITH_SAME_SITE_COOKIE_SUPPORT 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &lt; 101400</span>
<span class="udiff-line-removed">- #define HAVE_NSHTTPCOOKIESTORAGE__INITWITHIDENTIFIER_WITH_INACCURATE_NULLABILITY 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
<span class="udiff-line-removed">- #define HAVE_CFNETWORK_WITH_CONTENT_ENCODING_SNIFFING_OVERRIDE 1</span>
<span class="udiff-line-removed">- /* The override isn&#39;t needed on iOS family, as the default behavior is to not sniff. */</span>
<span class="udiff-line-removed">- /* FIXME: This should probably be enabled on 10.13.2 and newer, not just 10.14 and newer. */</span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400</span>
<span class="udiff-line-removed">- #define USE_CFNETWORK_CONTENT_ENCODING_SNIFFING_OVERRIDE 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
<span class="udiff-line-removed">- #define HAVE_CFNETWORK_WITH_IGNORE_HSTS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
<span class="udiff-line-removed">- #define HAVE_CFNETWORK_WITH_AUTO_ADDED_HTTP_HEADER_SUPPRESSION_SUPPORT 1</span>
<span class="udiff-line-removed">- /* FIXME: Does this work, and is this needed on other iOS family platforms? */</span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) || PLATFORM(IOS)</span>
<span class="udiff-line-removed">- #define USE_CFNETWORK_AUTO_ADDED_HTTP_HEADER_SUPPRESSION 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="udiff-line-removed">- #define HAVE_OS_DARK_MODE_SUPPORT 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400</span>
<span class="udiff-line-removed">- #define HAVE_CG_FONT_RENDERING_GET_FONT_SMOOTHING_DISABLED 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="udiff-line-removed">- #define HAVE_CA_WHERE_ADDITIVE_TRANSFORMS_ARE_REVERSED 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #ifdef __APPLE__</span>
<span class="udiff-line-removed">- #define HAVE_FUNC_USLEEP 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) || PLATFORM(WPE)</span>
<span class="udiff-line-removed">- /* FIXME: This really needs a descriptive name, this &quot;new theme&quot; was added in 2008. */</span>
<span class="udiff-line-removed">- #define USE_NEW_THEME 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC)</span>
<span class="udiff-line-removed">- #define HAVE_WINDOW_SERVER_OCCLUSION_NOTIFICATIONS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA)</span>
<span class="udiff-line-removed">- #define HAVE_SEC_ACCESS_CONTROL 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS)</span>
<span class="udiff-line-removed">- /* FIXME: SafariServices.framework exists on macOS. It is only used by WebKit on iOS, so the behavior is correct, but the name is misleading. */</span>
<span class="udiff-line-removed">- #define HAVE_SAFARI_SERVICES_FRAMEWORK 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; !defined(__i386__)) || PLATFORM(IOS) || PLATFORM(WATCHOS)</span>
<span class="udiff-line-removed">- #define HAVE_SAFE_BROWSING 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS)</span>
<span class="udiff-line-removed">- #define HAVE_LINK_PREVIEW 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(COCOA)</span>
<span class="udiff-line-removed">- /* FIXME: This is a USE style macro, as it triggers the use of CFURLConnection framework stubs. */</span>
<span class="udiff-line-removed">- /* FIXME: Is this still necessary? CFURLConnection isn&#39;t used on Cocoa platforms any more. */</span>
<span class="udiff-line-removed">- #define ENABLE_SEC_ITEM_SHIM 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(IOS_FAMILY) || (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400))</span>
<span class="udiff-line-removed">- #define HAVE_ACCESSIBILITY_SUPPORT 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000</span>
<span class="udiff-line-removed">- #define HAVE_ACCESSIBILITY_BUNDLES_PATH 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC)</span>
<span class="udiff-line-removed">- #define ENABLE_FULL_KEYBOARD_ACCESS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(COCOA) &amp;&amp; ENABLE(ASYNC_SCROLLING)) || PLATFORM(GTK)</span>
<span class="udiff-line-removed">- #define ENABLE_KINETIC_SCROLLING 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS_FAMILY) || (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400)</span>
<span class="udiff-line-removed">- #define HAVE_AUTHORIZATION_STATUS_FOR_MEDIA_TYPE 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; (__MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400 &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &gt;= 101404)) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 120000 &amp;&amp; __IPHONE_OS_VERSION_MAX_ALLOWED &gt;= 120200) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="udiff-line-removed">- #define HAVE_CFNETWORK_OVERRIDE_SESSION_COOKIE_ACCEPT_POLICY 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="udiff-line-removed">- #define HAVE_CFNETWORK_NSURLSESSION_STRICTRUSTEVALUATE 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="udiff-line-removed">- #define HAVE_CFNETWORK_NEGOTIATED_SSL_PROTOCOL_CIPHER 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500</span>
<span class="udiff-line-removed">- #define HAVE_CSCHECKFIXDISABLE 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="udiff-line-removed">- #define HAVE_SANDBOX_ISSUE_MACH_EXTENSION_TO_PROCESS_BY_PID 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500)</span>
<span class="udiff-line-removed">- #define HAVE_SANDBOX_ISSUE_READ_EXTENSION_TO_PROCESS_BY_PID 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="udiff-line-removed">- #define HAVE_MDNS_FAST_REGISTRATION 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC)</span>
<span class="udiff-line-removed">- #define ENABLE_MONOSPACE_FONT_EXCEPTION (__MAC_OS_X_VERSION_MIN_REQUIRED &lt; 101500)</span>
<span class="udiff-line-removed">- #elif PLATFORM(IOS_FAMILY)</span>
<span class="udiff-line-removed">- #define ENABLE_MONOSPACE_FONT_EXCEPTION (__IPHONE_OS_VERSION_MIN_REQUIRED &lt; 130000)</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS_FAMILY)</span>
<span class="udiff-line-removed">- #define HAVE_DISALLOWABLE_USER_INSTALLED_FONTS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="udiff-line-removed">- #define HAVE_CTFONTCREATEFORCHARACTERSWITHLANGUAGEANDOPTION 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000</span>
<span class="udiff-line-removed">- #define HAVE_ARKIT_QUICK_LOOK_PREVIEW_ITEM 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000</span>
<span class="udiff-line-removed">- #define HAVE_UI_WK_DOCUMENT_CONTEXT 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MACCATALYST)</span>
<span class="udiff-line-removed">- #define ENABLE_PLATFORM_DRIVEN_TEXT_CHECKING 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="udiff-line-removed">- #define HAVE_ALLOWS_SENSITIVE_LOGGING 1</span>
<span class="udiff-line-removed">- #define HAVE_FAIRPLAYSTREAMING_CENC_INITDATA 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="udiff-line-removed">- #define HAVE_UI_SCROLL_VIEW_INDICATOR_FLASHING_SPI 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="udiff-line-removed">- #define HAVE_APP_LINKS_WITH_ISENABLED 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="udiff-line-removed">- #define HAVE_ROUTE_SHARING_POLICY_LONG_FORM_VIDEO 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 120000 &amp;&amp; !PLATFORM(IOS_SIMULATOR))</span>
<span class="udiff-line-removed">- #define HAVE_DEVICE_MANAGEMENT 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &lt; 101500</span>
<span class="udiff-line-removed">- #define USE_REALPATH_FOR_DLOPEN_PREFLIGHT 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="udiff-line-removed">- #define HAVE_NSURLSESSION_WEBSOCKET 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="udiff-line-removed">- #define HAVE_AVPLAYER_RESOURCE_CONSERVATION_LEVEL 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 120000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="udiff-line-removed">- #define HAVE_CORETEXT_AUTO_OPTICAL_SIZING 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000 || PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500)</span>
<span class="udiff-line-removed">- #define HAVE_APP_SSO 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000 || PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500)</span>
<span class="udiff-line-removed">- #define HAVE_TLS_PROTOCOL_VERSION_T 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000</span>
<span class="udiff-line-removed">- #define USE_UICONTEXTMENU 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500</span>
<span class="udiff-line-removed">- #define HAVE_SUBVIEWS_IVAR_SPI 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if PLATFORM(MAC) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 110000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="udiff-line-removed">- #define USE_PLATFORM_SYSTEM_FALLBACK_LIST 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="udiff-line-removed">- #define HAVE_DESIGN_SYSTEM_UI_FONTS 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="udiff-line-removed">- #define USE_HIRAGINO_SANS_WORKAROUND 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS) &amp;&amp; !PLATFORM(IOS_SIMULATOR))</span>
<span class="udiff-line-removed">- #define HAVE_DEVICE_IDENTITY 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="udiff-line-removed">- #define HAVE_DATA_PROTECTION_KEYCHAIN 1</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="udiff-line-removed">- #define HAVE_NEAR_FIELD 1</span>
<span class="udiff-line-removed">- #endif</span>
</pre>
<center><a href="ParkingLot.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="PlatformJSCOnly.cmake.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>