<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/MIMETypeRegistry.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="MIMETypeRegistry.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="PODInterval.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/MIMETypeRegistry.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 14  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 15  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 16  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL APPLE INC. OR
 17  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 18  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 19  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 20  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 21  * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 22  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 23  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 24  */
 25 
 26 #pragma once
 27 
 28 #include &lt;wtf/HashSet.h&gt;
 29 #include &lt;wtf/Vector.h&gt;
 30 #include &lt;wtf/text/StringHash.h&gt;
 31 
 32 namespace WebCore {
 33 
























 34 class MIMETypeRegistry {
 35 public:
 36     WEBCORE_EXPORT static String getMIMETypeForExtension(const String&amp; extension);
 37 
 38     // FIXME: WebKit coding style says we should not have the word &quot;get&quot; in the names of these functions.
 39     static Vector&lt;String&gt; getExtensionsForMIMEType(const String&amp; type);
 40     WEBCORE_EXPORT static String getPreferredExtensionForMIMEType(const String&amp; type);
<span class="line-modified"> 41     static String getMediaMIMETypeForExtension(const String&amp; extension);</span>
 42     static Vector&lt;String&gt; getMediaMIMETypesForExtension(const String&amp; extension);
 43 
 44     static String getMIMETypeForPath(const String&amp; path);
 45 


 46     // Check to see if a MIME type is suitable for being loaded inline as an
 47     // image (e.g., &lt;img&gt; tags).
 48     WEBCORE_EXPORT static bool isSupportedImageMIMEType(const String&amp; mimeType);
 49 
 50     // Check to see if a MIME type is suitable for being loaded as an image, including SVG and Video (where supported).
 51     WEBCORE_EXPORT static bool isSupportedImageVideoOrSVGMIMEType(const String&amp; mimeType);
 52 
 53     // Check to see if a MIME type is suitable for being encoded.
 54     static bool isSupportedImageMIMETypeForEncoding(const String&amp; mimeType);
 55 
 56     // Check to see if a MIME type is suitable for being loaded as a JavaScript or JSON resource.
 57     WEBCORE_EXPORT static bool isSupportedJavaScriptMIMEType(const String&amp; mimeType);
 58     WEBCORE_EXPORT static bool isSupportedJSONMIMEType(const String&amp; mimeType);
 59 
 60     // Check to see if a MIME type is suitable for being loaded as a style sheet.
 61     static bool isSupportedStyleSheetMIMEType(const String&amp; mimeType);
 62 
 63     // Check to see if a MIME type is suitable for being loaded as a font.
 64     static bool isSupportedFontMIMEType(const String&amp; mimeType);
 65 
</pre>
</td>
<td>
<hr />
<pre>
 14  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 15  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 16  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL APPLE INC. OR
 17  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 18  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 19  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 20  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 21  * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 22  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 23  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 24  */
 25 
 26 #pragma once
 27 
 28 #include &lt;wtf/HashSet.h&gt;
 29 #include &lt;wtf/Vector.h&gt;
 30 #include &lt;wtf/text/StringHash.h&gt;
 31 
 32 namespace WebCore {
 33 
<span class="line-added"> 34 WEBCORE_EXPORT Optional&lt;HashMap&lt;String, Vector&lt;String&gt;, ASCIICaseInsensitiveHash&gt;&gt;&amp; overriddenMimeTypesMap();</span>
<span class="line-added"> 35 WEBCORE_EXPORT const HashMap&lt;String, Vector&lt;String&gt;, ASCIICaseInsensitiveHash&gt;&amp; commonMimeTypesMap();</span>
<span class="line-added"> 36 </span>
<span class="line-added"> 37 struct TypeExtensionPair {</span>
<span class="line-added"> 38     ASCIILiteral type;</span>
<span class="line-added"> 39     ASCIILiteral extension;</span>
<span class="line-added"> 40 };</span>
<span class="line-added"> 41 </span>
<span class="line-added"> 42 WEBCORE_EXPORT const std::initializer_list&lt;TypeExtensionPair&gt;&amp; commonMediaTypes();</span>
<span class="line-added"> 43 </span>
<span class="line-added"> 44 struct MIMETypeRegistryThreadGlobalData {</span>
<span class="line-added"> 45     WTF_MAKE_NONCOPYABLE(MIMETypeRegistryThreadGlobalData);</span>
<span class="line-added"> 46     WTF_MAKE_FAST_ALLOCATED;</span>
<span class="line-added"> 47 public:</span>
<span class="line-added"> 48     MIMETypeRegistryThreadGlobalData(HashSet&lt;String, ASCIICaseInsensitiveHash&gt;&amp;&amp; supportedImageMIMETypesForEncoding)</span>
<span class="line-added"> 49         : m_supportedImageMIMETypesForEncoding(supportedImageMIMETypesForEncoding)</span>
<span class="line-added"> 50     { }</span>
<span class="line-added"> 51 </span>
<span class="line-added"> 52     const HashSet&lt;String, ASCIICaseInsensitiveHash&gt;&amp; supportedImageMIMETypesForEncoding() const { return m_supportedImageMIMETypesForEncoding; }</span>
<span class="line-added"> 53 </span>
<span class="line-added"> 54 private:</span>
<span class="line-added"> 55     HashSet&lt;String, ASCIICaseInsensitiveHash&gt; m_supportedImageMIMETypesForEncoding;</span>
<span class="line-added"> 56 };</span>
<span class="line-added"> 57 </span>
 58 class MIMETypeRegistry {
 59 public:
 60     WEBCORE_EXPORT static String getMIMETypeForExtension(const String&amp; extension);
 61 
 62     // FIXME: WebKit coding style says we should not have the word &quot;get&quot; in the names of these functions.
 63     static Vector&lt;String&gt; getExtensionsForMIMEType(const String&amp; type);
 64     WEBCORE_EXPORT static String getPreferredExtensionForMIMEType(const String&amp; type);
<span class="line-modified"> 65     WEBCORE_EXPORT static String getMediaMIMETypeForExtension(const String&amp; extension);</span>
 66     static Vector&lt;String&gt; getMediaMIMETypesForExtension(const String&amp; extension);
 67 
 68     static String getMIMETypeForPath(const String&amp; path);
 69 
<span class="line-added"> 70     static std::unique_ptr&lt;MIMETypeRegistryThreadGlobalData&gt; createMIMETypeRegistryThreadGlobalData();</span>
<span class="line-added"> 71 </span>
 72     // Check to see if a MIME type is suitable for being loaded inline as an
 73     // image (e.g., &lt;img&gt; tags).
 74     WEBCORE_EXPORT static bool isSupportedImageMIMEType(const String&amp; mimeType);
 75 
 76     // Check to see if a MIME type is suitable for being loaded as an image, including SVG and Video (where supported).
 77     WEBCORE_EXPORT static bool isSupportedImageVideoOrSVGMIMEType(const String&amp; mimeType);
 78 
 79     // Check to see if a MIME type is suitable for being encoded.
 80     static bool isSupportedImageMIMETypeForEncoding(const String&amp; mimeType);
 81 
 82     // Check to see if a MIME type is suitable for being loaded as a JavaScript or JSON resource.
 83     WEBCORE_EXPORT static bool isSupportedJavaScriptMIMEType(const String&amp; mimeType);
 84     WEBCORE_EXPORT static bool isSupportedJSONMIMEType(const String&amp; mimeType);
 85 
 86     // Check to see if a MIME type is suitable for being loaded as a style sheet.
 87     static bool isSupportedStyleSheetMIMEType(const String&amp; mimeType);
 88 
 89     // Check to see if a MIME type is suitable for being loaded as a font.
 90     static bool isSupportedFontMIMEType(const String&amp; mimeType);
 91 
</pre>
</td>
</tr>
</table>
<center><a href="MIMETypeRegistry.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="PODInterval.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>