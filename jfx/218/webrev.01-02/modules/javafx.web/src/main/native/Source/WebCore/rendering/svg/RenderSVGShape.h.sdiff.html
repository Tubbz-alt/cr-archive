<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/rendering/svg/RenderSVGShape.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="RenderSVGShape.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="RenderSVGText.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/rendering/svg/RenderSVGShape.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 49         GlobalCoordinateSpace,
 50         LocalCoordinateSpace
 51     };
 52     RenderSVGShape(SVGGraphicsElement&amp;, RenderStyle&amp;&amp;);
 53     virtual ~RenderSVGShape();
 54 
 55     SVGGraphicsElement&amp; graphicsElement() const { return downcast&lt;SVGGraphicsElement&gt;(RenderSVGModelObject::element()); }
 56 
 57     void setNeedsShapeUpdate() { m_needsShapeUpdate = true; }
 58     void setNeedsBoundariesUpdate() final { m_needsBoundariesUpdate = true; }
 59     bool needsBoundariesUpdate() final { return m_needsBoundariesUpdate; }
 60     void setNeedsTransformUpdate() final { m_needsTransformUpdate = true; }
 61     virtual void fillShape(GraphicsContext&amp;) const;
 62     virtual void strokeShape(GraphicsContext&amp;) const;
 63     virtual bool isRenderingDisabled() const = 0;
 64 
 65     bool isPointInFill(const FloatPoint&amp;);
 66     bool isPointInStroke(const FloatPoint&amp;);
 67 
 68     float getTotalLength() const;
<span class="line-modified"> 69     void getPointAtLength(FloatPoint&amp;, float distance) const;</span>
 70 
 71     bool hasPath() const { return m_path.get(); }
 72     Path&amp; path() const
 73     {
 74         ASSERT(m_path);
 75         return *m_path;
 76     }
 77     void clearPath() { m_path = nullptr; }
 78 
 79 protected:
 80     void element() const = delete;
 81 
 82     virtual void updateShapeFromElement();
 83     virtual bool isEmpty() const;
 84     virtual bool shapeDependentStrokeContains(const FloatPoint&amp;, PointCoordinateSpace = GlobalCoordinateSpace);
 85     virtual bool shapeDependentFillContains(const FloatPoint&amp;, const WindRule) const;
 86     float strokeWidth() const;
 87     bool hasSmoothStroke() const;
 88 
 89     bool hasNonScalingStroke() const { return style().svgStyle().vectorEffect() == VectorEffect::NonScalingStroke; }
</pre>
<hr />
<pre>
105     bool isSVGShape() const final { return true; }
106     bool canHaveChildren() const final { return false; }
107     const char* renderName() const override { return &quot;RenderSVGShape&quot;; }
108 
109     void layout() final;
110     void paint(PaintInfo&amp;, const LayoutPoint&amp;) final;
111     void addFocusRingRects(Vector&lt;LayoutRect&gt;&amp;, const LayoutPoint&amp; additionalOffset, const RenderLayerModelObject* paintContainer = 0) final;
112 
113     bool nodeAtFloatPoint(const HitTestRequest&amp;, HitTestResult&amp;, const FloatPoint&amp; pointInParent, HitTestAction) final;
114 
115     FloatRect objectBoundingBox() const final { return m_fillBoundingBox; }
116     FloatRect strokeBoundingBox() const final { return m_strokeBoundingBox; }
117     FloatRect calculateObjectBoundingBox() const;
118     FloatRect calculateStrokeBoundingBox() const;
119     void updateRepaintBoundingBox();
120 
121     bool setupNonScalingStrokeContext(AffineTransform&amp;, GraphicsContextStateSaver&amp;);
122 
123     bool shouldGenerateMarkerPositions() const;
124     FloatRect markerRect(float strokeWidth) const;


125     void processMarkerPositions();
126 
127     void fillShape(const RenderStyle&amp;, GraphicsContext&amp;);
128     void strokeShape(const RenderStyle&amp;, GraphicsContext&amp;);
129     void strokeShape(GraphicsContext&amp;);
130     void fillStrokeMarkers(PaintInfo&amp;);
131     void drawMarkers(PaintInfo&amp;);
132 
133 private:
134     FloatRect m_repaintBoundingBox;
135     FloatRect m_repaintBoundingBoxExcludingShadow;
136 
137     bool m_needsBoundariesUpdate : 1;
138     bool m_needsShapeUpdate : 1;
139     bool m_needsTransformUpdate : 1;
140 
141     AffineTransform m_localTransform;
142     std::unique_ptr&lt;Path&gt; m_path;
143     Vector&lt;MarkerPosition&gt; m_markerPositions;
144 };
</pre>
</td>
<td>
<hr />
<pre>
 49         GlobalCoordinateSpace,
 50         LocalCoordinateSpace
 51     };
 52     RenderSVGShape(SVGGraphicsElement&amp;, RenderStyle&amp;&amp;);
 53     virtual ~RenderSVGShape();
 54 
 55     SVGGraphicsElement&amp; graphicsElement() const { return downcast&lt;SVGGraphicsElement&gt;(RenderSVGModelObject::element()); }
 56 
 57     void setNeedsShapeUpdate() { m_needsShapeUpdate = true; }
 58     void setNeedsBoundariesUpdate() final { m_needsBoundariesUpdate = true; }
 59     bool needsBoundariesUpdate() final { return m_needsBoundariesUpdate; }
 60     void setNeedsTransformUpdate() final { m_needsTransformUpdate = true; }
 61     virtual void fillShape(GraphicsContext&amp;) const;
 62     virtual void strokeShape(GraphicsContext&amp;) const;
 63     virtual bool isRenderingDisabled() const = 0;
 64 
 65     bool isPointInFill(const FloatPoint&amp;);
 66     bool isPointInStroke(const FloatPoint&amp;);
 67 
 68     float getTotalLength() const;
<span class="line-modified"> 69     FloatPoint getPointAtLength(float distance) const;</span>
 70 
 71     bool hasPath() const { return m_path.get(); }
 72     Path&amp; path() const
 73     {
 74         ASSERT(m_path);
 75         return *m_path;
 76     }
 77     void clearPath() { m_path = nullptr; }
 78 
 79 protected:
 80     void element() const = delete;
 81 
 82     virtual void updateShapeFromElement();
 83     virtual bool isEmpty() const;
 84     virtual bool shapeDependentStrokeContains(const FloatPoint&amp;, PointCoordinateSpace = GlobalCoordinateSpace);
 85     virtual bool shapeDependentFillContains(const FloatPoint&amp;, const WindRule) const;
 86     float strokeWidth() const;
 87     bool hasSmoothStroke() const;
 88 
 89     bool hasNonScalingStroke() const { return style().svgStyle().vectorEffect() == VectorEffect::NonScalingStroke; }
</pre>
<hr />
<pre>
105     bool isSVGShape() const final { return true; }
106     bool canHaveChildren() const final { return false; }
107     const char* renderName() const override { return &quot;RenderSVGShape&quot;; }
108 
109     void layout() final;
110     void paint(PaintInfo&amp;, const LayoutPoint&amp;) final;
111     void addFocusRingRects(Vector&lt;LayoutRect&gt;&amp;, const LayoutPoint&amp; additionalOffset, const RenderLayerModelObject* paintContainer = 0) final;
112 
113     bool nodeAtFloatPoint(const HitTestRequest&amp;, HitTestResult&amp;, const FloatPoint&amp; pointInParent, HitTestAction) final;
114 
115     FloatRect objectBoundingBox() const final { return m_fillBoundingBox; }
116     FloatRect strokeBoundingBox() const final { return m_strokeBoundingBox; }
117     FloatRect calculateObjectBoundingBox() const;
118     FloatRect calculateStrokeBoundingBox() const;
119     void updateRepaintBoundingBox();
120 
121     bool setupNonScalingStrokeContext(AffineTransform&amp;, GraphicsContextStateSaver&amp;);
122 
123     bool shouldGenerateMarkerPositions() const;
124     FloatRect markerRect(float strokeWidth) const;
<span class="line-added">125 </span>
<span class="line-added">126     std::unique_ptr&lt;Path&gt; createPath() const;</span>
127     void processMarkerPositions();
128 
129     void fillShape(const RenderStyle&amp;, GraphicsContext&amp;);
130     void strokeShape(const RenderStyle&amp;, GraphicsContext&amp;);
131     void strokeShape(GraphicsContext&amp;);
132     void fillStrokeMarkers(PaintInfo&amp;);
133     void drawMarkers(PaintInfo&amp;);
134 
135 private:
136     FloatRect m_repaintBoundingBox;
137     FloatRect m_repaintBoundingBoxExcludingShadow;
138 
139     bool m_needsBoundariesUpdate : 1;
140     bool m_needsShapeUpdate : 1;
141     bool m_needsTransformUpdate : 1;
142 
143     AffineTransform m_localTransform;
144     std::unique_ptr&lt;Path&gt; m_path;
145     Vector&lt;MarkerPosition&gt; m_markerPositions;
146 };
</pre>
</td>
</tr>
</table>
<center><a href="RenderSVGShape.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="RenderSVGText.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>