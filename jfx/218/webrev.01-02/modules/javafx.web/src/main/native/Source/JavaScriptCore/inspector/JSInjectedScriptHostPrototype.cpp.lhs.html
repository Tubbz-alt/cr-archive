<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.web/src/main/native/Source/JavaScriptCore/inspector/JSInjectedScriptHostPrototype.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
  2  * Copyright (C) 2013, 2015-2016 Apple Inc. All rights reserved.
  3  *
  4  * Redistribution and use in source and binary forms, with or without
  5  * modification, are permitted provided that the following conditions
  6  * are met:
  7  * 1. Redistributions of source code must retain the above copyright
  8  *    notice, this list of conditions and the following disclaimer.
  9  * 2. Redistributions in binary form must reproduce the above copyright
 10  *    notice, this list of conditions and the following disclaimer in the
 11  *    documentation and/or other materials provided with the distribution.
 12  *
 13  * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS&#39;&#39; AND ANY
 14  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 15  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 16  * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR
 17  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 18  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 19  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 20  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 21  * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 22  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 23  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 24  */
 25 
 26 #include &quot;config.h&quot;
 27 #include &quot;JSInjectedScriptHostPrototype.h&quot;
 28 
 29 #include &quot;Error.h&quot;
 30 #include &quot;GetterSetter.h&quot;
 31 #include &quot;Identifier.h&quot;
 32 #include &quot;InjectedScriptHost.h&quot;
 33 #include &quot;JSCInlines.h&quot;
 34 #include &quot;JSFunction.h&quot;
 35 #include &quot;JSInjectedScriptHost.h&quot;
 36 
<a name="1" id="anc1"></a><span class="line-removed"> 37 using namespace JSC;</span>
<span class="line-removed"> 38 </span>
 39 namespace Inspector {
 40 
<a name="2" id="anc2"></a><span class="line-modified"> 41 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionSubtype(ExecState*);</span>
<span class="line-modified"> 42 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionFunctionDetails(ExecState*);</span>
<span class="line-modified"> 43 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionGetInternalProperties(ExecState*);</span>
<span class="line-modified"> 44 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionInternalConstructorName(ExecState*);</span>
<span class="line-modified"> 45 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionIsHTMLAllCollection(ExecState*);</span>
<span class="line-modified"> 46 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionIsPromiseRejectedWithNativeGetterTypeError(ExecState*);</span>
<span class="line-modified"> 47 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionProxyTargetValue(ExecState*);</span>
<span class="line-modified"> 48 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionWeakMapSize(ExecState*);</span>
<span class="line-modified"> 49 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionWeakMapEntries(ExecState*);</span>
<span class="line-modified"> 50 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionWeakSetSize(ExecState*);</span>
<span class="line-modified"> 51 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionWeakSetEntries(ExecState*);</span>
<span class="line-modified"> 52 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionIteratorEntries(ExecState*);</span>
<span class="line-modified"> 53 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionQueryInstances(ExecState*);</span>
<span class="line-modified"> 54 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionQueryHolders(ExecState*);</span>
<span class="line-modified"> 55 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionEvaluateWithScopeExtension(ExecState*);</span>
<span class="line-modified"> 56 </span>
<span class="line-modified"> 57 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeAttributeEvaluate(ExecState*);</span>
<span class="line-modified"> 58 static EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeAttributeSavedResultAlias(ExecState*);</span>


 59 
 60 const ClassInfo JSInjectedScriptHostPrototype::s_info = { &quot;InjectedScriptHost&quot;, &amp;Base::s_info, nullptr, nullptr, CREATE_METHOD_TABLE(JSInjectedScriptHostPrototype) };
 61 
 62 void JSInjectedScriptHostPrototype::finishCreation(VM&amp; vm, JSGlobalObject* globalObject)
 63 {
 64     Base::finishCreation(vm);
 65     ASSERT(inherits(vm, info()));
 66 
 67     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;subtype&quot;, jsInjectedScriptHostPrototypeFunctionSubtype, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 68     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;functionDetails&quot;, jsInjectedScriptHostPrototypeFunctionFunctionDetails, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 69     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;getInternalProperties&quot;, jsInjectedScriptHostPrototypeFunctionGetInternalProperties, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 70     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;internalConstructorName&quot;, jsInjectedScriptHostPrototypeFunctionInternalConstructorName, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 71     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;isHTMLAllCollection&quot;, jsInjectedScriptHostPrototypeFunctionIsHTMLAllCollection, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 72     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;isPromiseRejectedWithNativeGetterTypeError&quot;, jsInjectedScriptHostPrototypeFunctionIsPromiseRejectedWithNativeGetterTypeError, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 73     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;proxyTargetValue&quot;, jsInjectedScriptHostPrototypeFunctionProxyTargetValue, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 74     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;weakMapSize&quot;, jsInjectedScriptHostPrototypeFunctionWeakMapSize, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 75     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;weakMapEntries&quot;, jsInjectedScriptHostPrototypeFunctionWeakMapEntries, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 76     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;weakSetSize&quot;, jsInjectedScriptHostPrototypeFunctionWeakSetSize, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 77     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;weakSetEntries&quot;, jsInjectedScriptHostPrototypeFunctionWeakSetEntries, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 78     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;iteratorEntries&quot;, jsInjectedScriptHostPrototypeFunctionIteratorEntries, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 79     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;queryInstances&quot;, jsInjectedScriptHostPrototypeFunctionQueryInstances, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 80     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;queryHolders&quot;, jsInjectedScriptHostPrototypeFunctionQueryHolders, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 81     JSC_NATIVE_FUNCTION_WITHOUT_TRANSITION(&quot;evaluateWithScopeExtension&quot;, jsInjectedScriptHostPrototypeFunctionEvaluateWithScopeExtension, static_cast&lt;unsigned&gt;(PropertyAttribute::DontEnum), 1);
 82 
 83     JSC_NATIVE_GETTER_WITHOUT_TRANSITION(&quot;evaluate&quot;, jsInjectedScriptHostPrototypeAttributeEvaluate, PropertyAttribute::DontEnum | PropertyAttribute::Accessor);
 84     JSC_NATIVE_GETTER_WITHOUT_TRANSITION(&quot;savedResultAlias&quot;, jsInjectedScriptHostPrototypeAttributeSavedResultAlias, PropertyAttribute::DontEnum | PropertyAttribute::Accessor);
 85 }
 86 
<a name="3" id="anc3"></a><span class="line-modified"> 87 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeAttributeEvaluate(ExecState* exec)</span>
 88 {
<a name="4" id="anc4"></a><span class="line-modified"> 89     VM&amp; vm = exec-&gt;vm();</span>
 90     auto scope = DECLARE_THROW_SCOPE(vm);
 91 
<a name="5" id="anc5"></a><span class="line-modified"> 92     JSValue thisValue = exec-&gt;thisValue();</span>
 93     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
 94     if (!castedThis)
<a name="6" id="anc6"></a><span class="line-modified"> 95         return throwVMTypeError(exec, scope);</span>
 96 
<a name="7" id="anc7"></a><span class="line-modified"> 97     return JSValue::encode(castedThis-&gt;evaluate(exec));</span>
 98 }
 99 
<a name="8" id="anc8"></a><span class="line-modified">100 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeAttributeSavedResultAlias(ExecState* exec)</span>
101 {
<a name="9" id="anc9"></a><span class="line-modified">102     VM&amp; vm = exec-&gt;vm();</span>
103     auto scope = DECLARE_THROW_SCOPE(vm);
104 
<a name="10" id="anc10"></a><span class="line-modified">105     JSValue thisValue = exec-&gt;thisValue();</span>
106     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
107     if (!castedThis)
<a name="11" id="anc11"></a><span class="line-modified">108         return throwVMTypeError(exec, scope);</span>
109 
<a name="12" id="anc12"></a><span class="line-modified">110     return JSValue::encode(castedThis-&gt;savedResultAlias(exec));</span>
111 }
112 
<a name="13" id="anc13"></a><span class="line-modified">113 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionInternalConstructorName(ExecState* exec)</span>
114 {
<a name="14" id="anc14"></a><span class="line-modified">115     VM&amp; vm = exec-&gt;vm();</span>
116     auto scope = DECLARE_THROW_SCOPE(vm);
117 
<a name="15" id="anc15"></a><span class="line-modified">118     JSValue thisValue = exec-&gt;thisValue();</span>
119     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
120     if (!castedThis)
<a name="16" id="anc16"></a><span class="line-modified">121         return throwVMTypeError(exec, scope);</span>
122 
<a name="17" id="anc17"></a><span class="line-modified">123     return JSValue::encode(castedThis-&gt;internalConstructorName(exec));</span>
124 }
125 
<a name="18" id="anc18"></a><span class="line-modified">126 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionIsHTMLAllCollection(ExecState* exec)</span>
127 {
<a name="19" id="anc19"></a><span class="line-modified">128     VM&amp; vm = exec-&gt;vm();</span>
129     auto scope = DECLARE_THROW_SCOPE(vm);
130 
<a name="20" id="anc20"></a><span class="line-modified">131     JSValue thisValue = exec-&gt;thisValue();</span>
132     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
133     if (!castedThis)
<a name="21" id="anc21"></a><span class="line-modified">134         return throwVMTypeError(exec, scope);</span>
135 
<a name="22" id="anc22"></a><span class="line-modified">136     return JSValue::encode(castedThis-&gt;isHTMLAllCollection(exec));</span>
137 }
138 
<a name="23" id="anc23"></a><span class="line-modified">139 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionIsPromiseRejectedWithNativeGetterTypeError(ExecState* exec)</span>
140 {
<a name="24" id="anc24"></a><span class="line-modified">141     VM&amp; vm = exec-&gt;vm();</span>
142     auto scope = DECLARE_THROW_SCOPE(vm);
143 
<a name="25" id="anc25"></a><span class="line-modified">144     JSValue thisValue = exec-&gt;thisValue();</span>
145     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
146     if (!castedThis)
<a name="26" id="anc26"></a><span class="line-modified">147         return throwVMTypeError(exec, scope);</span>
148 
<a name="27" id="anc27"></a><span class="line-modified">149     return JSValue::encode(castedThis-&gt;isPromiseRejectedWithNativeGetterTypeError(exec));</span>
150 }
151 
<a name="28" id="anc28"></a><span class="line-modified">152 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionProxyTargetValue(ExecState* exec)</span>
153 {
<a name="29" id="anc29"></a><span class="line-modified">154     VM&amp; vm = exec-&gt;vm();</span>
155     auto scope = DECLARE_THROW_SCOPE(vm);
156 
<a name="30" id="anc30"></a><span class="line-modified">157     JSValue thisValue = exec-&gt;thisValue();</span>
158     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
159     if (!castedThis)
<a name="31" id="anc31"></a><span class="line-modified">160         return throwVMTypeError(exec, scope);</span>
161 
<a name="32" id="anc32"></a><span class="line-modified">162     return JSValue::encode(castedThis-&gt;proxyTargetValue(exec));</span>
163 }
164 
<a name="33" id="anc33"></a><span class="line-modified">165 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionWeakMapSize(ExecState* exec)</span>
166 {
<a name="34" id="anc34"></a><span class="line-modified">167     VM&amp; vm = exec-&gt;vm();</span>
168     auto scope = DECLARE_THROW_SCOPE(vm);
169 
<a name="35" id="anc35"></a><span class="line-modified">170     JSValue thisValue = exec-&gt;thisValue();</span>
171     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
172     if (!castedThis)
<a name="36" id="anc36"></a><span class="line-modified">173         return throwVMTypeError(exec, scope);</span>
174 
<a name="37" id="anc37"></a><span class="line-modified">175     return JSValue::encode(castedThis-&gt;weakMapSize(exec));</span>
176 }
177 
<a name="38" id="anc38"></a><span class="line-modified">178 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionWeakMapEntries(ExecState* exec)</span>
179 {
<a name="39" id="anc39"></a><span class="line-modified">180     VM&amp; vm = exec-&gt;vm();</span>
181     auto scope = DECLARE_THROW_SCOPE(vm);
182 
<a name="40" id="anc40"></a><span class="line-modified">183     JSValue thisValue = exec-&gt;thisValue();</span>
184     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
185     if (!castedThis)
<a name="41" id="anc41"></a><span class="line-modified">186         return throwVMTypeError(exec, scope);</span>
187 
<a name="42" id="anc42"></a><span class="line-modified">188     return JSValue::encode(castedThis-&gt;weakMapEntries(exec));</span>
189 }
190 
<a name="43" id="anc43"></a><span class="line-modified">191 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionWeakSetSize(ExecState* exec)</span>
192 {
<a name="44" id="anc44"></a><span class="line-modified">193     VM&amp; vm = exec-&gt;vm();</span>
194     auto scope = DECLARE_THROW_SCOPE(vm);
195 
<a name="45" id="anc45"></a><span class="line-modified">196     JSValue thisValue = exec-&gt;thisValue();</span>
197     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
198     if (!castedThis)
<a name="46" id="anc46"></a><span class="line-modified">199         return throwVMTypeError(exec, scope);</span>
200 
<a name="47" id="anc47"></a><span class="line-modified">201     return JSValue::encode(castedThis-&gt;weakSetSize(exec));</span>
202 }
203 
<a name="48" id="anc48"></a><span class="line-modified">204 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionWeakSetEntries(ExecState* exec)</span>
205 {
<a name="49" id="anc49"></a><span class="line-modified">206     VM&amp; vm = exec-&gt;vm();</span>
207     auto scope = DECLARE_THROW_SCOPE(vm);
208 
<a name="50" id="anc50"></a><span class="line-modified">209     JSValue thisValue = exec-&gt;thisValue();</span>
210     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
211     if (!castedThis)
<a name="51" id="anc51"></a><span class="line-modified">212         return throwVMTypeError(exec, scope);</span>
213 
<a name="52" id="anc52"></a><span class="line-modified">214     return JSValue::encode(castedThis-&gt;weakSetEntries(exec));</span>
215 }
216 
<a name="53" id="anc53"></a><span class="line-modified">217 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionIteratorEntries(ExecState* exec)</span>
218 {
<a name="54" id="anc54"></a><span class="line-modified">219     VM&amp; vm = exec-&gt;vm();</span>
220     auto scope = DECLARE_THROW_SCOPE(vm);
221 
<a name="55" id="anc55"></a><span class="line-modified">222     JSValue thisValue = exec-&gt;thisValue();</span>
223     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
224     if (!castedThis)
<a name="56" id="anc56"></a><span class="line-modified">225         return throwVMTypeError(exec, scope);</span>
226 
<a name="57" id="anc57"></a><span class="line-modified">227     return JSValue::encode(castedThis-&gt;iteratorEntries(exec));</span>
228 }
229 
<a name="58" id="anc58"></a><span class="line-modified">230 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionQueryInstances(ExecState* exec)</span>
231 {
<a name="59" id="anc59"></a><span class="line-modified">232     VM&amp; vm = exec-&gt;vm();</span>
233     auto scope = DECLARE_THROW_SCOPE(vm);
234 
<a name="60" id="anc60"></a><span class="line-modified">235     JSValue thisValue = exec-&gt;thisValue();</span>
236     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
237     if (!castedThis)
<a name="61" id="anc61"></a><span class="line-modified">238         return throwVMTypeError(exec, scope);</span>
239 
<a name="62" id="anc62"></a><span class="line-modified">240     return JSValue::encode(castedThis-&gt;queryInstances(exec));</span>
241 }
242 
<a name="63" id="anc63"></a><span class="line-modified">243 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionQueryHolders(ExecState* exec)</span>
244 {
<a name="64" id="anc64"></a><span class="line-modified">245     VM&amp; vm = exec-&gt;vm();</span>
246     auto scope = DECLARE_THROW_SCOPE(vm);
247 
<a name="65" id="anc65"></a><span class="line-modified">248     JSValue thisValue = exec-&gt;thisValue();</span>
249     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
250     if (!castedThis)
<a name="66" id="anc66"></a><span class="line-modified">251         return throwVMTypeError(exec, scope);</span>
252 
<a name="67" id="anc67"></a><span class="line-modified">253     return JSValue::encode(castedThis-&gt;queryHolders(exec));</span>
254 }
255 
<a name="68" id="anc68"></a><span class="line-modified">256 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionEvaluateWithScopeExtension(ExecState* exec)</span>
257 {
<a name="69" id="anc69"></a><span class="line-modified">258     VM&amp; vm = exec-&gt;vm();</span>
259     auto scope = DECLARE_THROW_SCOPE(vm);
260 
<a name="70" id="anc70"></a><span class="line-modified">261     JSValue thisValue = exec-&gt;thisValue();</span>
262     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
263     if (!castedThis)
<a name="71" id="anc71"></a><span class="line-modified">264         return throwVMTypeError(exec, scope);</span>
265 
<a name="72" id="anc72"></a><span class="line-modified">266     return JSValue::encode(castedThis-&gt;evaluateWithScopeExtension(exec));</span>
267 }
268 
<a name="73" id="anc73"></a><span class="line-modified">269 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionSubtype(ExecState* exec)</span>
270 {
<a name="74" id="anc74"></a><span class="line-modified">271     VM&amp; vm = exec-&gt;vm();</span>
272     auto scope = DECLARE_THROW_SCOPE(vm);
273 
<a name="75" id="anc75"></a><span class="line-modified">274     JSValue thisValue = exec-&gt;thisValue();</span>
275     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
276     if (!castedThis)
<a name="76" id="anc76"></a><span class="line-modified">277         return throwVMTypeError(exec, scope);</span>
278 
<a name="77" id="anc77"></a><span class="line-modified">279     return JSValue::encode(castedThis-&gt;subtype(exec));</span>
280 }
281 
<a name="78" id="anc78"></a><span class="line-modified">282 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionFunctionDetails(ExecState* exec)</span>
283 {
<a name="79" id="anc79"></a><span class="line-modified">284     VM&amp; vm = exec-&gt;vm();</span>
285     auto scope = DECLARE_THROW_SCOPE(vm);
286 
<a name="80" id="anc80"></a><span class="line-modified">287     JSValue thisValue = exec-&gt;thisValue();</span>
288     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
289     if (!castedThis)
<a name="81" id="anc81"></a><span class="line-modified">290         return throwVMTypeError(exec, scope);</span>
291 
<a name="82" id="anc82"></a><span class="line-modified">292     return JSValue::encode(castedThis-&gt;functionDetails(exec));</span>
293 }
294 
<a name="83" id="anc83"></a><span class="line-modified">295 EncodedJSValue JSC_HOST_CALL jsInjectedScriptHostPrototypeFunctionGetInternalProperties(ExecState* exec)</span>
296 {
<a name="84" id="anc84"></a><span class="line-modified">297     VM&amp; vm = exec-&gt;vm();</span>
298     auto scope = DECLARE_THROW_SCOPE(vm);
299 
<a name="85" id="anc85"></a><span class="line-modified">300     JSValue thisValue = exec-&gt;thisValue();</span>
301     JSInjectedScriptHost* castedThis = jsDynamicCast&lt;JSInjectedScriptHost*&gt;(vm, thisValue);
302     if (!castedThis)
<a name="86" id="anc86"></a><span class="line-modified">303         return throwVMTypeError(exec, scope);</span>
304 
<a name="87" id="anc87"></a><span class="line-modified">305     return JSValue::encode(castedThis-&gt;getInternalProperties(exec));</span>
306 }
307 
308 } // namespace Inspector
309 
<a name="88" id="anc88"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="88" type="hidden" />
</body>
</html>