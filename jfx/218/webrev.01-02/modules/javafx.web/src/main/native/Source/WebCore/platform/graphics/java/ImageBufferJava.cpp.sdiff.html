<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/java/ImageBufferJava.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="GraphicsContextJava.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="MediaPlayerPrivateJava.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/java/ImageBufferJava.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
164 size_t ImageBuffer::dataSize() const
165 {
166     return m_size.width() * m_size.height() * 4;
167 }
168 */
169 
170 GraphicsContext&amp; ImageBuffer::context() const
171 {
172     return *m_data.m_context.get();
173 }
174 
175 RefPtr&lt;Image&gt; ImageBuffer::copyImage(BackingStoreCopy, PreserveResolution) const
176 {
177     //utatodo: seems [copyBehavior] is the rest of [drawsUsingCopy]
178     return BufferImage::create(
179         m_data.m_image,
180         m_data.m_context-&gt;platformContext()-&gt;rq_ref(),
181         m_size.width(), m_size.height());
182 }
183 
<span class="line-removed">184 BackingStoreCopy ImageBuffer::fastCopyImageMode()</span>
<span class="line-removed">185 {</span>
<span class="line-removed">186     return CopyBackingStore; // todo tav revise</span>
<span class="line-removed">187 }</span>
<span class="line-removed">188 </span>
189 void ImageBuffer::platformTransformColorSpace(const std::array&lt;uint8_t, 256&gt;&amp;)
190 {
191     notImplemented();
192 /*
193     uint8* rowData = reinterpret_cast&lt;uint8*&gt;(m_data.m_bitmap.Bits());
194     unsigned bytesPerRow = m_data.m_bitmap.BytesPerRow();
195     unsigned rows = m_size.height();
196     unsigned columns = m_size.width();
197     for (unsigned y = 0; y &lt; rows; y++) {
198         uint8* pixel = rowData;
199         for (unsigned x = 0; x &lt; columns; x++) {
200             // lookUpTable doesn&#39;t seem to support a LUT for each color channel
201             // separately (judging from the other ports). We don&#39;t need to
202             // convert from/to pre-multiplied color space since BBitmap storage
203             // is not pre-multiplied.
204             pixel[0] = lookUpTable[pixel[0]];
205             pixel[1] = lookUpTable[pixel[1]];
206             pixel[2] = lookUpTable[pixel[2]];
207             // alpha stays unmodified.
208             pixel += 4;
</pre>
</td>
<td>
<hr />
<pre>
164 size_t ImageBuffer::dataSize() const
165 {
166     return m_size.width() * m_size.height() * 4;
167 }
168 */
169 
170 GraphicsContext&amp; ImageBuffer::context() const
171 {
172     return *m_data.m_context.get();
173 }
174 
175 RefPtr&lt;Image&gt; ImageBuffer::copyImage(BackingStoreCopy, PreserveResolution) const
176 {
177     //utatodo: seems [copyBehavior] is the rest of [drawsUsingCopy]
178     return BufferImage::create(
179         m_data.m_image,
180         m_data.m_context-&gt;platformContext()-&gt;rq_ref(),
181         m_size.width(), m_size.height());
182 }
183 





184 void ImageBuffer::platformTransformColorSpace(const std::array&lt;uint8_t, 256&gt;&amp;)
185 {
186     notImplemented();
187 /*
188     uint8* rowData = reinterpret_cast&lt;uint8*&gt;(m_data.m_bitmap.Bits());
189     unsigned bytesPerRow = m_data.m_bitmap.BytesPerRow();
190     unsigned rows = m_size.height();
191     unsigned columns = m_size.width();
192     for (unsigned y = 0; y &lt; rows; y++) {
193         uint8* pixel = rowData;
194         for (unsigned x = 0; x &lt; columns; x++) {
195             // lookUpTable doesn&#39;t seem to support a LUT for each color channel
196             // separately (judging from the other ports). We don&#39;t need to
197             // convert from/to pre-multiplied color space since BBitmap storage
198             // is not pre-multiplied.
199             pixel[0] = lookUpTable[pixel[0]];
200             pixel[1] = lookUpTable[pixel[1]];
201             pixel[2] = lookUpTable[pixel[2]];
202             // alpha stays unmodified.
203             pixel += 4;
</pre>
</td>
</tr>
</table>
<center><a href="GraphicsContextJava.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="MediaPlayerPrivateJava.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>