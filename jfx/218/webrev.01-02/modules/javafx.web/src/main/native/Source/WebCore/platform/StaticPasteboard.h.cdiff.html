<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/platform/StaticPasteboard.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="StaticPasteboard.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Supplementable.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/StaticPasteboard.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 30,38 ***</span>
  #include &lt;wtf/Vector.h&gt;
  #include &lt;wtf/text/StringHash.h&gt;
  
  namespace WebCore {
  
  class StaticPasteboard final : public Pasteboard {
  public:
      StaticPasteboard();
  
      PasteboardCustomData takeCustomData();
  
      bool isStatic() const final { return true; }
  
      bool hasData() final;
<span class="line-modified">!     Vector&lt;String&gt; typesSafeForBindings(const String&amp;) final { return m_types; }</span>
<span class="line-modified">!     Vector&lt;String&gt; typesForLegacyUnsafeBindings() final { return m_types; }</span>
      String readOrigin() final { return { }; }
      String readString(const String&amp; type) final;
      String readStringInCustomData(const String&amp; type) final;
  
      void writeString(const String&amp; type, const String&amp; data) final;
      void writeStringInCustomData(const String&amp; type, const String&amp; data);
      void clear() final;
      void clear(const String&amp; type) final;
  
<span class="line-modified">!     void read(PasteboardPlainText&amp;) final { }</span>
<span class="line-modified">!     void read(PasteboardWebContentReader&amp;, WebContentReadingPolicy) final { }</span>
  
      void write(const PasteboardURL&amp;) final { }
      void write(const PasteboardImage&amp;) final { }
      void write(const PasteboardWebContent&amp;) final { }
  
<span class="line-modified">!     void writeCustomData(const PasteboardCustomData&amp;) final { }</span>
  
      Pasteboard::FileContentState fileContentState() final { return FileContentState::NoFileOrImageData; }
      bool canSmartReplace() final { return false; }
  
      void writeMarkup(const String&amp;) final { }
<span class="line-new-header">--- 30,42 ---</span>
  #include &lt;wtf/Vector.h&gt;
  #include &lt;wtf/text/StringHash.h&gt;
  
  namespace WebCore {
  
<span class="line-added">+ class SharedBuffer;</span>
<span class="line-added">+ </span>
  class StaticPasteboard final : public Pasteboard {
  public:
      StaticPasteboard();
<span class="line-added">+     ~StaticPasteboard();</span>
  
      PasteboardCustomData takeCustomData();
  
      bool isStatic() const final { return true; }
  
      bool hasData() final;
<span class="line-modified">!     Vector&lt;String&gt; typesSafeForBindings(const String&amp;) final;</span>
<span class="line-modified">!     Vector&lt;String&gt; typesForLegacyUnsafeBindings() final;</span>
      String readOrigin() final { return { }; }
      String readString(const String&amp; type) final;
      String readStringInCustomData(const String&amp; type) final;
  
      void writeString(const String&amp; type, const String&amp; data) final;
<span class="line-added">+     void writeData(const String&amp; type, Ref&lt;SharedBuffer&gt;&amp;&amp; data);</span>
      void writeStringInCustomData(const String&amp; type, const String&amp; data);
      void clear() final;
      void clear(const String&amp; type) final;
  
<span class="line-modified">!     void read(PasteboardPlainText&amp;, PlainTextURLReadingPolicy = PlainTextURLReadingPolicy::AllowURL, Optional&lt;size_t&gt; = WTF::nullopt) final { }</span>
<span class="line-modified">!     void read(PasteboardWebContentReader&amp;, WebContentReadingPolicy, Optional&lt;size_t&gt; = WTF::nullopt) final { }</span>
  
      void write(const PasteboardURL&amp;) final { }
      void write(const PasteboardImage&amp;) final { }
      void write(const PasteboardWebContent&amp;) final { }
  
<span class="line-modified">!     void writeCustomData(const Vector&lt;PasteboardCustomData&gt;&amp;) final { }</span>
  
      Pasteboard::FileContentState fileContentState() final { return FileContentState::NoFileOrImageData; }
      bool canSmartReplace() final { return false; }
  
      void writeMarkup(const String&amp;) final { }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 70,13 ***</span>
  #if ENABLE(DRAG_SUPPORT)
      void setDragImage(DragImage, const IntPoint&amp;) final { }
  #endif
  
  private:
<span class="line-modified">!     Vector&lt;String&gt; m_types;</span>
<span class="line-removed">-     HashMap&lt;String, String&gt; m_platformData;</span>
<span class="line-removed">-     HashMap&lt;String, String&gt; m_customData;</span>
  };
  
  }
  
  SPECIALIZE_TYPE_TRAITS_BEGIN(WebCore::StaticPasteboard)
<span class="line-new-header">--- 74,11 ---</span>
  #if ENABLE(DRAG_SUPPORT)
      void setDragImage(DragImage, const IntPoint&amp;) final { }
  #endif
  
  private:
<span class="line-modified">!     PasteboardCustomData m_customData;</span>
  };
  
  }
  
  SPECIALIZE_TYPE_TRAITS_BEGIN(WebCore::StaticPasteboard)
</pre>
<center><a href="StaticPasteboard.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Supplementable.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>