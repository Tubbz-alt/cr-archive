<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/runtime/JSDataViewPrototype.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="JSDataView.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="JSDataViewPrototype.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/runtime/JSDataViewPrototype.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 59,29 ***</span>
    byteLength            dataViewProtoGetterByteLength        DontEnum|Accessor       0
    byteOffset            dataViewProtoGetterByteOffset        DontEnum|Accessor       0
  @end
  */
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetInt8(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetInt16(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetInt32(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetUint8(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetUint16(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetUint32(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetFloat32(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetFloat64(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetInt8(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetInt16(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetInt32(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetUint8(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetUint16(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetUint32(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetFloat32(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetFloat64(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoGetterBuffer(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoGetterByteLength(ExecState*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoGetterByteOffset(ExecState*);</span>
  
  }
  
  #include &quot;JSDataViewPrototype.lut.h&quot;
  
<span class="line-new-header">--- 59,29 ---</span>
    byteLength            dataViewProtoGetterByteLength        DontEnum|Accessor       0
    byteOffset            dataViewProtoGetterByteOffset        DontEnum|Accessor       0
  @end
  */
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetInt8(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetInt16(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetInt32(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetUint8(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetUint16(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetUint32(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetFloat32(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetFloat64(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetInt8(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetInt16(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetInt32(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetUint8(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetUint16(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetUint32(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetFloat32(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetFloat64(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoGetterBuffer(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoGetterByteLength(JSGlobalObject*, CallFrame*);</span>
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoGetterByteOffset(JSGlobalObject*, CallFrame*);</span>
  
  }
  
  #include &quot;JSDataViewPrototype.lut.h&quot;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 107,43 ***</span>
  }
  
  void JSDataViewPrototype::finishCreation(JSC::VM&amp; vm)
  {
      Base::finishCreation(vm);
<span class="line-modified">!     putDirectWithoutTransition(vm, vm.propertyNames-&gt;toStringTagSymbol, jsString(vm, &quot;DataView&quot;), PropertyAttribute::DontEnum | PropertyAttribute::ReadOnly);</span>
  }
  
  Structure* JSDataViewPrototype::createStructure(
      VM&amp; vm, JSGlobalObject* globalObject, JSValue prototype)
  {
      return Structure::create(
          vm, globalObject, prototype, TypeInfo(ObjectType, StructureFlags), info());
  }
  
  template&lt;typename Adaptor&gt;
<span class="line-modified">! EncodedJSValue getData(ExecState* exec)</span>
  {
<span class="line-modified">!     VM&amp; vm = exec-&gt;vm();</span>
      auto scope = DECLARE_THROW_SCOPE(vm);
  
<span class="line-modified">!     JSDataView* dataView = jsDynamicCast&lt;JSDataView*&gt;(vm, exec-&gt;thisValue());</span>
      if (!dataView)
<span class="line-modified">!         return throwVMTypeError(exec, scope, &quot;Receiver of DataView method must be a DataView&quot;_s);</span>
  
<span class="line-modified">!     unsigned byteOffset = exec-&gt;argument(0).toIndex(exec, &quot;byteOffset&quot;);</span>
      RETURN_IF_EXCEPTION(scope, encodedJSValue());
  
      bool littleEndian = false;
      unsigned elementSize = sizeof(typename Adaptor::Type);
<span class="line-modified">!     if (elementSize &gt; 1 &amp;&amp; exec-&gt;argumentCount() &gt;= 2) {</span>
<span class="line-modified">!         littleEndian = exec-&gt;uncheckedArgument(1).toBoolean(exec);</span>
          RETURN_IF_EXCEPTION(scope, encodedJSValue());
      }
  
      unsigned byteLength = dataView-&gt;length();
      if (elementSize &gt; byteLength || byteOffset &gt; byteLength - elementSize)
<span class="line-modified">!         return throwVMError(exec, scope, createRangeError(exec, &quot;Out of bounds access&quot;_s));</span>
  
      const unsigned dataSize = sizeof(typename Adaptor::Type);
      union {
          typename Adaptor::Type value;
          uint8_t rawBytes[dataSize];
<span class="line-new-header">--- 107,43 ---</span>
  }
  
  void JSDataViewPrototype::finishCreation(JSC::VM&amp; vm)
  {
      Base::finishCreation(vm);
<span class="line-modified">!     putDirectWithoutTransition(vm, vm.propertyNames-&gt;toStringTagSymbol, jsNontrivialString(vm, &quot;DataView&quot;_s), PropertyAttribute::DontEnum | PropertyAttribute::ReadOnly);</span>
  }
  
  Structure* JSDataViewPrototype::createStructure(
      VM&amp; vm, JSGlobalObject* globalObject, JSValue prototype)
  {
      return Structure::create(
          vm, globalObject, prototype, TypeInfo(ObjectType, StructureFlags), info());
  }
  
  template&lt;typename Adaptor&gt;
<span class="line-modified">! EncodedJSValue getData(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     VM&amp; vm = globalObject-&gt;vm();</span>
      auto scope = DECLARE_THROW_SCOPE(vm);
  
<span class="line-modified">!     JSDataView* dataView = jsDynamicCast&lt;JSDataView*&gt;(vm, callFrame-&gt;thisValue());</span>
      if (!dataView)
<span class="line-modified">!         return throwVMTypeError(globalObject, scope, &quot;Receiver of DataView method must be a DataView&quot;_s);</span>
  
<span class="line-modified">!     unsigned byteOffset = callFrame-&gt;argument(0).toIndex(globalObject, &quot;byteOffset&quot;);</span>
      RETURN_IF_EXCEPTION(scope, encodedJSValue());
  
      bool littleEndian = false;
      unsigned elementSize = sizeof(typename Adaptor::Type);
<span class="line-modified">!     if (elementSize &gt; 1 &amp;&amp; callFrame-&gt;argumentCount() &gt;= 2) {</span>
<span class="line-modified">!         littleEndian = callFrame-&gt;uncheckedArgument(1).toBoolean(globalObject);</span>
          RETURN_IF_EXCEPTION(scope, encodedJSValue());
      }
  
      unsigned byteLength = dataView-&gt;length();
      if (elementSize &gt; byteLength || byteOffset &gt; byteLength - elementSize)
<span class="line-modified">!         return throwVMError(globalObject, scope, createRangeError(globalObject, &quot;Out of bounds access&quot;_s));</span>
  
      const unsigned dataSize = sizeof(typename Adaptor::Type);
      union {
          typename Adaptor::Type value;
          uint8_t rawBytes[dataSize];
</pre>
<hr />
<pre>
<span class="line-old-header">*** 161,41 ***</span>
  
      return JSValue::encode(Adaptor::toJSValue(u.value));
  }
  
  template&lt;typename Adaptor&gt;
<span class="line-modified">! EncodedJSValue setData(ExecState* exec)</span>
  {
<span class="line-modified">!     VM&amp; vm = exec-&gt;vm();</span>
      auto scope = DECLARE_THROW_SCOPE(vm);
  
<span class="line-modified">!     JSDataView* dataView = jsDynamicCast&lt;JSDataView*&gt;(vm, exec-&gt;thisValue());</span>
      if (!dataView)
<span class="line-modified">!         return throwVMTypeError(exec, scope, &quot;Receiver of DataView method must be a DataView&quot;_s);</span>
  
<span class="line-modified">!     unsigned byteOffset = exec-&gt;argument(0).toIndex(exec, &quot;byteOffset&quot;);</span>
      RETURN_IF_EXCEPTION(scope, encodedJSValue());
  
      const unsigned dataSize = sizeof(typename Adaptor::Type);
      union {
          typename Adaptor::Type value;
          uint8_t rawBytes[dataSize];
      } u;
  
<span class="line-modified">!     u.value = toNativeFromValue&lt;Adaptor&gt;(exec, exec-&gt;argument(1));</span>
      RETURN_IF_EXCEPTION(scope, encodedJSValue());
  
      bool littleEndian = false;
      unsigned elementSize = sizeof(typename Adaptor::Type);
<span class="line-modified">!     if (elementSize &gt; 1 &amp;&amp; exec-&gt;argumentCount() &gt;= 3) {</span>
<span class="line-modified">!         littleEndian = exec-&gt;uncheckedArgument(2).toBoolean(exec);</span>
          RETURN_IF_EXCEPTION(scope, encodedJSValue());
      }
  
      unsigned byteLength = dataView-&gt;length();
      if (elementSize &gt; byteLength || byteOffset &gt; byteLength - elementSize)
<span class="line-modified">!         return throwVMError(exec, scope, createRangeError(exec, &quot;Out of bounds access&quot;_s));</span>
  
      uint8_t* dataPtr = static_cast&lt;uint8_t*&gt;(dataView-&gt;vector()) + byteOffset;
  
      if (needToFlipBytesIfLittleEndian(littleEndian)) {
          for (unsigned i = dataSize; i--;)
<span class="line-new-header">--- 161,41 ---</span>
  
      return JSValue::encode(Adaptor::toJSValue(u.value));
  }
  
  template&lt;typename Adaptor&gt;
<span class="line-modified">! EncodedJSValue setData(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     VM&amp; vm = globalObject-&gt;vm();</span>
      auto scope = DECLARE_THROW_SCOPE(vm);
  
<span class="line-modified">!     JSDataView* dataView = jsDynamicCast&lt;JSDataView*&gt;(vm, callFrame-&gt;thisValue());</span>
      if (!dataView)
<span class="line-modified">!         return throwVMTypeError(globalObject, scope, &quot;Receiver of DataView method must be a DataView&quot;_s);</span>
  
<span class="line-modified">!     unsigned byteOffset = callFrame-&gt;argument(0).toIndex(globalObject, &quot;byteOffset&quot;);</span>
      RETURN_IF_EXCEPTION(scope, encodedJSValue());
  
      const unsigned dataSize = sizeof(typename Adaptor::Type);
      union {
          typename Adaptor::Type value;
          uint8_t rawBytes[dataSize];
      } u;
  
<span class="line-modified">!     u.value = toNativeFromValue&lt;Adaptor&gt;(globalObject, callFrame-&gt;argument(1));</span>
      RETURN_IF_EXCEPTION(scope, encodedJSValue());
  
      bool littleEndian = false;
      unsigned elementSize = sizeof(typename Adaptor::Type);
<span class="line-modified">!     if (elementSize &gt; 1 &amp;&amp; callFrame-&gt;argumentCount() &gt;= 3) {</span>
<span class="line-modified">!         littleEndian = callFrame-&gt;uncheckedArgument(2).toBoolean(globalObject);</span>
          RETURN_IF_EXCEPTION(scope, encodedJSValue());
      }
  
      unsigned byteLength = dataView-&gt;length();
      if (elementSize &gt; byteLength || byteOffset &gt; byteLength - elementSize)
<span class="line-modified">!         return throwVMError(globalObject, scope, createRangeError(globalObject, &quot;Out of bounds access&quot;_s));</span>
  
      uint8_t* dataPtr = static_cast&lt;uint8_t*&gt;(dataView-&gt;vector()) + byteOffset;
  
      if (needToFlipBytesIfLittleEndian(littleEndian)) {
          for (unsigned i = dataSize; i--;)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 208,123 ***</span>
      return JSValue::encode(jsUndefined());
  }
  
  IGNORE_CLANG_WARNINGS_BEGIN(&quot;missing-prototypes&quot;)
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoGetterBuffer(ExecState* exec)</span>
  {
<span class="line-modified">!     VM&amp; vm = exec-&gt;vm();</span>
      auto scope = DECLARE_THROW_SCOPE(vm);
  
<span class="line-modified">!     JSDataView* view = jsDynamicCast&lt;JSDataView*&gt;(vm, exec-&gt;thisValue());</span>
      if (!view)
<span class="line-modified">!         return throwVMTypeError(exec, scope, &quot;DataView.prototype.buffer expects |this| to be a DataView object&quot;);</span>
  
<span class="line-modified">!     return JSValue::encode(view-&gt;possiblySharedJSBuffer(exec));</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoGetterByteLength(ExecState* exec)</span>
  {
<span class="line-modified">!     VM&amp; vm = exec-&gt;vm();</span>
      auto scope = DECLARE_THROW_SCOPE(vm);
  
<span class="line-modified">!     JSDataView* view = jsDynamicCast&lt;JSDataView*&gt;(vm, exec-&gt;thisValue());</span>
      if (!view)
<span class="line-modified">!         return throwVMTypeError(exec, scope, &quot;DataView.prototype.buffer expects |this| to be a DataView object&quot;);</span>
  
      return JSValue::encode(jsNumber(view-&gt;length()));
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoGetterByteOffset(ExecState* exec)</span>
  {
<span class="line-modified">!     VM&amp; vm = exec-&gt;vm();</span>
      auto scope = DECLARE_THROW_SCOPE(vm);
  
<span class="line-modified">!     JSDataView* view = jsDynamicCast&lt;JSDataView*&gt;(vm, exec-&gt;thisValue());</span>
      if (!view)
<span class="line-modified">!         return throwVMTypeError(exec, scope, &quot;DataView.prototype.buffer expects |this| to be a DataView object&quot;);</span>
  
      return JSValue::encode(jsNumber(view-&gt;byteOffset()));
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetInt8(ExecState* exec)</span>
  {
<span class="line-modified">!     return getData&lt;Int8Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetInt16(ExecState* exec)</span>
  {
<span class="line-modified">!     return getData&lt;Int16Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetInt32(ExecState* exec)</span>
  {
<span class="line-modified">!     return getData&lt;Int32Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetUint8(ExecState* exec)</span>
  {
<span class="line-modified">!     return getData&lt;Uint8Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetUint16(ExecState* exec)</span>
  {
<span class="line-modified">!     return getData&lt;Uint16Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetUint32(ExecState* exec)</span>
  {
<span class="line-modified">!     return getData&lt;Uint32Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetFloat32(ExecState* exec)</span>
  {
<span class="line-modified">!     return getData&lt;Float32Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetFloat64(ExecState* exec)</span>
  {
<span class="line-modified">!     return getData&lt;Float64Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetInt8(ExecState* exec)</span>
  {
<span class="line-modified">!     return setData&lt;Int8Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetInt16(ExecState* exec)</span>
  {
<span class="line-modified">!     return setData&lt;Int16Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetInt32(ExecState* exec)</span>
  {
<span class="line-modified">!     return setData&lt;Int32Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetUint8(ExecState* exec)</span>
  {
<span class="line-modified">!     return setData&lt;Uint8Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetUint16(ExecState* exec)</span>
  {
<span class="line-modified">!     return setData&lt;Uint16Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetUint32(ExecState* exec)</span>
  {
<span class="line-modified">!     return setData&lt;Uint32Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetFloat32(ExecState* exec)</span>
  {
<span class="line-modified">!     return setData&lt;Float32Adaptor&gt;(exec);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetFloat64(ExecState* exec)</span>
  {
<span class="line-modified">!     return setData&lt;Float64Adaptor&gt;(exec);</span>
  }
  IGNORE_CLANG_WARNINGS_END
  
  } // namespace JSC
<span class="line-new-header">--- 208,123 ---</span>
      return JSValue::encode(jsUndefined());
  }
  
  IGNORE_CLANG_WARNINGS_BEGIN(&quot;missing-prototypes&quot;)
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoGetterBuffer(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     VM&amp; vm = globalObject-&gt;vm();</span>
      auto scope = DECLARE_THROW_SCOPE(vm);
  
<span class="line-modified">!     JSDataView* view = jsDynamicCast&lt;JSDataView*&gt;(vm, callFrame-&gt;thisValue());</span>
      if (!view)
<span class="line-modified">!         return throwVMTypeError(globalObject, scope, &quot;DataView.prototype.buffer expects |this| to be a DataView object&quot;);</span>
  
<span class="line-modified">!     return JSValue::encode(view-&gt;possiblySharedJSBuffer(globalObject));</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoGetterByteLength(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     VM&amp; vm = globalObject-&gt;vm();</span>
      auto scope = DECLARE_THROW_SCOPE(vm);
  
<span class="line-modified">!     JSDataView* view = jsDynamicCast&lt;JSDataView*&gt;(vm, callFrame-&gt;thisValue());</span>
      if (!view)
<span class="line-modified">!         return throwVMTypeError(globalObject, scope, &quot;DataView.prototype.buffer expects |this| to be a DataView object&quot;);</span>
  
      return JSValue::encode(jsNumber(view-&gt;length()));
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoGetterByteOffset(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     VM&amp; vm = globalObject-&gt;vm();</span>
      auto scope = DECLARE_THROW_SCOPE(vm);
  
<span class="line-modified">!     JSDataView* view = jsDynamicCast&lt;JSDataView*&gt;(vm, callFrame-&gt;thisValue());</span>
      if (!view)
<span class="line-modified">!         return throwVMTypeError(globalObject, scope, &quot;DataView.prototype.buffer expects |this| to be a DataView object&quot;);</span>
  
      return JSValue::encode(jsNumber(view-&gt;byteOffset()));
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetInt8(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return getData&lt;Int8Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetInt16(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return getData&lt;Int16Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetInt32(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return getData&lt;Int32Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetUint8(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return getData&lt;Uint8Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetUint16(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return getData&lt;Uint16Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetUint32(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return getData&lt;Uint32Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetFloat32(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return getData&lt;Float32Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncGetFloat64(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return getData&lt;Float64Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetInt8(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return setData&lt;Int8Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetInt16(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return setData&lt;Int16Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetInt32(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return setData&lt;Int32Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetUint8(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return setData&lt;Uint8Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetUint16(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return setData&lt;Uint16Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetUint32(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return setData&lt;Uint32Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetFloat32(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return setData&lt;Float32Adaptor&gt;(globalObject, callFrame);</span>
  }
  
<span class="line-modified">! EncodedJSValue JSC_HOST_CALL dataViewProtoFuncSetFloat64(JSGlobalObject* globalObject, CallFrame* callFrame)</span>
  {
<span class="line-modified">!     return setData&lt;Float64Adaptor&gt;(globalObject, callFrame);</span>
  }
  IGNORE_CLANG_WARNINGS_END
  
  } // namespace JSC
</pre>
<center><a href="JSDataView.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="JSDataViewPrototype.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>