<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/dfg/DFGAtTailAbstractState.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DFGArrayifySlowPathGenerator.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DFGAvailabilityMap.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/dfg/DFGAtTailAbstractState.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
122         forNode(node).makeBytecodeTop();
123     }
124 
125     ALWAYS_INLINE void makeBytecodeTopForNode(Edge edge)
126     {
127         makeBytecodeTopForNode(edge.node());
128     }
129 
130     ALWAYS_INLINE void makeHeapTopForNode(NodeFlowProjection node)
131     {
132         forNode(node).makeHeapTop();
133     }
134 
135     ALWAYS_INLINE void makeHeapTopForNode(Edge edge)
136     {
137         makeHeapTopForNode(edge.node());
138     }
139 
140     unsigned numberOfArguments() const { return m_block-&gt;valuesAtTail.numberOfArguments(); }
141     unsigned numberOfLocals() const { return m_block-&gt;valuesAtTail.numberOfLocals(); }
<span class="line-modified">142     AbstractValue&amp; operand(int operand) { return m_block-&gt;valuesAtTail.operand(operand); }</span>
<span class="line-removed">143     AbstractValue&amp; operand(VirtualRegister operand) { return m_block-&gt;valuesAtTail.operand(operand); }</span>
144     AbstractValue&amp; local(size_t index) { return m_block-&gt;valuesAtTail.local(index); }
145     AbstractValue&amp; argument(size_t index) { return m_block-&gt;valuesAtTail.argument(index); }
146 
147     void clobberStructures()
148     {
149         UNREACHABLE_FOR_PLATFORM();
150     }
151 
152     void observeInvalidationPoint()
153     {
154         UNREACHABLE_FOR_PLATFORM();
155     }
156 
157     BasicBlock* block() const { return m_block; }
158 
159     bool isValid() { return m_block-&gt;cfaDidFinish; }
160 
161     StructureClobberState structureClobberState() const { return m_block-&gt;cfaStructureClobberStateAtTail; }
162 
163     void setClobberState(AbstractInterpreterClobberState) { }
164     void mergeClobberState(AbstractInterpreterClobberState) { }
165     void setStructureClobberState(StructureClobberState state) { RELEASE_ASSERT(state == m_block-&gt;cfaStructureClobberStateAtTail); }
166     void setIsValid(bool isValid) { m_block-&gt;cfaDidFinish = isValid; }
167     void setBranchDirection(BranchDirection) { }
<span class="line-modified">168     void setFoundConstants(bool) { }</span>
169 
170     void trustEdgeProofs() { m_trustEdgeProofs = true; }
171     void dontTrustEdgeProofs() { m_trustEdgeProofs = false; }
172     void setProofStatus(Edge&amp; edge, ProofStatus status)
173     {
174         if (m_trustEdgeProofs)
175             edge.setProofStatus(status);
176     }
177 
178 private:
179     Graph&amp; m_graph;
180     BlockMap&lt;HashMap&lt;NodeFlowProjection, AbstractValue&gt;&gt; m_valuesAtTailMap;
181     BasicBlock* m_block { nullptr };
182     bool m_trustEdgeProofs { false };
183 };
184 
185 } } // namespace JSC::DFG
186 
187 #endif // ENABLE(DFG_JIT)
</pre>
</td>
<td>
<hr />
<pre>
122         forNode(node).makeBytecodeTop();
123     }
124 
125     ALWAYS_INLINE void makeBytecodeTopForNode(Edge edge)
126     {
127         makeBytecodeTopForNode(edge.node());
128     }
129 
130     ALWAYS_INLINE void makeHeapTopForNode(NodeFlowProjection node)
131     {
132         forNode(node).makeHeapTop();
133     }
134 
135     ALWAYS_INLINE void makeHeapTopForNode(Edge edge)
136     {
137         makeHeapTopForNode(edge.node());
138     }
139 
140     unsigned numberOfArguments() const { return m_block-&gt;valuesAtTail.numberOfArguments(); }
141     unsigned numberOfLocals() const { return m_block-&gt;valuesAtTail.numberOfLocals(); }
<span class="line-modified">142     AbstractValue&amp; operand(Operand operand) { return m_block-&gt;valuesAtTail.operand(operand); }</span>

143     AbstractValue&amp; local(size_t index) { return m_block-&gt;valuesAtTail.local(index); }
144     AbstractValue&amp; argument(size_t index) { return m_block-&gt;valuesAtTail.argument(index); }
145 
146     void clobberStructures()
147     {
148         UNREACHABLE_FOR_PLATFORM();
149     }
150 
151     void observeInvalidationPoint()
152     {
153         UNREACHABLE_FOR_PLATFORM();
154     }
155 
156     BasicBlock* block() const { return m_block; }
157 
158     bool isValid() { return m_block-&gt;cfaDidFinish; }
159 
160     StructureClobberState structureClobberState() const { return m_block-&gt;cfaStructureClobberStateAtTail; }
161 
162     void setClobberState(AbstractInterpreterClobberState) { }
163     void mergeClobberState(AbstractInterpreterClobberState) { }
164     void setStructureClobberState(StructureClobberState state) { RELEASE_ASSERT(state == m_block-&gt;cfaStructureClobberStateAtTail); }
165     void setIsValid(bool isValid) { m_block-&gt;cfaDidFinish = isValid; }
166     void setBranchDirection(BranchDirection) { }
<span class="line-modified">167     void setShouldTryConstantFolding(bool) { }</span>
168 
169     void trustEdgeProofs() { m_trustEdgeProofs = true; }
170     void dontTrustEdgeProofs() { m_trustEdgeProofs = false; }
171     void setProofStatus(Edge&amp; edge, ProofStatus status)
172     {
173         if (m_trustEdgeProofs)
174             edge.setProofStatus(status);
175     }
176 
177 private:
178     Graph&amp; m_graph;
179     BlockMap&lt;HashMap&lt;NodeFlowProjection, AbstractValue&gt;&gt; m_valuesAtTailMap;
180     BasicBlock* m_block { nullptr };
181     bool m_trustEdgeProofs { false };
182 };
183 
184 } } // namespace JSC::DFG
185 
186 #endif // ENABLE(DFG_JIT)
</pre>
</td>
</tr>
</table>
<center><a href="DFGArrayifySlowPathGenerator.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DFGAvailabilityMap.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>