<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/svg/SVGToOTFFontConversion.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SVGTextPositioningElement.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SVGTransform.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/svg/SVGToOTFFontConversion.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 100,26 ***</span>
  
          Placeholder(Placeholder&amp;&amp; other)
              : m_converter(other.m_converter)
              , m_baseOfOffset(other.m_baseOfOffset)
              , m_location(other.m_location)
<span class="line-modified">! #if !ASSERT_DISABLED</span>
              , m_active(other.m_active)
  #endif
          {
<span class="line-modified">! #if !ASSERT_DISABLED</span>
              other.m_active = false;
  #endif
          }
  
          void populate()
          {
              ASSERT(m_active);
              size_t delta = m_converter.m_result.size() - m_baseOfOffset;
              ASSERT(delta &lt; std::numeric_limits&lt;uint16_t&gt;::max());
              m_converter.overwrite16(m_location, delta);
<span class="line-modified">! #if !ASSERT_DISABLED</span>
              m_active = false;
  #endif
          }
  
          ~Placeholder()
<span class="line-new-header">--- 100,26 ---</span>
  
          Placeholder(Placeholder&amp;&amp; other)
              : m_converter(other.m_converter)
              , m_baseOfOffset(other.m_baseOfOffset)
              , m_location(other.m_location)
<span class="line-modified">! #if ASSERT_ENABLED</span>
              , m_active(other.m_active)
  #endif
          {
<span class="line-modified">! #if ASSERT_ENABLED</span>
              other.m_active = false;
  #endif
          }
  
          void populate()
          {
              ASSERT(m_active);
              size_t delta = m_converter.m_result.size() - m_baseOfOffset;
              ASSERT(delta &lt; std::numeric_limits&lt;uint16_t&gt;::max());
              m_converter.overwrite16(m_location, delta);
<span class="line-modified">! #if ASSERT_ENABLED</span>
              m_active = false;
  #endif
          }
  
          ~Placeholder()
</pre>
<hr />
<pre>
<span class="line-old-header">*** 129,11 ***</span>
  
      private:
          SVGToOTFFontConverter&amp; m_converter;
          const size_t m_baseOfOffset;
          const size_t m_location;
<span class="line-modified">! #if !ASSERT_DISABLED</span>
          bool m_active = { true };
  #endif
      };
  
      struct KerningData {
<span class="line-new-header">--- 129,11 ---</span>
  
      private:
          SVGToOTFFontConverter&amp; m_converter;
          const size_t m_baseOfOffset;
          const size_t m_location;
<span class="line-modified">! #if ASSERT_ENABLED</span>
          bool m_active = { true };
  #endif
      };
  
      struct KerningData {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 635,11 ***</span>
      m_result.append(4); // Offsets in this INDEX are 4 bytes long
      append32(1); // 1-index offset of DICT data
      append32(1 + sizeOfTopIndex); // 1-index offset just past end of DICT data
  
      // DICT information
<span class="line-modified">! #if !ASSERT_DISABLED</span>
      unsigned topDictStart = m_result.size();
  #endif
      m_result.append(operand32Bit);
      append32(userDefinedStringStartIndex);
      m_result.append(fullNameKey);
<span class="line-new-header">--- 635,11 ---</span>
      m_result.append(4); // Offsets in this INDEX are 4 bytes long
      append32(1); // 1-index offset of DICT data
      append32(1 + sizeOfTopIndex); // 1-index offset just past end of DICT data
  
      // DICT information
<span class="line-modified">! #if ASSERT_ENABLED</span>
      unsigned topDictStart = m_result.size();
  #endif
      m_result.append(operand32Bit);
      append32(userDefinedStringStartIndex);
      m_result.append(fullNameKey);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 715,17 ***</span>
          m_result.appendVector(glyph.charString);
  }
  
  Glyph SVGToOTFFontConverter::firstGlyph(const Vector&lt;Glyph, 1&gt;&amp; v, UChar32 codepoint) const
  {
<span class="line-modified">! #if ASSERT_DISABLED</span>
      UNUSED_PARAM(codepoint);
  #endif
      ASSERT(!v.isEmpty());
      if (v.isEmpty())
          return 0;
<span class="line-modified">! #if !ASSERT_DISABLED</span>
      auto codePoints = StringView(m_glyphs[v[0]].codepoints).codePoints();
      auto codePointsIterator = codePoints.begin();
      ASSERT(codePointsIterator != codePoints.end());
      ASSERT(codepoint == *codePointsIterator);
  #endif
<span class="line-new-header">--- 715,17 ---</span>
          m_result.appendVector(glyph.charString);
  }
  
  Glyph SVGToOTFFontConverter::firstGlyph(const Vector&lt;Glyph, 1&gt;&amp; v, UChar32 codepoint) const
  {
<span class="line-modified">! #if !ASSERT_ENABLED</span>
      UNUSED_PARAM(codepoint);
  #endif
      ASSERT(!v.isEmpty());
      if (v.isEmpty())
          return 0;
<span class="line-modified">! #if ASSERT_ENABLED</span>
      auto codePoints = StringView(m_glyphs[v[0]].codepoints).codePoints();
      auto codePointsIterator = codePoints.begin();
      ASSERT(codePointsIterator != codePoints.end());
      ASSERT(codepoint == *codePointsIterator);
  #endif
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1106,11 ***</span>
  void SVGToOTFFontConverter::appendKERNTable()
  {
      append16(0); // Version
      append16(2); // Number of subtables
  
<span class="line-modified">! #if !ASSERT_DISABLED</span>
      auto subtablesOffset = m_result.size();
  #endif
  
      size_t sizeOfHorizontalSubtable = appendKERNSubtable&lt;SVGHKernElement&gt;(&amp;SVGHKernElement::buildHorizontalKerningPair, 1);
      ASSERT_UNUSED(sizeOfHorizontalSubtable, subtablesOffset + sizeOfHorizontalSubtable == m_result.size());
<span class="line-new-header">--- 1106,11 ---</span>
  void SVGToOTFFontConverter::appendKERNTable()
  {
      append16(0); // Version
      append16(2); // Number of subtables
  
<span class="line-modified">! #if ASSERT_ENABLED</span>
      auto subtablesOffset = m_result.size();
  #endif
  
      size_t sizeOfHorizontalSubtable = appendKERNSubtable&lt;SVGHKernElement&gt;(&amp;SVGHKernElement::buildHorizontalKerningPair, 1);
      ASSERT_UNUSED(sizeOfHorizontalSubtable, subtablesOffset + sizeOfHorizontalSubtable == m_result.size());
</pre>
<center><a href="SVGTextPositioningElement.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SVGTransform.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>