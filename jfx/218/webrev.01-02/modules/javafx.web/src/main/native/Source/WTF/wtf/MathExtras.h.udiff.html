<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WTF/wtf/MathExtras.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Markable.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="MediaTime.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/MathExtras.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -562,48 +562,10 @@</span>
          return false;
  
      return nonEmptyRangesOverlap(leftMin, leftMax, rightMin, rightMax);
  }
  
<span class="udiff-line-removed">- // This mask is not necessarily the minimal mask, specifically if size is</span>
<span class="udiff-line-removed">- // a power of 2. It has the advantage that it&#39;s fast to compute, however.</span>
<span class="udiff-line-removed">- inline uint32_t computeIndexingMask(uint32_t size)</span>
<span class="udiff-line-removed">- {</span>
<span class="udiff-line-removed">-     return static_cast&lt;uint64_t&gt;(static_cast&lt;uint32_t&gt;(-1)) &gt;&gt; std::clz(size);</span>
<span class="udiff-line-removed">- }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- constexpr unsigned preciseIndexMaskShiftForSize(unsigned size)</span>
<span class="udiff-line-removed">- {</span>
<span class="udiff-line-removed">-     return size * 8 - 1;</span>
<span class="udiff-line-removed">- }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- template&lt;typename T&gt;</span>
<span class="udiff-line-removed">- constexpr unsigned preciseIndexMaskShift()</span>
<span class="udiff-line-removed">- {</span>
<span class="udiff-line-removed">-     return preciseIndexMaskShiftForSize(sizeof(T));</span>
<span class="udiff-line-removed">- }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- template&lt;typename T&gt;</span>
<span class="udiff-line-removed">- T opaque(T pointer)</span>
<span class="udiff-line-removed">- {</span>
<span class="udiff-line-removed">- #if !OS(WINDOWS)</span>
<span class="udiff-line-removed">-     asm(&quot;&quot; : &quot;+r&quot;(pointer));</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">-     return pointer;</span>
<span class="udiff-line-removed">- }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- // This masks the given pointer with 0xffffffffffffffff (ptrwidth) if `index &lt;</span>
<span class="udiff-line-removed">- // length`. Otherwise, it masks the pointer with 0. Similar to Linux kernel&#39;s array_ptr.</span>
<span class="udiff-line-removed">- template&lt;typename T&gt;</span>
<span class="udiff-line-removed">- inline T* preciseIndexMaskPtr(uintptr_t index, uintptr_t length, T* value)</span>
<span class="udiff-line-removed">- {</span>
<span class="udiff-line-removed">-     uintptr_t result = bitwise_cast&lt;uintptr_t&gt;(value) &amp; static_cast&lt;uintptr_t&gt;(</span>
<span class="udiff-line-removed">-         static_cast&lt;intptr_t&gt;(index - opaque(length)) &gt;&gt;</span>
<span class="udiff-line-removed">-         static_cast&lt;intptr_t&gt;(preciseIndexMaskShift&lt;T*&gt;()));</span>
<span class="udiff-line-removed">-     return bitwise_cast&lt;T*&gt;(result);</span>
<span class="udiff-line-removed">- }</span>
<span class="udiff-line-removed">- </span>
  template&lt;typename VectorType, typename RandomFunc&gt;
  void shuffleVector(VectorType&amp; vector, size_t size, const RandomFunc&amp; randomFunc)
  {
      for (size_t i = 0; i + 1 &lt; size; ++i)
          std::swap(vector[i], vector[i + randomFunc(size - i)]);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -733,14 +695,10 @@</span>
      return bitSize - 1 - clzConstexpr(t);
  }
  
  } // namespace WTF
  
<span class="udiff-line-removed">- using WTF::opaque;</span>
<span class="udiff-line-removed">- using WTF::preciseIndexMaskPtr;</span>
<span class="udiff-line-removed">- using WTF::preciseIndexMaskShift;</span>
<span class="udiff-line-removed">- using WTF::preciseIndexMaskShiftForSize;</span>
  using WTF::shuffleVector;
  using WTF::clz;
  using WTF::ctz;
  using WTF::getLSBSet;
  using WTF::getMSBSet;
</pre>
<center><a href="Markable.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="MediaTime.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>