<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WebCore/html/CustomPaintCanvas.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="CustomPaintCanvas.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DOMFormData.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/html/CustomPaintCanvas.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -27,22 +27,23 @@</span>
  
  #if ENABLE(CSS_PAINTING_API)
  
  #include &quot;AffineTransform.h&quot;
  #include &quot;CanvasBase.h&quot;
<span class="udiff-line-added">+ #include &quot;ContextDestructionObserver.h&quot;</span>
  #include &quot;EventTarget.h&quot;
  #include &quot;ExceptionOr.h&quot;
  #include &quot;ImageBuffer.h&quot;
  #include &quot;IntSize.h&quot;
<span class="udiff-line-removed">- #include &quot;JSDOMPromiseDeferred.h&quot;</span>
  #include &quot;ScriptWrappable.h&quot;
  #include &lt;wtf/Forward.h&gt;
  #include &lt;wtf/RefCounted.h&gt;
  #include &lt;wtf/text/WTFString.h&gt;
  
  namespace WebCore {
  
<span class="udiff-line-added">+ class CanvasRenderingContext;</span>
  class ImageBitmap;
  class PaintRenderingContext2D;
  
  class CustomPaintCanvas final : public RefCounted&lt;CustomPaintCanvas&gt;, public CanvasBase, private ContextDestructionObserver {
      WTF_MAKE_FAST_ALLOCATED;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -50,24 +51,16 @@</span>
  
      static Ref&lt;CustomPaintCanvas&gt; create(ScriptExecutionContext&amp;, unsigned width, unsigned height);
      virtual ~CustomPaintCanvas();
      bool isCustomPaintCanvas() const final { return true; }
  
<span class="udiff-line-removed">-     unsigned width() const final;</span>
<span class="udiff-line-removed">-     void setWidth(unsigned);</span>
<span class="udiff-line-removed">-     unsigned height() const final;</span>
<span class="udiff-line-removed">-     void setHeight(unsigned);</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     const IntSize&amp; size() const final;</span>
<span class="udiff-line-removed">-     void setSize(const IntSize&amp;) final;</span>
<span class="udiff-line-removed">- </span>
      ExceptionOr&lt;RefPtr&lt;PaintRenderingContext2D&gt;&gt; getContext();
  
<span class="udiff-line-added">+     CanvasRenderingContext* renderingContext() const final { return m_context.get(); }</span>
      GraphicsContext* drawingContext() const final;
      GraphicsContext* existingDrawingContext() const final;
  
<span class="udiff-line-removed">-     void makeRenderingResultsAvailable() final;</span>
      void didDraw(const FloatRect&amp;) final { }
  
      AffineTransform baseTransform() const final { ASSERT(m_destinationGraphicsContext &amp;&amp; m_copiedBuffer); return m_copiedBuffer-&gt;baseTransform(); }
      Image* copiedImage() const final;
      void replayDisplayList(GraphicsContext*) const;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -80,12 +73,12 @@</span>
  
      void refCanvasBase() final { ref(); }
      void derefCanvasBase() final { deref(); }
      ScriptExecutionContext* canvasBaseScriptExecutionContext() const final { return ContextDestructionObserver::scriptExecutionContext(); }
  
<span class="udiff-line-added">+     std::unique_ptr&lt;CanvasRenderingContext&gt; m_context;</span>
      mutable GraphicsContext* m_destinationGraphicsContext = nullptr;
<span class="udiff-line-removed">-     mutable IntSize m_size;</span>
      mutable std::unique_ptr&lt;ImageBuffer&gt; m_copiedBuffer;
      mutable RefPtr&lt;Image&gt; m_copiedImage;
  };
  
  }
</pre>
<center><a href="CustomPaintCanvas.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DOMFormData.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>