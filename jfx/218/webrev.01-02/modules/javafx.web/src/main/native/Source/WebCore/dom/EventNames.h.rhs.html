<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.web/src/main/native/Source/WebCore/dom/EventNames.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
  2  * Copyright (C) 2005, 2007, 2015 Apple Inc. All rights reserved.
  3  * Copyright (C) 2006 Jon Shier (jshier@iastate.edu)
  4  *
  5  * This library is free software; you can redistribute it and/or
  6  * modify it under the terms of the GNU Library General Public
  7  * License as published by the Free Software Foundation; either
  8  * version 2 of the License, or (at your option) any later version.
  9  *
 10  * This library is distributed in the hope that it will be useful,
 11  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 12  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 13  * Library General Public License for more details.
 14  *
 15  * You should have received a copy of the GNU Library General Public License
 16  * along with this library; see the file COPYING.LIB.  If not, write to
 17  * the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 18  * Boston, MA 02110-1301, USA.
 19  *
 20  */
 21 
 22 #pragma once
 23 
 24 #include &quot;Document.h&quot;
 25 #include &quot;Quirks.h&quot;
 26 #include &quot;ThreadGlobalData.h&quot;
 27 #include &lt;array&gt;
 28 #include &lt;functional&gt;
 29 #include &lt;wtf/text/AtomString.h&gt;
 30 
 31 #if ENABLE(TOUCH_EVENTS)
 32 #include &quot;RuntimeEnabledFeatures.h&quot;
 33 #endif
 34 
 35 namespace WebCore {
 36 
 37 #if !defined(ADDITIONAL_DOM_EVENT_NAMES_FOR_EACH)
 38 #define ADDITIONAL_DOM_EVENT_NAMES_FOR_EACH(macro)
 39 #endif
 40 
 41 #define DOM_EVENT_NAMES_FOR_EACH(macro) \
 42     ADDITIONAL_DOM_EVENT_NAMES_FOR_EACH(macro) \
 43     macro(DOMActivate) \
 44     macro(DOMCharacterDataModified) \
 45     macro(DOMContentLoaded) \
 46     macro(DOMFocusIn) \
 47     macro(DOMFocusOut) \
 48     macro(DOMNodeInserted) \
 49     macro(DOMNodeInsertedIntoDocument) \
 50     macro(DOMNodeRemoved) \
 51     macro(DOMNodeRemovedFromDocument) \
 52     macro(DOMSubtreeModified) \
 53     macro(abort) \
 54     macro(activate) \
 55     macro(active) \
 56     macro(addsourcebuffer) \
 57     macro(addstream) \
 58     macro(addtrack) \
 59     macro(afterprint) \
 60     macro(animationcancel) \
 61     macro(animationend) \
 62     macro(animationiteration) \
 63     macro(animationstart) \
 64     macro(audioend) \
 65     macro(audioprocess) \
 66     macro(audiostart) \
 67     macro(autocomplete) \
 68     macro(autocompleteerror) \
 69     macro(beforecopy) \
 70     macro(beforecut) \
 71     macro(beforeinput) \
 72     macro(beforeload) \
 73     macro(beforepaste) \
 74     macro(beforeprint) \
 75     macro(beforeunload) \
 76     macro(beginEvent) \
 77     macro(blocked) \
 78     macro(blur) \
 79     macro(boundary) \
 80     macro(bufferedamountlow) \
 81     macro(cached) \
 82     macro(cancel) \
 83     macro(canplay) \
 84     macro(canplaythrough) \
 85     macro(change) \
 86     macro(chargingchange) \
 87     macro(chargingtimechange) \
 88     macro(checking) \
 89     macro(click) \
 90     macro(close) \
 91     macro(complete) \
 92     macro(compositionend) \
 93     macro(compositionstart) \
 94     macro(compositionupdate) \
 95     macro(connect) \
 96     macro(connectionstatechange) \
 97     macro(connecting) \
 98     macro(contextmenu) \
 99     macro(controllerchange) \
100     macro(copy) \
101     macro(cuechange) \
102     macro(cut) \
103     macro(dataavailable) \
104     macro(datachannel) \
105     macro(dblclick) \
106     macro(devicechange) \
107     macro(devicemotion) \
108     macro(deviceorientation) \
109     macro(dischargingtimechange) \
<a name="1" id="anc1"></a><span class="line-added">110     macro(disconnect) \</span>
111     macro(downloading) \
112     macro(drag) \
113     macro(dragend) \
114     macro(dragenter) \
115     macro(dragleave) \
116     macro(dragover) \
117     macro(dragstart) \
118     macro(drop) \
119     macro(durationchange) \
120     macro(emptied) \
121     macro(encrypted) \
122     macro(end) \
123     macro(endEvent) \
124     macro(ended) \
125     macro(enter) \
<a name="2" id="anc2"></a><span class="line-added">126     macro(enterpictureinpicture) \</span>
127     macro(error) \
128     macro(exit) \
129     macro(fetch) \
130     macro(finish) \
131     macro(focus) \
132     macro(focusin) \
133     macro(focusout) \
134     macro(gamepadconnected) \
135     macro(gamepaddisconnected) \
136     macro(gesturechange) \
137     macro(gestureend) \
138     macro(gesturescrollend) \
139     macro(gesturescrollstart) \
140     macro(gesturescrollupdate) \
141     macro(gesturestart) \
142     macro(gesturetap) \
143     macro(gesturetapdown) \
144     macro(gotpointercapture) \
145     macro(hashchange) \
146     macro(icecandidate) \
147     macro(iceconnectionstatechange) \
148     macro(icegatheringstatechange) \
149     macro(inactive) \
150     macro(input) \
151     macro(install) \
152     macro(invalid) \
153     macro(keydown) \
154     macro(keypress) \
155     macro(keystatuseschange) \
156     macro(keyup) \
157     macro(languagechange) \
<a name="3" id="anc3"></a><span class="line-added">158     macro(leavepictureinpicture) \</span>
159     macro(levelchange) \
160     macro(load) \
161     macro(loadeddata) \
162     macro(loadedmetadata) \
163     macro(loadend) \
164     macro(loading) \
165     macro(loadingdone) \
166     macro(loadingerror) \
167     macro(loadstart) \
168     macro(lostpointercapture) \
169     macro(mark) \
170     macro(merchantvalidation) \
171     macro(message) \
172     macro(messageerror) \
173     macro(mousedown) \
174     macro(mouseenter) \
175     macro(mouseleave) \
176     macro(mousemove) \
177     macro(mouseout) \
178     macro(mouseover) \
179     macro(mouseup) \
180     macro(mousewheel) \
181     macro(mute) \
182     macro(negotiationneeded) \
183     macro(nexttrack) \
184     macro(nomatch) \
185     macro(noupdate) \
186     macro(obsolete) \
187     macro(offline) \
188     macro(online) \
189     macro(open) \
190     macro(orientationchange) \
191     macro(overconstrained) \
192     macro(overflowchanged) \
193     macro(pagehide) \
194     macro(pageshow) \
195     macro(paste) \
196     macro(pause) \
197     macro(payerdetailchange) \
198     macro(paymentauthorized) \
199     macro(paymentmethodchange) \
200     macro(paymentmethodselected) \
201     macro(play) \
202     macro(playing) \
203     macro(pointerlockchange) \
204     macro(pointerlockerror) \
205     macro(pointercancel) \
206     macro(pointerdown) \
207     macro(pointerenter) \
208     macro(pointerleave) \
209     macro(pointermove) \
210     macro(pointerout) \
211     macro(pointerover) \
212     macro(pointerup) \
213     macro(popstate) \
214     macro(previoustrack) \
215     macro(progress) \
216     macro(ratechange) \
217     macro(readystatechange) \
218     macro(rejectionhandled) \
<a name="4" id="anc4"></a><span class="line-added">219     macro(remove) \</span>
220     macro(removesourcebuffer) \
221     macro(removestream) \
222     macro(removetrack) \
223     macro(reset) \
224     macro(resize) \
225     macro(resourcetimingbufferfull) \
226     macro(result) \
227     macro(resume) \
228     macro(scroll) \
229     macro(search) \
230     macro(securitypolicyviolation) \
231     macro(seeked) \
232     macro(seeking) \
233     macro(select) \
234     macro(selectionchange) \
235     macro(selectstart) \
236     macro(shippingaddresschange) \
237     macro(shippingcontactselected) \
238     macro(shippingmethodselected) \
239     macro(shippingoptionchange) \
240     macro(show) \
241     macro(signalingstatechange) \
242     macro(slotchange) \
243     macro(soundend) \
244     macro(soundstart) \
245     macro(sourceclose) \
246     macro(sourceended) \
247     macro(sourceopen) \
248     macro(speechend) \
249     macro(speechstart) \
250     macro(stalled) \
251     macro(start) \
252     macro(started) \
253     macro(statechange) \
254     macro(stop) \
255     macro(storage) \
256     macro(submit) \
257     macro(success) \
258     macro(suspend) \
259     macro(textInput) \
260     macro(timeout) \
261     macro(timeupdate) \
262     macro(toggle) \
263     macro(tonechange) \
264     macro(touchcancel) \
265     macro(touchend) \
266     macro(touchforcechange) \
267     macro(touchmove) \
268     macro(touchstart) \
269     macro(track) \
270     macro(transitioncancel) \
271     macro(transitionend) \
272     macro(transitionrun) \
273     macro(transitionstart) \
<a name="5" id="anc5"></a><span class="line-added">274     macro(uncapturederror) \</span>
275     macro(unhandledrejection) \
276     macro(unload) \
277     macro(unmute) \
278     macro(update) \
279     macro(updateend) \
280     macro(updatefound) \
281     macro(updateready) \
282     macro(updatestart) \
283     macro(upgradeneeded) \
284     macro(validatemerchant) \
285     macro(versionchange) \
286     macro(visibilitychange) \
287     macro(volumechange) \
288     macro(vrdisplayactivate) \
289     macro(vrdisplayblur) \
290     macro(vrdisplayconnect) \
291     macro(vrdisplaydeactivate) \
292     macro(vrdisplaydisconnect) \
293     macro(vrdisplayfocus) \
294     macro(vrdisplaypresentchange) \
295     macro(waiting) \
296     macro(waitingforkey) \
297     macro(webglcontextchanged) \
298     macro(webglcontextcreationerror) \
299     macro(webglcontextlost) \
300     macro(webglcontextrestored) \
301     macro(webkitAnimationEnd) \
302     macro(webkitAnimationIteration) \
303     macro(webkitAnimationStart) \
304     macro(webkitBeforeTextInserted) \
305     macro(webkitTransitionEnd) \
306     macro(webkitbeginfullscreen) \
307     macro(webkitcurrentplaybacktargetiswirelesschanged) \
308     macro(webkitendfullscreen) \
309     macro(webkitfullscreenchange) \
310     macro(webkitfullscreenerror) \
311     macro(webkitkeyadded) \
312     macro(webkitkeyerror) \
313     macro(webkitkeymessage) \
314     macro(webkitmouseforcechanged) \
315     macro(webkitmouseforcedown) \
316     macro(webkitmouseforcewillbegin) \
317     macro(webkitmouseforceup) \
318     macro(webkitneedkey) \
319     macro(webkitnetworkinfochange) \
320     macro(webkitplaybacktargetavailabilitychanged) \
321     macro(webkitpresentationmodechanged) \
322     macro(webkitregionoversetchange) \
323     macro(webkitremovesourcebuffer) \
324     macro(webkitsourceclose) \
325     macro(webkitsourceended) \
326     macro(webkitsourceopen) \
327     macro(webkitspeechchange) \
328     macro(webkitwillrevealbottom) \
329     macro(webkitwillrevealleft) \
330     macro(webkitwillrevealright) \
331     macro(webkitwillrevealtop) \
332     macro(wheel) \
333     macro(write) \
334     macro(writeend) \
335     macro(writestart) \
336     macro(zoom) \
337 // end of DOM_EVENT_NAMES_FOR_EACH
338 
339 struct EventNames {
340     WTF_MAKE_NONCOPYABLE(EventNames); WTF_MAKE_FAST_ALLOCATED;
341 
342 public:
343 #define DOM_EVENT_NAMES_DECLARE(name) const AtomString name##Event;
344     DOM_EVENT_NAMES_FOR_EACH(DOM_EVENT_NAMES_DECLARE)
345 #undef DOM_EVENT_NAMES_DECLARE
346 
347     // FIXME: The friend declaration to makeUnique below does not work in windows port.
348     //
349     // template&lt;class T, class... Args&gt;
350     // friend typename std::_Unique_if&lt;T&gt;::_Single_object makeUnique(Args&amp;&amp;...);
351     //
352     // This create function should be deleted later and is only for keeping EventNames as private.
353     // makeUnique should be used instead.
354     //
355     template&lt;class... Args&gt;
356     static std::unique_ptr&lt;EventNames&gt; create(Args&amp;&amp;... args)
357     {
358         return std::unique_ptr&lt;EventNames&gt;(new EventNames(std::forward&lt;Args&gt;(args)...));
359     }
360 
361     // FIXME: Inelegant to call these both event names and event types.
362     // We should choose one term and stick to it.
363     bool isWheelEventType(const AtomString&amp; eventType) const;
364     bool isGestureEventType(const AtomString&amp; eventType) const;
365     bool isTouchRelatedEventType(const Document&amp;, const AtomString&amp; eventType) const;
366     bool isTouchScrollBlockingEventType(const AtomString&amp; eventType) const;
367 #if ENABLE(GAMEPAD)
368     bool isGamepadEventType(const AtomString&amp; eventType) const;
369 #endif
370 
371     std::array&lt;std::reference_wrapper&lt;const AtomString&gt;, 13&gt; touchRelatedEventNames() const;
372     std::array&lt;std::reference_wrapper&lt;const AtomString&gt;, 16&gt; extendedTouchRelatedEventNames() const;
373     std::array&lt;std::reference_wrapper&lt;const AtomString&gt;, 3&gt; gestureEventNames() const;
374 
375 private:
376     EventNames(); // Private to prevent accidental call to EventNames() instead of eventNames().
377     friend class ThreadGlobalData; // Allow ThreadGlobalData to create the per-thread EventNames object.
378 
379     int dummy; // Needed to make initialization macro work.
380 };
381 
382 const EventNames&amp; eventNames();
383 
384 inline const EventNames&amp; eventNames()
385 {
386     return threadGlobalData().eventNames();
387 }
388 
389 inline bool EventNames::isGestureEventType(const AtomString&amp; eventType) const
390 {
391     return eventType == gesturestartEvent || eventType == gesturechangeEvent || eventType == gestureendEvent;
392 }
393 
394 inline bool EventNames::isTouchScrollBlockingEventType(const AtomString&amp; eventType) const
395 {
396     return eventType == touchstartEvent
397         || eventType == touchmoveEvent;
398 }
399 
400 inline bool EventNames::isTouchRelatedEventType(const Document&amp; document, const AtomString&amp; eventType) const
401 {
402 #if ENABLE(TOUCH_EVENTS)
403     if (document.quirks().shouldDispatchSimulatedMouseEvents()) {
404         if (eventType == mousedownEvent || eventType == mousemoveEvent || eventType == mouseupEvent)
405             return true;
406     }
407 #endif
408     UNUSED_PARAM(document);
409     return eventType == touchstartEvent
410         || eventType == touchmoveEvent
411         || eventType == touchendEvent
412         || eventType == touchcancelEvent
413         || eventType == touchforcechangeEvent
414         || eventType == pointeroverEvent
415         || eventType == pointerenterEvent
416         || eventType == pointerdownEvent
417         || eventType == pointermoveEvent
418         || eventType == pointerupEvent
419         || eventType == pointeroutEvent
420         || eventType == pointerleaveEvent
421         || eventType == pointercancelEvent;
422 }
423 
424 inline bool EventNames::isWheelEventType(const AtomString&amp; eventType) const
425 {
426     return eventType == wheelEvent
427         || eventType == mousewheelEvent;
428 }
429 
430 inline std::array&lt;std::reference_wrapper&lt;const AtomString&gt;, 13&gt; EventNames::touchRelatedEventNames() const
431 {
432     return { { touchstartEvent, touchmoveEvent, touchendEvent, touchcancelEvent, touchforcechangeEvent, pointeroverEvent, pointerenterEvent, pointerdownEvent, pointermoveEvent, pointerupEvent, pointeroutEvent, pointerleaveEvent, pointercancelEvent } };
433 }
434 
435 inline std::array&lt;std::reference_wrapper&lt;const AtomString&gt;, 16&gt; EventNames::extendedTouchRelatedEventNames() const
436 {
437     return { { touchstartEvent, touchmoveEvent, touchendEvent, touchcancelEvent, touchforcechangeEvent, pointeroverEvent, pointerenterEvent, pointerdownEvent, pointermoveEvent, pointerupEvent, pointeroutEvent, pointerleaveEvent, pointercancelEvent, mousedownEvent, mousemoveEvent, mouseupEvent } };
438 }
439 
440 inline std::array&lt;std::reference_wrapper&lt;const AtomString&gt;, 3&gt; EventNames::gestureEventNames() const
441 {
442     return { { gesturestartEvent, gesturechangeEvent, gestureendEvent } };
443 }
444 
445 #if ENABLE(GAMEPAD)
446 
447 inline bool EventNames::isGamepadEventType(const AtomString&amp; eventType) const
448 {
449     return eventType == gamepadconnectedEvent
450         || eventType == gamepaddisconnectedEvent;
451 }
452 
453 #endif
454 
455 } // namespace WebCore
<a name="6" id="anc6"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="6" type="hidden" />
</body>
</html>