<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/inspector/InspectorOverlay.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="InspectorNodeFinder.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="InspectorShaderProgram.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/inspector/InspectorOverlay.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 219,12 ***</span>
  
      context.setFillColor(fillColor);
      context.setStrokeThickness(0);
      context.fillPath(quadToPath(quad, bounds));
  
<span class="line-modified">!     context.setCompositeOperation(CompositeDestinationOut);</span>
<span class="line-modified">!     context.setFillColor(Color::createUnchecked(255, 0, 0));</span>
      context.fillPath(quadToPath(clipQuad, bounds));
  }
  
  static void drawOutlinedQuad(GraphicsContext&amp; context, const FloatQuad&amp; quad, const Color&amp; fillColor, const Color&amp; outlineColor, Highlight::Bounds&amp; bounds)
  {
<span class="line-new-header">--- 219,12 ---</span>
  
      context.setFillColor(fillColor);
      context.setStrokeThickness(0);
      context.fillPath(quadToPath(quad, bounds));
  
<span class="line-modified">!     context.setCompositeOperation(CompositeOperator::DestinationOut);</span>
<span class="line-modified">!     context.setFillColor(Color(255, 0, 0));</span>
      context.fillPath(quadToPath(clipQuad, bounds));
  }
  
  static void drawOutlinedQuad(GraphicsContext&amp; context, const FloatQuad&amp; quad, const Color&amp; fillColor, const Color&amp; outlineColor, Highlight::Bounds&amp; bounds)
  {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 313,27 ***</span>
                  const FloatPoint&amp; point = pathElement.points[index];
                  return localPointToRootPoint(containingView, renderer-&gt;localToAbsolute(shapeOutsideInfo-&gt;shapeToRendererPoint(point)));
              };
  
              switch (pathElement.type) {
<span class="line-modified">!             case PathElementMoveToPoint:</span>
                  newPath.moveTo(localToRoot(0));
                  break;
  
<span class="line-modified">!             case PathElementAddLineToPoint:</span>
                  newPath.addLineTo(localToRoot(0));
                  break;
  
<span class="line-modified">!             case PathElementAddCurveToPoint:</span>
                  newPath.addBezierCurveTo(localToRoot(0), localToRoot(1), localToRoot(2));
                  break;
  
<span class="line-modified">!             case PathElementAddQuadCurveToPoint:</span>
                  newPath.addQuadCurveTo(localToRoot(0), localToRoot(1));
                  break;
  
<span class="line-modified">!             case PathElementCloseSubpath:</span>
                  newPath.closeSubpath();
                  break;
              }
          });
          return newPath;
<span class="line-new-header">--- 313,27 ---</span>
                  const FloatPoint&amp; point = pathElement.points[index];
                  return localPointToRootPoint(containingView, renderer-&gt;localToAbsolute(shapeOutsideInfo-&gt;shapeToRendererPoint(point)));
              };
  
              switch (pathElement.type) {
<span class="line-modified">!             case PathElement::Type::MoveToPoint:</span>
                  newPath.moveTo(localToRoot(0));
                  break;
  
<span class="line-modified">!             case PathElement::Type::AddLineToPoint:</span>
                  newPath.addLineTo(localToRoot(0));
                  break;
  
<span class="line-modified">!             case PathElement::Type::AddCurveToPoint:</span>
                  newPath.addBezierCurveTo(localToRoot(0), localToRoot(1), localToRoot(2));
                  break;
  
<span class="line-modified">!             case PathElement::Type::AddQuadCurveToPoint:</span>
                  newPath.addQuadCurveTo(localToRoot(0), localToRoot(1));
                  break;
  
<span class="line-modified">!             case PathElement::Type::CloseSubpath:</span>
                  newPath.closeSubpath();
                  break;
              }
          });
          return newPath;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 789,11 ***</span>
                  if (!x &amp;&amp; !scrollX)
                      continue;
  
                  GraphicsContextStateSaver verticalLabelStateSaver(context);
                  context.translate(zoom(x) + 0.5f, scrollY);
<span class="line-modified">!                 context.drawText(font, TextRun(String::numberToStringFixedPrecision(x)), { 2, drawTopEdge ? rulerLabelSize : rulerLabelSize - rulerSize + font.fontMetrics().height() - 1.0f });</span>
              }
          }
  
          // Draw vertical ruler.
          {
<span class="line-new-header">--- 789,11 ---</span>
                  if (!x &amp;&amp; !scrollX)
                      continue;
  
                  GraphicsContextStateSaver verticalLabelStateSaver(context);
                  context.translate(zoom(x) + 0.5f, scrollY);
<span class="line-modified">!                 context.drawText(font, TextRun(String::number(x)), { 2, drawTopEdge ? rulerLabelSize : rulerLabelSize - rulerSize + font.fontMetrics().height() - 1.0f });</span>
              }
          }
  
          // Draw vertical ruler.
          {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 827,11 ***</span>
                      continue;
  
                  GraphicsContextStateSaver horizontalLabelStateSaver(context);
                  context.translate(scrollX, zoom(y) + 0.5f);
                  context.rotate(drawLeftEdge ? -piOverTwoFloat : piOverTwoFloat);
<span class="line-modified">!                 context.drawText(font, TextRun(String::numberToStringFixedPrecision(y)), { 2, drawLeftEdge ? rulerLabelSize : rulerLabelSize - rulerSize });</span>
              }
          }
      }
  
      // Draw viewport size.
<span class="line-new-header">--- 827,11 ---</span>
                      continue;
  
                  GraphicsContextStateSaver horizontalLabelStateSaver(context);
                  context.translate(scrollX, zoom(y) + 0.5f);
                  context.rotate(drawLeftEdge ? -piOverTwoFloat : piOverTwoFloat);
<span class="line-modified">!                 context.drawText(font, TextRun(String::number(y)), { 2, drawLeftEdge ? rulerLabelSize : rulerLabelSize - rulerSize });</span>
              }
          }
      }
  
      // Draw viewport size.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 842,13 ***</span>
  
          FontCascade font(WTFMove(fontDescription), 0, 0);
          font.update(nullptr);
  
          auto viewportRect = pageView-&gt;visualViewportRect();
<span class="line-modified">!         auto viewportWidthText = String::numberToStringFixedPrecision(viewportRect.width() / pageZoomFactor);</span>
<span class="line-removed">-         auto viewportHeightText = String::numberToStringFixedPrecision(viewportRect.height() / pageZoomFactor);</span>
<span class="line-removed">-         TextRun viewportTextRun(makeString(viewportWidthText, &quot;px&quot;, &#39; &#39;, multiplicationSign, &#39; &#39;, viewportHeightText, &quot;px&quot;));</span>
  
          const float margin = 4;
          const float padding = 2;
          const float radius = 4;
          float fontWidth = font.width(viewportTextRun);
<span class="line-new-header">--- 842,11 ---</span>
  
          FontCascade font(WTFMove(fontDescription), 0, 0);
          font.update(nullptr);
  
          auto viewportRect = pageView-&gt;visualViewportRect();
<span class="line-modified">!         TextRun viewportTextRun(makeString(viewportRect.width() / pageZoomFactor, &quot;px&quot;, &#39; &#39;, multiplicationSign, &#39; &#39;, viewportRect.height() / pageZoomFactor, &quot;px&quot;));</span>
  
          const float margin = 4;
          const float padding = 2;
          const float radius = 4;
          float fontWidth = font.width(viewportTextRun);
</pre>
<center><a href="InspectorNodeFinder.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="InspectorShaderProgram.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>