<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/audio/PlatformMediaSessionManager.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="PlatformMediaSessionManager.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="SincResampler.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/audio/PlatformMediaSessionManager.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 96     void suspendAllMediaBufferingForDocument(const Document&amp;);
 97     void resumeAllMediaBufferingForDocument(const Document&amp;);
 98 
 99     enum SessionRestrictionFlags {
100         NoRestrictions = 0,
101         ConcurrentPlaybackNotPermitted = 1 &lt;&lt; 0,
102         BackgroundProcessPlaybackRestricted = 1 &lt;&lt; 1,
103         BackgroundTabPlaybackRestricted = 1 &lt;&lt; 2,
104         InterruptedPlaybackNotPermitted = 1 &lt;&lt; 3,
105         InactiveProcessPlaybackRestricted = 1 &lt;&lt; 4,
106         SuspendedUnderLockPlaybackRestricted = 1 &lt;&lt; 5,
107     };
108     typedef unsigned SessionRestrictions;
109 
110     WEBCORE_EXPORT void addRestriction(PlatformMediaSession::MediaType, SessionRestrictions);
111     WEBCORE_EXPORT void removeRestriction(PlatformMediaSession::MediaType, SessionRestrictions);
112     WEBCORE_EXPORT SessionRestrictions restrictions(PlatformMediaSession::MediaType);
113     virtual void resetRestrictions();
114 
115     virtual bool sessionWillBeginPlayback(PlatformMediaSession&amp;);
<span class="line-modified">116     virtual void sessionWillEndPlayback(PlatformMediaSession&amp;);</span>

117     virtual void sessionStateChanged(PlatformMediaSession&amp;);
118     virtual void sessionDidEndRemoteScrubbing(const PlatformMediaSession&amp;) { };
119     virtual void clientCharacteristicsChanged(PlatformMediaSession&amp;) { }
<span class="line-modified">120     virtual void sessionCanProduceAudioChanged(PlatformMediaSession&amp;);</span>
121 
122 #if PLATFORM(IOS_FAMILY)
123     virtual void configureWireLessTargetMonitoring() { }
124 #endif
125     virtual bool hasWirelessTargetsAvailable() { return false; }
126 
127     void setCurrentSession(PlatformMediaSession&amp;);
128     PlatformMediaSession* currentSession() const;
129 
130     void sessionIsPlayingToWirelessPlaybackTargetChanged(PlatformMediaSession&amp;);
131 
132     WEBCORE_EXPORT void setIsPlayingToAutomotiveHeadUnit(bool);
133     bool isPlayingToAutomotiveHeadUnit() const { return m_isPlayingToAutomotiveHeadUnit; }
134 
135     void forEachMatchingSession(const Function&lt;bool(const PlatformMediaSession&amp;)&gt;&amp; predicate, const Function&lt;void(PlatformMediaSession&amp;)&gt;&amp; matchingCallback);
136 
137     bool processIsSuspended() const { return m_processIsSuspended; }
138 
139 protected:
140     friend class PlatformMediaSession;
141     explicit PlatformMediaSessionManager();
142 
143     void addSession(PlatformMediaSession&amp;);
144     virtual void removeSession(PlatformMediaSession&amp;);
145 
146     void forEachSession(const Function&lt;void(PlatformMediaSession&amp;)&gt;&amp;);
147     void forEachDocumentSession(const Document&amp;, const Function&lt;void(PlatformMediaSession&amp;)&gt;&amp;);
148     bool anyOfSessions(const Function&lt;bool(const PlatformMediaSession&amp;)&gt;&amp;) const;
149 
150     AudioHardwareListener* audioHardwareListener() { return m_audioHardwareListener.get(); }
151 





152 #if !RELEASE_LOG_DISABLED
153     const Logger&amp; logger() const final { return m_logger; }
154     const void* logIdentifier() const final { return nullptr; }
155     const char* logClassName() const override { return &quot;PlatformMediaSessionManager&quot;; }
156     WTFLogChannel&amp; logChannel() const final;
157 #endif
158 
159 private:
160     friend class Internals;
161 
162     virtual void updateSessionState() { }
163 
164     // RemoteCommandListenerClient
165     WEBCORE_EXPORT void didReceiveRemoteControlCommand(PlatformMediaSession::RemoteControlCommandType, const PlatformMediaSession::RemoteCommandArgument*) override;
166     WEBCORE_EXPORT bool supportsSeeking() const override;
167 
168     // AudioHardwareListenerClient
169     void audioHardwareDidBecomeActive() override { }
170     void audioHardwareDidBecomeInactive() override { }
171     void audioOutputDeviceChanged() override;
</pre>
</td>
<td>
<hr />
<pre>
 96     void suspendAllMediaBufferingForDocument(const Document&amp;);
 97     void resumeAllMediaBufferingForDocument(const Document&amp;);
 98 
 99     enum SessionRestrictionFlags {
100         NoRestrictions = 0,
101         ConcurrentPlaybackNotPermitted = 1 &lt;&lt; 0,
102         BackgroundProcessPlaybackRestricted = 1 &lt;&lt; 1,
103         BackgroundTabPlaybackRestricted = 1 &lt;&lt; 2,
104         InterruptedPlaybackNotPermitted = 1 &lt;&lt; 3,
105         InactiveProcessPlaybackRestricted = 1 &lt;&lt; 4,
106         SuspendedUnderLockPlaybackRestricted = 1 &lt;&lt; 5,
107     };
108     typedef unsigned SessionRestrictions;
109 
110     WEBCORE_EXPORT void addRestriction(PlatformMediaSession::MediaType, SessionRestrictions);
111     WEBCORE_EXPORT void removeRestriction(PlatformMediaSession::MediaType, SessionRestrictions);
112     WEBCORE_EXPORT SessionRestrictions restrictions(PlatformMediaSession::MediaType);
113     virtual void resetRestrictions();
114 
115     virtual bool sessionWillBeginPlayback(PlatformMediaSession&amp;);
<span class="line-modified">116 </span>
<span class="line-added">117     virtual void sessionWillEndPlayback(PlatformMediaSession&amp;, DelayCallingUpdateNowPlaying);</span>
118     virtual void sessionStateChanged(PlatformMediaSession&amp;);
119     virtual void sessionDidEndRemoteScrubbing(const PlatformMediaSession&amp;) { };
120     virtual void clientCharacteristicsChanged(PlatformMediaSession&amp;) { }
<span class="line-modified">121     virtual void sessionCanProduceAudioChanged();</span>
122 
123 #if PLATFORM(IOS_FAMILY)
124     virtual void configureWireLessTargetMonitoring() { }
125 #endif
126     virtual bool hasWirelessTargetsAvailable() { return false; }
127 
128     void setCurrentSession(PlatformMediaSession&amp;);
129     PlatformMediaSession* currentSession() const;
130 
131     void sessionIsPlayingToWirelessPlaybackTargetChanged(PlatformMediaSession&amp;);
132 
133     WEBCORE_EXPORT void setIsPlayingToAutomotiveHeadUnit(bool);
134     bool isPlayingToAutomotiveHeadUnit() const { return m_isPlayingToAutomotiveHeadUnit; }
135 
136     void forEachMatchingSession(const Function&lt;bool(const PlatformMediaSession&amp;)&gt;&amp; predicate, const Function&lt;void(PlatformMediaSession&amp;)&gt;&amp; matchingCallback);
137 
138     bool processIsSuspended() const { return m_processIsSuspended; }
139 
140 protected:
141     friend class PlatformMediaSession;
142     explicit PlatformMediaSessionManager();
143 
144     void addSession(PlatformMediaSession&amp;);
145     virtual void removeSession(PlatformMediaSession&amp;);
146 
147     void forEachSession(const Function&lt;void(PlatformMediaSession&amp;)&gt;&amp;);
148     void forEachDocumentSession(const Document&amp;, const Function&lt;void(PlatformMediaSession&amp;)&gt;&amp;);
149     bool anyOfSessions(const Function&lt;bool(const PlatformMediaSession&amp;)&gt;&amp;) const;
150 
151     AudioHardwareListener* audioHardwareListener() { return m_audioHardwareListener.get(); }
152 
<span class="line-added">153     bool isApplicationInBackground() const { return m_isApplicationInBackground; }</span>
<span class="line-added">154 #if USE(AUDIO_SESSION)</span>
<span class="line-added">155     void maybeDeactivateAudioSession();</span>
<span class="line-added">156 #endif</span>
<span class="line-added">157 </span>
158 #if !RELEASE_LOG_DISABLED
159     const Logger&amp; logger() const final { return m_logger; }
160     const void* logIdentifier() const final { return nullptr; }
161     const char* logClassName() const override { return &quot;PlatformMediaSessionManager&quot;; }
162     WTFLogChannel&amp; logChannel() const final;
163 #endif
164 
165 private:
166     friend class Internals;
167 
168     virtual void updateSessionState() { }
169 
170     // RemoteCommandListenerClient
171     WEBCORE_EXPORT void didReceiveRemoteControlCommand(PlatformMediaSession::RemoteControlCommandType, const PlatformMediaSession::RemoteCommandArgument*) override;
172     WEBCORE_EXPORT bool supportsSeeking() const override;
173 
174     // AudioHardwareListenerClient
175     void audioHardwareDidBecomeActive() override { }
176     void audioHardwareDidBecomeInactive() override { }
177     void audioOutputDeviceChanged() override;
</pre>
</td>
</tr>
</table>
<center><a href="PlatformMediaSessionManager.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="SincResampler.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>