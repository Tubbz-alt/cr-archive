<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/html/track/VideoTrack.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="VTTRegion.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="VideoTrack.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/html/track/VideoTrack.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
146     setSelected(selected);
147 }
148 
149 void VideoTrack::idChanged(const AtomString&amp; id)
150 {
151     setId(id);
152 }
153 
154 void VideoTrack::labelChanged(const AtomString&amp; label)
155 {
156     setLabel(label);
157 }
158 
159 void VideoTrack::languageChanged(const AtomString&amp; language)
160 {
161     setLanguage(language);
162 }
163 
164 void VideoTrack::willRemove()
165 {
<span class="line-modified">166     auto element = makeRefPtr(mediaElement());</span>
167     if (!element)
168         return;
169     element-&gt;removeVideoTrack(*this);
170 }
171 
172 #if ENABLE(MEDIA_SOURCE)
173 
174 void VideoTrack::setKind(const AtomString&amp; kind)
175 {
176     // 10.1 kind, on setting:
177     // 1. If the value being assigned to this attribute does not match one of the video track kinds,
178     // then abort these steps.
179     if (!isValidKind(kind))
180         return;
181 
182     // 2. Update this attribute to the new value.
183     setKindInternal(kind);
184 
185     // 3. If the sourceBuffer attribute on this track is not null, then queue a task to fire a simple
186     // event named change at sourceBuffer.videoTracks.
</pre>
<hr />
<pre>
227         return;
228     case VideoTrackPrivate::Main:
229         setKindInternal(VideoTrack::mainKeyword());
230         return;
231     case VideoTrackPrivate::Sign:
232         setKindInternal(VideoTrack::signKeyword());
233         return;
234     case VideoTrackPrivate::Subtitles:
235         setKindInternal(VideoTrack::subtitlesKeyword());
236         return;
237     case VideoTrackPrivate::Commentary:
238         setKindInternal(VideoTrack::commentaryKeyword());
239         return;
240     case VideoTrackPrivate::None:
241         setKindInternal(emptyString());
242         return;
243     }
244     ASSERT_NOT_REACHED();
245 }
246 
<span class="line-modified">247 void VideoTrack::setMediaElement(HTMLMediaElement* element)</span>
248 {
249     TrackBase::setMediaElement(element);
250 #if !RELEASE_LOG_DISABLED
251     m_private-&gt;setLogger(logger(), logIdentifier());
252 #endif
253 }
254 
255 } // namespace WebCore
256 
257 #endif
</pre>
</td>
<td>
<hr />
<pre>
146     setSelected(selected);
147 }
148 
149 void VideoTrack::idChanged(const AtomString&amp; id)
150 {
151     setId(id);
152 }
153 
154 void VideoTrack::labelChanged(const AtomString&amp; label)
155 {
156     setLabel(label);
157 }
158 
159 void VideoTrack::languageChanged(const AtomString&amp; language)
160 {
161     setLanguage(language);
162 }
163 
164 void VideoTrack::willRemove()
165 {
<span class="line-modified">166     auto element = makeRefPtr(mediaElement().get());</span>
167     if (!element)
168         return;
169     element-&gt;removeVideoTrack(*this);
170 }
171 
172 #if ENABLE(MEDIA_SOURCE)
173 
174 void VideoTrack::setKind(const AtomString&amp; kind)
175 {
176     // 10.1 kind, on setting:
177     // 1. If the value being assigned to this attribute does not match one of the video track kinds,
178     // then abort these steps.
179     if (!isValidKind(kind))
180         return;
181 
182     // 2. Update this attribute to the new value.
183     setKindInternal(kind);
184 
185     // 3. If the sourceBuffer attribute on this track is not null, then queue a task to fire a simple
186     // event named change at sourceBuffer.videoTracks.
</pre>
<hr />
<pre>
227         return;
228     case VideoTrackPrivate::Main:
229         setKindInternal(VideoTrack::mainKeyword());
230         return;
231     case VideoTrackPrivate::Sign:
232         setKindInternal(VideoTrack::signKeyword());
233         return;
234     case VideoTrackPrivate::Subtitles:
235         setKindInternal(VideoTrack::subtitlesKeyword());
236         return;
237     case VideoTrackPrivate::Commentary:
238         setKindInternal(VideoTrack::commentaryKeyword());
239         return;
240     case VideoTrackPrivate::None:
241         setKindInternal(emptyString());
242         return;
243     }
244     ASSERT_NOT_REACHED();
245 }
246 
<span class="line-modified">247 void VideoTrack::setMediaElement(WeakPtr&lt;HTMLMediaElement&gt; element)</span>
248 {
249     TrackBase::setMediaElement(element);
250 #if !RELEASE_LOG_DISABLED
251     m_private-&gt;setLogger(logger(), logIdentifier());
252 #endif
253 }
254 
255 } // namespace WebCore
256 
257 #endif
</pre>
</td>
</tr>
</table>
<center><a href="VTTRegion.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="VideoTrack.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>