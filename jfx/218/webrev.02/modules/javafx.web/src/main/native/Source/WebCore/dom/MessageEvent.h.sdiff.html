<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/dom/MessageEvent.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="MessageEvent.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="MessagePort.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/dom/MessageEvent.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 29 
 30 #include &quot;Event.h&quot;
 31 #include &quot;JSValueInWrappedObject.h&quot;
 32 #include &quot;MessagePort.h&quot;
 33 #include &quot;SerializedScriptValue.h&quot;
 34 #include &quot;ServiceWorker.h&quot;
 35 #include &quot;WindowProxy.h&quot;
 36 #include &lt;wtf/Variant.h&gt;
 37 
 38 namespace WebCore {
 39 
 40 class Blob;
 41 
 42 #if ENABLE(SERVICE_WORKER)
 43 using MessageEventSource = Variant&lt;RefPtr&lt;WindowProxy&gt;, RefPtr&lt;MessagePort&gt;, RefPtr&lt;ServiceWorker&gt;&gt;;
 44 #else
 45 using MessageEventSource = Variant&lt;RefPtr&lt;WindowProxy&gt;, RefPtr&lt;MessagePort&gt;&gt;;
 46 #endif
 47 
 48 class MessageEvent final : public Event {

 49 public:
 50     static Ref&lt;MessageEvent&gt; create(Vector&lt;RefPtr&lt;MessagePort&gt;&gt;&amp;&amp;, Ref&lt;SerializedScriptValue&gt;&amp;&amp;, const String&amp; origin = { }, const String&amp; lastEventId = { }, Optional&lt;MessageEventSource&gt;&amp;&amp; source = WTF::nullopt);
 51     static Ref&lt;MessageEvent&gt; create(const AtomString&amp; type, Ref&lt;SerializedScriptValue&gt;&amp;&amp;, const String&amp; origin, const String&amp; lastEventId);
 52     static Ref&lt;MessageEvent&gt; create(const String&amp; data, const String&amp; origin = { });
 53     static Ref&lt;MessageEvent&gt; create(Ref&lt;Blob&gt;&amp;&amp; data, const String&amp; origin);
 54     static Ref&lt;MessageEvent&gt; create(Ref&lt;ArrayBuffer&gt;&amp;&amp; data, const String&amp; origin = { });
 55     static Ref&lt;MessageEvent&gt; createForBindings();
 56 
 57     struct Init : EventInit {
 58         JSC::JSValue data;
 59         String origin;
 60         String lastEventId;
 61         Optional&lt;MessageEventSource&gt; source;
 62         Vector&lt;RefPtr&lt;MessagePort&gt;&gt; ports;
 63     };
 64     static Ref&lt;MessageEvent&gt; create(const AtomString&amp; type, Init&amp;&amp;, IsTrusted = IsTrusted::No);
 65 
 66     virtual ~MessageEvent();
 67 
 68     void initMessageEvent(const AtomString&amp; type, bool canBubble, bool cancelable, JSC::JSValue data, const String&amp; origin, const String&amp; lastEventId, Optional&lt;MessageEventSource&gt;&amp;&amp;, Vector&lt;RefPtr&lt;MessagePort&gt;&gt;&amp;&amp;);
</pre>
</td>
<td>
<hr />
<pre>
 29 
 30 #include &quot;Event.h&quot;
 31 #include &quot;JSValueInWrappedObject.h&quot;
 32 #include &quot;MessagePort.h&quot;
 33 #include &quot;SerializedScriptValue.h&quot;
 34 #include &quot;ServiceWorker.h&quot;
 35 #include &quot;WindowProxy.h&quot;
 36 #include &lt;wtf/Variant.h&gt;
 37 
 38 namespace WebCore {
 39 
 40 class Blob;
 41 
 42 #if ENABLE(SERVICE_WORKER)
 43 using MessageEventSource = Variant&lt;RefPtr&lt;WindowProxy&gt;, RefPtr&lt;MessagePort&gt;, RefPtr&lt;ServiceWorker&gt;&gt;;
 44 #else
 45 using MessageEventSource = Variant&lt;RefPtr&lt;WindowProxy&gt;, RefPtr&lt;MessagePort&gt;&gt;;
 46 #endif
 47 
 48 class MessageEvent final : public Event {
<span class="line-added"> 49     WTF_MAKE_ISO_ALLOCATED(MessageEvent);</span>
 50 public:
 51     static Ref&lt;MessageEvent&gt; create(Vector&lt;RefPtr&lt;MessagePort&gt;&gt;&amp;&amp;, Ref&lt;SerializedScriptValue&gt;&amp;&amp;, const String&amp; origin = { }, const String&amp; lastEventId = { }, Optional&lt;MessageEventSource&gt;&amp;&amp; source = WTF::nullopt);
 52     static Ref&lt;MessageEvent&gt; create(const AtomString&amp; type, Ref&lt;SerializedScriptValue&gt;&amp;&amp;, const String&amp; origin, const String&amp; lastEventId);
 53     static Ref&lt;MessageEvent&gt; create(const String&amp; data, const String&amp; origin = { });
 54     static Ref&lt;MessageEvent&gt; create(Ref&lt;Blob&gt;&amp;&amp; data, const String&amp; origin);
 55     static Ref&lt;MessageEvent&gt; create(Ref&lt;ArrayBuffer&gt;&amp;&amp; data, const String&amp; origin = { });
 56     static Ref&lt;MessageEvent&gt; createForBindings();
 57 
 58     struct Init : EventInit {
 59         JSC::JSValue data;
 60         String origin;
 61         String lastEventId;
 62         Optional&lt;MessageEventSource&gt; source;
 63         Vector&lt;RefPtr&lt;MessagePort&gt;&gt; ports;
 64     };
 65     static Ref&lt;MessageEvent&gt; create(const AtomString&amp; type, Init&amp;&amp;, IsTrusted = IsTrusted::No);
 66 
 67     virtual ~MessageEvent();
 68 
 69     void initMessageEvent(const AtomString&amp; type, bool canBubble, bool cancelable, JSC::JSValue data, const String&amp; origin, const String&amp; lastEventId, Optional&lt;MessageEventSource&gt;&amp;&amp;, Vector&lt;RefPtr&lt;MessagePort&gt;&gt;&amp;&amp;);
</pre>
</td>
</tr>
</table>
<center><a href="MessageEvent.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="MessagePort.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>