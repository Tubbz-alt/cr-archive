<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/animation/KeyframeEffect.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="KeyframeEffect.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="KeyframeEffect.idl.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/animation/KeyframeEffect.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  9  * 2. Redistributions in binary form must reproduce the above copyright
 10  *    notice, this list of conditions and the following disclaimer in the
 11  *    documentation and/or other materials provided with the distribution.
 12  *
 13  * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS&#39;&#39; AND ANY
 14  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 15  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 16  * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR
 17  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 18  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 19  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 20  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 21  * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 22  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 23  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 24  */
 25 
 26 #pragma once
 27 
 28 #include &quot;AnimationEffect.h&quot;

 29 #include &quot;CSSPropertyBlendingClient.h&quot;
 30 #include &quot;CompositeOperation.h&quot;
 31 #include &quot;CompositeOperationOrAuto.h&quot;
 32 #include &quot;EffectTiming.h&quot;
 33 #include &quot;Element.h&quot;
 34 #include &quot;IterationCompositeOperation.h&quot;
 35 #include &quot;KeyframeEffectOptions.h&quot;
 36 #include &quot;KeyframeList.h&quot;
 37 #include &quot;RenderStyle.h&quot;
 38 #include &quot;StyleProperties.h&quot;
 39 #include &quot;WebAnimationUtilities.h&quot;
 40 #include &lt;wtf/Ref.h&gt;
 41 
 42 namespace WebCore {
 43 
 44 class Element;
 45 class FilterOperations;
 46 
 47 class KeyframeEffect : public AnimationEffect
 48     , public CSSPropertyBlendingClient {
 49 public:
<span class="line-modified"> 50     static ExceptionOr&lt;Ref&lt;KeyframeEffect&gt;&gt; create(JSC::ExecState&amp;, Element*, JSC::Strong&lt;JSC::JSObject&gt;&amp;&amp;, Optional&lt;Variant&lt;double, KeyframeEffectOptions&gt;&gt;&amp;&amp;);</span>
<span class="line-modified"> 51     static ExceptionOr&lt;Ref&lt;KeyframeEffect&gt;&gt; create(JSC::ExecState&amp;, Ref&lt;KeyframeEffect&gt;&amp;&amp;);</span>
 52     static Ref&lt;KeyframeEffect&gt; create(const Element&amp;);
 53     ~KeyframeEffect() { }
 54 
 55     bool isKeyframeEffect() const final { return true; }
 56 
 57     struct BasePropertyIndexedKeyframe {
 58         Variant&lt;std::nullptr_t, Vector&lt;Optional&lt;double&gt;&gt;, double&gt; offset = Vector&lt;Optional&lt;double&gt;&gt;();
 59         Variant&lt;Vector&lt;String&gt;, String&gt; easing = Vector&lt;String&gt;();
 60         Variant&lt;Vector&lt;CompositeOperationOrAuto&gt;, CompositeOperationOrAuto&gt; composite = Vector&lt;CompositeOperationOrAuto&gt;();
 61     };
 62 
 63     struct BaseKeyframe {
 64         MarkableDouble offset;
 65         String easing { &quot;linear&quot; };
 66         CompositeOperationOrAuto composite { CompositeOperationOrAuto::Auto };
 67     };
 68 
 69     struct PropertyAndValues {
 70         CSSPropertyID property;
 71         Vector&lt;String&gt; values;
</pre>
<hr />
<pre>
 81         double computedOffset;
 82         CompositeOperationOrAuto composite { CompositeOperationOrAuto::Auto };
 83         String easing;
 84         RefPtr&lt;TimingFunction&gt; timingFunction;
 85         Ref&lt;MutableStyleProperties&gt; style;
 86         HashMap&lt;CSSPropertyID, String&gt; unparsedStyle;
 87 
 88         ParsedKeyframe()
 89             : style(MutableStyleProperties::create())
 90         {
 91         }
 92     };
 93 
 94     struct BaseComputedKeyframe {
 95         MarkableDouble offset;
 96         double computedOffset;
 97         String easing { &quot;linear&quot; };
 98         CompositeOperationOrAuto composite { CompositeOperationOrAuto::Auto };
 99     };
100 


101     Element* target() const { return m_target.get(); }
102     void setTarget(RefPtr&lt;Element&gt;&amp;&amp;);
103 
<span class="line-modified">104     Vector&lt;JSC::Strong&lt;JSC::JSObject&gt;&gt; getKeyframes(JSC::ExecState&amp;);</span>
<span class="line-modified">105     ExceptionOr&lt;void&gt; setKeyframes(JSC::ExecState&amp;, JSC::Strong&lt;JSC::JSObject&gt;&amp;&amp;);</span>
106 
107     IterationCompositeOperation iterationComposite() const { return m_iterationCompositeOperation; }
108     void setIterationComposite(IterationCompositeOperation iterationCompositeOperation) { m_iterationCompositeOperation = iterationCompositeOperation; }
109     CompositeOperation composite() const { return m_compositeOperation; }
110     void setComposite(CompositeOperation compositeOperation) { m_compositeOperation = compositeOperation; }
111 
112     void getAnimatedStyle(std::unique_ptr&lt;RenderStyle&gt;&amp; animatedStyle);
113     void apply(RenderStyle&amp;) override;
114     void invalidate() override;


115     void animationDidSeek() final;

116     void animationSuspensionStateDidChange(bool) final;


117     void applyPendingAcceleratedActions();
<span class="line-modified">118     bool isRunningAccelerated() const { return m_lastRecordedAcceleratedAction != AcceleratedAction::Stop; }</span>
<span class="line-modified">119     bool hasPendingAcceleratedAction() const { return !m_pendingAcceleratedActions.isEmpty() &amp;&amp; isRunningAccelerated(); }</span>


120 
121     RenderElement* renderer() const override;
122     const RenderStyle&amp; currentStyle() const override;
<span class="line-modified">123     bool isAccelerated() const override { return m_shouldRunAccelerated; }</span>



124     bool filterFunctionListsMatch() const override { return m_filterFunctionListsMatch; }
125     bool transformFunctionListsMatch() const override { return m_transformFunctionListsMatch; }
126 #if ENABLE(FILTERS_LEVEL_2)
127     bool backdropFilterFunctionListsMatch() const override { return m_backdropFilterFunctionListsMatch; }
128 #endif
129     bool colorFilterFunctionListsMatch() const override { return m_colorFilterFunctionListsMatch; }
130 
131     void computeDeclarativeAnimationBlendingKeyframes(const RenderStyle* oldStyle, const RenderStyle&amp; newStyle);
<span class="line-modified">132     bool hasBlendingKeyframes() const { return m_blendingKeyframes.size(); }</span>
133     const HashSet&lt;CSSPropertyID&gt;&amp; animatedProperties() const { return m_blendingKeyframes.properties(); }

134 
135     bool computeExtentOfTransformAnimation(LayoutRect&amp;) const;
136     bool computeTransformedExtentViaTransformList(const FloatRect&amp;, const RenderStyle&amp;, LayoutRect&amp;) const;
137     bool computeTransformedExtentViaMatrix(const FloatRect&amp;, const RenderStyle&amp;, LayoutRect&amp;) const;
138     bool forceLayoutIfNeeded();
139 






140 private:
141     KeyframeEffect(Element*);
142 
143     enum class AcceleratedAction : uint8_t { Play, Pause, Seek, Stop };


144 

145     void copyPropertiesFromSource(Ref&lt;KeyframeEffect&gt;&amp;&amp;);
<span class="line-modified">146     ExceptionOr&lt;void&gt; processKeyframes(JSC::ExecState&amp;, JSC::Strong&lt;JSC::JSObject&gt;&amp;&amp;);</span>
147     void addPendingAcceleratedAction(AcceleratedAction);
<span class="line-modified">148     void updateAcceleratedAnimationState();</span>
149     void setAnimatedPropertiesInStyle(RenderStyle&amp;, double);
150     TimingFunction* timingFunctionForKeyframeAtIndex(size_t);
151     Ref&lt;const Animation&gt; backingAnimationForCompositedRenderer() const;
152     void computedNeedsForcedLayout();
153     void computeStackingContextImpact();

154     void updateBlendingKeyframes(RenderStyle&amp;);
<span class="line-modified">155     void computeCSSAnimationBlendingKeyframes();</span>
156     void computeCSSTransitionBlendingKeyframes(const RenderStyle* oldStyle, const RenderStyle&amp; newStyle);
<span class="line-modified">157     void computeShouldRunAccelerated();</span>
158     void setBlendingKeyframes(KeyframeList&amp;);
159     void checkForMatchingTransformFunctionLists();
160     void checkForMatchingFilterFunctionLists();
161     void checkForMatchingColorFilterFunctionLists();
162     bool checkForMatchingFilterFunctionLists(CSSPropertyID, const std::function&lt;const FilterOperations&amp; (const RenderStyle&amp;)&gt;&amp;) const;
163 #if ENABLE(FILTERS_LEVEL_2)
164     void checkForMatchingBackdropFilterFunctionLists();
165 #endif
166 
167     KeyframeList m_blendingKeyframes { emptyString() };
168     Vector&lt;ParsedKeyframe&gt; m_parsedKeyframes;
169     Vector&lt;AcceleratedAction&gt; m_pendingAcceleratedActions;
<span class="line-modified">170     RefPtr&lt;Element&gt; m_target;</span>


171 
172     AcceleratedAction m_lastRecordedAcceleratedAction { AcceleratedAction::Stop };

173     IterationCompositeOperation m_iterationCompositeOperation { IterationCompositeOperation::Replace };
174     CompositeOperation m_compositeOperation { CompositeOperation::Replace };
<span class="line-modified">175     bool m_shouldRunAccelerated { false };</span>


176     bool m_needsForcedLayout { false };
177     bool m_triggersStackingContext { false };
178     bool m_transformFunctionListsMatch { false };
179     bool m_filterFunctionListsMatch { false };
180 #if ENABLE(FILTERS_LEVEL_2)
181     bool m_backdropFilterFunctionListsMatch { false };
182 #endif
183     bool m_colorFilterFunctionListsMatch { false };

184 };
185 
186 } // namespace WebCore
187 
188 SPECIALIZE_TYPE_TRAITS_ANIMATION_EFFECT(KeyframeEffect, isKeyframeEffect());
</pre>
</td>
<td>
<hr />
<pre>
  9  * 2. Redistributions in binary form must reproduce the above copyright
 10  *    notice, this list of conditions and the following disclaimer in the
 11  *    documentation and/or other materials provided with the distribution.
 12  *
 13  * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS&#39;&#39; AND ANY
 14  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 15  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 16  * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR
 17  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 18  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 19  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 20  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 21  * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 22  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 23  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 24  */
 25 
 26 #pragma once
 27 
 28 #include &quot;AnimationEffect.h&quot;
<span class="line-added"> 29 #include &quot;AnimationEffectPhase.h&quot;</span>
 30 #include &quot;CSSPropertyBlendingClient.h&quot;
 31 #include &quot;CompositeOperation.h&quot;
 32 #include &quot;CompositeOperationOrAuto.h&quot;
 33 #include &quot;EffectTiming.h&quot;
 34 #include &quot;Element.h&quot;
 35 #include &quot;IterationCompositeOperation.h&quot;
 36 #include &quot;KeyframeEffectOptions.h&quot;
 37 #include &quot;KeyframeList.h&quot;
 38 #include &quot;RenderStyle.h&quot;
 39 #include &quot;StyleProperties.h&quot;
 40 #include &quot;WebAnimationUtilities.h&quot;
 41 #include &lt;wtf/Ref.h&gt;
 42 
 43 namespace WebCore {
 44 
 45 class Element;
 46 class FilterOperations;
 47 
 48 class KeyframeEffect : public AnimationEffect
 49     , public CSSPropertyBlendingClient {
 50 public:
<span class="line-modified"> 51     static ExceptionOr&lt;Ref&lt;KeyframeEffect&gt;&gt; create(JSC::JSGlobalObject&amp;, Element*, JSC::Strong&lt;JSC::JSObject&gt;&amp;&amp;, Optional&lt;Variant&lt;double, KeyframeEffectOptions&gt;&gt;&amp;&amp;);</span>
<span class="line-modified"> 52     static ExceptionOr&lt;Ref&lt;KeyframeEffect&gt;&gt; create(JSC::JSGlobalObject&amp;, Ref&lt;KeyframeEffect&gt;&amp;&amp;);</span>
 53     static Ref&lt;KeyframeEffect&gt; create(const Element&amp;);
 54     ~KeyframeEffect() { }
 55 
 56     bool isKeyframeEffect() const final { return true; }
 57 
 58     struct BasePropertyIndexedKeyframe {
 59         Variant&lt;std::nullptr_t, Vector&lt;Optional&lt;double&gt;&gt;, double&gt; offset = Vector&lt;Optional&lt;double&gt;&gt;();
 60         Variant&lt;Vector&lt;String&gt;, String&gt; easing = Vector&lt;String&gt;();
 61         Variant&lt;Vector&lt;CompositeOperationOrAuto&gt;, CompositeOperationOrAuto&gt; composite = Vector&lt;CompositeOperationOrAuto&gt;();
 62     };
 63 
 64     struct BaseKeyframe {
 65         MarkableDouble offset;
 66         String easing { &quot;linear&quot; };
 67         CompositeOperationOrAuto composite { CompositeOperationOrAuto::Auto };
 68     };
 69 
 70     struct PropertyAndValues {
 71         CSSPropertyID property;
 72         Vector&lt;String&gt; values;
</pre>
<hr />
<pre>
 82         double computedOffset;
 83         CompositeOperationOrAuto composite { CompositeOperationOrAuto::Auto };
 84         String easing;
 85         RefPtr&lt;TimingFunction&gt; timingFunction;
 86         Ref&lt;MutableStyleProperties&gt; style;
 87         HashMap&lt;CSSPropertyID, String&gt; unparsedStyle;
 88 
 89         ParsedKeyframe()
 90             : style(MutableStyleProperties::create())
 91         {
 92         }
 93     };
 94 
 95     struct BaseComputedKeyframe {
 96         MarkableDouble offset;
 97         double computedOffset;
 98         String easing { &quot;linear&quot; };
 99         CompositeOperationOrAuto composite { CompositeOperationOrAuto::Auto };
100     };
101 
<span class="line-added">102     const Vector&lt;ParsedKeyframe&gt;&amp; parsedKeyframes() const { return m_parsedKeyframes; }</span>
<span class="line-added">103 </span>
104     Element* target() const { return m_target.get(); }
105     void setTarget(RefPtr&lt;Element&gt;&amp;&amp;);
106 
<span class="line-modified">107     Vector&lt;JSC::Strong&lt;JSC::JSObject&gt;&gt; getKeyframes(JSC::JSGlobalObject&amp;);</span>
<span class="line-modified">108     ExceptionOr&lt;void&gt; setKeyframes(JSC::JSGlobalObject&amp;, JSC::Strong&lt;JSC::JSObject&gt;&amp;&amp;);</span>
109 
110     IterationCompositeOperation iterationComposite() const { return m_iterationCompositeOperation; }
111     void setIterationComposite(IterationCompositeOperation iterationCompositeOperation) { m_iterationCompositeOperation = iterationCompositeOperation; }
112     CompositeOperation composite() const { return m_compositeOperation; }
113     void setComposite(CompositeOperation compositeOperation) { m_compositeOperation = compositeOperation; }
114 
115     void getAnimatedStyle(std::unique_ptr&lt;RenderStyle&gt;&amp; animatedStyle);
116     void apply(RenderStyle&amp;) override;
117     void invalidate() override;
<span class="line-added">118     void animationDidTick() final;</span>
<span class="line-added">119     void animationDidPlay() final;</span>
120     void animationDidSeek() final;
<span class="line-added">121     void animationWasCanceled() final;</span>
122     void animationSuspensionStateDidChange(bool) final;
<span class="line-added">123     void animationTimelineDidChange(AnimationTimeline*) final;</span>
<span class="line-added">124     void animationTimingDidChange();</span>
125     void applyPendingAcceleratedActions();
<span class="line-modified">126 </span>
<span class="line-modified">127     void willChangeRenderer();</span>
<span class="line-added">128 </span>
<span class="line-added">129     void setAnimation(WebAnimation*) final;</span>
130 
131     RenderElement* renderer() const override;
132     const RenderStyle&amp; currentStyle() const override;
<span class="line-modified">133     bool triggersStackingContext() const { return m_triggersStackingContext; }</span>
<span class="line-added">134     bool isRunningAccelerated() const { return m_isRunningAccelerated; }</span>
<span class="line-added">135     bool isAboutToRunAccelerated() const { return m_acceleratedPropertiesState != AcceleratedProperties::None &amp;&amp; m_lastRecordedAcceleratedAction != AcceleratedAction::Stop; }</span>
<span class="line-added">136     bool isCompletelyAccelerated() const { return m_acceleratedPropertiesState == AcceleratedProperties::All; }</span>
137     bool filterFunctionListsMatch() const override { return m_filterFunctionListsMatch; }
138     bool transformFunctionListsMatch() const override { return m_transformFunctionListsMatch; }
139 #if ENABLE(FILTERS_LEVEL_2)
140     bool backdropFilterFunctionListsMatch() const override { return m_backdropFilterFunctionListsMatch; }
141 #endif
142     bool colorFilterFunctionListsMatch() const override { return m_colorFilterFunctionListsMatch; }
143 
144     void computeDeclarativeAnimationBlendingKeyframes(const RenderStyle* oldStyle, const RenderStyle&amp; newStyle);
<span class="line-modified">145     const KeyframeList&amp; blendingKeyframes() const { return m_blendingKeyframes; }</span>
146     const HashSet&lt;CSSPropertyID&gt;&amp; animatedProperties() const { return m_blendingKeyframes.properties(); }
<span class="line-added">147     bool animatesProperty(CSSPropertyID) const;</span>
148 
149     bool computeExtentOfTransformAnimation(LayoutRect&amp;) const;
150     bool computeTransformedExtentViaTransformList(const FloatRect&amp;, const RenderStyle&amp;, LayoutRect&amp;) const;
151     bool computeTransformedExtentViaMatrix(const FloatRect&amp;, const RenderStyle&amp;, LayoutRect&amp;) const;
152     bool forceLayoutIfNeeded();
153 
<span class="line-added">154     enum class Accelerated : uint8_t { Yes, No };</span>
<span class="line-added">155     bool isCurrentlyAffectingProperty(CSSPropertyID, Accelerated = Accelerated::No) const;</span>
<span class="line-added">156     bool isRunningAcceleratedAnimationForProperty(CSSPropertyID) const;</span>
<span class="line-added">157 </span>
<span class="line-added">158     const RenderStyle* unanimatedStyle() const { return m_unanimatedStyle.get(); }</span>
<span class="line-added">159 </span>
160 private:
161     KeyframeEffect(Element*);
162 
163     enum class AcceleratedAction : uint8_t { Play, Pause, Seek, Stop };
<span class="line-added">164     enum class BlendingKeyframesSource : uint8_t { CSSAnimation, CSSTransition, WebAnimation };</span>
<span class="line-added">165     enum class AcceleratedProperties : uint8_t { None, Some, All };</span>
166 
<span class="line-added">167     void updateEffectStackMembership();</span>
168     void copyPropertiesFromSource(Ref&lt;KeyframeEffect&gt;&amp;&amp;);
<span class="line-modified">169     ExceptionOr&lt;void&gt; processKeyframes(JSC::JSGlobalObject&amp;, JSC::Strong&lt;JSC::JSObject&gt;&amp;&amp;);</span>
170     void addPendingAcceleratedAction(AcceleratedAction);
<span class="line-modified">171     void updateAcceleratedActions();</span>
172     void setAnimatedPropertiesInStyle(RenderStyle&amp;, double);
173     TimingFunction* timingFunctionForKeyframeAtIndex(size_t);
174     Ref&lt;const Animation&gt; backingAnimationForCompositedRenderer() const;
175     void computedNeedsForcedLayout();
176     void computeStackingContextImpact();
<span class="line-added">177     void clearBlendingKeyframes();</span>
178     void updateBlendingKeyframes(RenderStyle&amp;);
<span class="line-modified">179     void computeCSSAnimationBlendingKeyframes(const RenderStyle&amp;);</span>
180     void computeCSSTransitionBlendingKeyframes(const RenderStyle* oldStyle, const RenderStyle&amp; newStyle);
<span class="line-modified">181     void computeAcceleratedPropertiesState();</span>
182     void setBlendingKeyframes(KeyframeList&amp;);
183     void checkForMatchingTransformFunctionLists();
184     void checkForMatchingFilterFunctionLists();
185     void checkForMatchingColorFilterFunctionLists();
186     bool checkForMatchingFilterFunctionLists(CSSPropertyID, const std::function&lt;const FilterOperations&amp; (const RenderStyle&amp;)&gt;&amp;) const;
187 #if ENABLE(FILTERS_LEVEL_2)
188     void checkForMatchingBackdropFilterFunctionLists();
189 #endif
190 
191     KeyframeList m_blendingKeyframes { emptyString() };
192     Vector&lt;ParsedKeyframe&gt; m_parsedKeyframes;
193     Vector&lt;AcceleratedAction&gt; m_pendingAcceleratedActions;
<span class="line-modified">194     WeakPtr&lt;Element&gt; m_target;</span>
<span class="line-added">195 </span>
<span class="line-added">196     std::unique_ptr&lt;const RenderStyle&gt; m_unanimatedStyle;</span>
197 
198     AcceleratedAction m_lastRecordedAcceleratedAction { AcceleratedAction::Stop };
<span class="line-added">199     BlendingKeyframesSource m_blendingKeyframesSource { BlendingKeyframesSource::WebAnimation };</span>
200     IterationCompositeOperation m_iterationCompositeOperation { IterationCompositeOperation::Replace };
201     CompositeOperation m_compositeOperation { CompositeOperation::Replace };
<span class="line-modified">202     AcceleratedProperties m_acceleratedPropertiesState { AcceleratedProperties::None };</span>
<span class="line-added">203     AnimationEffectPhase m_phaseAtLastApplication { AnimationEffectPhase::Idle };</span>
<span class="line-added">204     bool m_isRunningAccelerated { false };</span>
205     bool m_needsForcedLayout { false };
206     bool m_triggersStackingContext { false };
207     bool m_transformFunctionListsMatch { false };
208     bool m_filterFunctionListsMatch { false };
209 #if ENABLE(FILTERS_LEVEL_2)
210     bool m_backdropFilterFunctionListsMatch { false };
211 #endif
212     bool m_colorFilterFunctionListsMatch { false };
<span class="line-added">213     bool m_inTargetEffectStack { false };</span>
214 };
215 
216 } // namespace WebCore
217 
218 SPECIALIZE_TYPE_TRAITS_ANIMATION_EFFECT(KeyframeEffect, isKeyframeEffect());
</pre>
</td>
</tr>
</table>
<center><a href="KeyframeEffect.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="KeyframeEffect.idl.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>