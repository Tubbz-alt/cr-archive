<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebKitLegacy/java/WebCoreSupport/EditorClientJava.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DragClientJava.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="EditorClientJava.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebKitLegacy/java/WebCoreSupport/EditorClientJava.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
442 void EditorClientJava::respondToChangedContents()
443 {
444     notImplemented();
445 }
446 
447 void EditorClientJava::respondToChangedSelection(Frame *frame)
448 {
449     if (!frame || !frame-&gt;editor().hasComposition()
450         || frame-&gt;editor().ignoreSelectionChanges()) {
451         return;
452     }
453     unsigned start, end;
454     if (!frame-&gt;editor().getCompositionSelection(start, end)) {
455         // Commit composed text here outside the Java Input Method
456         // Framework. InputContext.endComposition() will be called
457         // later through a setInputMethodState() call. The
458         // endComposition call will generate an InputMethodEvent with
459         // committed text which will be ignored in
460         // JWebPane.processInputMethodEvent().
461         frame-&gt;editor().cancelComposition();
<span class="line-modified">462         setInputMethodState(false);</span>
463     }
464 }
465 
466 void EditorClientJava::updateEditorStateAfterLayoutIfEditabilityChanged() {
467     notImplemented();
468 }
469 
470 void EditorClientJava::didEndEditing()
471 {
472     notImplemented();
473 }
474 
475 void EditorClientJava::didWriteSelectionToPasteboard()
476 {
477     notImplemented();
478 }
479 
480 bool EditorClientJava::canUndo() const
481 {
482     return !m_undoStack.isEmpty();
</pre>
<hr />
<pre>
579 }
580 
581 void EditorClientJava::showSpellingUI(bool)
582 {
583     notImplemented();
584 }
585 
586 bool EditorClientJava::spellingUIIsShowing()
587 {
588     notImplemented();
589     return false;
590 }
591 
592 
593 bool EditorClientJava::shouldMoveRangeAfterDelete(Range*, Range*)
594 {
595     notImplemented();
596     return true;
597 }
598 
<span class="line-modified">599 void EditorClientJava::setInputMethodState(bool enabled)</span>
600 {
601     JNIEnv* env = WTF::GetJavaEnv();
602 
603     static jmethodID midSetInputMethodState = env-&gt;GetMethodID(
604         PG_GetWebPageClass(env),
605         &quot;setInputMethodState&quot;,
606         &quot;(Z)V&quot;);
607     ASSERT(midSetInputMethodState);
608 
609     env-&gt;CallVoidMethod(
610         m_webPage,
611         midSetInputMethodState,
<span class="line-modified">612         bool_to_jbool(enabled));</span>
613     WTF::CheckAndClearException(env);
614 }
615 
616 void EditorClientJava::handleInputMethodKeydown(KeyboardEvent&amp;)
617 {
618     notImplemented();
619 }
620 
621 void EditorClientJava::willSetInputMethodState()
622 {
623     notImplemented();
624 }
625 
626 bool EditorClientJava::canCopyCut(Frame*, bool defaultValue) const
627 {
628     return defaultValue;
629 }
630 
631 bool EditorClientJava::canPaste(Frame*, bool defaultValue) const
632 {
</pre>
</td>
<td>
<hr />
<pre>
442 void EditorClientJava::respondToChangedContents()
443 {
444     notImplemented();
445 }
446 
447 void EditorClientJava::respondToChangedSelection(Frame *frame)
448 {
449     if (!frame || !frame-&gt;editor().hasComposition()
450         || frame-&gt;editor().ignoreSelectionChanges()) {
451         return;
452     }
453     unsigned start, end;
454     if (!frame-&gt;editor().getCompositionSelection(start, end)) {
455         // Commit composed text here outside the Java Input Method
456         // Framework. InputContext.endComposition() will be called
457         // later through a setInputMethodState() call. The
458         // endComposition call will generate an InputMethodEvent with
459         // committed text which will be ignored in
460         // JWebPane.processInputMethodEvent().
461         frame-&gt;editor().cancelComposition();
<span class="line-modified">462         setInputMethodState(nullptr);</span>
463     }
464 }
465 
466 void EditorClientJava::updateEditorStateAfterLayoutIfEditabilityChanged() {
467     notImplemented();
468 }
469 
470 void EditorClientJava::didEndEditing()
471 {
472     notImplemented();
473 }
474 
475 void EditorClientJava::didWriteSelectionToPasteboard()
476 {
477     notImplemented();
478 }
479 
480 bool EditorClientJava::canUndo() const
481 {
482     return !m_undoStack.isEmpty();
</pre>
<hr />
<pre>
579 }
580 
581 void EditorClientJava::showSpellingUI(bool)
582 {
583     notImplemented();
584 }
585 
586 bool EditorClientJava::spellingUIIsShowing()
587 {
588     notImplemented();
589     return false;
590 }
591 
592 
593 bool EditorClientJava::shouldMoveRangeAfterDelete(Range*, Range*)
594 {
595     notImplemented();
596     return true;
597 }
598 
<span class="line-modified">599 void EditorClientJava::setInputMethodState(Element* element)</span>
600 {
601     JNIEnv* env = WTF::GetJavaEnv();
602 
603     static jmethodID midSetInputMethodState = env-&gt;GetMethodID(
604         PG_GetWebPageClass(env),
605         &quot;setInputMethodState&quot;,
606         &quot;(Z)V&quot;);
607     ASSERT(midSetInputMethodState);
608 
609     env-&gt;CallVoidMethod(
610         m_webPage,
611         midSetInputMethodState,
<span class="line-modified">612         bool_to_jbool(element &amp;&amp; element-&gt;shouldUseInputMethod()));</span>
613     WTF::CheckAndClearException(env);
614 }
615 
616 void EditorClientJava::handleInputMethodKeydown(KeyboardEvent&amp;)
617 {
618     notImplemented();
619 }
620 
621 void EditorClientJava::willSetInputMethodState()
622 {
623     notImplemented();
624 }
625 
626 bool EditorClientJava::canCopyCut(Frame*, bool defaultValue) const
627 {
628     return defaultValue;
629 }
630 
631 bool EditorClientJava::canPaste(Frame*, bool defaultValue) const
632 {
</pre>
</td>
</tr>
</table>
<center><a href="DragClientJava.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="EditorClientJava.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>