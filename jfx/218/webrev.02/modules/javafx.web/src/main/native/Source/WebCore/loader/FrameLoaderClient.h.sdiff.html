<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/loader/FrameLoaderClient.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="FrameLoader.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="FrameLoaderTypes.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/loader/FrameLoaderClient.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 46 #if ENABLE(CONTENT_FILTERING)
 47 #include &quot;ContentFilterUnblockHandler.h&quot;
 48 #endif
 49 
 50 #if PLATFORM(COCOA)
 51 #ifdef __OBJC__
 52 #import &lt;Foundation/Foundation.h&gt;
 53 typedef id RemoteAXObjectRef;
 54 #else
 55 typedef void* RemoteAXObjectRef;
 56 #endif
 57 #endif
 58 
 59 #if PLATFORM(COCOA)
 60 OBJC_CLASS NSArray;
 61 OBJC_CLASS NSCachedURLResponse;
 62 OBJC_CLASS NSDictionary;
 63 OBJC_CLASS NSView;
 64 #endif
 65 
<span class="line-removed"> 66 namespace PAL {</span>
<span class="line-removed"> 67 class SessionID;</span>
<span class="line-removed"> 68 }</span>
<span class="line-removed"> 69 </span>
 70 namespace WebCore {
 71 
 72 class AuthenticationChallenge;
 73 class CachedFrame;
 74 class CachedResourceRequest;
 75 class Color;
 76 class DOMWindow;
 77 class DOMWindowExtension;
 78 class DOMWrapperWorld;
 79 class DocumentLoader;
 80 class Element;
 81 class FormState;
 82 class Frame;
 83 class FrameLoader;
 84 class FrameNetworkingContext;
 85 class HTMLAppletElement;
 86 class HTMLFormElement;
 87 class HTMLFrameOwnerElement;
 88 class HTMLPlugInElement;
 89 class HistoryItem;
 90 class IntSize;

 91 class MessageEvent;
 92 class NavigationAction;
 93 class Page;
 94 class PluginViewBase;
<span class="line-removed"> 95 class PreviewLoaderClient;</span>
 96 class ProtectionSpace;
 97 class RTCPeerConnectionHandler;
 98 class ResourceError;
 99 class ResourceHandle;
100 class ResourceRequest;
101 class ResourceResponse;
102 class SecurityOrigin;
103 class SharedBuffer;
104 class SubstituteData;
105 class Widget;
106 
107 enum class LockBackForwardList : bool;
108 enum class PolicyDecisionMode;
109 
110 struct StringWithDirection;
111 
112 typedef WTF::Function&lt;void (PolicyAction, PolicyCheckIdentifier)&gt; FramePolicyFunction;
113 
114 class WEBCORE_EXPORT FrameLoaderClient {
115     WTF_MAKE_FAST_ALLOCATED;
116 public:
117     // An inline function cannot be the first non-abstract virtual function declared
118     // in the class as it results in the vtable being generated as a weak symbol.
119     // This hurts performance (in Mac OS X at least, when loading frameworks), so we
120     // don&#39;t want to do it in WebKit.
121     virtual bool hasHTMLView() const;
122 
123     virtual ~FrameLoaderClient() = default;
124 
125     virtual void frameLoaderDestroyed() = 0;
126 
127     virtual bool hasWebView() const = 0; // mainly for assertions
128 
129     virtual void makeRepresentation(DocumentLoader*) = 0;
130 
131     virtual Optional&lt;PageIdentifier&gt; pageID() const = 0;
132     virtual Optional&lt;FrameIdentifier&gt; frameID() const = 0;
<span class="line-removed">133     virtual PAL::SessionID sessionID() const = 0;</span>
134 
135 #if PLATFORM(IOS_FAMILY)
136     // Returns true if the client forced the layout.
<span class="line-modified">137     virtual bool forceLayoutOnRestoreFromPageCache() = 0;</span>
138 #endif
139     virtual void forceLayoutForNonHTML() = 0;
140 
141     virtual void setCopiesOnScroll() = 0;
142 
143     virtual void detachedFromParent2() = 0;
144     virtual void detachedFromParent3() = 0;
145 
146     virtual void assignIdentifierToInitialRequest(unsigned long identifier, DocumentLoader*, const ResourceRequest&amp;) = 0;
147 
148     virtual void dispatchWillSendRequest(DocumentLoader*, unsigned long identifier, ResourceRequest&amp;, const ResourceResponse&amp; redirectResponse) = 0;
149     virtual bool shouldUseCredentialStorage(DocumentLoader*, unsigned long identifier) = 0;
150     virtual void dispatchDidReceiveAuthenticationChallenge(DocumentLoader*, unsigned long identifier, const AuthenticationChallenge&amp;) = 0;
151 #if USE(PROTECTION_SPACE_AUTH_CALLBACK)
152     virtual bool canAuthenticateAgainstProtectionSpace(DocumentLoader*, unsigned long identifier, const ProtectionSpace&amp;) = 0;
153 #endif
154 
155 #if PLATFORM(IOS_FAMILY)
156     virtual RetainPtr&lt;CFDictionaryRef&gt; connectionProperties(DocumentLoader*, unsigned long identifier) = 0;
157 #endif
</pre>
<hr />
<pre>
166     virtual void dispatchDidReceiveServerRedirectForProvisionalLoad() = 0;
167     virtual void dispatchDidChangeProvisionalURL() { }
168     virtual void dispatchDidCancelClientRedirect() = 0;
169     virtual void dispatchWillPerformClientRedirect(const URL&amp;, double interval, WallTime fireDate, LockBackForwardList) = 0;
170     virtual void dispatchDidChangeMainDocument() { }
171     virtual void dispatchWillChangeDocument(const URL&amp;, const URL&amp;) { }
172     virtual void dispatchDidNavigateWithinPage() { }
173     virtual void dispatchDidChangeLocationWithinPage() = 0;
174     virtual void dispatchDidPushStateWithinPage() = 0;
175     virtual void dispatchDidReplaceStateWithinPage() = 0;
176     virtual void dispatchDidPopStateWithinPage() = 0;
177     virtual void dispatchWillClose() = 0;
178     virtual void dispatchDidReceiveIcon() { }
179     virtual void dispatchDidStartProvisionalLoad() = 0;
180     virtual void dispatchDidReceiveTitle(const StringWithDirection&amp;) = 0;
181     virtual void dispatchDidCommitLoad(Optional&lt;HasInsecureContent&gt;) = 0;
182     virtual void dispatchDidFailProvisionalLoad(const ResourceError&amp;, WillContinueLoading) = 0;
183     virtual void dispatchDidFailLoad(const ResourceError&amp;) = 0;
184     virtual void dispatchDidFinishDocumentLoad() = 0;
185     virtual void dispatchDidFinishLoad() = 0;
<span class="line-modified">186     virtual void dispatchDidExplicitOpen(const URL&amp;) { }</span>
187 #if ENABLE(DATA_DETECTION)
188     virtual void dispatchDidFinishDataDetection(NSArray *detectionResults) = 0;
189 #endif
190 
191     virtual void dispatchDidLayout() { }
192     virtual void dispatchDidReachLayoutMilestone(OptionSet&lt;LayoutMilestone&gt;) { }
193 
194     virtual Frame* dispatchCreatePage(const NavigationAction&amp;) = 0;
195     virtual void dispatchShow() = 0;
196 
197     virtual void dispatchDecidePolicyForResponse(const ResourceResponse&amp;, const ResourceRequest&amp;, PolicyCheckIdentifier, const String&amp; downloadAttribute, FramePolicyFunction&amp;&amp;) = 0;
198     virtual void dispatchDecidePolicyForNewWindowAction(const NavigationAction&amp;, const ResourceRequest&amp;, FormState*, const String&amp; frameName, PolicyCheckIdentifier, FramePolicyFunction&amp;&amp;) = 0;
199     virtual void dispatchDecidePolicyForNavigationAction(const NavigationAction&amp;, const ResourceRequest&amp;, const ResourceResponse&amp; redirectResponse, FormState*, PolicyDecisionMode, PolicyCheckIdentifier, FramePolicyFunction&amp;&amp;) = 0;
200     virtual void cancelPolicyCheck() = 0;
201 
202     virtual void dispatchUnableToImplementPolicy(const ResourceError&amp;) = 0;
203 
204     virtual void dispatchWillSendSubmitEvent(Ref&lt;FormState&gt;&amp;&amp;) = 0;
205     virtual void dispatchWillSubmitForm(FormState&amp;, CompletionHandler&lt;void()&gt;&amp;&amp;) = 0;
206 
</pre>
<hr />
<pre>
266     virtual void restoreViewState() = 0;
267     virtual void provisionalLoadStarted() = 0;
268     virtual void didFinishLoad() = 0;
269     virtual void prepareForDataSourceReplacement() = 0;
270 
271     virtual Ref&lt;DocumentLoader&gt; createDocumentLoader(const ResourceRequest&amp;, const SubstituteData&amp;) = 0;
272     virtual void updateCachedDocumentLoader(DocumentLoader&amp;) = 0;
273     virtual void setTitle(const StringWithDirection&amp;, const URL&amp;) = 0;
274 
275     virtual String userAgent(const URL&amp;) = 0;
276 
277     virtual String overrideContentSecurityPolicy() const { return String(); }
278 
279     virtual void savePlatformDataToCachedFrame(CachedFrame*) = 0;
280     virtual void transitionToCommittedFromCachedFrame(CachedFrame*) = 0;
281 #if PLATFORM(IOS_FAMILY)
282     virtual void didRestoreFrameHierarchyForCachedFrame() = 0;
283 #endif
284     virtual void transitionToCommittedForNewPage() = 0;
285 
<span class="line-modified">286     virtual void didSaveToPageCache() = 0;</span>
<span class="line-removed">287     virtual void didRestoreFromPageCache() = 0;</span>
288 
289     virtual void dispatchDidBecomeFrameset(bool) = 0; // Can change due to navigation or DOM modification.
290 
291     virtual bool canCachePage() const = 0;
<span class="line-modified">292     virtual void convertMainResourceLoadToDownload(DocumentLoader*, PAL::SessionID, const ResourceRequest&amp;, const ResourceResponse&amp;) = 0;</span>
293 
294     virtual RefPtr&lt;Frame&gt; createFrame(const URL&amp;, const String&amp; name, HTMLFrameOwnerElement&amp;, const String&amp; referrer) = 0;
295     virtual RefPtr&lt;Widget&gt; createPlugin(const IntSize&amp;, HTMLPlugInElement&amp;, const URL&amp;, const Vector&lt;String&gt;&amp;, const Vector&lt;String&gt;&amp;, const String&amp;, bool loadManually) = 0;
296     virtual void redirectDataToPlugin(Widget&amp;) = 0;
297 
298     virtual RefPtr&lt;Widget&gt; createJavaAppletWidget(const IntSize&amp;, HTMLAppletElement&amp;, const URL&amp; baseURL, const Vector&lt;String&gt;&amp; paramNames, const Vector&lt;String&gt;&amp; paramValues) = 0;
299 
300     virtual ObjectContentType objectContentType(const URL&amp;, const String&amp; mimeType) = 0;
301     virtual String overrideMediaType() const = 0;
302 
303     virtual void dispatchDidClearWindowObjectInWorld(DOMWrapperWorld&amp;) = 0;
304 
305     virtual void registerForIconNotification() { }
306 
307 #if PLATFORM(COCOA)
308     // Allow an accessibility object to retrieve a Frame parent if there&#39;s no PlatformWidget.
309     virtual RemoteAXObjectRef accessibilityRemoteObject() = 0;
310     virtual void willCacheResponse(DocumentLoader*, unsigned long identifier, NSCachedURLResponse*, CompletionHandler&lt;void(NSCachedURLResponse *)&gt;&amp;&amp;) const = 0;
311     virtual NSDictionary *dataDetectionContext() { return nullptr; }
312 #endif
</pre>
<hr />
<pre>
327     virtual bool shouldForceUniversalAccessFromLocalURL(const URL&amp;) { return false; }
328 
329     virtual Ref&lt;FrameNetworkingContext&gt; createNetworkingContext() = 0;
330 
331     virtual bool shouldPaintBrokenImage(const URL&amp;) const { return true; }
332 
333     virtual void dispatchGlobalObjectAvailable(DOMWrapperWorld&amp;) { }
334     virtual void dispatchWillDisconnectDOMWindowExtensionFromGlobalObject(DOMWindowExtension*) { }
335     virtual void dispatchDidReconnectDOMWindowExtensionToGlobalObject(DOMWindowExtension*) { }
336     virtual void dispatchWillDestroyGlobalObjectForDOMWindowExtension(DOMWindowExtension*) { }
337 
338     virtual void willInjectUserScript(DOMWrapperWorld&amp;) { }
339 
340 #if ENABLE(WEB_RTC)
341     virtual void dispatchWillStartUsingPeerConnectionHandler(RTCPeerConnectionHandler*) { }
342 #endif
343 
344 #if ENABLE(WEBGL)
345     virtual bool allowWebGL(bool enabledPerSettings) { return enabledPerSettings; }
346     // Informs the embedder that a WebGL canvas inside this frame received a lost context
<span class="line-modified">347     // notification with the given GL_ARB_robustness guilt/innocence code (see Extensions3D.h).</span>
348     virtual void didLoseWebGLContext(int) { }
349     virtual WebGLLoadPolicy webGLPolicyForURL(const URL&amp;) const { return WebGLAllowCreation; }
350     virtual WebGLLoadPolicy resolveWebGLPolicyForURL(const URL&amp;) const { return WebGLAllowCreation; }
351 #endif
352 
353     virtual void forcePageTransitionIfNeeded() { }
354 
355     // FIXME (bug 116233): We need to get rid of EmptyFrameLoaderClient completely, then this will no longer be needed.
<span class="line-modified">356     virtual bool isEmptyFrameLoaderClient() { return false; }</span>

357 
358 #if PLATFORM(JAVA)
359         virtual bool isJavaFrameLoaderClient() { return false; }
360 #endif
361 #if USE(QUICK_LOOK)
<span class="line-modified">362     virtual RefPtr&lt;PreviewLoaderClient&gt; createPreviewLoaderClient(const String&amp;, const String&amp;) = 0;</span>
363 #endif
364 
365 #if ENABLE(CONTENT_FILTERING)
366     virtual void contentFilterDidBlockLoad(ContentFilterUnblockHandler) { }
367 #endif
368 
369     virtual void prefetchDNS(const String&amp;) = 0;
370 
371     virtual void didRestoreScrollPosition() { }
372 
373     virtual void getLoadDecisionForIcons(const Vector&lt;std::pair&lt;WebCore::LinkIcon&amp;, uint64_t&gt;&gt;&amp;) { }
374     virtual void finishedLoadingIcon(uint64_t, SharedBuffer*) { }
375 
376     virtual void didCreateWindow(DOMWindow&amp;) { }
377 
378 #if ENABLE(APPLICATION_MANIFEST)
379     virtual void finishedLoadingApplicationManifest(uint64_t, const Optional&lt;ApplicationManifest&gt;&amp;) { }
380 #endif
381 
382 #if ENABLE(RESOURCE_LOAD_STATISTICS)
383     virtual bool hasFrameSpecificStorageAccess() { return false; }
<span class="line-removed">384     virtual void setHasFrameSpecificStorageAccess(bool) { }</span>
385 #endif
386 };
387 
388 } // namespace WebCore
</pre>
</td>
<td>
<hr />
<pre>
 46 #if ENABLE(CONTENT_FILTERING)
 47 #include &quot;ContentFilterUnblockHandler.h&quot;
 48 #endif
 49 
 50 #if PLATFORM(COCOA)
 51 #ifdef __OBJC__
 52 #import &lt;Foundation/Foundation.h&gt;
 53 typedef id RemoteAXObjectRef;
 54 #else
 55 typedef void* RemoteAXObjectRef;
 56 #endif
 57 #endif
 58 
 59 #if PLATFORM(COCOA)
 60 OBJC_CLASS NSArray;
 61 OBJC_CLASS NSCachedURLResponse;
 62 OBJC_CLASS NSDictionary;
 63 OBJC_CLASS NSView;
 64 #endif
 65 




 66 namespace WebCore {
 67 
 68 class AuthenticationChallenge;
 69 class CachedFrame;
 70 class CachedResourceRequest;
 71 class Color;
 72 class DOMWindow;
 73 class DOMWindowExtension;
 74 class DOMWrapperWorld;
 75 class DocumentLoader;
 76 class Element;
 77 class FormState;
 78 class Frame;
 79 class FrameLoader;
 80 class FrameNetworkingContext;
 81 class HTMLAppletElement;
 82 class HTMLFormElement;
 83 class HTMLFrameOwnerElement;
 84 class HTMLPlugInElement;
 85 class HistoryItem;
 86 class IntSize;
<span class="line-added"> 87 class LegacyPreviewLoaderClient;</span>
 88 class MessageEvent;
 89 class NavigationAction;
 90 class Page;
 91 class PluginViewBase;

 92 class ProtectionSpace;
 93 class RTCPeerConnectionHandler;
 94 class ResourceError;
 95 class ResourceHandle;
 96 class ResourceRequest;
 97 class ResourceResponse;
 98 class SecurityOrigin;
 99 class SharedBuffer;
100 class SubstituteData;
101 class Widget;
102 
103 enum class LockBackForwardList : bool;
104 enum class PolicyDecisionMode;
105 
106 struct StringWithDirection;
107 
108 typedef WTF::Function&lt;void (PolicyAction, PolicyCheckIdentifier)&gt; FramePolicyFunction;
109 
110 class WEBCORE_EXPORT FrameLoaderClient {
111     WTF_MAKE_FAST_ALLOCATED;
112 public:
113     // An inline function cannot be the first non-abstract virtual function declared
114     // in the class as it results in the vtable being generated as a weak symbol.
115     // This hurts performance (in Mac OS X at least, when loading frameworks), so we
116     // don&#39;t want to do it in WebKit.
117     virtual bool hasHTMLView() const;
118 
119     virtual ~FrameLoaderClient() = default;
120 
121     virtual void frameLoaderDestroyed() = 0;
122 
123     virtual bool hasWebView() const = 0; // mainly for assertions
124 
125     virtual void makeRepresentation(DocumentLoader*) = 0;
126 
127     virtual Optional&lt;PageIdentifier&gt; pageID() const = 0;
128     virtual Optional&lt;FrameIdentifier&gt; frameID() const = 0;

129 
130 #if PLATFORM(IOS_FAMILY)
131     // Returns true if the client forced the layout.
<span class="line-modified">132     virtual bool forceLayoutOnRestoreFromBackForwardCache() = 0;</span>
133 #endif
134     virtual void forceLayoutForNonHTML() = 0;
135 
136     virtual void setCopiesOnScroll() = 0;
137 
138     virtual void detachedFromParent2() = 0;
139     virtual void detachedFromParent3() = 0;
140 
141     virtual void assignIdentifierToInitialRequest(unsigned long identifier, DocumentLoader*, const ResourceRequest&amp;) = 0;
142 
143     virtual void dispatchWillSendRequest(DocumentLoader*, unsigned long identifier, ResourceRequest&amp;, const ResourceResponse&amp; redirectResponse) = 0;
144     virtual bool shouldUseCredentialStorage(DocumentLoader*, unsigned long identifier) = 0;
145     virtual void dispatchDidReceiveAuthenticationChallenge(DocumentLoader*, unsigned long identifier, const AuthenticationChallenge&amp;) = 0;
146 #if USE(PROTECTION_SPACE_AUTH_CALLBACK)
147     virtual bool canAuthenticateAgainstProtectionSpace(DocumentLoader*, unsigned long identifier, const ProtectionSpace&amp;) = 0;
148 #endif
149 
150 #if PLATFORM(IOS_FAMILY)
151     virtual RetainPtr&lt;CFDictionaryRef&gt; connectionProperties(DocumentLoader*, unsigned long identifier) = 0;
152 #endif
</pre>
<hr />
<pre>
161     virtual void dispatchDidReceiveServerRedirectForProvisionalLoad() = 0;
162     virtual void dispatchDidChangeProvisionalURL() { }
163     virtual void dispatchDidCancelClientRedirect() = 0;
164     virtual void dispatchWillPerformClientRedirect(const URL&amp;, double interval, WallTime fireDate, LockBackForwardList) = 0;
165     virtual void dispatchDidChangeMainDocument() { }
166     virtual void dispatchWillChangeDocument(const URL&amp;, const URL&amp;) { }
167     virtual void dispatchDidNavigateWithinPage() { }
168     virtual void dispatchDidChangeLocationWithinPage() = 0;
169     virtual void dispatchDidPushStateWithinPage() = 0;
170     virtual void dispatchDidReplaceStateWithinPage() = 0;
171     virtual void dispatchDidPopStateWithinPage() = 0;
172     virtual void dispatchWillClose() = 0;
173     virtual void dispatchDidReceiveIcon() { }
174     virtual void dispatchDidStartProvisionalLoad() = 0;
175     virtual void dispatchDidReceiveTitle(const StringWithDirection&amp;) = 0;
176     virtual void dispatchDidCommitLoad(Optional&lt;HasInsecureContent&gt;) = 0;
177     virtual void dispatchDidFailProvisionalLoad(const ResourceError&amp;, WillContinueLoading) = 0;
178     virtual void dispatchDidFailLoad(const ResourceError&amp;) = 0;
179     virtual void dispatchDidFinishDocumentLoad() = 0;
180     virtual void dispatchDidFinishLoad() = 0;
<span class="line-modified">181     virtual void dispatchDidExplicitOpen(const URL&amp;, const String&amp; /* mimeType */) { }</span>
182 #if ENABLE(DATA_DETECTION)
183     virtual void dispatchDidFinishDataDetection(NSArray *detectionResults) = 0;
184 #endif
185 
186     virtual void dispatchDidLayout() { }
187     virtual void dispatchDidReachLayoutMilestone(OptionSet&lt;LayoutMilestone&gt;) { }
188 
189     virtual Frame* dispatchCreatePage(const NavigationAction&amp;) = 0;
190     virtual void dispatchShow() = 0;
191 
192     virtual void dispatchDecidePolicyForResponse(const ResourceResponse&amp;, const ResourceRequest&amp;, PolicyCheckIdentifier, const String&amp; downloadAttribute, FramePolicyFunction&amp;&amp;) = 0;
193     virtual void dispatchDecidePolicyForNewWindowAction(const NavigationAction&amp;, const ResourceRequest&amp;, FormState*, const String&amp; frameName, PolicyCheckIdentifier, FramePolicyFunction&amp;&amp;) = 0;
194     virtual void dispatchDecidePolicyForNavigationAction(const NavigationAction&amp;, const ResourceRequest&amp;, const ResourceResponse&amp; redirectResponse, FormState*, PolicyDecisionMode, PolicyCheckIdentifier, FramePolicyFunction&amp;&amp;) = 0;
195     virtual void cancelPolicyCheck() = 0;
196 
197     virtual void dispatchUnableToImplementPolicy(const ResourceError&amp;) = 0;
198 
199     virtual void dispatchWillSendSubmitEvent(Ref&lt;FormState&gt;&amp;&amp;) = 0;
200     virtual void dispatchWillSubmitForm(FormState&amp;, CompletionHandler&lt;void()&gt;&amp;&amp;) = 0;
201 
</pre>
<hr />
<pre>
261     virtual void restoreViewState() = 0;
262     virtual void provisionalLoadStarted() = 0;
263     virtual void didFinishLoad() = 0;
264     virtual void prepareForDataSourceReplacement() = 0;
265 
266     virtual Ref&lt;DocumentLoader&gt; createDocumentLoader(const ResourceRequest&amp;, const SubstituteData&amp;) = 0;
267     virtual void updateCachedDocumentLoader(DocumentLoader&amp;) = 0;
268     virtual void setTitle(const StringWithDirection&amp;, const URL&amp;) = 0;
269 
270     virtual String userAgent(const URL&amp;) = 0;
271 
272     virtual String overrideContentSecurityPolicy() const { return String(); }
273 
274     virtual void savePlatformDataToCachedFrame(CachedFrame*) = 0;
275     virtual void transitionToCommittedFromCachedFrame(CachedFrame*) = 0;
276 #if PLATFORM(IOS_FAMILY)
277     virtual void didRestoreFrameHierarchyForCachedFrame() = 0;
278 #endif
279     virtual void transitionToCommittedForNewPage() = 0;
280 
<span class="line-modified">281     virtual void didRestoreFromBackForwardCache() = 0;</span>

282 
283     virtual void dispatchDidBecomeFrameset(bool) = 0; // Can change due to navigation or DOM modification.
284 
285     virtual bool canCachePage() const = 0;
<span class="line-modified">286     virtual void convertMainResourceLoadToDownload(DocumentLoader*, const ResourceRequest&amp;, const ResourceResponse&amp;) = 0;</span>
287 
288     virtual RefPtr&lt;Frame&gt; createFrame(const URL&amp;, const String&amp; name, HTMLFrameOwnerElement&amp;, const String&amp; referrer) = 0;
289     virtual RefPtr&lt;Widget&gt; createPlugin(const IntSize&amp;, HTMLPlugInElement&amp;, const URL&amp;, const Vector&lt;String&gt;&amp;, const Vector&lt;String&gt;&amp;, const String&amp;, bool loadManually) = 0;
290     virtual void redirectDataToPlugin(Widget&amp;) = 0;
291 
292     virtual RefPtr&lt;Widget&gt; createJavaAppletWidget(const IntSize&amp;, HTMLAppletElement&amp;, const URL&amp; baseURL, const Vector&lt;String&gt;&amp; paramNames, const Vector&lt;String&gt;&amp; paramValues) = 0;
293 
294     virtual ObjectContentType objectContentType(const URL&amp;, const String&amp; mimeType) = 0;
295     virtual String overrideMediaType() const = 0;
296 
297     virtual void dispatchDidClearWindowObjectInWorld(DOMWrapperWorld&amp;) = 0;
298 
299     virtual void registerForIconNotification() { }
300 
301 #if PLATFORM(COCOA)
302     // Allow an accessibility object to retrieve a Frame parent if there&#39;s no PlatformWidget.
303     virtual RemoteAXObjectRef accessibilityRemoteObject() = 0;
304     virtual void willCacheResponse(DocumentLoader*, unsigned long identifier, NSCachedURLResponse*, CompletionHandler&lt;void(NSCachedURLResponse *)&gt;&amp;&amp;) const = 0;
305     virtual NSDictionary *dataDetectionContext() { return nullptr; }
306 #endif
</pre>
<hr />
<pre>
321     virtual bool shouldForceUniversalAccessFromLocalURL(const URL&amp;) { return false; }
322 
323     virtual Ref&lt;FrameNetworkingContext&gt; createNetworkingContext() = 0;
324 
325     virtual bool shouldPaintBrokenImage(const URL&amp;) const { return true; }
326 
327     virtual void dispatchGlobalObjectAvailable(DOMWrapperWorld&amp;) { }
328     virtual void dispatchWillDisconnectDOMWindowExtensionFromGlobalObject(DOMWindowExtension*) { }
329     virtual void dispatchDidReconnectDOMWindowExtensionToGlobalObject(DOMWindowExtension*) { }
330     virtual void dispatchWillDestroyGlobalObjectForDOMWindowExtension(DOMWindowExtension*) { }
331 
332     virtual void willInjectUserScript(DOMWrapperWorld&amp;) { }
333 
334 #if ENABLE(WEB_RTC)
335     virtual void dispatchWillStartUsingPeerConnectionHandler(RTCPeerConnectionHandler*) { }
336 #endif
337 
338 #if ENABLE(WEBGL)
339     virtual bool allowWebGL(bool enabledPerSettings) { return enabledPerSettings; }
340     // Informs the embedder that a WebGL canvas inside this frame received a lost context
<span class="line-modified">341     // notification with the given GL_ARB_robustness guilt/innocence code (see ExtensionsGL.h).</span>
342     virtual void didLoseWebGLContext(int) { }
343     virtual WebGLLoadPolicy webGLPolicyForURL(const URL&amp;) const { return WebGLAllowCreation; }
344     virtual WebGLLoadPolicy resolveWebGLPolicyForURL(const URL&amp;) const { return WebGLAllowCreation; }
345 #endif
346 
347     virtual void forcePageTransitionIfNeeded() { }
348 
349     // FIXME (bug 116233): We need to get rid of EmptyFrameLoaderClient completely, then this will no longer be needed.
<span class="line-modified">350     virtual bool isEmptyFrameLoaderClient() const { return false; }</span>
<span class="line-added">351     virtual bool isServiceWorkerFrameLoaderClient() const { return false; }</span>
352 
353 #if PLATFORM(JAVA)
354         virtual bool isJavaFrameLoaderClient() { return false; }
355 #endif
356 #if USE(QUICK_LOOK)
<span class="line-modified">357     virtual RefPtr&lt;LegacyPreviewLoaderClient&gt; createPreviewLoaderClient(const String&amp;, const String&amp;) = 0;</span>
358 #endif
359 
360 #if ENABLE(CONTENT_FILTERING)
361     virtual void contentFilterDidBlockLoad(ContentFilterUnblockHandler) { }
362 #endif
363 
364     virtual void prefetchDNS(const String&amp;) = 0;
365 
366     virtual void didRestoreScrollPosition() { }
367 
368     virtual void getLoadDecisionForIcons(const Vector&lt;std::pair&lt;WebCore::LinkIcon&amp;, uint64_t&gt;&gt;&amp;) { }
369     virtual void finishedLoadingIcon(uint64_t, SharedBuffer*) { }
370 
371     virtual void didCreateWindow(DOMWindow&amp;) { }
372 
373 #if ENABLE(APPLICATION_MANIFEST)
374     virtual void finishedLoadingApplicationManifest(uint64_t, const Optional&lt;ApplicationManifest&gt;&amp;) { }
375 #endif
376 
377 #if ENABLE(RESOURCE_LOAD_STATISTICS)
378     virtual bool hasFrameSpecificStorageAccess() { return false; }

379 #endif
380 };
381 
382 } // namespace WebCore
</pre>
</td>
</tr>
</table>
<center><a href="FrameLoader.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="FrameLoaderTypes.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>