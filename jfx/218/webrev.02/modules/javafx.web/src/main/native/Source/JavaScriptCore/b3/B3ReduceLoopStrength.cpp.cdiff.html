<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/b3/B3ReduceLoopStrength.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="B3ReduceDoubleToFloat.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="B3ReduceStrength.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/b3/B3ReduceLoopStrength.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 143,11 ***</span>
      : &quot;xmm0&quot;, &quot;xmm1&quot;);
  }
  #endif
  
  class ReduceLoopStrength {
<span class="line-modified">!     static const bool verbose = false;</span>
  
      struct AddrInfo {
          Value* appendAddr(Procedure&amp; proc, BasicBlock* block, Value* addr)
          {
              block-&gt;appendNew&lt;Value&gt;(proc, Identity, addr-&gt;origin(), addr);
<span class="line-new-header">--- 143,11 ---</span>
      : &quot;xmm0&quot;, &quot;xmm1&quot;);
  }
  #endif
  
  class ReduceLoopStrength {
<span class="line-modified">!     static constexpr bool verbose = false;</span>
  
      struct AddrInfo {
          Value* appendAddr(Procedure&amp; proc, BasicBlock* block, Value* addr)
          {
              block-&gt;appendNew&lt;Value&gt;(proc, Identity, addr-&gt;origin(), addr);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 435,12 ***</span>
          auto origin = loopPostfooter-&gt;at(0)-&gt;origin();
  
          BasicBlock* memcpy = m_blockInsertionSet.insertBefore(loopPostfooter, loopPostfooter-&gt;frequency());
          memcpy-&gt;setSuccessors(FrequentedBlock(loopPostfooter));
          memcpy-&gt;addPredecessor(loopPreheader);
<span class="line-modified">!         for (BasicBlock* pred : loopPostfooter-&gt;predecessors())</span>
<span class="line-modified">!             loopPostfooter-&gt;removePredecessor(pred);</span>
          loopPostfooter-&gt;addPredecessor(memcpy);
          loopPreheader-&gt;setSuccessors(memcpy);
  
          Effects effects = Effects::forCall();
          memcpy-&gt;appendNew&lt;CCallValue&gt;(m_proc, B3::Void, origin, effects,
<span class="line-new-header">--- 435,12 ---</span>
          auto origin = loopPostfooter-&gt;at(0)-&gt;origin();
  
          BasicBlock* memcpy = m_blockInsertionSet.insertBefore(loopPostfooter, loopPostfooter-&gt;frequency());
          memcpy-&gt;setSuccessors(FrequentedBlock(loopPostfooter));
          memcpy-&gt;addPredecessor(loopPreheader);
<span class="line-modified">!         while (loopPostfooter-&gt;predecessors().size())</span>
<span class="line-modified">!             loopPostfooter-&gt;removePredecessor(loopPostfooter-&gt;predecessors()[0]);</span>
          loopPostfooter-&gt;addPredecessor(memcpy);
          loopPreheader-&gt;setSuccessors(memcpy);
  
          Effects effects = Effects::forCall();
          memcpy-&gt;appendNew&lt;CCallValue&gt;(m_proc, B3::Void, origin, effects,
</pre>
<center><a href="B3ReduceDoubleToFloat.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="B3ReduceStrength.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>