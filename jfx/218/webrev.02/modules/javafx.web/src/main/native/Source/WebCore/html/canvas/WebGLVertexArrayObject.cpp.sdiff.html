<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/html/canvas/WebGLVertexArrayObject.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="WebGLUniformLocation.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="WebGLVertexArrayObject.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/html/canvas/WebGLVertexArrayObject.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
35 
36 Ref&lt;WebGLVertexArrayObject&gt; WebGLVertexArrayObject::create(WebGLRenderingContextBase&amp; context, Type type)
37 {
38     return adoptRef(*new WebGLVertexArrayObject(context, type));
39 }
40 
41 WebGLVertexArrayObject::~WebGLVertexArrayObject()
42 {
43     deleteObject(nullptr);
44 }
45 
46 WebGLVertexArrayObject::WebGLVertexArrayObject(WebGLRenderingContextBase&amp; context, Type type)
47     : WebGLVertexArrayObjectBase(context, type)
48 {
49 #if USE(OPENGL_ES)
50     if (m_type != Type::User)
51         return;
52 #else
53     ASSERT(type != Type::Default || !(this-&gt;context()-&gt;m_defaultVertexArrayObject));
54 #endif
<span class="line-modified">55     setObject(this-&gt;context()-&gt;graphicsContext3D()-&gt;createVertexArray());</span>
56 }
57 
<span class="line-modified">58 void WebGLVertexArrayObject::deleteObjectImpl(GraphicsContext3D* context3d, Platform3DObject object)</span>
59 {
60     switch (m_type) {
61     case Type::Default:
62         break;
63     case Type::User:
64         context3d-&gt;deleteVertexArray(object);
65         break;
66     }
67 
68     if (m_boundElementArrayBuffer)
69         m_boundElementArrayBuffer-&gt;onDetached(context3d);
70 
71     for (auto&amp; state : m_vertexAttribState) {
72         if (state.bufferBinding)
73             state.bufferBinding-&gt;onDetached(context3d);
74     }
75 }
76 
77 }
78 
</pre>
</td>
<td>
<hr />
<pre>
35 
36 Ref&lt;WebGLVertexArrayObject&gt; WebGLVertexArrayObject::create(WebGLRenderingContextBase&amp; context, Type type)
37 {
38     return adoptRef(*new WebGLVertexArrayObject(context, type));
39 }
40 
41 WebGLVertexArrayObject::~WebGLVertexArrayObject()
42 {
43     deleteObject(nullptr);
44 }
45 
46 WebGLVertexArrayObject::WebGLVertexArrayObject(WebGLRenderingContextBase&amp; context, Type type)
47     : WebGLVertexArrayObjectBase(context, type)
48 {
49 #if USE(OPENGL_ES)
50     if (m_type != Type::User)
51         return;
52 #else
53     ASSERT(type != Type::Default || !(this-&gt;context()-&gt;m_defaultVertexArrayObject));
54 #endif
<span class="line-modified">55     setObject(this-&gt;context()-&gt;graphicsContextGL()-&gt;createVertexArray());</span>
56 }
57 
<span class="line-modified">58 void WebGLVertexArrayObject::deleteObjectImpl(GraphicsContextGLOpenGL* context3d, PlatformGLObject object)</span>
59 {
60     switch (m_type) {
61     case Type::Default:
62         break;
63     case Type::User:
64         context3d-&gt;deleteVertexArray(object);
65         break;
66     }
67 
68     if (m_boundElementArrayBuffer)
69         m_boundElementArrayBuffer-&gt;onDetached(context3d);
70 
71     for (auto&amp; state : m_vertexAttribState) {
72         if (state.bufferBinding)
73             state.bufferBinding-&gt;onDetached(context3d);
74     }
75 }
76 
77 }
78 
</pre>
</td>
</tr>
</table>
<center><a href="WebGLUniformLocation.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="WebGLVertexArrayObject.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>