<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/dfg/DFGAvailabilityMap.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DFGAvailabilityMap.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DFGBackwardsPropagationPhase.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/dfg/DFGAvailabilityMap.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
49         for (unsigned i = m_locals.size(); i--;)
50             functor(m_locals[i]);
51         for (auto pair : m_heap)
52             functor(pair.value);
53     }
54 
55     template&lt;typename HasFunctor, typename AddFunctor&gt;
56     void closeOverNodes(const HasFunctor&amp; has, const AddFunctor&amp; add)
57     {
58         bool changed;
59         do {
60             changed = false;
61             for (auto pair : m_heap) {
62                 if (pair.value.hasNode() &amp;&amp; has(pair.key.base()))
63                     changed |= add(pair.value.node());
64             }
65         } while (changed);
66     }
67 
68     template&lt;typename HasFunctor, typename AddFunctor&gt;
<span class="line-modified">69     void closeStartingWithLocal(VirtualRegister reg, const HasFunctor&amp; has, const AddFunctor&amp; add)</span>
70     {
<span class="line-modified">71         Availability availability = m_locals.operand(reg);</span>
72         if (!availability.hasNode())
73             return;
74 
75         if (!add(availability.node()))
76             return;
77 
78         closeOverNodes(has, add);
79     }
80 
81     Operands&lt;Availability&gt; m_locals;
82     HashMap&lt;PromotedHeapLocation, Availability&gt; m_heap;
83 };
84 
85 } } // namespace JSC::DFG
86 
87 #endif // ENABLE(DFG_JIT)
</pre>
</td>
<td>
<hr />
<pre>
49         for (unsigned i = m_locals.size(); i--;)
50             functor(m_locals[i]);
51         for (auto pair : m_heap)
52             functor(pair.value);
53     }
54 
55     template&lt;typename HasFunctor, typename AddFunctor&gt;
56     void closeOverNodes(const HasFunctor&amp; has, const AddFunctor&amp; add)
57     {
58         bool changed;
59         do {
60             changed = false;
61             for (auto pair : m_heap) {
62                 if (pair.value.hasNode() &amp;&amp; has(pair.key.base()))
63                     changed |= add(pair.value.node());
64             }
65         } while (changed);
66     }
67 
68     template&lt;typename HasFunctor, typename AddFunctor&gt;
<span class="line-modified">69     void closeStartingWithLocal(Operand op, const HasFunctor&amp; has, const AddFunctor&amp; add)</span>
70     {
<span class="line-modified">71         Availability availability = m_locals.operand(op);</span>
72         if (!availability.hasNode())
73             return;
74 
75         if (!add(availability.node()))
76             return;
77 
78         closeOverNodes(has, add);
79     }
80 
81     Operands&lt;Availability&gt; m_locals;
82     HashMap&lt;PromotedHeapLocation, Availability&gt; m_heap;
83 };
84 
85 } } // namespace JSC::DFG
86 
87 #endif // ENABLE(DFG_JIT)
</pre>
</td>
</tr>
</table>
<center><a href="DFGAvailabilityMap.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DFGBackwardsPropagationPhase.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>