<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/dfg/DFGEdge.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DFGDriver.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DFGEdgeDominates.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/dfg/DFGEdge.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
181         return IntHash&lt;uintptr_t&gt;::hash(m_encodedWord);
182 #else
183         return PtrHash&lt;Node*&gt;::hash(m_node) + m_encodedWord;
184 #endif
185     }
186 
187 private:
188     friend class AdjacencyList;
189 
190 #if USE(JSVALUE64)
191     static constexpr uint32_t shift() { return 8; }
192 
193     static uintptr_t makeWord(Node* node, UseKind useKind, ProofStatus proofStatus, KillStatus killStatus)
194     {
195         ASSERT(sizeof(node) == 8);
196         uintptr_t shiftedValue = bitwise_cast&lt;uintptr_t&gt;(node) &lt;&lt; shift();
197         ASSERT((shiftedValue &gt;&gt; shift()) == bitwise_cast&lt;uintptr_t&gt;(node));
198         ASSERT(useKind &gt;= 0 &amp;&amp; useKind &lt; LastUseKind);
199         static_assert((static_cast&lt;uintptr_t&gt;(LastUseKind) &lt;&lt; 2) &lt; (static_cast&lt;uintptr_t&gt;(1) &lt;&lt; shift()), &quot;We rely on this being true to not clobber the node pointer.&quot;);
200         uintptr_t result = shiftedValue | (static_cast&lt;uintptr_t&gt;(useKind) &lt;&lt; 2) | (DFG::doesKill(killStatus) &lt;&lt; 1) | static_cast&lt;uintptr_t&gt;(DFG::isProved(proofStatus));
<span class="line-modified">201         if (!ASSERT_DISABLED) {</span>
202             union U {
203                 U() { word = 0; }
204                 uintptr_t word;
205                 Edge edge;
206             } u;
207             u.word = result;
208             ASSERT(u.edge.useKindUnchecked() == useKind);
209             ASSERT(u.edge.node() == node);
210             ASSERT(u.edge.proofStatusUnchecked() == proofStatus);
211             ASSERT(u.edge.killStatusUnchecked() == killStatus);
212         }
213         return result;
214     }
215 
216 #else
217     static uintptr_t makeWord(UseKind useKind, ProofStatus proofStatus, KillStatus killStatus)
218     {
219         return (static_cast&lt;uintptr_t&gt;(useKind) &lt;&lt; 2) | (DFG::doesKill(killStatus) &lt;&lt; 1) | static_cast&lt;uintptr_t&gt;(DFG::isProved(proofStatus));
220     }
221 
</pre>
</td>
<td>
<hr />
<pre>
181         return IntHash&lt;uintptr_t&gt;::hash(m_encodedWord);
182 #else
183         return PtrHash&lt;Node*&gt;::hash(m_node) + m_encodedWord;
184 #endif
185     }
186 
187 private:
188     friend class AdjacencyList;
189 
190 #if USE(JSVALUE64)
191     static constexpr uint32_t shift() { return 8; }
192 
193     static uintptr_t makeWord(Node* node, UseKind useKind, ProofStatus proofStatus, KillStatus killStatus)
194     {
195         ASSERT(sizeof(node) == 8);
196         uintptr_t shiftedValue = bitwise_cast&lt;uintptr_t&gt;(node) &lt;&lt; shift();
197         ASSERT((shiftedValue &gt;&gt; shift()) == bitwise_cast&lt;uintptr_t&gt;(node));
198         ASSERT(useKind &gt;= 0 &amp;&amp; useKind &lt; LastUseKind);
199         static_assert((static_cast&lt;uintptr_t&gt;(LastUseKind) &lt;&lt; 2) &lt; (static_cast&lt;uintptr_t&gt;(1) &lt;&lt; shift()), &quot;We rely on this being true to not clobber the node pointer.&quot;);
200         uintptr_t result = shiftedValue | (static_cast&lt;uintptr_t&gt;(useKind) &lt;&lt; 2) | (DFG::doesKill(killStatus) &lt;&lt; 1) | static_cast&lt;uintptr_t&gt;(DFG::isProved(proofStatus));
<span class="line-modified">201         if (ASSERT_ENABLED) {</span>
202             union U {
203                 U() { word = 0; }
204                 uintptr_t word;
205                 Edge edge;
206             } u;
207             u.word = result;
208             ASSERT(u.edge.useKindUnchecked() == useKind);
209             ASSERT(u.edge.node() == node);
210             ASSERT(u.edge.proofStatusUnchecked() == proofStatus);
211             ASSERT(u.edge.killStatusUnchecked() == killStatus);
212         }
213         return result;
214     }
215 
216 #else
217     static uintptr_t makeWord(UseKind useKind, ProofStatus proofStatus, KillStatus killStatus)
218     {
219         return (static_cast&lt;uintptr_t&gt;(useKind) &lt;&lt; 2) | (DFG::doesKill(killStatus) &lt;&lt; 1) | static_cast&lt;uintptr_t&gt;(DFG::isProved(proofStatus));
220     }
221 
</pre>
</td>
</tr>
</table>
<center><a href="DFGDriver.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DFGEdgeDominates.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>