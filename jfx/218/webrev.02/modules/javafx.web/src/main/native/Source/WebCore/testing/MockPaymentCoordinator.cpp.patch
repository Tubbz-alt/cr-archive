diff a/modules/javafx.web/src/main/native/Source/WebCore/testing/MockPaymentCoordinator.cpp b/modules/javafx.web/src/main/native/Source/WebCore/testing/MockPaymentCoordinator.cpp
--- a/modules/javafx.web/src/main/native/Source/WebCore/testing/MockPaymentCoordinator.cpp
+++ b/modules/javafx.web/src/main/native/Source/WebCore/testing/MockPaymentCoordinator.cpp
@@ -32,10 +32,12 @@
 #include "MockPayment.h"
 #include "MockPaymentContact.h"
 #include "MockPaymentMethod.h"
 #include "Page.h"
 #include "PaymentCoordinator.h"
+#include "PaymentMethodUpdate.h"
+#include "PaymentSessionError.h"
 #include <wtf/CompletionHandler.h>
 #include <wtf/RunLoop.h>
 #include <wtf/URL.h>
 
 namespace WebCore {
@@ -157,11 +159,11 @@
 }
 
 void MockPaymentCoordinator::completePaymentMethodSelection(Optional<PaymentMethodUpdate>&& paymentMethodUpdate)
 {
     if (paymentMethodUpdate)
-        updateTotalAndLineItems(paymentMethodUpdate->newTotalAndLineItems);
+        updateTotalAndLineItems(paymentMethodUpdate->totalAndLineItems());
 }
 
 void MockPaymentCoordinator::changeShippingOption(String&& shippingOption)
 {
     dispatchIfShowing([page = &m_page, shippingOption = WTFMove(shippingOption)]() mutable {
@@ -188,11 +190,11 @@
 }
 
 void MockPaymentCoordinator::cancelPayment()
 {
     dispatchIfShowing([page = &m_page] {
-        page->paymentCoordinator().didCancelPaymentSession();
+        page->paymentCoordinator().didCancelPaymentSession({ });
         ++hideCount;
         ASSERT(showCount == hideCount);
     });
 }
 
