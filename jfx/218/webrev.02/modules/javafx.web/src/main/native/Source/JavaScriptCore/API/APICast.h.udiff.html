<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/JavaScriptCore/API/APICast.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="APICallbackFunction.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="APIUtils.h.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/API/APICast.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -31,11 +31,11 @@</span>
  #include &quot;JSCJSValueInlines.h&quot;
  #include &quot;JSGlobalObject.h&quot;
  #include &quot;HeapCellInlines.h&quot;
  
  namespace JSC {
<span class="udiff-line-modified-removed">-     class ExecState;</span>
<span class="udiff-line-modified-added">+     class CallFrame;</span>
      class PropertyNameArray;
      class VM;
      class JSObject;
      class JSValue;
  }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -47,30 +47,30 @@</span>
  typedef const struct OpaqueJSValue* JSValueRef;
  typedef struct OpaqueJSValue* JSObjectRef;
  
  /* Opaque typing convenience methods */
  
<span class="udiff-line-modified-removed">- inline JSC::ExecState* toJS(JSContextRef c)</span>
<span class="udiff-line-modified-added">+ inline JSC::JSGlobalObject* toJS(JSContextRef context)</span>
  {
<span class="udiff-line-modified-removed">-     ASSERT(c);</span>
<span class="udiff-line-modified-removed">-     return reinterpret_cast&lt;JSC::ExecState*&gt;(const_cast&lt;OpaqueJSContext*&gt;(c));</span>
<span class="udiff-line-modified-added">+     ASSERT(context);</span>
<span class="udiff-line-modified-added">+     return reinterpret_cast&lt;JSC::JSGlobalObject*&gt;(const_cast&lt;OpaqueJSContext*&gt;(context));</span>
  }
  
<span class="udiff-line-modified-removed">- inline JSC::ExecState* toJS(JSGlobalContextRef c)</span>
<span class="udiff-line-modified-added">+ inline JSC::JSGlobalObject* toJS(JSGlobalContextRef context)</span>
  {
<span class="udiff-line-modified-removed">-     ASSERT(c);</span>
<span class="udiff-line-modified-removed">-     return reinterpret_cast&lt;JSC::ExecState*&gt;(c);</span>
<span class="udiff-line-modified-added">+     ASSERT(context);</span>
<span class="udiff-line-modified-added">+     return reinterpret_cast&lt;JSC::JSGlobalObject*&gt;(context);</span>
  }
  
  inline JSC::JSGlobalObject* toJSGlobalObject(JSGlobalContextRef context)
  {
<span class="udiff-line-modified-removed">-     return toJS(context)-&gt;lexicalGlobalObject();</span>
<span class="udiff-line-modified-added">+     return toJS(context);</span>
  }
  
<span class="udiff-line-modified-removed">- inline JSC::JSValue toJS(JSC::ExecState* exec, JSValueRef v)</span>
<span class="udiff-line-modified-added">+ inline JSC::JSValue toJS(JSC::JSGlobalObject* globalObject, JSValueRef v)</span>
  {
<span class="udiff-line-modified-removed">-     ASSERT_UNUSED(exec, exec);</span>
<span class="udiff-line-modified-added">+     ASSERT_UNUSED(globalObject, globalObject);</span>
  #if !CPU(ADDRESS64)
      JSC::JSCell* jsCell = reinterpret_cast&lt;JSC::JSCell*&gt;(const_cast&lt;OpaqueJSValue*&gt;(v));
      if (!jsCell)
          return JSC::jsNull();
      JSC::JSValue result;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -82,27 +82,27 @@</span>
      JSC::JSValue result = bitwise_cast&lt;JSC::JSValue&gt;(v);
  #endif
      if (!result)
          return JSC::jsNull();
      if (result.isCell())
<span class="udiff-line-modified-removed">-         RELEASE_ASSERT(result.asCell()-&gt;methodTable(exec-&gt;vm()));</span>
<span class="udiff-line-modified-added">+         RELEASE_ASSERT(result.asCell()-&gt;methodTable(getVM(globalObject)));</span>
      return result;
  }
  
<span class="udiff-line-modified-removed">- inline JSC::JSValue toJSForGC(JSC::ExecState* exec, JSValueRef v)</span>
<span class="udiff-line-modified-added">+ inline JSC::JSValue toJSForGC(JSC::JSGlobalObject* globalObject, JSValueRef v)</span>
  {
<span class="udiff-line-modified-removed">-     ASSERT_UNUSED(exec, exec);</span>
<span class="udiff-line-modified-added">+     ASSERT_UNUSED(globalObject, globalObject);</span>
  #if !CPU(ADDRESS64)
      JSC::JSCell* jsCell = reinterpret_cast&lt;JSC::JSCell*&gt;(const_cast&lt;OpaqueJSValue*&gt;(v));
      if (!jsCell)
          return JSC::JSValue();
      JSC::JSValue result = jsCell;
  #else
      JSC::JSValue result = bitwise_cast&lt;JSC::JSValue&gt;(v);
  #endif
      if (result &amp;&amp; result.isCell())
<span class="udiff-line-modified-removed">-         RELEASE_ASSERT(result.asCell()-&gt;methodTable(exec-&gt;vm()));</span>
<span class="udiff-line-modified-added">+         RELEASE_ASSERT(result.asCell()-&gt;methodTable(getVM(globalObject)));</span>
      return result;
  }
  
  // Used in JSObjectGetPrivate as that may be called during finalization
  inline JSC::JSObject* uncheckedToJS(JSObjectRef o)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -141,13 +141,13 @@</span>
      UNUSED_PARAM(vm);
      return bitwise_cast&lt;JSValueRef&gt;(v);
  #endif
  }
  
<span class="udiff-line-modified-removed">- inline JSValueRef toRef(JSC::ExecState* exec, JSC::JSValue v)</span>
<span class="udiff-line-modified-added">+ inline JSValueRef toRef(JSC::JSGlobalObject* globalObject, JSC::JSValue v)</span>
  {
<span class="udiff-line-modified-removed">-     return toRef(exec-&gt;vm(), v);</span>
<span class="udiff-line-modified-added">+     return toRef(getVM(globalObject), v);</span>
  }
  
  inline JSObjectRef toRef(JSC::JSObject* o)
  {
      return reinterpret_cast&lt;JSObjectRef&gt;(o);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -156,19 +156,18 @@</span>
  inline JSObjectRef toRef(const JSC::JSObject* o)
  {
      return reinterpret_cast&lt;JSObjectRef&gt;(const_cast&lt;JSC::JSObject*&gt;(o));
  }
  
<span class="udiff-line-modified-removed">- inline JSContextRef toRef(JSC::ExecState* e)</span>
<span class="udiff-line-modified-added">+ inline JSContextRef toRef(JSC::JSGlobalObject* globalObject)</span>
  {
<span class="udiff-line-modified-removed">-     return reinterpret_cast&lt;JSContextRef&gt;(e);</span>
<span class="udiff-line-modified-added">+     return reinterpret_cast&lt;JSContextRef&gt;(globalObject);</span>
  }
  
<span class="udiff-line-modified-removed">- inline JSGlobalContextRef toGlobalRef(JSC::ExecState* e)</span>
<span class="udiff-line-modified-added">+ inline JSGlobalContextRef toGlobalRef(JSC::JSGlobalObject* globalObject)</span>
  {
<span class="udiff-line-modified-removed">-     ASSERT(e == e-&gt;lexicalGlobalObject()-&gt;globalExec());</span>
<span class="udiff-line-removed">-     return reinterpret_cast&lt;JSGlobalContextRef&gt;(e);</span>
<span class="udiff-line-modified-added">+     return reinterpret_cast&lt;JSGlobalContextRef&gt;(globalObject);</span>
  }
  
  inline JSPropertyNameAccumulatorRef toRef(JSC::PropertyNameArray* l)
  {
      return reinterpret_cast&lt;JSPropertyNameAccumulatorRef&gt;(l);
</pre>
<center><a href="APICallbackFunction.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="APIUtils.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>