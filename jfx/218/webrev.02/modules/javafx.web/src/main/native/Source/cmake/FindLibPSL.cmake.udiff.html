<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/cmake/FindLibPSL.cmake</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="FindLibEpoxy.cmake.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="FindLibtasn1.cmake.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/cmake/FindLibPSL.cmake</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1,13 +1,6 @@</span>
<span class="udiff-line-modified-removed">- # - Try to find LibPSL</span>
<span class="udiff-line-removed">- # This module defines the following variables:</span>
<span class="udiff-line-removed">- #</span>
<span class="udiff-line-removed">- #  LIBPSL_FOUND - LibPSL was found</span>
<span class="udiff-line-removed">- #  LIBPSL_INCLUDE_DIRS - the LibPSL include directories</span>
<span class="udiff-line-removed">- #  LIBPSL_LIBRARIES - link these to use LibPSL</span>
<span class="udiff-line-removed">- #</span>
<span class="udiff-line-removed">- # Copyright (C) 2018 Sony Interactive Entertainment Inc.</span>
<span class="udiff-line-modified-added">+ # Copyright (C) 2018, 2019 Sony Interactive Entertainment Inc.</span>
  #
  # Redistribution and use in source and binary forms, with or without
  # modification, are permitted provided that the following conditions
  # are met:
  # 1.  Redistributions of source code must retain the above copyright
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -26,22 +19,60 @@</span>
  # OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  # WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  # OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  # ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  
<span class="udiff-line-modified-removed">- find_path(LIBPSL_INCLUDE_DIRS</span>
<span class="udiff-line-modified-added">+ #[=======================================================================[.rst:</span>
<span class="udiff-line-added">+ FindLibPSL</span>
<span class="udiff-line-added">+ --------------</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ Find LibPSL headers and libraries.</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ Imported Targets</span>
<span class="udiff-line-added">+ ^^^^^^^^^^^^^^^^</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ ``LibPSL::LibPSL``</span>
<span class="udiff-line-added">+   The LibPSL library, if found.</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ Result Variables</span>
<span class="udiff-line-added">+ ^^^^^^^^^^^^^^^^</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ This will define the following variables in your project:</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ ``LibPSL_FOUND``</span>
<span class="udiff-line-added">+   true if (the requested version of) LibPSL is available.</span>
<span class="udiff-line-added">+ ``LibPSL_VERSION``</span>
<span class="udiff-line-added">+   the version of LibPSL.</span>
<span class="udiff-line-added">+ ``LibPSL_LIBRARIES``</span>
<span class="udiff-line-added">+   the libraries to link against to use LibPSL.</span>
<span class="udiff-line-added">+ ``LibPSL_INCLUDE_DIRS``</span>
<span class="udiff-line-added">+   where to find the LibPSL headers.</span>
<span class="udiff-line-added">+ ``LibPSL_COMPILE_OPTIONS``</span>
<span class="udiff-line-added">+   this should be passed to target_compile_options(), if the</span>
<span class="udiff-line-added">+   target is not used for linking</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ #]=======================================================================]</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ include(FindPkgConfig)</span>
<span class="udiff-line-added">+ pkg_check_modules(PC_LIBPSL QUIET libpsl)</span>
<span class="udiff-line-added">+ set(LibPSL_COMPILE_OPTIONS ${PC_LIBPSL_CFLAGS_OTHER})</span>
<span class="udiff-line-added">+ set(LibPSL_VERSION ${PC_LIBPSL_VERSION})</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ find_path(LibPSL_INCLUDE_DIR</span>
      NAMES libpsl.h
<span class="udiff-line-added">+     HINTS ${PC_LIBPSL_INCLUDEDIR} ${PC_LIBPSL_INCLUDE_DIR}</span>
      PATH_SUFFIXES libpsl
  )
  
<span class="udiff-line-modified-removed">- find_library(LIBPSL_LIBRARIES</span>
<span class="udiff-line-modified-removed">-     NAMES psl</span>
<span class="udiff-line-modified-added">+ find_library(LibPSL_LIBRARY</span>
<span class="udiff-line-modified-added">+     NAMES ${LibPSL_NAMES} psl</span>
<span class="udiff-line-added">+     HINTS ${PC_LIBPSL_LIBDIR} ${PC_LIBPSL_LIBRARY_DIRS}</span>
  )
  
<span class="udiff-line-modified-removed">- if (LIBPSL_INCLUDE_DIRS)</span>
<span class="udiff-line-modified-removed">-     if (EXISTS &quot;${LIBPSL_INCLUDE_DIRS}/libpsl.h&quot;)</span>
<span class="udiff-line-modified-removed">-         file(READ &quot;${LIBPSL_INCLUDE_DIRS}/libpsl.h&quot; LIBPSL_VERSION_CONTENT)</span>
<span class="udiff-line-modified-added">+ if (LibPSL_INCLUDE_DIR AND NOT LibPSL_VERSION)</span>
<span class="udiff-line-modified-added">+     if (EXISTS &quot;${LibPSL_INCLUDE_DIR}/libpsl.h&quot;)</span>
<span class="udiff-line-modified-added">+         file(READ &quot;${LibPSL_INCLUDE_DIR}/libpsl.h&quot; LIBPSL_VERSION_CONTENT)</span>
  
          string(REGEX MATCH &quot;#define +PSL_VERSION_MAJOR +([0-9]+)&quot; _dummy &quot;${LIBPSL_VERSION_CONTENT}&quot;)
          set(LIBPSL_VERSION_MAJOR &quot;${CMAKE_MATCH_1}&quot;)
  
          string(REGEX MATCH &quot;#define +PSL_VERSION_MINOR +([0-9]+)&quot; _dummy &quot;${LIBPSL_VERSION_CONTENT}&quot;)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -53,12 +84,26 @@</span>
          set(LIBPSL_VERSION &quot;${LIBPSL_VERSION_MAJOR}.${LIBPSL_VERSION_MINOR}.${LIBPSL_VERSION_PATCH}&quot;)
      endif ()
  endif ()
  
  include(FindPackageHandleStandardArgs)
<span class="udiff-line-modified-removed">- find_package_handle_standard_args(LibPSL REQUIRED_VARS LIBPSL_INCLUDE_DIRS LIBPSL_LIBRARIES</span>
<span class="udiff-line-modified-removed">-                                          VERSION_VAR LIBPSL_VERSION)</span>
<span class="udiff-line-modified-removed">- </span>
<span class="udiff-line-modified-removed">- mark_as_advanced(</span>
<span class="udiff-line-removed">-     LIBPSL_INCLUDE_DIRS</span>
<span class="udiff-line-removed">-     LIBPSL_LIBRARIES</span>
<span class="udiff-line-modified-added">+ find_package_handle_standard_args(LibPSL</span>
<span class="udiff-line-modified-added">+     FOUND_VAR LibPSL_FOUND</span>
<span class="udiff-line-modified-added">+     REQUIRED_VARS LibPSL_LIBRARY LibPSL_INCLUDE_DIR</span>
<span class="udiff-line-modified-added">+     VERSION_VAR LibPSL_VERSION</span>
  )
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ if (LibPSL_LIBRARY AND NOT TARGET LibPSL::LibPSL)</span>
<span class="udiff-line-added">+     add_library(LibPSL::LibPSL UNKNOWN IMPORTED GLOBAL)</span>
<span class="udiff-line-added">+     set_target_properties(LibPSL::LibPSL PROPERTIES</span>
<span class="udiff-line-added">+         IMPORTED_LOCATION &quot;${LibPSL_LIBRARY}&quot;</span>
<span class="udiff-line-added">+         INTERFACE_COMPILE_OPTIONS &quot;${LibPSL_COMPILE_OPTIONS}&quot;</span>
<span class="udiff-line-added">+         INTERFACE_INCLUDE_DIRECTORIES &quot;${LibPSL_INCLUDE_DIR}&quot;</span>
<span class="udiff-line-added">+     )</span>
<span class="udiff-line-added">+ endif ()</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ mark_as_advanced(LibPSL_INCLUDE_DIR LIBPSL_LIBRARIES)</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ if (LibPSL_FOUND)</span>
<span class="udiff-line-added">+     set(LibPSL_LIBRARIES ${LibPSL_LIBRARY})</span>
<span class="udiff-line-added">+     set(LibPSL_INCLUDE_DIRS ${LibPSL_INCLUDE_DIR})</span>
<span class="udiff-line-added">+ endif ()</span>
</pre>
<center><a href="FindLibEpoxy.cmake.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="FindLibtasn1.cmake.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>