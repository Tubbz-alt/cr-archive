<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WebCore/rendering/svg/SVGPathData.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SVGMarkerData.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="SVGRenderSupport.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/rendering/svg/SVGPathData.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -50,12 +50,12 @@</span>
      Path path;
      auto&amp; style = renderer-&gt;style();
      SVGLengthContext lengthContext(&amp;element);
      float r = lengthContext.valueForLength(style.svgStyle().r());
      if (r &gt; 0) {
<span class="udiff-line-modified-removed">-         float cx = lengthContext.valueForLength(style.svgStyle().cx(), LengthModeWidth);</span>
<span class="udiff-line-modified-removed">-         float cy = lengthContext.valueForLength(style.svgStyle().cy(), LengthModeHeight);</span>
<span class="udiff-line-modified-added">+         float cx = lengthContext.valueForLength(style.svgStyle().cx(), SVGLengthMode::Width);</span>
<span class="udiff-line-modified-added">+         float cy = lengthContext.valueForLength(style.svgStyle().cy(), SVGLengthMode::Height);</span>
          path.addEllipse(FloatRect(cx - r, cy - r, r * 2, r * 2));
      }
      return path;
  }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -65,21 +65,21 @@</span>
      if (!renderer)
          return { };
  
      auto&amp; style = renderer-&gt;style();
      SVGLengthContext lengthContext(&amp;element);
<span class="udiff-line-modified-removed">-     float rx = lengthContext.valueForLength(style.svgStyle().rx(), LengthModeWidth);</span>
<span class="udiff-line-modified-added">+     float rx = lengthContext.valueForLength(style.svgStyle().rx(), SVGLengthMode::Width);</span>
      if (rx &lt;= 0)
          return { };
  
<span class="udiff-line-modified-removed">-     float ry = lengthContext.valueForLength(style.svgStyle().ry(), LengthModeHeight);</span>
<span class="udiff-line-modified-added">+     float ry = lengthContext.valueForLength(style.svgStyle().ry(), SVGLengthMode::Height);</span>
      if (ry &lt;= 0)
          return { };
  
      Path path;
<span class="udiff-line-modified-removed">-     float cx = lengthContext.valueForLength(style.svgStyle().cx(), LengthModeWidth);</span>
<span class="udiff-line-modified-removed">-     float cy = lengthContext.valueForLength(style.svgStyle().cy(), LengthModeHeight);</span>
<span class="udiff-line-modified-added">+     float cx = lengthContext.valueForLength(style.svgStyle().cx(), SVGLengthMode::Width);</span>
<span class="udiff-line-modified-added">+     float cy = lengthContext.valueForLength(style.svgStyle().cy(), SVGLengthMode::Height);</span>
      path.addEllipse(FloatRect(cx - rx, cy - ry, rx * 2, ry * 2));
      return path;
  }
  
  static Path pathFromLineElement(const SVGElement&amp; element)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -136,34 +136,34 @@</span>
      if (!renderer)
          return { };
  
      auto&amp; style = renderer-&gt;style();
      SVGLengthContext lengthContext(&amp;element);
<span class="udiff-line-modified-removed">-     float width = lengthContext.valueForLength(style.width(), LengthModeWidth);</span>
<span class="udiff-line-modified-added">+     float width = lengthContext.valueForLength(style.width(), SVGLengthMode::Width);</span>
      if (width &lt;= 0)
          return { };
  
<span class="udiff-line-modified-removed">-     float height = lengthContext.valueForLength(style.height(), LengthModeHeight);</span>
<span class="udiff-line-modified-added">+     float height = lengthContext.valueForLength(style.height(), SVGLengthMode::Height);</span>
      if (height &lt;= 0)
          return { };
  
      Path path;
<span class="udiff-line-modified-removed">-     float x = lengthContext.valueForLength(style.svgStyle().x(), LengthModeWidth);</span>
<span class="udiff-line-modified-removed">-     float y = lengthContext.valueForLength(style.svgStyle().y(), LengthModeHeight);</span>
<span class="udiff-line-modified-removed">-     float rx = lengthContext.valueForLength(style.svgStyle().rx(), LengthModeWidth);</span>
<span class="udiff-line-modified-removed">-     float ry = lengthContext.valueForLength(style.svgStyle().ry(), LengthModeHeight);</span>
<span class="udiff-line-modified-added">+     float x = lengthContext.valueForLength(style.svgStyle().x(), SVGLengthMode::Width);</span>
<span class="udiff-line-modified-added">+     float y = lengthContext.valueForLength(style.svgStyle().y(), SVGLengthMode::Height);</span>
<span class="udiff-line-modified-added">+     float rx = lengthContext.valueForLength(style.svgStyle().rx(), SVGLengthMode::Width);</span>
<span class="udiff-line-modified-added">+     float ry = lengthContext.valueForLength(style.svgStyle().ry(), SVGLengthMode::Height);</span>
      bool hasRx = rx &gt; 0;
      bool hasRy = ry &gt; 0;
      if (hasRx || hasRy) {
          if (!hasRx)
              rx = ry;
          else if (!hasRy)
              ry = rx;
          // FIXME: We currently enforce using beziers here, as at least on CoreGraphics/Lion, as
          // the native method uses a different line dash origin, causing svg/custom/dashOrigin.svg to fail.
          // See bug https://bugs.webkit.org/show_bug.cgi?id=79932 which tracks this issue.
<span class="udiff-line-modified-removed">-         path.addRoundedRect(FloatRect(x, y, width, height), FloatSize(rx, ry), Path::PreferBezierRoundedRect);</span>
<span class="udiff-line-modified-added">+         path.addRoundedRect(FloatRect(x, y, width, height), FloatSize(rx, ry), Path::RoundedRectStrategy::PreferBezier);</span>
          return path;
      }
  
      path.addRect(FloatRect(x, y, width, height));
      return path;
</pre>
<center><a href="SVGMarkerData.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="SVGRenderSupport.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>