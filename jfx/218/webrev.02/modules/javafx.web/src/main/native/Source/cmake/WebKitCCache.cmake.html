<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New modules/javafx.web/src/main/native/Source/cmake/WebKitCCache.cmake</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 # Enable ccache by default, if installed. To disable it you can:
 2 # if using script build-webkit: pass --no-use-ccache
 3 # if using cmake: set environment variable WK_USE_CCACHE=NO
 4 if (NOT &quot;$ENV{WK_USE_CCACHE}&quot; STREQUAL &quot;NO&quot;)
 5     find_program(CCACHE_FOUND ccache)
 6     if (CCACHE_FOUND)
 7         if (PORT STREQUAL &quot;Mac&quot;)
 8             set(CCACHE ${CMAKE_SOURCE_DIR}/Tools/ccache/ccache-wrapper)
 9             set_property(GLOBAL PROPERTY RULE_LAUNCH_COMPILE ${CCACHE_FOUND})
10         else ()
11             if (NOT DEFINED ENV{CCACHE_SLOPPINESS})
12                 set(ENV{CCACHE_SLOPPINESS} time_macros)
13             endif ()
14             # FIXME: readlink -f isn&#39;t supported on macOS. https://bugs.webkit.org/show_bug.cgi?id=208379
15             execute_process(COMMAND readlink -f ${CMAKE_CXX_COMPILER} RESULT_VARIABLE READLINK_RETCODE OUTPUT_VARIABLE REAL_CXX_PATH OUTPUT_STRIP_TRAILING_WHITESPACE ERROR_QUIET)
16             execute_process(COMMAND which ${CCACHE_FOUND} RESULT_VARIABLE WHICH_RETCODE OUTPUT_VARIABLE REAL_CCACHE_PATH OUTPUT_STRIP_TRAILING_WHITESPACE ERROR_QUIET)
17             if (${WHICH_RETCODE} EQUAL 0 AND ${READLINK_RETCODE} EQUAL 0 AND &quot;${REAL_CXX_PATH}&quot; STREQUAL &quot;${REAL_CCACHE_PATH}&quot;)
18                 message(STATUS &quot;Enabling ccache: Compiler path already pointing to ccache. Not setting ccache prefix.&quot;)
19             else ()
20                 message(STATUS &quot;Enabling ccache: Setting ccache prefix for compiler.&quot;)
21                 set_property(GLOBAL PROPERTY RULE_LAUNCH_COMPILE ${CCACHE_FOUND})
22             endif ()
23         endif ()
24     else ()
25         message(WARNING &quot;Enabling ccache: Couldn&#39;t find ccache program. Not enabling it.&quot;)
26     endif ()
27 endif ()
28 
29 if (&quot;$ENV{WEBKIT_USE_SCCACHE}&quot; STREQUAL &quot;YES&quot;)
30     find_program(SCCACHE_FOUND sccache)
31     if (SCCACHE_FOUND)
32         set_property(GLOBAL PROPERTY RULE_LAUNCH_COMPILE ${SCCACHE_FOUND})
33     endif ()
34 endif ()
    </pre>
  </body>
</html>