<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/svg/SVGElement.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SVGElement.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SVGElement.idl.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/svg/SVGElement.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  6  *
  7  * This library is free software; you can redistribute it and/or
  8  * modify it under the terms of the GNU Library General Public
  9  * License as published by the Free Software Foundation; either
 10  * version 2 of the License, or (at your option) any later version.
 11  *
 12  * This library is distributed in the hope that it will be useful,
 13  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 14  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 15  * Library General Public License for more details.
 16  *
 17  * You should have received a copy of the GNU Library General Public License
 18  * along with this library; see the file COPYING.LIB.  If not, write to
 19  * the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 20  * Boston, MA 02110-1301, USA.
 21  */
 22 
 23 #pragma once
 24 
 25 #include &quot;SVGAnimatedPropertyImpl.h&quot;
<span class="line-removed"> 26 #include &quot;SVGLangSpace.h&quot;</span>
 27 #include &quot;SVGLocatable.h&quot;
 28 #include &quot;SVGNames.h&quot;
 29 #include &quot;SVGParsingError.h&quot;
 30 #include &quot;SVGPropertyOwnerRegistry.h&quot;
 31 #include &quot;StyledElement.h&quot;
 32 #include &lt;wtf/HashMap.h&gt;
 33 #include &lt;wtf/HashSet.h&gt;
 34 #include &lt;wtf/WeakPtr.h&gt;
 35 
 36 namespace WebCore {
 37 
 38 class AffineTransform;
 39 class CSSStyleDeclaration;
 40 class DeprecatedCSSOMValue;
 41 class Document;
 42 class SVGDocumentExtensions;
 43 class SVGElementRareData;
 44 class SVGPropertyAnimatorFactory;
 45 class SVGSVGElement;
 46 class SVGUseElement;
 47 
 48 void mapAttributeToCSSProperty(HashMap&lt;AtomStringImpl*, CSSPropertyID&gt;* propertyNameToIdMap, const QualifiedName&amp; attrName);
 49 
<span class="line-modified"> 50 class SVGElement : public StyledElement, public SVGLangSpace, public SVGPropertyOwner {</span>
 51     WTF_MAKE_ISO_ALLOCATED(SVGElement);
 52 public:
 53     bool isOutermostSVGSVGElement() const;
 54 
 55     SVGSVGElement* ownerSVGElement() const;
 56     SVGElement* viewportElement() const;
 57 
 58     String title() const override;
<span class="line-removed"> 59     RefPtr&lt;DeprecatedCSSOMValue&gt; getPresentationAttribute(const String&amp; name);</span>
 60     virtual bool supportsMarkers() const { return false; }
 61     bool hasRelativeLengths() const { return !m_elementsWithRelativeLengths.isEmpty(); }
 62     virtual bool needsPendingResourceHandling() const { return true; }
 63     bool instanceUpdatesBlocked() const;
 64     void setInstanceUpdatesBlocked(bool);
 65     virtual AffineTransform localCoordinateSpaceTransform(SVGLocatable::CTMScope) const;
 66 
 67     virtual bool isSVGGraphicsElement() const { return false; }
 68     virtual bool isSVGGeometryElement() const { return false; }
 69     virtual bool isFilterEffect() const { return false; }
 70     virtual bool isGradientStop() const { return false; }
 71     virtual bool isTextContent() const { return false; }
 72     virtual bool isSMILElement() const { return false; }
 73 
 74     // For SVGTests
 75     virtual bool isValid() const { return true; }
 76 
 77     virtual void svgAttributeChanged(const QualifiedName&amp;);
 78 
<span class="line-modified"> 79     void sendSVGLoadEventIfPossible(bool sendParentLoadEvents = false);</span>
<span class="line-modified"> 80     void sendSVGLoadEventIfPossibleAsynchronously();</span>
<span class="line-modified"> 81     void svgLoadEventTimerFired();</span>
<span class="line-removed"> 82     virtual Timer* svgLoadEventTimer();</span>
 83 
 84     virtual AffineTransform* supplementalTransform() { return nullptr; }
 85 
 86     void invalidateSVGAttributes() { ensureUniqueElementData().setAnimatedSVGAttributesAreDirty(true); }
 87     void invalidateSVGPresentationAttributeStyle()
 88     {
 89         ensureUniqueElementData().setPresentationAttributeStyleIsDirty(true);
 90         // Trigger style recalculation for &quot;elements as resource&quot; (e.g. referenced by feImage).
 91         invalidateStyle();
 92     }
 93 
 94     // The instances of an element are clones made in shadow trees to implement &lt;use&gt;.
 95     const HashSet&lt;SVGElement*&gt;&amp; instances() const;
 96 
 97     bool getBoundingBox(FloatRect&amp;, SVGLocatable::StyleUpdateStrategy = SVGLocatable::AllowStyleUpdate);
 98 
 99     SVGElement* correspondingElement() const;
100     RefPtr&lt;SVGUseElement&gt; correspondingUseElement() const;
101 
102     void setCorrespondingElement(SVGElement*);
103 
<span class="line-modified">104     Optional&lt;ElementStyle&gt; resolveCustomStyle(const RenderStyle&amp; parentStyle, const RenderStyle* shadowHostStyle) override;</span>
105 
106     static QualifiedName animatableAttributeForName(const AtomString&amp;);
107 #ifndef NDEBUG
108     bool isAnimatableAttribute(const QualifiedName&amp;) const;
109 #endif
110 
111     MutableStyleProperties* animatedSMILStyleProperties() const;
112     MutableStyleProperties&amp; ensureAnimatedSMILStyleProperties();
113     void setUseOverrideComputedStyle(bool);
114 
115     virtual bool haveLoadedRequiredResources();
116 
117     bool addEventListener(const AtomString&amp; eventType, Ref&lt;EventListener&gt;&amp;&amp;, const AddEventListenerOptions&amp;) override;
118     bool removeEventListener(const AtomString&amp; eventType, EventListener&amp;, const ListenerOptions&amp;) override;
119 
120     bool hasTagName(const SVGQualifiedName&amp; name) const { return hasLocalName(name.localName()); }
121 
122     void callClearTarget() { clearTarget(); }
123 
124     class InstanceUpdateBlocker;
</pre>
</td>
<td>
<hr />
<pre>
  6  *
  7  * This library is free software; you can redistribute it and/or
  8  * modify it under the terms of the GNU Library General Public
  9  * License as published by the Free Software Foundation; either
 10  * version 2 of the License, or (at your option) any later version.
 11  *
 12  * This library is distributed in the hope that it will be useful,
 13  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 14  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 15  * Library General Public License for more details.
 16  *
 17  * You should have received a copy of the GNU Library General Public License
 18  * along with this library; see the file COPYING.LIB.  If not, write to
 19  * the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 20  * Boston, MA 02110-1301, USA.
 21  */
 22 
 23 #pragma once
 24 
 25 #include &quot;SVGAnimatedPropertyImpl.h&quot;

 26 #include &quot;SVGLocatable.h&quot;
 27 #include &quot;SVGNames.h&quot;
 28 #include &quot;SVGParsingError.h&quot;
 29 #include &quot;SVGPropertyOwnerRegistry.h&quot;
 30 #include &quot;StyledElement.h&quot;
 31 #include &lt;wtf/HashMap.h&gt;
 32 #include &lt;wtf/HashSet.h&gt;
 33 #include &lt;wtf/WeakPtr.h&gt;
 34 
 35 namespace WebCore {
 36 
 37 class AffineTransform;
 38 class CSSStyleDeclaration;
 39 class DeprecatedCSSOMValue;
 40 class Document;
 41 class SVGDocumentExtensions;
 42 class SVGElementRareData;
 43 class SVGPropertyAnimatorFactory;
 44 class SVGSVGElement;
 45 class SVGUseElement;
 46 
 47 void mapAttributeToCSSProperty(HashMap&lt;AtomStringImpl*, CSSPropertyID&gt;* propertyNameToIdMap, const QualifiedName&amp; attrName);
 48 
<span class="line-modified"> 49 class SVGElement : public StyledElement, public SVGPropertyOwner {</span>
 50     WTF_MAKE_ISO_ALLOCATED(SVGElement);
 51 public:
 52     bool isOutermostSVGSVGElement() const;
 53 
 54     SVGSVGElement* ownerSVGElement() const;
 55     SVGElement* viewportElement() const;
 56 
 57     String title() const override;

 58     virtual bool supportsMarkers() const { return false; }
 59     bool hasRelativeLengths() const { return !m_elementsWithRelativeLengths.isEmpty(); }
 60     virtual bool needsPendingResourceHandling() const { return true; }
 61     bool instanceUpdatesBlocked() const;
 62     void setInstanceUpdatesBlocked(bool);
 63     virtual AffineTransform localCoordinateSpaceTransform(SVGLocatable::CTMScope) const;
 64 
 65     virtual bool isSVGGraphicsElement() const { return false; }
 66     virtual bool isSVGGeometryElement() const { return false; }
 67     virtual bool isFilterEffect() const { return false; }
 68     virtual bool isGradientStop() const { return false; }
 69     virtual bool isTextContent() const { return false; }
 70     virtual bool isSMILElement() const { return false; }
 71 
 72     // For SVGTests
 73     virtual bool isValid() const { return true; }
 74 
 75     virtual void svgAttributeChanged(const QualifiedName&amp;);
 76 
<span class="line-modified"> 77     void sendLoadEventIfPossible();</span>
<span class="line-modified"> 78     void loadEventTimerFired();</span>
<span class="line-modified"> 79     virtual Timer* loadEventTimer();</span>

 80 
 81     virtual AffineTransform* supplementalTransform() { return nullptr; }
 82 
 83     void invalidateSVGAttributes() { ensureUniqueElementData().setAnimatedSVGAttributesAreDirty(true); }
 84     void invalidateSVGPresentationAttributeStyle()
 85     {
 86         ensureUniqueElementData().setPresentationAttributeStyleIsDirty(true);
 87         // Trigger style recalculation for &quot;elements as resource&quot; (e.g. referenced by feImage).
 88         invalidateStyle();
 89     }
 90 
 91     // The instances of an element are clones made in shadow trees to implement &lt;use&gt;.
 92     const HashSet&lt;SVGElement*&gt;&amp; instances() const;
 93 
 94     bool getBoundingBox(FloatRect&amp;, SVGLocatable::StyleUpdateStrategy = SVGLocatable::AllowStyleUpdate);
 95 
 96     SVGElement* correspondingElement() const;
 97     RefPtr&lt;SVGUseElement&gt; correspondingUseElement() const;
 98 
 99     void setCorrespondingElement(SVGElement*);
100 
<span class="line-modified">101     Optional&lt;Style::ElementStyle&gt; resolveCustomStyle(const RenderStyle&amp; parentStyle, const RenderStyle* shadowHostStyle) override;</span>
102 
103     static QualifiedName animatableAttributeForName(const AtomString&amp;);
104 #ifndef NDEBUG
105     bool isAnimatableAttribute(const QualifiedName&amp;) const;
106 #endif
107 
108     MutableStyleProperties* animatedSMILStyleProperties() const;
109     MutableStyleProperties&amp; ensureAnimatedSMILStyleProperties();
110     void setUseOverrideComputedStyle(bool);
111 
112     virtual bool haveLoadedRequiredResources();
113 
114     bool addEventListener(const AtomString&amp; eventType, Ref&lt;EventListener&gt;&amp;&amp;, const AddEventListenerOptions&amp;) override;
115     bool removeEventListener(const AtomString&amp; eventType, EventListener&amp;, const ListenerOptions&amp;) override;
116 
117     bool hasTagName(const SVGQualifiedName&amp; name) const { return hasLocalName(name.localName()); }
118 
119     void callClearTarget() { clearTarget(); }
120 
121     class InstanceUpdateBlocker;
</pre>
</td>
</tr>
</table>
<center><a href="SVGElement.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SVGElement.idl.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>