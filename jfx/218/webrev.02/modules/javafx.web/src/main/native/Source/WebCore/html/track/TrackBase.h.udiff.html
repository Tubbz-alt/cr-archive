<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WebCore/html/track/TrackBase.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="TrackBase.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="TrackEvent.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/html/track/TrackBase.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -26,10 +26,11 @@</span>
  #pragma once
  
  #if ENABLE(VIDEO_TRACK)
  
  #include &lt;wtf/LoggerHelper.h&gt;
<span class="udiff-line-added">+ #include &lt;wtf/WeakPtr.h&gt;</span>
  #include &lt;wtf/text/AtomString.h&gt;
  
  namespace WebCore {
  
  class Element;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -46,12 +47,12 @@</span>
      virtual ~TrackBase() = default;
  
      enum Type { BaseTrack, TextTrack, AudioTrack, VideoTrack };
      Type type() const { return m_type; }
  
<span class="udiff-line-modified-removed">-     virtual void setMediaElement(HTMLMediaElement*);</span>
<span class="udiff-line-modified-removed">-     HTMLMediaElement* mediaElement() { return m_mediaElement; }</span>
<span class="udiff-line-modified-added">+     virtual void setMediaElement(WeakPtr&lt;HTMLMediaElement&gt;);</span>
<span class="udiff-line-modified-added">+     WeakPtr&lt;HTMLMediaElement&gt; mediaElement() { return m_mediaElement; }</span>
      virtual Element* element();
  
      virtual AtomString id() const { return m_id; }
      virtual void setId(const AtomString&amp; id) { m_id = id; }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -80,11 +81,11 @@</span>
  #endif
  
  protected:
      TrackBase(Type, const AtomString&amp; id, const AtomString&amp; label, const AtomString&amp; language);
  
<span class="udiff-line-modified-removed">-     HTMLMediaElement* m_mediaElement { nullptr };</span>
<span class="udiff-line-modified-added">+     WeakPtr&lt;HTMLMediaElement&gt; m_mediaElement { nullptr };</span>
  
  #if ENABLE(MEDIA_SOURCE)
      SourceBuffer* m_sourceBuffer { nullptr };
  #endif
  
</pre>
<center><a href="TrackBase.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="TrackEvent.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>