<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/dynbench.cpp</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="disassembler/udis86/udis86_syn.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftl/FTLAbstractHeapRepository.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/dynbench.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 94,11 ***</span>
      {
          JSLockHolder locker(vm);
  
          JSGlobalObject* globalObject =
              JSGlobalObject::create(vm, JSGlobalObject::createStructure(vm, jsNull()));
<span class="line-removed">-         ExecState* exec = globalObject-&gt;globalExec();</span>
  
          Identifier identF = Identifier::fromString(vm, &quot;f&quot;);
          Identifier identG = Identifier::fromString(vm, &quot;g&quot;);
  
          Structure* objectStructure =
<span class="line-new-header">--- 94,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 106,50 ***</span>
  
          // Non-strict dynamic get by id:
          JSValue object = JSFinalObject::create(vm, objectStructure);
          {
              PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!             object.putInline(exec, identF, jsNumber(42), slot);</span>
          }
          {
              PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!             object.putInline(exec, identG, jsNumber(43), slot);</span>
          }
          benchmarkImpl(
              &quot;Non Strict Dynamic Get By Id&quot;,
              1000000,
              [&amp;] (unsigned iterationCount) {
                  for (unsigned i = iterationCount; i--;) {
<span class="line-modified">!                     JSValue result = object.get(exec, identF);</span>
                      CHECK(result == jsNumber(42));
<span class="line-modified">!                     result = object.get(exec, identG);</span>
                      CHECK(result == jsNumber(43));
                  }
              });
  
          // Non-strict dynamic put by id replace:
          object = JSFinalObject::create(vm, objectStructure);
          {
              PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!             object.putInline(exec, identF, jsNumber(42), slot);</span>
          }
          {
              PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!             object.putInline(exec, identG, jsNumber(43), slot);</span>
          }
          benchmarkImpl(
              &quot;Non Strict Dynamic Put By Id Replace&quot;,
              1000000,
              [&amp;] (unsigned iterationCount) {
                  for (unsigned i = iterationCount; i--;) {
                      {
                          PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!                         object.putInline(exec, identF, jsNumber(i), slot);</span>
                      }
                      {
                          PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!                         object.putInline(exec, identG, jsNumber(i), slot);</span>
                      }
                  }
              });
  
          // Non-strict dynamic put by id transition with object allocation:
<span class="line-new-header">--- 105,50 ---</span>
  
          // Non-strict dynamic get by id:
          JSValue object = JSFinalObject::create(vm, objectStructure);
          {
              PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!             object.putInline(globalObject, identF, jsNumber(42), slot);</span>
          }
          {
              PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!             object.putInline(globalObject, identG, jsNumber(43), slot);</span>
          }
          benchmarkImpl(
              &quot;Non Strict Dynamic Get By Id&quot;,
              1000000,
              [&amp;] (unsigned iterationCount) {
                  for (unsigned i = iterationCount; i--;) {
<span class="line-modified">!                     JSValue result = object.get(globalObject, identF);</span>
                      CHECK(result == jsNumber(42));
<span class="line-modified">!                     result = object.get(globalObject, identG);</span>
                      CHECK(result == jsNumber(43));
                  }
              });
  
          // Non-strict dynamic put by id replace:
          object = JSFinalObject::create(vm, objectStructure);
          {
              PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!             object.putInline(globalObject, identF, jsNumber(42), slot);</span>
          }
          {
              PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!             object.putInline(globalObject, identG, jsNumber(43), slot);</span>
          }
          benchmarkImpl(
              &quot;Non Strict Dynamic Put By Id Replace&quot;,
              1000000,
              [&amp;] (unsigned iterationCount) {
                  for (unsigned i = iterationCount; i--;) {
                      {
                          PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!                         object.putInline(globalObject, identF, jsNumber(i), slot);</span>
                      }
                      {
                          PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!                         object.putInline(globalObject, identG, jsNumber(i), slot);</span>
                      }
                  }
              });
  
          // Non-strict dynamic put by id transition with object allocation:
</pre>
<hr />
<pre>
<span class="line-old-header">*** 159,63 ***</span>
              [&amp;] (unsigned iterationCount) {
                  for (unsigned i = iterationCount; i--;) {
                      JSValue object = JSFinalObject::create(vm, objectStructure);
                      {
                          PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!                         object.putInline(exec, identF, jsNumber(i), slot);</span>
                      }
                      {
                          PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!                         object.putInline(exec, identG, jsNumber(i), slot);</span>
                      }
                  }
              });
  
          // Non-strict dynamic get by id with dynamic store context:
          object = JSFinalObject::create(vm, objectStructure);
          {
              PutPropertySlot slot(object, false);
<span class="line-modified">!             object.putInline(exec, identF, jsNumber(42), slot);</span>
          }
          {
              PutPropertySlot slot(object, false);
<span class="line-modified">!             object.putInline(exec, identG, jsNumber(43), slot);</span>
          }
          benchmarkImpl(
              &quot;Non Strict Dynamic Get By Id With Dynamic Store Context&quot;,
              1000000,
              [&amp;] (unsigned iterationCount) {
                  for (unsigned i = iterationCount; i--;) {
<span class="line-modified">!                     JSValue result = object.get(exec, identF);</span>
                      CHECK(result == jsNumber(42));
<span class="line-modified">!                     result = object.get(exec, identG);</span>
                      CHECK(result == jsNumber(43));
                  }
              });
  
          // Non-strict dynamic put by id replace with dynamic store context:
          object = JSFinalObject::create(vm, objectStructure);
          {
              PutPropertySlot slot(object, false);
<span class="line-modified">!             object.putInline(exec, identF, jsNumber(42), slot);</span>
          }
          {
              PutPropertySlot slot(object, false);
<span class="line-modified">!             object.putInline(exec, identG, jsNumber(43), slot);</span>
          }
          benchmarkImpl(
              &quot;Non Strict Dynamic Put By Id Replace With Dynamic Store Context&quot;,
              1000000,
              [&amp;] (unsigned iterationCount) {
                  for (unsigned i = iterationCount; i--;) {
                      {
                          PutPropertySlot slot(object, false);
<span class="line-modified">!                         object.putInline(exec, identF, jsNumber(i), slot);</span>
                      }
                      {
                          PutPropertySlot slot(object, false);
<span class="line-modified">!                         object.putInline(exec, identG, jsNumber(i), slot);</span>
                      }
                  }
              });
  
          // Non-strict dynamic put by id transition with object allocation with dynamic store context:
<span class="line-new-header">--- 158,63 ---</span>
              [&amp;] (unsigned iterationCount) {
                  for (unsigned i = iterationCount; i--;) {
                      JSValue object = JSFinalObject::create(vm, objectStructure);
                      {
                          PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!                         object.putInline(globalObject, identF, jsNumber(i), slot);</span>
                      }
                      {
                          PutPropertySlot slot(object, false, PutPropertySlot::PutById);
<span class="line-modified">!                         object.putInline(globalObject, identG, jsNumber(i), slot);</span>
                      }
                  }
              });
  
          // Non-strict dynamic get by id with dynamic store context:
          object = JSFinalObject::create(vm, objectStructure);
          {
              PutPropertySlot slot(object, false);
<span class="line-modified">!             object.putInline(globalObject, identF, jsNumber(42), slot);</span>
          }
          {
              PutPropertySlot slot(object, false);
<span class="line-modified">!             object.putInline(globalObject, identG, jsNumber(43), slot);</span>
          }
          benchmarkImpl(
              &quot;Non Strict Dynamic Get By Id With Dynamic Store Context&quot;,
              1000000,
              [&amp;] (unsigned iterationCount) {
                  for (unsigned i = iterationCount; i--;) {
<span class="line-modified">!                     JSValue result = object.get(globalObject, identF);</span>
                      CHECK(result == jsNumber(42));
<span class="line-modified">!                     result = object.get(globalObject, identG);</span>
                      CHECK(result == jsNumber(43));
                  }
              });
  
          // Non-strict dynamic put by id replace with dynamic store context:
          object = JSFinalObject::create(vm, objectStructure);
          {
              PutPropertySlot slot(object, false);
<span class="line-modified">!             object.putInline(globalObject, identF, jsNumber(42), slot);</span>
          }
          {
              PutPropertySlot slot(object, false);
<span class="line-modified">!             object.putInline(globalObject, identG, jsNumber(43), slot);</span>
          }
          benchmarkImpl(
              &quot;Non Strict Dynamic Put By Id Replace With Dynamic Store Context&quot;,
              1000000,
              [&amp;] (unsigned iterationCount) {
                  for (unsigned i = iterationCount; i--;) {
                      {
                          PutPropertySlot slot(object, false);
<span class="line-modified">!                         object.putInline(globalObject, identF, jsNumber(i), slot);</span>
                      }
                      {
                          PutPropertySlot slot(object, false);
<span class="line-modified">!                         object.putInline(globalObject, identG, jsNumber(i), slot);</span>
                      }
                  }
              });
  
          // Non-strict dynamic put by id transition with object allocation with dynamic store context:
</pre>
<hr />
<pre>
<span class="line-old-header">*** 225,15 ***</span>
              [&amp;] (unsigned iterationCount) {
                  for (unsigned i = iterationCount; i--;) {
                      JSValue object = JSFinalObject::create(vm, objectStructure);
                      {
                          PutPropertySlot slot(object, false);
<span class="line-modified">!                         object.putInline(exec, identF, jsNumber(i), slot);</span>
                      }
                      {
                          PutPropertySlot slot(object, false);
<span class="line-modified">!                         object.putInline(exec, identG, jsNumber(i), slot);</span>
                      }
                  }
              });
      }
  
<span class="line-new-header">--- 224,15 ---</span>
              [&amp;] (unsigned iterationCount) {
                  for (unsigned i = iterationCount; i--;) {
                      JSValue object = JSFinalObject::create(vm, objectStructure);
                      {
                          PutPropertySlot slot(object, false);
<span class="line-modified">!                         object.putInline(globalObject, identF, jsNumber(i), slot);</span>
                      }
                      {
                          PutPropertySlot slot(object, false);
<span class="line-modified">!                         object.putInline(globalObject, identG, jsNumber(i), slot);</span>
                      }
                  }
              });
      }
  
</pre>
<center><a href="disassembler/udis86/udis86_syn.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="ftl/FTLAbstractHeapRepository.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>