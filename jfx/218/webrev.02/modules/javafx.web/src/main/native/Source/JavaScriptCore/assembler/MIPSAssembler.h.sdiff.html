<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/assembler/MIPSAssembler.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="LinkBuffer.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="MIPSRegisters.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/assembler/MIPSAssembler.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 145     enum {
 146         FP_CAUSE_INVALID_OPERATION = 1 &lt;&lt; 16
 147     };
 148 
 149     void emitInst(MIPSWord op)
 150     {
 151         void* oldBase = m_buffer.data();
 152 
 153         m_buffer.putInt(op);
 154 
 155         void* newBase = m_buffer.data();
 156         if (oldBase != newBase)
 157             relocateJumps(oldBase, newBase);
 158     }
 159 
 160     void nop()
 161     {
 162         emitInst(0x00000000);
 163     }
 164 
<span class="line-modified"> 165     template &lt;typename CopyFunction&gt;</span>
<span class="line-modified"> 166     static void fillNops(void* base, size_t size, CopyFunction copy)</span>


 167     {
 168         UNUSED_PARAM(copy);
 169         RELEASE_ASSERT(!(size % sizeof(int32_t)));
 170 
 171         int32_t* ptr = static_cast&lt;int32_t*&gt;(base);
 172         const size_t num32s = size / sizeof(int32_t);
 173         const int32_t insn = 0x00000000;
 174         for (size_t i = 0; i &lt; num32s; i++)
 175             *ptr++ = insn;
 176     }
 177 
 178     void sync()
 179     {
 180         // FIXME: https://bugs.webkit.org/show_bug.cgi?id=169984
 181         // We might get a performance improvements by using SYNC_MB in some or
 182         // all cases.
 183         emitInst(0x0000000f);
 184     }
 185 
 186     /* Need to insert one load data delay nop for mips1.  */
</pre>
</td>
<td>
<hr />
<pre>
 145     enum {
 146         FP_CAUSE_INVALID_OPERATION = 1 &lt;&lt; 16
 147     };
 148 
 149     void emitInst(MIPSWord op)
 150     {
 151         void* oldBase = m_buffer.data();
 152 
 153         m_buffer.putInt(op);
 154 
 155         void* newBase = m_buffer.data();
 156         if (oldBase != newBase)
 157             relocateJumps(oldBase, newBase);
 158     }
 159 
 160     void nop()
 161     {
 162         emitInst(0x00000000);
 163     }
 164 
<span class="line-modified"> 165     using CopyFunction = void*(&amp;)(void*, const void*, size_t);</span>
<span class="line-modified"> 166 </span>
<span class="line-added"> 167     template &lt;CopyFunction copy&gt;</span>
<span class="line-added"> 168     static void fillNops(void* base, size_t size)</span>
 169     {
 170         UNUSED_PARAM(copy);
 171         RELEASE_ASSERT(!(size % sizeof(int32_t)));
 172 
 173         int32_t* ptr = static_cast&lt;int32_t*&gt;(base);
 174         const size_t num32s = size / sizeof(int32_t);
 175         const int32_t insn = 0x00000000;
 176         for (size_t i = 0; i &lt; num32s; i++)
 177             *ptr++ = insn;
 178     }
 179 
 180     void sync()
 181     {
 182         // FIXME: https://bugs.webkit.org/show_bug.cgi?id=169984
 183         // We might get a performance improvements by using SYNC_MB in some or
 184         // all cases.
 185         emitInst(0x0000000f);
 186     }
 187 
 188     /* Need to insert one load data delay nop for mips1.  */
</pre>
</td>
</tr>
</table>
<center><a href="LinkBuffer.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="MIPSRegisters.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>