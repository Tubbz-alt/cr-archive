<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WTF/wtf/Variant.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ValueCheck.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Vector.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/Variant.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
1853 struct __visitor_return_type&lt;_Visitor&gt;{
1854     typedef decltype(std::declval&lt;_Visitor&amp;&gt;()()) __type;
1855 };
1856 
1857 template&lt;typename _Visitor,typename _Head,typename ... _Rest&gt;
1858 struct __visitor_return_type&lt;_Visitor,_Head,_Rest...&gt;{
1859     typedef decltype(std::declval&lt;_Visitor&amp;&gt;()(std::declval&lt;_Head&amp;&gt;())) __type;
1860 };
1861 
1862 template&lt;typename _Visitor,typename ... _Types&gt;
1863 struct __visitor_table{
1864     typedef Variant&lt;_Types...&gt; __variant_type;
1865     typedef typename __visitor_return_type&lt;_Visitor,_Types...&gt;::__type __return_type;
1866     typedef __return_type (*__func_type)(_Visitor&amp;,__variant_type&amp;);
1867 
1868     template&lt;typename _Type&gt;
1869     static __return_type __trampoline_func(_Visitor&amp; __visitor,__variant_type&amp; __v){
1870         return __visitor(get&lt;_Type&gt;(__v));
1871     }
1872 
<span class="line-modified">1873     static const __func_type __trampoline[sizeof...(_Types)];</span>


1874 };
1875 
1876 template&lt;typename _Visitor,typename ... _Types&gt;
<span class="line-modified">1877 const typename __visitor_table&lt;_Visitor,_Types...&gt;::__func_type __visitor_table&lt;_Visitor,_Types...&gt;::__trampoline[sizeof...(_Types)]={</span>
<span class="line-removed">1878         &amp;__trampoline_func&lt;_Types&gt;...</span>
<span class="line-removed">1879     };</span>
1880 
1881 template&lt;typename _Visitor,typename ... _Types&gt;
1882 constexpr typename __visitor_return_type&lt;_Visitor,_Types...&gt;::__type
1883 visit(_Visitor&amp;&amp; __visitor,Variant&lt;_Types...&gt;&amp; __v){
1884     return (__v.valueless_by_exception())
1885         ? __throw_bad_variant_access&lt;typename __visitor_return_type&lt;_Visitor,_Types...&gt;::__type&gt;(&quot;Visiting of empty Variant&quot;)
1886         : __visitor_table&lt;_Visitor,_Types...&gt;::__trampoline[__v.index()](__visitor,__v);
1887 }
1888 
1889 template&lt;typename _Visitor,typename ... _Variants&gt;
1890 struct __multi_visitor_return_type{
1891     typedef decltype(std::declval&lt;_Visitor&amp;&gt;()(get&lt;0&gt;(std::declval&lt;_Variants&gt;())...))
1892     __type;
1893 };
1894 
1895 template&lt;size_t _VariantIndex,typename _Indices&gt;
1896 struct __visit_helper;
1897 
1898 template&lt;ptrdiff_t ... _Indices&gt;
1899 struct __visit_helper&lt;0,__index_sequence&lt;_Indices...&gt;&gt;{
</pre>
</td>
<td>
<hr />
<pre>
1853 struct __visitor_return_type&lt;_Visitor&gt;{
1854     typedef decltype(std::declval&lt;_Visitor&amp;&gt;()()) __type;
1855 };
1856 
1857 template&lt;typename _Visitor,typename _Head,typename ... _Rest&gt;
1858 struct __visitor_return_type&lt;_Visitor,_Head,_Rest...&gt;{
1859     typedef decltype(std::declval&lt;_Visitor&amp;&gt;()(std::declval&lt;_Head&amp;&gt;())) __type;
1860 };
1861 
1862 template&lt;typename _Visitor,typename ... _Types&gt;
1863 struct __visitor_table{
1864     typedef Variant&lt;_Types...&gt; __variant_type;
1865     typedef typename __visitor_return_type&lt;_Visitor,_Types...&gt;::__type __return_type;
1866     typedef __return_type (*__func_type)(_Visitor&amp;,__variant_type&amp;);
1867 
1868     template&lt;typename _Type&gt;
1869     static __return_type __trampoline_func(_Visitor&amp; __visitor,__variant_type&amp; __v){
1870         return __visitor(get&lt;_Type&gt;(__v));
1871     }
1872 
<span class="line-modified">1873     static constexpr __func_type __trampoline[sizeof...(_Types)]={</span>
<span class="line-added">1874         &amp;__trampoline_func&lt;_Types&gt;...</span>
<span class="line-added">1875     };</span>
1876 };
1877 
1878 template&lt;typename _Visitor,typename ... _Types&gt;
<span class="line-modified">1879 constexpr typename __visitor_table&lt;_Visitor,_Types...&gt;::__func_type __visitor_table&lt;_Visitor,_Types...&gt;::__trampoline[sizeof...(_Types)];</span>


1880 
1881 template&lt;typename _Visitor,typename ... _Types&gt;
1882 constexpr typename __visitor_return_type&lt;_Visitor,_Types...&gt;::__type
1883 visit(_Visitor&amp;&amp; __visitor,Variant&lt;_Types...&gt;&amp; __v){
1884     return (__v.valueless_by_exception())
1885         ? __throw_bad_variant_access&lt;typename __visitor_return_type&lt;_Visitor,_Types...&gt;::__type&gt;(&quot;Visiting of empty Variant&quot;)
1886         : __visitor_table&lt;_Visitor,_Types...&gt;::__trampoline[__v.index()](__visitor,__v);
1887 }
1888 
1889 template&lt;typename _Visitor,typename ... _Variants&gt;
1890 struct __multi_visitor_return_type{
1891     typedef decltype(std::declval&lt;_Visitor&amp;&gt;()(get&lt;0&gt;(std::declval&lt;_Variants&gt;())...))
1892     __type;
1893 };
1894 
1895 template&lt;size_t _VariantIndex,typename _Indices&gt;
1896 struct __visit_helper;
1897 
1898 template&lt;ptrdiff_t ... _Indices&gt;
1899 struct __visit_helper&lt;0,__index_sequence&lt;_Indices...&gt;&gt;{
</pre>
</td>
</tr>
</table>
<center><a href="ValueCheck.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Vector.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>