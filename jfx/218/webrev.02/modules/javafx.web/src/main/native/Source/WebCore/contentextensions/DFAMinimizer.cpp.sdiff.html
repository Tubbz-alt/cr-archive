<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/contentextensions/DFAMinimizer.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DFABytecodeCompiler.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../crypto/CommonCryptoUtilities.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/contentextensions/DFAMinimizer.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
392     enum DeletedValueTag { DeletedValue };
393     explicit ActionKey(DeletedValueTag) { state = Deleted; }
394 
395     enum EmptyValueTag { EmptyValue };
396     explicit ActionKey(EmptyValueTag) { state = Empty; }
397 
398     explicit ActionKey(const DFA* dfa, uint32_t actionsStart, uint16_t actionsLength)
399         : dfa(dfa)
400         , actionsStart(actionsStart)
401         , actionsLength(actionsLength)
402         , state(Valid)
403     {
404         StringHasher hasher;
405         hasher.addCharactersAssumingAligned(reinterpret_cast&lt;const UChar*&gt;(&amp;dfa-&gt;actions[actionsStart]), actionsLength * sizeof(uint64_t) / sizeof(UChar));
406         hash = hasher.hash();
407     }
408 
409     bool isEmptyValue() const { return state == Empty; }
410     bool isDeletedValue() const { return state == Deleted; }
411 
<span class="line-modified">412     unsigned hash;</span>
413 
<span class="line-modified">414     const DFA* dfa;</span>
<span class="line-modified">415     uint32_t actionsStart;</span>
<span class="line-modified">416     uint16_t actionsLength;</span>
417 
418     enum {
<span class="line-removed">419         Valid,</span>
420         Empty,

421         Deleted
<span class="line-modified">422     } state;</span>
423 };
424 
425 struct ActionKeyHash {
426     static unsigned hash(const ActionKey&amp; actionKey)
427     {
428         return actionKey.hash;
429     }
430 
431     static bool equal(const ActionKey&amp; a, const ActionKey&amp; b)
432     {
433         if (a.state != b.state
434             || a.dfa != b.dfa
435             || a.actionsLength != b.actionsLength)
436             return false;
437         for (uint16_t i = 0; i &lt; a.actionsLength; ++i) {
438             if (a.dfa-&gt;actions[a.actionsStart + i] != a.dfa-&gt;actions[b.actionsStart + i])
439                 return false;
440         }
441         return true;
442     }
</pre>
</td>
<td>
<hr />
<pre>
392     enum DeletedValueTag { DeletedValue };
393     explicit ActionKey(DeletedValueTag) { state = Deleted; }
394 
395     enum EmptyValueTag { EmptyValue };
396     explicit ActionKey(EmptyValueTag) { state = Empty; }
397 
398     explicit ActionKey(const DFA* dfa, uint32_t actionsStart, uint16_t actionsLength)
399         : dfa(dfa)
400         , actionsStart(actionsStart)
401         , actionsLength(actionsLength)
402         , state(Valid)
403     {
404         StringHasher hasher;
405         hasher.addCharactersAssumingAligned(reinterpret_cast&lt;const UChar*&gt;(&amp;dfa-&gt;actions[actionsStart]), actionsLength * sizeof(uint64_t) / sizeof(UChar));
406         hash = hasher.hash();
407     }
408 
409     bool isEmptyValue() const { return state == Empty; }
410     bool isDeletedValue() const { return state == Deleted; }
411 
<span class="line-modified">412     unsigned hash { 0 };</span>
413 
<span class="line-modified">414     const DFA* dfa { nullptr };</span>
<span class="line-modified">415     uint32_t actionsStart { 0 };</span>
<span class="line-modified">416     uint16_t actionsLength { 0 };</span>
417 
418     enum {

419         Empty,
<span class="line-added">420         Valid,</span>
421         Deleted
<span class="line-modified">422     } state { Empty };</span>
423 };
424 
425 struct ActionKeyHash {
426     static unsigned hash(const ActionKey&amp; actionKey)
427     {
428         return actionKey.hash;
429     }
430 
431     static bool equal(const ActionKey&amp; a, const ActionKey&amp; b)
432     {
433         if (a.state != b.state
434             || a.dfa != b.dfa
435             || a.actionsLength != b.actionsLength)
436             return false;
437         for (uint16_t i = 0; i &lt; a.actionsLength; ++i) {
438             if (a.dfa-&gt;actions[a.actionsStart + i] != a.dfa-&gt;actions[b.actionsStart + i])
439                 return false;
440         }
441         return true;
442     }
</pre>
</td>
</tr>
</table>
<center><a href="DFABytecodeCompiler.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../crypto/CommonCryptoUtilities.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>