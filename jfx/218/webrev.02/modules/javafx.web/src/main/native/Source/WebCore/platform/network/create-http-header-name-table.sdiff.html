<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/network/create-http-header-name-table</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SynchronousLoaderClient.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="java/NetworkStorageSessionJava.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/network/create-http-header-name-table</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
216 #include &lt;wtf/Forward.h&gt;
217 
218 namespace WebCore {
219 
220 enum class HTTPHeaderName {
221 &#39;&#39;&#39;)
222 
223 for http_header_name in http_header_names:
224     header_file.write(&#39;    %s,\n&#39; % http_header_name_to_id[http_header_name])
225 
226 header_file.write(&#39;};\n\n&#39;)
227 header_file.write(&#39;const unsigned numHTTPHeaderNames = %u;\n&#39; % len(http_header_names));
228 header_file.write(&#39;const size_t minHTTPHeaderNameLength = %u;\n&#39; % len(min(http_header_names, key=len)));
229 header_file.write(&#39;const size_t maxHTTPHeaderNameLength = %u;\n&#39; % len(max(http_header_names, key=len)));
230 header_file.write(&#39;&#39;&#39;
231 bool findHTTPHeaderName(StringView, HTTPHeaderName&amp;);
232 WEBCORE_EXPORT StringView httpHeaderNameString(HTTPHeaderName);
233 
234 } // namespace WebCore
235 






















236 #endif // HTTPHeaderNames_h
237 &#39;&#39;&#39;)
238 header_file.close()
239 
240 gperf = os.getenv(&#39;GPERF&#39;) or sys.argv[2]
241 
242 if subprocess.call([gperf, &#39;--key-positions=*&#39;, &#39;-D&#39;, &#39;-n&#39;, &#39;-s&#39;, &#39;2&#39;, &#39;HTTPHeaderNames.gperf&#39;, &#39;--output-file=HTTPHeaderNames.cpp&#39;]) != 0:
243     sys.stderr.write(&#39;Failed to run gperf.&#39;)
244     exit(1)
</pre>
</td>
<td>
<hr />
<pre>
216 #include &lt;wtf/Forward.h&gt;
217 
218 namespace WebCore {
219 
220 enum class HTTPHeaderName {
221 &#39;&#39;&#39;)
222 
223 for http_header_name in http_header_names:
224     header_file.write(&#39;    %s,\n&#39; % http_header_name_to_id[http_header_name])
225 
226 header_file.write(&#39;};\n\n&#39;)
227 header_file.write(&#39;const unsigned numHTTPHeaderNames = %u;\n&#39; % len(http_header_names));
228 header_file.write(&#39;const size_t minHTTPHeaderNameLength = %u;\n&#39; % len(min(http_header_names, key=len)));
229 header_file.write(&#39;const size_t maxHTTPHeaderNameLength = %u;\n&#39; % len(max(http_header_names, key=len)));
230 header_file.write(&#39;&#39;&#39;
231 bool findHTTPHeaderName(StringView, HTTPHeaderName&amp;);
232 WEBCORE_EXPORT StringView httpHeaderNameString(HTTPHeaderName);
233 
234 } // namespace WebCore
235 
<span class="line-added">236 namespace WTF {</span>
<span class="line-added">237 </span>
<span class="line-added">238 template&lt;&gt; struct EnumTraits&lt;WebCore::HTTPHeaderName&gt; {</span>
<span class="line-added">239     using values = EnumValues&lt;</span>
<span class="line-added">240         WebCore::HTTPHeaderName,</span>
<span class="line-added">241 &#39;&#39;&#39;)</span>
<span class="line-added">242 </span>
<span class="line-added">243 is_first = True</span>
<span class="line-added">244 for http_header_name in http_header_names:</span>
<span class="line-added">245     if is_first:</span>
<span class="line-added">246         is_first = False</span>
<span class="line-added">247     else:</span>
<span class="line-added">248         header_file.write(&#39;,\n&#39;)</span>
<span class="line-added">249 </span>
<span class="line-added">250     header_file.write(&#39;        WebCore::HTTPHeaderName::%s&#39; % http_header_name_to_id[http_header_name])</span>
<span class="line-added">251 </span>
<span class="line-added">252 header_file.write(&#39;&#39;&#39;</span>
<span class="line-added">253     &gt;;</span>
<span class="line-added">254 };</span>
<span class="line-added">255 </span>
<span class="line-added">256 } // namespace WTF</span>
<span class="line-added">257 </span>
258 #endif // HTTPHeaderNames_h
259 &#39;&#39;&#39;)
260 header_file.close()
261 
262 gperf = os.getenv(&#39;GPERF&#39;) or sys.argv[2]
263 
264 if subprocess.call([gperf, &#39;--key-positions=*&#39;, &#39;-D&#39;, &#39;-n&#39;, &#39;-s&#39;, &#39;2&#39;, &#39;HTTPHeaderNames.gperf&#39;, &#39;--output-file=HTTPHeaderNames.cpp&#39;]) != 0:
265     sys.stderr.write(&#39;Failed to run gperf.&#39;)
266     exit(1)
</pre>
</td>
</tr>
</table>
<center><a href="SynchronousLoaderClient.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="java/NetworkStorageSessionJava.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>