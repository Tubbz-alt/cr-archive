<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/inspector/InspectorInstrumentation.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="InspectorInstrumentation.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="InspectorNodeFinder.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/inspector/InspectorInstrumentation.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 34,32 ***</span>
  #include &quot;CSSSelector.h&quot;
  #include &quot;CallTracerTypes.h&quot;
  #include &quot;CanvasBase.h&quot;
  #include &quot;CanvasRenderingContext.h&quot;
  #include &quot;Database.h&quot;
  #include &quot;DocumentThreadableLoader.h&quot;
  #include &quot;Element.h&quot;
  #include &quot;EventTarget.h&quot;
  #include &quot;FormData.h&quot;
  #include &quot;Frame.h&quot;
  #include &quot;HitTestResult.h&quot;
<span class="line-modified">! #include &quot;InspectorController.h&quot;</span>
<span class="line-removed">- #include &quot;InspectorInstrumentationCookie.h&quot;</span>
<span class="line-removed">- #include &quot;OffscreenCanvas.h&quot;</span>
  #include &quot;Page.h&quot;
  #include &quot;StorageArea.h&quot;
<span class="line-modified">! #include &quot;WorkerGlobalScope.h&quot;</span>
<span class="line-modified">! #include &quot;WorkerInspectorController.h&quot;</span>
<span class="line-removed">- #include &lt;JavaScriptCore/JSCInlines.h&gt;</span>
  #include &lt;initializer_list&gt;
  #include &lt;wtf/MemoryPressureHandler.h&gt;
  #include &lt;wtf/RefPtr.h&gt;
  
  #if ENABLE(WEBGL)
  #include &quot;WebGLRenderingContextBase.h&quot;
  #endif
  
  namespace Inspector {
  class ConsoleMessage;
  class ScriptArguments;
  class ScriptCallStack;
  }
<span class="line-new-header">--- 34,36 ---</span>
  #include &quot;CSSSelector.h&quot;
  #include &quot;CallTracerTypes.h&quot;
  #include &quot;CanvasBase.h&quot;
  #include &quot;CanvasRenderingContext.h&quot;
  #include &quot;Database.h&quot;
<span class="line-added">+ #include &quot;DeclarativeAnimation.h&quot;</span>
  #include &quot;DocumentThreadableLoader.h&quot;
  #include &quot;Element.h&quot;
  #include &quot;EventTarget.h&quot;
  #include &quot;FormData.h&quot;
  #include &quot;Frame.h&quot;
  #include &quot;HitTestResult.h&quot;
<span class="line-modified">! #include &quot;InspectorInstrumentationPublic.h&quot;</span>
  #include &quot;Page.h&quot;
  #include &quot;StorageArea.h&quot;
<span class="line-modified">! #include &quot;WebAnimation.h&quot;</span>
<span class="line-modified">! #include &lt;JavaScriptCore/ConsoleMessage.h&gt;</span>
  #include &lt;initializer_list&gt;
<span class="line-added">+ #include &lt;wtf/CompletionHandler.h&gt;</span>
  #include &lt;wtf/MemoryPressureHandler.h&gt;
  #include &lt;wtf/RefPtr.h&gt;
  
  #if ENABLE(WEBGL)
  #include &quot;WebGLRenderingContextBase.h&quot;
  #endif
  
<span class="line-added">+ #if ENABLE(WEBGPU)</span>
<span class="line-added">+ #include &quot;GPUCanvasContext.h&quot;</span>
<span class="line-added">+ #include &quot;WebGPUPipeline.h&quot;</span>
<span class="line-added">+ #endif</span>
<span class="line-added">+ </span>
  namespace Inspector {
  class ConsoleMessage;
  class ScriptArguments;
  class ScriptCallStack;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 74,10 ***</span>
<span class="line-new-header">--- 78,11 ---</span>
  class DocumentLoader;
  class EventListener;
  class HTTPHeaderMap;
  class InspectorTimelineAgent;
  class InstrumentingAgents;
<span class="line-added">+ class KeyframeEffect;</span>
  class NetworkLoadMetrics;
  class Node;
  class PseudoElement;
  class RegisteredEventListener;
  class RenderLayer;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 86,22 ***</span>
  class ResourceRequest;
  class ResourceResponse;
  class ScriptExecutionContext;
  class SecurityOrigin;
  class ShadowRoot;
  class TimerBase;
  #if ENABLE(WEBGL)
  class WebGLProgram;
  #endif
<span class="line-removed">- class WebKitNamedFlow;</span>
<span class="line-removed">- class WorkerInspectorProxy;</span>
  
<span class="line-modified">! enum class StorageType;</span>
  
<span class="line-modified">! struct WebSocketFrame;</span>
  
<span class="line-modified">! #define FAST_RETURN_IF_NO_FRONTENDS(value) if (LIKELY(!InspectorInstrumentation::hasFrontends())) return value;</span>
  
  class InspectorInstrumentation {
  public:
      static void didClearWindowObjectInWorld(Frame&amp;, DOMWrapperWorld&amp;);
      static bool isDebuggerPaused(Frame*);
<span class="line-new-header">--- 91,29 ---</span>
  class ResourceRequest;
  class ResourceResponse;
  class ScriptExecutionContext;
  class SecurityOrigin;
  class ShadowRoot;
<span class="line-added">+ class SharedBuffer;</span>
  class TimerBase;
<span class="line-added">+ class WebKitNamedFlow;</span>
<span class="line-added">+ class WorkerGlobalScope;</span>
<span class="line-added">+ class WorkerInspectorProxy;</span>
<span class="line-added">+ </span>
  #if ENABLE(WEBGL)
  class WebGLProgram;
  #endif
  
<span class="line-modified">! #if ENABLE(WEBGPU)</span>
<span class="line-added">+ class WebGPUDevice;</span>
<span class="line-added">+ class WebGPUSwapChain;</span>
<span class="line-added">+ #endif</span>
  
<span class="line-modified">! enum class StorageType : uint8_t;</span>
  
<span class="line-modified">! struct ComputedEffectTiming;</span>
<span class="line-added">+ struct WebSocketFrame;</span>
  
  class InspectorInstrumentation {
  public:
      static void didClearWindowObjectInWorld(Frame&amp;, DOMWrapperWorld&amp;);
      static bool isDebuggerPaused(Frame*);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 141,41 ***</span>
      static void willSendXMLHttpRequest(ScriptExecutionContext*, const String&amp; url);
      static void willFetch(ScriptExecutionContext&amp;, const String&amp; url);
      static void didInstallTimer(ScriptExecutionContext&amp;, int timerId, Seconds timeout, bool singleShot);
      static void didRemoveTimer(ScriptExecutionContext&amp;, int timerId);
  
<span class="line-modified">!     static void didPostMessage(Frame&amp;, TimerBase&amp;, JSC::ExecState&amp;);</span>
      static void didFailPostMessage(Frame&amp;, TimerBase&amp;);
      static void willDispatchPostMessage(Frame&amp;, TimerBase&amp;);
      static void didDispatchPostMessage(Frame&amp;, TimerBase&amp;);
  
<span class="line-modified">!     static InspectorInstrumentationCookie willCallFunction(ScriptExecutionContext*, const String&amp; scriptName, int scriptLine, int scriptColumn);</span>
<span class="line-modified">!     static void didCallFunction(const InspectorInstrumentationCookie&amp;, ScriptExecutionContext*);</span>
      static void didAddEventListener(EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
      static void willRemoveEventListener(EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
      static bool isEventListenerDisabled(EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
<span class="line-modified">!     static InspectorInstrumentationCookie willDispatchEvent(Document&amp;, const Event&amp;, bool hasEventListeners);</span>
<span class="line-modified">!     static void didDispatchEvent(const InspectorInstrumentationCookie&amp;, bool defaultPrevented);</span>
      static void willHandleEvent(ScriptExecutionContext&amp;, Event&amp;, const RegisteredEventListener&amp;);
      static void didHandleEvent(ScriptExecutionContext&amp;);
<span class="line-modified">!     static InspectorInstrumentationCookie willDispatchEventOnWindow(Frame*, const Event&amp;, DOMWindow&amp;);</span>
<span class="line-modified">!     static void didDispatchEventOnWindow(const InspectorInstrumentationCookie&amp;, bool defaultPrevented);</span>
      static void eventDidResetAfterDispatch(const Event&amp;);
<span class="line-modified">!     static InspectorInstrumentationCookie willEvaluateScript(Frame&amp;, const String&amp; url, int lineNumber, int columnNumber);</span>
<span class="line-modified">!     static void didEvaluateScript(const InspectorInstrumentationCookie&amp;, Frame&amp;);</span>
<span class="line-modified">!     static InspectorInstrumentationCookie willFireTimer(ScriptExecutionContext&amp;, int timerId, bool oneShot);</span>
<span class="line-modified">!     static void didFireTimer(const InspectorInstrumentationCookie&amp;);</span>
      static void didInvalidateLayout(Frame&amp;);
<span class="line-modified">!     static InspectorInstrumentationCookie willLayout(Frame&amp;);</span>
<span class="line-modified">!     static void didLayout(const InspectorInstrumentationCookie&amp;, RenderObject&amp;);</span>
      static void didScroll(Page&amp;);
      static void willComposite(Frame&amp;);
      static void didComposite(Frame&amp;);
      static void willPaint(RenderObject&amp;);
      static void didPaint(RenderObject&amp;, const LayoutRect&amp;);
<span class="line-modified">!     static InspectorInstrumentationCookie willRecalculateStyle(Document&amp;);</span>
<span class="line-modified">!     static void didRecalculateStyle(const InspectorInstrumentationCookie&amp;);</span>
      static void didScheduleStyleRecalculation(Document&amp;);
      static void applyUserAgentOverride(Frame&amp;, String&amp;);
      static void applyEmulatedMedia(Frame&amp;, String&amp;);
  
      static void willSendRequest(Frame*, unsigned long identifier, DocumentLoader*, ResourceRequest&amp;, const ResourceResponse&amp; redirectResponse);
<span class="line-new-header">--- 153,41 ---</span>
      static void willSendXMLHttpRequest(ScriptExecutionContext*, const String&amp; url);
      static void willFetch(ScriptExecutionContext&amp;, const String&amp; url);
      static void didInstallTimer(ScriptExecutionContext&amp;, int timerId, Seconds timeout, bool singleShot);
      static void didRemoveTimer(ScriptExecutionContext&amp;, int timerId);
  
<span class="line-modified">!     static void didPostMessage(Frame&amp;, TimerBase&amp;, JSC::JSGlobalObject&amp;);</span>
      static void didFailPostMessage(Frame&amp;, TimerBase&amp;);
      static void willDispatchPostMessage(Frame&amp;, TimerBase&amp;);
      static void didDispatchPostMessage(Frame&amp;, TimerBase&amp;);
  
<span class="line-modified">!     static void willCallFunction(ScriptExecutionContext*, const String&amp; scriptName, int scriptLine, int scriptColumn);</span>
<span class="line-modified">!     static void didCallFunction(ScriptExecutionContext*);</span>
      static void didAddEventListener(EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
      static void willRemoveEventListener(EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
      static bool isEventListenerDisabled(EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
<span class="line-modified">!     static void willDispatchEvent(Document&amp;, const Event&amp;);</span>
<span class="line-modified">!     static void didDispatchEvent(Document&amp;, const Event&amp;);</span>
      static void willHandleEvent(ScriptExecutionContext&amp;, Event&amp;, const RegisteredEventListener&amp;);
      static void didHandleEvent(ScriptExecutionContext&amp;);
<span class="line-modified">!     static void willDispatchEventOnWindow(Frame*, const Event&amp;, DOMWindow&amp;);</span>
<span class="line-modified">!     static void didDispatchEventOnWindow(Frame*, const Event&amp;);</span>
      static void eventDidResetAfterDispatch(const Event&amp;);
<span class="line-modified">!     static void willEvaluateScript(Frame&amp;, const String&amp; url, int lineNumber, int columnNumber);</span>
<span class="line-modified">!     static void didEvaluateScript(Frame&amp;);</span>
<span class="line-modified">!     static void willFireTimer(ScriptExecutionContext&amp;, int timerId, bool oneShot);</span>
<span class="line-modified">!     static void didFireTimer(ScriptExecutionContext&amp;);</span>
      static void didInvalidateLayout(Frame&amp;);
<span class="line-modified">!     static void willLayout(Frame&amp;);</span>
<span class="line-modified">!     static void didLayout(Frame&amp;, RenderObject&amp;);</span>
      static void didScroll(Page&amp;);
      static void willComposite(Frame&amp;);
      static void didComposite(Frame&amp;);
      static void willPaint(RenderObject&amp;);
      static void didPaint(RenderObject&amp;, const LayoutRect&amp;);
<span class="line-modified">!     static void willRecalculateStyle(Document&amp;);</span>
<span class="line-modified">!     static void didRecalculateStyle(Document&amp;);</span>
      static void didScheduleStyleRecalculation(Document&amp;);
      static void applyUserAgentOverride(Frame&amp;, String&amp;);
      static void applyEmulatedMedia(Frame&amp;, String&amp;);
  
      static void willSendRequest(Frame*, unsigned long identifier, DocumentLoader*, ResourceRequest&amp;, const ResourceResponse&amp; redirectResponse);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 217,37 ***</span>
      static void frameScheduledNavigation(Frame&amp;, Seconds delay);
      static void frameClearedScheduledNavigation(Frame&amp;);
      static void defaultAppearanceDidChange(Page&amp;, bool useDarkAppearance);
      static void willDestroyCachedResource(CachedResource&amp;);
  
      static void addMessageToConsole(Page&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
      static void addMessageToConsole(WorkerGlobalScope&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
  
<span class="line-modified">!     static void consoleCount(Page&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified">!     static void consoleCount(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified">!     static void consoleCountReset(Page&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified">!     static void consoleCountReset(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label);</span>
  
      static void takeHeapSnapshot(Frame&amp;, const String&amp; title);
<span class="line-modified">!     static void startConsoleTiming(Frame&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified">!     static void startConsoleTiming(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified">!     static void logConsoleTiming(Frame&amp;, JSC::ExecState*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="line-modified">!     static void logConsoleTiming(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="line-modified">!     static void stopConsoleTiming(Frame&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified">!     static void stopConsoleTiming(WorkerGlobalScope&amp;, JSC::ExecState*, const String&amp; label);</span>
      static void consoleTimeStamp(Frame&amp;, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);
<span class="line-modified">!     static void startProfiling(Page&amp;, JSC::ExecState*, const String&amp; title);</span>
<span class="line-modified">!     static void stopProfiling(Page&amp;, JSC::ExecState*, const String&amp; title);</span>
<span class="line-modified">!     static void consoleStartRecordingCanvas(CanvasRenderingContext&amp;, JSC::ExecState&amp;, JSC::JSObject* options);</span>
  
      static void didRequestAnimationFrame(Document&amp;, int callbackId);
      static void didCancelAnimationFrame(Document&amp;, int callbackId);
<span class="line-modified">!     static InspectorInstrumentationCookie willFireAnimationFrame(Document&amp;, int callbackId);</span>
<span class="line-modified">!     static void didFireAnimationFrame(const InspectorInstrumentationCookie&amp;);</span>
  
<span class="line-modified">!     static InspectorInstrumentationCookie willFireObserverCallback(ScriptExecutionContext&amp;, const String&amp; callbackType);</span>
<span class="line-modified">!     static void didFireObserverCallback(const InspectorInstrumentationCookie&amp;);</span>
  
      static void didOpenDatabase(Database&amp;);
  
      static void didDispatchDOMStorageEvent(Page&amp;, const String&amp; key, const String&amp; oldValue, const String&amp; newValue, StorageType, SecurityOrigin*);
  
<span class="line-new-header">--- 229,42 ---</span>
      static void frameScheduledNavigation(Frame&amp;, Seconds delay);
      static void frameClearedScheduledNavigation(Frame&amp;);
      static void defaultAppearanceDidChange(Page&amp;, bool useDarkAppearance);
      static void willDestroyCachedResource(CachedResource&amp;);
  
<span class="line-added">+     static bool willInterceptRequest(const Frame*, const ResourceRequest&amp;);</span>
<span class="line-added">+     static bool shouldInterceptResponse(const Frame&amp;, const ResourceResponse&amp;);</span>
<span class="line-added">+     static void interceptResponse(const Frame&amp;, const ResourceResponse&amp;, unsigned long identifier, CompletionHandler&lt;void(const ResourceResponse&amp;, RefPtr&lt;SharedBuffer&gt;)&gt;&amp;&amp;);</span>
<span class="line-added">+ </span>
      static void addMessageToConsole(Page&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
      static void addMessageToConsole(WorkerGlobalScope&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
  
<span class="line-modified">!     static void consoleCount(Page&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="line-modified">!     static void consoleCount(WorkerGlobalScope&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="line-modified">!     static void consoleCountReset(Page&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="line-modified">!     static void consoleCountReset(WorkerGlobalScope&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
  
      static void takeHeapSnapshot(Frame&amp;, const String&amp; title);
<span class="line-modified">!     static void startConsoleTiming(Frame&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="line-modified">!     static void startConsoleTiming(WorkerGlobalScope&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="line-modified">!     static void logConsoleTiming(Frame&amp;, JSC::JSGlobalObject*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="line-modified">!     static void logConsoleTiming(WorkerGlobalScope&amp;, JSC::JSGlobalObject*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="line-modified">!     static void stopConsoleTiming(Frame&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="line-modified">!     static void stopConsoleTiming(WorkerGlobalScope&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
      static void consoleTimeStamp(Frame&amp;, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);
<span class="line-modified">!     static void startProfiling(Page&amp;, JSC::JSGlobalObject*, const String&amp; title);</span>
<span class="line-modified">!     static void stopProfiling(Page&amp;, JSC::JSGlobalObject*, const String&amp; title);</span>
<span class="line-modified">!     static void consoleStartRecordingCanvas(CanvasRenderingContext&amp;, JSC::JSGlobalObject&amp;, JSC::JSObject* options);</span>
<span class="line-added">+     static void consoleStopRecordingCanvas(CanvasRenderingContext&amp;);</span>
  
      static void didRequestAnimationFrame(Document&amp;, int callbackId);
      static void didCancelAnimationFrame(Document&amp;, int callbackId);
<span class="line-modified">!     static void willFireAnimationFrame(Document&amp;, int callbackId);</span>
<span class="line-modified">!     static void didFireAnimationFrame(Document&amp;);</span>
  
<span class="line-modified">!     static void willFireObserverCallback(ScriptExecutionContext&amp;, const String&amp; callbackType);</span>
<span class="line-modified">!     static void didFireObserverCallback(ScriptExecutionContext&amp;);</span>
  
      static void didOpenDatabase(Database&amp;);
  
      static void didDispatchDOMStorageEvent(Page&amp;, const String&amp; key, const String&amp; oldValue, const String&amp; newValue, StorageType, SecurityOrigin*);
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 272,25 ***</span>
      static void didChangeCanvasMemory(CanvasRenderingContext&amp;);
      static void recordCanvasAction(CanvasRenderingContext&amp;, const String&amp;, std::initializer_list&lt;RecordCanvasActionVariant&gt;&amp;&amp; = { });
      static void didFinishRecordingCanvasFrame(CanvasRenderingContext&amp;, bool forceDispatch = false);
  #if ENABLE(WEBGL)
      static void didEnableExtension(WebGLRenderingContextBase&amp;, const String&amp;);
<span class="line-modified">!     static void didCreateProgram(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="line-modified">!     static void willDeleteProgram(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="line-modified">!     static bool isShaderProgramDisabled(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="line-modified">!     static bool isShaderProgramHighlighted(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
  #endif
  
      static void networkStateChanged(Page&amp;);
      static void updateApplicationCacheStatus(Frame*);
  
      static void layerTreeDidChange(Page*);
      static void renderLayerDestroyed(Page*, const RenderLayer&amp;);
  
      static void frontendCreated();
      static void frontendDeleted();
<span class="line-modified">!     static bool hasFrontends() { return s_frontendCounter; }</span>
  
      static void firstFrontendCreated();
      static void lastFrontendDeleted();
  
      static bool consoleAgentEnabled(ScriptExecutionContext*);
<span class="line-new-header">--- 289,39 ---</span>
      static void didChangeCanvasMemory(CanvasRenderingContext&amp;);
      static void recordCanvasAction(CanvasRenderingContext&amp;, const String&amp;, std::initializer_list&lt;RecordCanvasActionVariant&gt;&amp;&amp; = { });
      static void didFinishRecordingCanvasFrame(CanvasRenderingContext&amp;, bool forceDispatch = false);
  #if ENABLE(WEBGL)
      static void didEnableExtension(WebGLRenderingContextBase&amp;, const String&amp;);
<span class="line-modified">!     static void didCreateWebGLProgram(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="line-modified">!     static void willDestroyWebGLProgram(WebGLProgram&amp;);</span>
<span class="line-modified">!     static bool isWebGLProgramDisabled(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="line-modified">!     static bool isWebGLProgramHighlighted(WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="line-added">+ #endif</span>
<span class="line-added">+ #if ENABLE(WEBGPU)</span>
<span class="line-added">+     static void didCreateWebGPUDevice(WebGPUDevice&amp;);</span>
<span class="line-added">+     static void willDestroyWebGPUDevice(WebGPUDevice&amp;);</span>
<span class="line-added">+     static void willConfigureSwapChain(GPUCanvasContext&amp;, WebGPUSwapChain&amp;);</span>
<span class="line-added">+     static void didCreateWebGPUPipeline(WebGPUDevice&amp;, WebGPUPipeline&amp;);</span>
<span class="line-added">+     static void willDestroyWebGPUPipeline(WebGPUPipeline&amp;);</span>
  #endif
  
<span class="line-added">+     static void willApplyKeyframeEffect(Element&amp;, KeyframeEffect&amp;, ComputedEffectTiming);</span>
<span class="line-added">+     static void didSetWebAnimationEffect(WebAnimation&amp;);</span>
<span class="line-added">+     static void didChangeWebAnimationEffectTiming(WebAnimation&amp;);</span>
<span class="line-added">+     static void didChangeWebAnimationEffectTarget(WebAnimation&amp;);</span>
<span class="line-added">+     static void didCreateWebAnimation(WebAnimation&amp;);</span>
<span class="line-added">+     static void willDestroyWebAnimation(WebAnimation&amp;);</span>
<span class="line-added">+ </span>
      static void networkStateChanged(Page&amp;);
      static void updateApplicationCacheStatus(Frame*);
  
      static void layerTreeDidChange(Page*);
      static void renderLayerDestroyed(Page*, const RenderLayer&amp;);
  
      static void frontendCreated();
      static void frontendDeleted();
<span class="line-modified">!     static bool hasFrontends() { return InspectorInstrumentationPublic::hasFrontends(); }</span>
  
      static void firstFrontendCreated();
      static void lastFrontendDeleted();
  
      static bool consoleAgentEnabled(ScriptExecutionContext*);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 340,41 ***</span>
      static void willSendXMLHttpRequestImpl(InstrumentingAgents&amp;, const String&amp; url);
      static void willFetchImpl(InstrumentingAgents&amp;, const String&amp; url);
      static void didInstallTimerImpl(InstrumentingAgents&amp;, int timerId, Seconds timeout, bool singleShot, ScriptExecutionContext&amp;);
      static void didRemoveTimerImpl(InstrumentingAgents&amp;, int timerId, ScriptExecutionContext&amp;);
  
<span class="line-modified">!     static void didPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;, JSC::ExecState&amp;);</span>
      static void didFailPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
      static void willDispatchPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
      static void didDispatchPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
  
<span class="line-modified">!     static InspectorInstrumentationCookie willCallFunctionImpl(InstrumentingAgents&amp;, const String&amp; scriptName, int scriptLine, int scriptColumn, ScriptExecutionContext*);</span>
<span class="line-modified">!     static void didCallFunctionImpl(const InspectorInstrumentationCookie&amp;, ScriptExecutionContext*);</span>
      static void didAddEventListenerImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
      static void willRemoveEventListenerImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
      static bool isEventListenerDisabledImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
<span class="line-modified">!     static InspectorInstrumentationCookie willDispatchEventImpl(InstrumentingAgents&amp;, Document&amp;, const Event&amp;, bool hasEventListeners);</span>
      static void willHandleEventImpl(InstrumentingAgents&amp;, Event&amp;, const RegisteredEventListener&amp;);
      static void didHandleEventImpl(InstrumentingAgents&amp;);
<span class="line-modified">!     static void didDispatchEventImpl(const InspectorInstrumentationCookie&amp;, bool defaultPrevented);</span>
<span class="line-modified">!     static InspectorInstrumentationCookie willDispatchEventOnWindowImpl(InstrumentingAgents&amp;, const Event&amp;, DOMWindow&amp;);</span>
<span class="line-modified">!     static void didDispatchEventOnWindowImpl(const InspectorInstrumentationCookie&amp;, bool defaultPrevented);</span>
      static void eventDidResetAfterDispatchImpl(InstrumentingAgents&amp;, const Event&amp;);
<span class="line-modified">!     static InspectorInstrumentationCookie willEvaluateScriptImpl(InstrumentingAgents&amp;, Frame&amp;, const String&amp; url, int lineNumber, int columnNumber);</span>
<span class="line-modified">!     static void didEvaluateScriptImpl(const InspectorInstrumentationCookie&amp;, Frame&amp;);</span>
<span class="line-modified">!     static InspectorInstrumentationCookie willFireTimerImpl(InstrumentingAgents&amp;, int timerId, bool oneShot, ScriptExecutionContext&amp;);</span>
<span class="line-modified">!     static void didFireTimerImpl(const InspectorInstrumentationCookie&amp;);</span>
      static void didInvalidateLayoutImpl(InstrumentingAgents&amp;, Frame&amp;);
<span class="line-modified">!     static InspectorInstrumentationCookie willLayoutImpl(InstrumentingAgents&amp;, Frame&amp;);</span>
<span class="line-modified">!     static void didLayoutImpl(const InspectorInstrumentationCookie&amp;, RenderObject&amp;);</span>
      static void didScrollImpl(InstrumentingAgents&amp;);
      static void willCompositeImpl(InstrumentingAgents&amp;, Frame&amp;);
      static void didCompositeImpl(InstrumentingAgents&amp;);
      static void willPaintImpl(InstrumentingAgents&amp;, RenderObject&amp;);
      static void didPaintImpl(InstrumentingAgents&amp;, RenderObject&amp;, const LayoutRect&amp;);
<span class="line-modified">!     static InspectorInstrumentationCookie willRecalculateStyleImpl(InstrumentingAgents&amp;, Document&amp;);</span>
<span class="line-modified">!     static void didRecalculateStyleImpl(const InspectorInstrumentationCookie&amp;);</span>
      static void didScheduleStyleRecalculationImpl(InstrumentingAgents&amp;, Document&amp;);
      static void applyUserAgentOverrideImpl(InstrumentingAgents&amp;, String&amp;);
      static void applyEmulatedMediaImpl(InstrumentingAgents&amp;, String&amp;);
  
      static void willSendRequestImpl(InstrumentingAgents&amp;, unsigned long identifier, DocumentLoader*, ResourceRequest&amp;, const ResourceResponse&amp; redirectResponse);
<span class="line-new-header">--- 371,41 ---</span>
      static void willSendXMLHttpRequestImpl(InstrumentingAgents&amp;, const String&amp; url);
      static void willFetchImpl(InstrumentingAgents&amp;, const String&amp; url);
      static void didInstallTimerImpl(InstrumentingAgents&amp;, int timerId, Seconds timeout, bool singleShot, ScriptExecutionContext&amp;);
      static void didRemoveTimerImpl(InstrumentingAgents&amp;, int timerId, ScriptExecutionContext&amp;);
  
<span class="line-modified">!     static void didPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;, JSC::JSGlobalObject&amp;);</span>
      static void didFailPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
      static void willDispatchPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
      static void didDispatchPostMessageImpl(InstrumentingAgents&amp;, const TimerBase&amp;);
  
<span class="line-modified">!     static void willCallFunctionImpl(InstrumentingAgents&amp;, const String&amp; scriptName, int scriptLine, int scriptColumn, ScriptExecutionContext*);</span>
<span class="line-modified">!     static void didCallFunctionImpl(InstrumentingAgents&amp;, ScriptExecutionContext*);</span>
      static void didAddEventListenerImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
      static void willRemoveEventListenerImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
      static bool isEventListenerDisabledImpl(InstrumentingAgents&amp;, EventTarget&amp;, const AtomString&amp; eventType, EventListener&amp;, bool capture);
<span class="line-modified">!     static void willDispatchEventImpl(InstrumentingAgents&amp;, Document&amp;, const Event&amp;);</span>
      static void willHandleEventImpl(InstrumentingAgents&amp;, Event&amp;, const RegisteredEventListener&amp;);
      static void didHandleEventImpl(InstrumentingAgents&amp;);
<span class="line-modified">!     static void didDispatchEventImpl(InstrumentingAgents&amp;, const Event&amp;);</span>
<span class="line-modified">!     static void willDispatchEventOnWindowImpl(InstrumentingAgents&amp;, const Event&amp;, DOMWindow&amp;);</span>
<span class="line-modified">!     static void didDispatchEventOnWindowImpl(InstrumentingAgents&amp;, const Event&amp;);</span>
      static void eventDidResetAfterDispatchImpl(InstrumentingAgents&amp;, const Event&amp;);
<span class="line-modified">!     static void willEvaluateScriptImpl(InstrumentingAgents&amp;, Frame&amp;, const String&amp; url, int lineNumber, int columnNumber);</span>
<span class="line-modified">!     static void didEvaluateScriptImpl(InstrumentingAgents&amp;, Frame&amp;);</span>
<span class="line-modified">!     static void willFireTimerImpl(InstrumentingAgents&amp;, int timerId, bool oneShot, ScriptExecutionContext&amp;);</span>
<span class="line-modified">!     static void didFireTimerImpl(InstrumentingAgents&amp;);</span>
      static void didInvalidateLayoutImpl(InstrumentingAgents&amp;, Frame&amp;);
<span class="line-modified">!     static void willLayoutImpl(InstrumentingAgents&amp;, Frame&amp;);</span>
<span class="line-modified">!     static void didLayoutImpl(InstrumentingAgents&amp;, RenderObject&amp;);</span>
      static void didScrollImpl(InstrumentingAgents&amp;);
      static void willCompositeImpl(InstrumentingAgents&amp;, Frame&amp;);
      static void didCompositeImpl(InstrumentingAgents&amp;);
      static void willPaintImpl(InstrumentingAgents&amp;, RenderObject&amp;);
      static void didPaintImpl(InstrumentingAgents&amp;, RenderObject&amp;, const LayoutRect&amp;);
<span class="line-modified">!     static void willRecalculateStyleImpl(InstrumentingAgents&amp;, Document&amp;);</span>
<span class="line-modified">!     static void didRecalculateStyleImpl(InstrumentingAgents&amp;);</span>
      static void didScheduleStyleRecalculationImpl(InstrumentingAgents&amp;, Document&amp;);
      static void applyUserAgentOverrideImpl(InstrumentingAgents&amp;, String&amp;);
      static void applyEmulatedMediaImpl(InstrumentingAgents&amp;, String&amp;);
  
      static void willSendRequestImpl(InstrumentingAgents&amp;, unsigned long identifier, DocumentLoader*, ResourceRequest&amp;, const ResourceResponse&amp; redirectResponse);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 402,32 ***</span>
      static void frameScheduledNavigationImpl(InstrumentingAgents&amp;, Frame&amp;, Seconds delay);
      static void frameClearedScheduledNavigationImpl(InstrumentingAgents&amp;, Frame&amp;);
      static void defaultAppearanceDidChangeImpl(InstrumentingAgents&amp;, bool useDarkAppearance);
      static void willDestroyCachedResourceImpl(CachedResource&amp;);
  
      static void addMessageToConsoleImpl(InstrumentingAgents&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
  
<span class="line-modified">!     static void consoleCountImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified">!     static void consoleCountResetImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label);</span>
      static void takeHeapSnapshotImpl(InstrumentingAgents&amp;, const String&amp; title);
<span class="line-modified">!     static void startConsoleTimingImpl(InstrumentingAgents&amp;, Frame&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified">!     static void startConsoleTimingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified">!     static void logConsoleTimingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="line-modified">!     static void stopConsoleTimingImpl(InstrumentingAgents&amp;, Frame&amp;, JSC::ExecState*, const String&amp; label);</span>
<span class="line-modified">!     static void stopConsoleTimingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; label);</span>
      static void consoleTimeStampImpl(InstrumentingAgents&amp;, Frame&amp;, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);
<span class="line-modified">!     static void startProfilingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; title);</span>
<span class="line-modified">!     static void stopProfilingImpl(InstrumentingAgents&amp;, JSC::ExecState*, const String&amp; title);</span>
<span class="line-modified">!     static void consoleStartRecordingCanvasImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, JSC::ExecState&amp;, JSC::JSObject* options);</span>
  
      static void didRequestAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);
      static void didCancelAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);
<span class="line-modified">!     static InspectorInstrumentationCookie willFireAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);</span>
<span class="line-modified">!     static void didFireAnimationFrameImpl(const InspectorInstrumentationCookie&amp;);</span>
  
<span class="line-modified">!     static InspectorInstrumentationCookie willFireObserverCallbackImpl(InstrumentingAgents&amp;, const String&amp;, ScriptExecutionContext&amp;);</span>
<span class="line-modified">!     static void didFireObserverCallbackImpl(const InspectorInstrumentationCookie&amp;);</span>
  
      static void didOpenDatabaseImpl(InstrumentingAgents&amp;, Database&amp;);
  
      static void didDispatchDOMStorageEventImpl(InstrumentingAgents&amp;, const String&amp; key, const String&amp; oldValue, const String&amp; newValue, StorageType, SecurityOrigin*);
  
<span class="line-new-header">--- 433,37 ---</span>
      static void frameScheduledNavigationImpl(InstrumentingAgents&amp;, Frame&amp;, Seconds delay);
      static void frameClearedScheduledNavigationImpl(InstrumentingAgents&amp;, Frame&amp;);
      static void defaultAppearanceDidChangeImpl(InstrumentingAgents&amp;, bool useDarkAppearance);
      static void willDestroyCachedResourceImpl(CachedResource&amp;);
  
<span class="line-added">+     static bool willInterceptRequestImpl(InstrumentingAgents&amp;, const ResourceRequest&amp;);</span>
<span class="line-added">+     static bool shouldInterceptResponseImpl(InstrumentingAgents&amp;, const ResourceResponse&amp;);</span>
<span class="line-added">+     static void interceptResponseImpl(InstrumentingAgents&amp;, const ResourceResponse&amp;, unsigned long identifier, CompletionHandler&lt;void(const ResourceResponse&amp;, RefPtr&lt;SharedBuffer&gt;)&gt;&amp;&amp;);</span>
<span class="line-added">+ </span>
      static void addMessageToConsoleImpl(InstrumentingAgents&amp;, std::unique_ptr&lt;Inspector::ConsoleMessage&gt;);
  
<span class="line-modified">!     static void consoleCountImpl(InstrumentingAgents&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="line-modified">!     static void consoleCountResetImpl(InstrumentingAgents&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
      static void takeHeapSnapshotImpl(InstrumentingAgents&amp;, const String&amp; title);
<span class="line-modified">!     static void startConsoleTimingImpl(InstrumentingAgents&amp;, Frame&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="line-modified">!     static void startConsoleTimingImpl(InstrumentingAgents&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="line-modified">!     static void logConsoleTimingImpl(InstrumentingAgents&amp;, JSC::JSGlobalObject*, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);</span>
<span class="line-modified">!     static void stopConsoleTimingImpl(InstrumentingAgents&amp;, Frame&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
<span class="line-modified">!     static void stopConsoleTimingImpl(InstrumentingAgents&amp;, JSC::JSGlobalObject*, const String&amp; label);</span>
      static void consoleTimeStampImpl(InstrumentingAgents&amp;, Frame&amp;, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp;);
<span class="line-modified">!     static void startProfilingImpl(InstrumentingAgents&amp;, JSC::JSGlobalObject*, const String&amp; title);</span>
<span class="line-modified">!     static void stopProfilingImpl(InstrumentingAgents&amp;, JSC::JSGlobalObject*, const String&amp; title);</span>
<span class="line-modified">!     static void consoleStartRecordingCanvasImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, JSC::JSGlobalObject&amp;, JSC::JSObject* options);</span>
<span class="line-added">+     static void consoleStopRecordingCanvasImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;);</span>
  
      static void didRequestAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);
      static void didCancelAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);
<span class="line-modified">!     static void willFireAnimationFrameImpl(InstrumentingAgents&amp;, int callbackId, Document&amp;);</span>
<span class="line-modified">!     static void didFireAnimationFrameImpl(InstrumentingAgents&amp;);</span>
  
<span class="line-modified">!     static void willFireObserverCallbackImpl(InstrumentingAgents&amp;, const String&amp;, ScriptExecutionContext&amp;);</span>
<span class="line-modified">!     static void didFireObserverCallbackImpl(InstrumentingAgents&amp;);</span>
  
      static void didOpenDatabaseImpl(InstrumentingAgents&amp;, Database&amp;);
  
      static void didDispatchDOMStorageEventImpl(InstrumentingAgents&amp;, const String&amp; key, const String&amp; oldValue, const String&amp; newValue, StorageType, SecurityOrigin*);
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 455,34 ***</span>
      static void didChangeCanvasMemoryImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;);
      static void recordCanvasActionImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, const String&amp;, std::initializer_list&lt;RecordCanvasActionVariant&gt;&amp;&amp; = { });
      static void didFinishRecordingCanvasFrameImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, bool forceDispatch = false);
  #if ENABLE(WEBGL)
      static void didEnableExtensionImpl(InstrumentingAgents&amp;, WebGLRenderingContextBase&amp;, const String&amp;);
<span class="line-modified">!     static void didCreateProgramImpl(InstrumentingAgents&amp;, WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="line-modified">!     static void willDeleteProgramImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);</span>
<span class="line-modified">!     static bool isShaderProgramDisabledImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);</span>
<span class="line-modified">!     static bool isShaderProgramHighlightedImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);</span>
  #endif
  
      static void layerTreeDidChangeImpl(InstrumentingAgents&amp;);
      static void renderLayerDestroyedImpl(InstrumentingAgents&amp;, const RenderLayer&amp;);
  
      static InstrumentingAgents&amp; instrumentingAgentsForPage(Page&amp;);
      static InstrumentingAgents&amp; instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope&amp;);
  
<span class="line-modified">!     static InstrumentingAgents* instrumentingAgentsForFrame(Frame&amp;);</span>
<span class="line-modified">!     static InstrumentingAgents* instrumentingAgentsForFrame(Frame*);</span>
      static InstrumentingAgents* instrumentingAgentsForContext(ScriptExecutionContext*);
      static InstrumentingAgents* instrumentingAgentsForContext(ScriptExecutionContext&amp;);
      static InstrumentingAgents* instrumentingAgentsForDocument(Document&amp;);
      static InstrumentingAgents* instrumentingAgentsForDocument(Document*);
      static InstrumentingAgents* instrumentingAgentsForRenderer(RenderObject&amp;);
      static InstrumentingAgents* instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope*);
<span class="line-removed">- </span>
<span class="line-removed">-     static InspectorTimelineAgent* retrieveTimelineAgent(const InspectorInstrumentationCookie&amp;);</span>
<span class="line-removed">- </span>
<span class="line-removed">-     WEBCORE_EXPORT static int s_frontendCounter;</span>
  };
  
  inline void InspectorInstrumentation::didClearWindowObjectInWorld(Frame&amp; frame, DOMWrapperWorld&amp; world)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-new-header">--- 491,45 ---</span>
      static void didChangeCanvasMemoryImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;);
      static void recordCanvasActionImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, const String&amp;, std::initializer_list&lt;RecordCanvasActionVariant&gt;&amp;&amp; = { });
      static void didFinishRecordingCanvasFrameImpl(InstrumentingAgents&amp;, CanvasRenderingContext&amp;, bool forceDispatch = false);
  #if ENABLE(WEBGL)
      static void didEnableExtensionImpl(InstrumentingAgents&amp;, WebGLRenderingContextBase&amp;, const String&amp;);
<span class="line-modified">!     static void didCreateWebGLProgramImpl(InstrumentingAgents&amp;, WebGLRenderingContextBase&amp;, WebGLProgram&amp;);</span>
<span class="line-modified">!     static void willDestroyWebGLProgramImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);</span>
<span class="line-modified">!     static bool isWebGLProgramDisabledImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);</span>
<span class="line-modified">!     static bool isWebGLProgramHighlightedImpl(InstrumentingAgents&amp;, WebGLProgram&amp;);</span>
<span class="line-added">+ #endif</span>
<span class="line-added">+ #if ENABLE(WEBGPU)</span>
<span class="line-added">+     static void didCreateWebGPUDeviceImpl(InstrumentingAgents&amp;, WebGPUDevice&amp;);</span>
<span class="line-added">+     static void willDestroyWebGPUDeviceImpl(InstrumentingAgents&amp;, WebGPUDevice&amp;);</span>
<span class="line-added">+     static void willConfigureSwapChainImpl(InstrumentingAgents&amp;, GPUCanvasContext&amp;, WebGPUSwapChain&amp;);</span>
<span class="line-added">+     static void didCreateWebGPUPipelineImpl(InstrumentingAgents&amp;, WebGPUDevice&amp;, WebGPUPipeline&amp;);</span>
<span class="line-added">+     static void willDestroyWebGPUPipelineImpl(InstrumentingAgents&amp;, WebGPUPipeline&amp;);</span>
<span class="line-added">+     static InstrumentingAgents* instrumentingAgentsForWebGPUDevice(WebGPUDevice&amp;);</span>
  #endif
  
<span class="line-added">+     static void willApplyKeyframeEffectImpl(InstrumentingAgents&amp;, Element&amp;, KeyframeEffect&amp;, ComputedEffectTiming);</span>
<span class="line-added">+     static void didSetWebAnimationEffectImpl(InstrumentingAgents&amp;, WebAnimation&amp;);</span>
<span class="line-added">+     static void didChangeWebAnimationEffectTimingImpl(InstrumentingAgents&amp;, WebAnimation&amp;);</span>
<span class="line-added">+     static void didChangeWebAnimationEffectTargetImpl(InstrumentingAgents&amp;, WebAnimation&amp;);</span>
<span class="line-added">+     static void didCreateWebAnimationImpl(InstrumentingAgents&amp;, WebAnimation&amp;);</span>
<span class="line-added">+     static void willDestroyWebAnimationImpl(InstrumentingAgents&amp;, WebAnimation&amp;);</span>
<span class="line-added">+ </span>
      static void layerTreeDidChangeImpl(InstrumentingAgents&amp;);
      static void renderLayerDestroyedImpl(InstrumentingAgents&amp;, const RenderLayer&amp;);
  
      static InstrumentingAgents&amp; instrumentingAgentsForPage(Page&amp;);
      static InstrumentingAgents&amp; instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope&amp;);
  
<span class="line-modified">!     static InstrumentingAgents* instrumentingAgentsForFrame(const Frame&amp;);</span>
<span class="line-modified">!     static InstrumentingAgents* instrumentingAgentsForFrame(const Frame*);</span>
      static InstrumentingAgents* instrumentingAgentsForContext(ScriptExecutionContext*);
      static InstrumentingAgents* instrumentingAgentsForContext(ScriptExecutionContext&amp;);
      static InstrumentingAgents* instrumentingAgentsForDocument(Document&amp;);
      static InstrumentingAgents* instrumentingAgentsForDocument(Document*);
      static InstrumentingAgents* instrumentingAgentsForRenderer(RenderObject&amp;);
      static InstrumentingAgents* instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope*);
  };
  
  inline void InspectorInstrumentation::didClearWindowObjectInWorld(Frame&amp; frame, DOMWrapperWorld&amp; world)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
</pre>
<hr />
<pre>
<span class="line-old-header">*** 758,11 ***</span>
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(target.scriptExecutionContext()))
          return isEventListenerDisabledImpl(*instrumentingAgents, target, eventType, listener, capture);
      return false;
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didPostMessage(Frame&amp; frame, TimerBase&amp; timer, JSC::ExecState&amp; state)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          didPostMessageImpl(*instrumentingAgents, timer, state);
  }
<span class="line-new-header">--- 805,11 ---</span>
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(target.scriptExecutionContext()))
          return isEventListenerDisabledImpl(*instrumentingAgents, target, eventType, listener, capture);
      return false;
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didPostMessage(Frame&amp; frame, TimerBase&amp; timer, JSC::JSGlobalObject&amp; state)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          didPostMessageImpl(*instrumentingAgents, timer, state);
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 786,38 ***</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          didDispatchPostMessageImpl(*instrumentingAgents, timer);
  }
  
<span class="line-modified">! inline InspectorInstrumentationCookie InspectorInstrumentation::willCallFunction(ScriptExecutionContext* context, const String&amp; scriptName, int scriptLine, int scriptColumn)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="line-modified">!     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="line-modified">!         return willCallFunctionImpl(*instrumentingAgents, scriptName, scriptLine, scriptColumn, context);</span>
<span class="line-removed">-     return InspectorInstrumentationCookie();</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didCallFunction(const InspectorInstrumentationCookie&amp; cookie, ScriptExecutionContext* context)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (cookie.isValid())</span>
<span class="line-modified">!         didCallFunctionImpl(cookie, context);</span>
  }
  
<span class="line-modified">! inline InspectorInstrumentationCookie InspectorInstrumentation::willDispatchEvent(Document&amp; document, const Event&amp; event, bool hasEventListeners)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="line-modified">!     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="line-modified">!         return willDispatchEventImpl(*instrumentingAgents, document, event, hasEventListeners);</span>
<span class="line-removed">-     return InspectorInstrumentationCookie();</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didDispatchEvent(const InspectorInstrumentationCookie&amp; cookie, bool defaultPrevented)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (cookie.isValid())</span>
<span class="line-modified">!         didDispatchEventImpl(cookie, defaultPrevented);</span>
  }
  
  inline void InspectorInstrumentation::willHandleEvent(ScriptExecutionContext&amp; context, Event&amp; event, const RegisteredEventListener&amp; listener)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-new-header">--- 833,36 ---</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          didDispatchPostMessageImpl(*instrumentingAgents, timer);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::willCallFunction(ScriptExecutionContext* context, const String&amp; scriptName, int scriptLine, int scriptColumn)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="line-modified">!         willCallFunctionImpl(*instrumentingAgents, scriptName, scriptLine, scriptColumn, context);</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didCallFunction(ScriptExecutionContext* context)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="line-modified">!         didCallFunctionImpl(*instrumentingAgents, context);</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::willDispatchEvent(Document&amp; document, const Event&amp; event)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="line-modified">!         willDispatchEventImpl(*instrumentingAgents, document, event);</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didDispatchEvent(Document&amp; document, const Event&amp; event)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="line-modified">!         didDispatchEventImpl(*instrumentingAgents, event);</span>
  }
  
  inline void InspectorInstrumentation::willHandleEvent(ScriptExecutionContext&amp; context, Event&amp; event, const RegisteredEventListener&amp; listener)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
</pre>
<hr />
<pre>
<span class="line-old-header">*** 830,23 ***</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
          return didHandleEventImpl(*instrumentingAgents);
  }
  
<span class="line-modified">! inline InspectorInstrumentationCookie InspectorInstrumentation::willDispatchEventOnWindow(Frame* frame, const Event&amp; event, DOMWindow&amp; window)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="line-modified">!     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-modified">!         return willDispatchEventOnWindowImpl(*instrumentingAgents, event, window);</span>
<span class="line-removed">-     return InspectorInstrumentationCookie();</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didDispatchEventOnWindow(const InspectorInstrumentationCookie&amp; cookie, bool defaultPrevented)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (cookie.isValid())</span>
<span class="line-modified">!         didDispatchEventOnWindowImpl(cookie, defaultPrevented);</span>
  }
  
  inline void InspectorInstrumentation::eventDidResetAfterDispatch(const Event&amp; event)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-new-header">--- 875,22 ---</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))
          return didHandleEventImpl(*instrumentingAgents);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::willDispatchEventOnWindow(Frame* frame, const Event&amp; event, DOMWindow&amp; window)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-modified">!         willDispatchEventOnWindowImpl(*instrumentingAgents, event, window);</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didDispatchEventOnWindow(Frame* frame, const Event&amp; event)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-modified">!         didDispatchEventOnWindowImpl(*instrumentingAgents, event);</span>
  }
  
  inline void InspectorInstrumentation::eventDidResetAfterDispatch(const Event&amp; event)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
</pre>
<hr />
<pre>
<span class="line-old-header">*** 857,60 ***</span>
      auto* node = downcast&lt;Node&gt;(event.target());
      if (auto* instrumentingAgents = instrumentingAgentsForContext(node-&gt;scriptExecutionContext()))
          return eventDidResetAfterDispatchImpl(*instrumentingAgents, event);
  }
  
<span class="line-modified">! inline InspectorInstrumentationCookie InspectorInstrumentation::willEvaluateScript(Frame&amp; frame, const String&amp; url, int lineNumber, int columnNumber)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="line-modified">!     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-modified">!         return willEvaluateScriptImpl(*instrumentingAgents, frame, url, lineNumber, columnNumber);</span>
<span class="line-removed">-     return InspectorInstrumentationCookie();</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didEvaluateScript(const InspectorInstrumentationCookie&amp; cookie, Frame&amp; frame)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (cookie.isValid())</span>
<span class="line-modified">!         didEvaluateScriptImpl(cookie, frame);</span>
  }
  
<span class="line-modified">! inline InspectorInstrumentationCookie InspectorInstrumentation::willFireTimer(ScriptExecutionContext&amp; context, int timerId, bool oneShot)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="line-modified">!     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="line-modified">!         return willFireTimerImpl(*instrumentingAgents, timerId, oneShot, context);</span>
<span class="line-removed">-     return InspectorInstrumentationCookie();</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didFireTimer(const InspectorInstrumentationCookie&amp; cookie)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (cookie.isValid())</span>
<span class="line-modified">!         didFireTimerImpl(cookie);</span>
  }
  
  inline void InspectorInstrumentation::didInvalidateLayout(Frame&amp; frame)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          didInvalidateLayoutImpl(*instrumentingAgents, frame);
  }
  
<span class="line-modified">! inline InspectorInstrumentationCookie InspectorInstrumentation::willLayout(Frame&amp; frame)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="line-modified">!     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-modified">!         return willLayoutImpl(*instrumentingAgents, frame);</span>
<span class="line-removed">-     return InspectorInstrumentationCookie();</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didLayout(const InspectorInstrumentationCookie&amp; cookie, RenderObject&amp; root)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (cookie.isValid())</span>
<span class="line-modified">!         didLayoutImpl(cookie, root);</span>
  }
  
  inline void InspectorInstrumentation::didScroll(Page&amp; page)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-new-header">--- 901,57 ---</span>
      auto* node = downcast&lt;Node&gt;(event.target());
      if (auto* instrumentingAgents = instrumentingAgentsForContext(node-&gt;scriptExecutionContext()))
          return eventDidResetAfterDispatchImpl(*instrumentingAgents, event);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::willEvaluateScript(Frame&amp; frame, const String&amp; url, int lineNumber, int columnNumber)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-modified">!         willEvaluateScriptImpl(*instrumentingAgents, frame, url, lineNumber, columnNumber);</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didEvaluateScript(Frame&amp; frame)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-modified">!         didEvaluateScriptImpl(*instrumentingAgents, frame);</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::willFireTimer(ScriptExecutionContext&amp; context, int timerId, bool oneShot)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="line-modified">!         willFireTimerImpl(*instrumentingAgents, timerId, oneShot, context);</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didFireTimer(ScriptExecutionContext&amp; context)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="line-modified">!         didFireTimerImpl(*instrumentingAgents);</span>
  }
  
  inline void InspectorInstrumentation::didInvalidateLayout(Frame&amp; frame)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          didInvalidateLayoutImpl(*instrumentingAgents, frame);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::willLayout(Frame&amp; frame)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-modified">!         willLayoutImpl(*instrumentingAgents, frame);</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didLayout(Frame&amp; frame, RenderObject&amp; root)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-modified">!         didLayoutImpl(*instrumentingAgents, root);</span>
  }
  
  inline void InspectorInstrumentation::didScroll(Page&amp; page)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
</pre>
<hr />
<pre>
<span class="line-old-header">*** 943,23 ***</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForRenderer(renderer))
          didPaintImpl(*instrumentingAgents, renderer, rect);
  }
  
<span class="line-modified">! inline InspectorInstrumentationCookie InspectorInstrumentation::willRecalculateStyle(Document&amp; document)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="line-modified">!     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="line-modified">!         return willRecalculateStyleImpl(*instrumentingAgents, document);</span>
<span class="line-removed">-     return InspectorInstrumentationCookie();</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didRecalculateStyle(const InspectorInstrumentationCookie&amp; cookie)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (cookie.isValid())</span>
<span class="line-modified">!         didRecalculateStyleImpl(cookie);</span>
  }
  
  inline void InspectorInstrumentation::didScheduleStyleRecalculation(Document&amp; document)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-new-header">--- 984,22 ---</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForRenderer(renderer))
          didPaintImpl(*instrumentingAgents, renderer, rect);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::willRecalculateStyle(Document&amp; document)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="line-modified">!         willRecalculateStyleImpl(*instrumentingAgents, document);</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didRecalculateStyle(Document&amp; document)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="line-modified">!         didRecalculateStyleImpl(*instrumentingAgents);</span>
  }
  
  inline void InspectorInstrumentation::didScheduleStyleRecalculation(Document&amp; document)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1197,10 ***</span>
<span class="line-new-header">--- 1237,33 ---</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      willDestroyCachedResourceImpl(cachedResource);
  }
  
<span class="line-added">+ inline bool InspectorInstrumentation::willInterceptRequest(const Frame* frame, const ResourceRequest&amp; request)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     FAST_RETURN_IF_NO_FRONTENDS(false);</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-added">+         return willInterceptRequestImpl(*instrumentingAgents, request);</span>
<span class="line-added">+     return false;</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
<span class="line-added">+ inline bool InspectorInstrumentation::shouldInterceptResponse(const Frame&amp; frame, const ResourceResponse&amp; response)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     ASSERT(InspectorInstrumentationPublic::hasFrontends());</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-added">+         return shouldInterceptResponseImpl(*instrumentingAgents, response);</span>
<span class="line-added">+     return false;</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
<span class="line-added">+ inline void InspectorInstrumentation::interceptResponse(const Frame&amp; frame, const ResourceResponse&amp; response, unsigned long identifier, CompletionHandler&lt;void(const ResourceResponse&amp;, RefPtr&lt;SharedBuffer&gt;)&gt;&amp;&amp; handler)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     ASSERT(InspectorInstrumentation::shouldInterceptResponse(frame, response));</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))</span>
<span class="line-added">+         interceptResponseImpl(*instrumentingAgents, response, identifier, WTFMove(handler));</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
  inline void InspectorInstrumentation::didOpenDatabase(Database&amp; database)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (auto* instrumentingAgents = instrumentingAgentsForContext(database.document()))
          didOpenDatabaseImpl(*instrumentingAgents, database);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1332,41 ***</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
          didEnableExtensionImpl(*instrumentingAgents, contextWebGLBase, extension);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didCreateProgram(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
<span class="line-modified">!         didCreateProgramImpl(*instrumentingAgents, contextWebGLBase, program);</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::willDeleteProgram(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))</span>
<span class="line-modified">!         willDeleteProgramImpl(*instrumentingAgents, program);</span>
  }
  
<span class="line-modified">! inline bool InspectorInstrumentation::isShaderProgramDisabled(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(false);
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
<span class="line-modified">!         return isShaderProgramDisabledImpl(*instrumentingAgents, program);</span>
      return false;
  }
  
<span class="line-modified">! inline bool InspectorInstrumentation::isShaderProgramHighlighted(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(false);
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
<span class="line-modified">!         return isShaderProgramHighlightedImpl(*instrumentingAgents, program);</span>
      return false;
  }
  #endif
  
  inline void InspectorInstrumentation::networkStateChanged(Page&amp; page)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      networkStateChangedImpl(instrumentingAgentsForPage(page));
  }
<span class="line-new-header">--- 1395,120 ---</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
          didEnableExtensionImpl(*instrumentingAgents, contextWebGLBase, extension);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didCreateWebGLProgram(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
<span class="line-modified">!         didCreateWebGLProgramImpl(*instrumentingAgents, contextWebGLBase, program);</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::willDestroyWebGLProgram(WebGLProgram&amp; program)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(program.scriptExecutionContext()))</span>
<span class="line-modified">!         willDestroyWebGLProgramImpl(*instrumentingAgents, program);</span>
  }
  
<span class="line-modified">! inline bool InspectorInstrumentation::isWebGLProgramDisabled(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(false);
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
<span class="line-modified">!         return isWebGLProgramDisabledImpl(*instrumentingAgents, program);</span>
      return false;
  }
  
<span class="line-modified">! inline bool InspectorInstrumentation::isWebGLProgramHighlighted(WebGLRenderingContextBase&amp; contextWebGLBase, WebGLProgram&amp; program)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(false);
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(contextWebGLBase.canvasBase().scriptExecutionContext()))
<span class="line-modified">!         return isWebGLProgramHighlightedImpl(*instrumentingAgents, program);</span>
      return false;
  }
  #endif
  
<span class="line-added">+ #if ENABLE(WEBGPU)</span>
<span class="line-added">+ inline void InspectorInstrumentation::didCreateWebGPUDevice(WebGPUDevice&amp; device)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForWebGPUDevice(device))</span>
<span class="line-added">+         didCreateWebGPUDeviceImpl(*instrumentingAgents, device);</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
<span class="line-added">+ inline void InspectorInstrumentation::willDestroyWebGPUDevice(WebGPUDevice&amp; device)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForWebGPUDevice(device))</span>
<span class="line-added">+         willDestroyWebGPUDeviceImpl(*instrumentingAgents, device);</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
<span class="line-added">+ inline void InspectorInstrumentation::willConfigureSwapChain(GPUCanvasContext&amp; contextGPU, WebGPUSwapChain&amp; newSwapChain)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(contextGPU.canvasBase().scriptExecutionContext()))</span>
<span class="line-added">+         willConfigureSwapChainImpl(*instrumentingAgents, contextGPU, newSwapChain);</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
<span class="line-added">+ inline void InspectorInstrumentation::didCreateWebGPUPipeline(WebGPUDevice&amp; device, WebGPUPipeline&amp; pipeline)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForWebGPUDevice(device))</span>
<span class="line-added">+         didCreateWebGPUPipelineImpl(*instrumentingAgents, device, pipeline);</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
<span class="line-added">+ inline void InspectorInstrumentation::willDestroyWebGPUPipeline(WebGPUPipeline&amp; pipeline)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(pipeline.scriptExecutionContext()))</span>
<span class="line-added">+         willDestroyWebGPUPipelineImpl(*instrumentingAgents, pipeline);</span>
<span class="line-added">+ }</span>
<span class="line-added">+ #endif</span>
<span class="line-added">+ </span>
<span class="line-added">+ inline void InspectorInstrumentation::willApplyKeyframeEffect(Element&amp; target, KeyframeEffect&amp; effect, ComputedEffectTiming computedTiming)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForDocument(target.document()))</span>
<span class="line-added">+         willApplyKeyframeEffectImpl(*instrumentingAgents, target, effect, computedTiming);</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
<span class="line-added">+ inline void InspectorInstrumentation::didSetWebAnimationEffect(WebAnimation&amp; animation)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(animation.scriptExecutionContext()))</span>
<span class="line-added">+         didSetWebAnimationEffectImpl(*instrumentingAgents, animation);</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
<span class="line-added">+ inline void InspectorInstrumentation::didChangeWebAnimationEffectTiming(WebAnimation&amp; animation)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(animation.scriptExecutionContext()))</span>
<span class="line-added">+         didChangeWebAnimationEffectTimingImpl(*instrumentingAgents, animation);</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
<span class="line-added">+ inline void InspectorInstrumentation::didChangeWebAnimationEffectTarget(WebAnimation&amp; animation)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(animation.scriptExecutionContext()))</span>
<span class="line-added">+         didChangeWebAnimationEffectTargetImpl(*instrumentingAgents, animation);</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
<span class="line-added">+ inline void InspectorInstrumentation::didCreateWebAnimation(WebAnimation&amp; animation)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(animation.scriptExecutionContext()))</span>
<span class="line-added">+         didCreateWebAnimationImpl(*instrumentingAgents, animation);</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
<span class="line-added">+ inline void InspectorInstrumentation::willDestroyWebAnimation(WebAnimation&amp; animation)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(animation.scriptExecutionContext()))</span>
<span class="line-added">+         willDestroyWebAnimationImpl(*instrumentingAgents, animation);</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
  inline void InspectorInstrumentation::networkStateChanged(Page&amp; page)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      networkStateChangedImpl(instrumentingAgentsForPage(page));
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1386,26 ***</span>
  inline void InspectorInstrumentation::addMessageToConsole(WorkerGlobalScope&amp; workerGlobalScope, std::unique_ptr&lt;Inspector::ConsoleMessage&gt; message)
  {
      addMessageToConsoleImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), WTFMove(message));
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::consoleCount(Page&amp; page, JSC::ExecState* state, const String&amp; label)</span>
  {
      consoleCountImpl(instrumentingAgentsForPage(page), state, label);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::consoleCount(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* state, const String&amp; label)</span>
  {
      consoleCountImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), state, label);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::consoleCountReset(Page&amp; page, JSC::ExecState* state, const String&amp; label)</span>
  {
      consoleCountResetImpl(instrumentingAgentsForPage(page), state, label);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::consoleCountReset(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* state, const String&amp; label)</span>
  {
      consoleCountResetImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), state, label);
  }
  
  inline void InspectorInstrumentation::takeHeapSnapshot(Frame&amp; frame, const String&amp; title)
<span class="line-new-header">--- 1528,26 ---</span>
  inline void InspectorInstrumentation::addMessageToConsole(WorkerGlobalScope&amp; workerGlobalScope, std::unique_ptr&lt;Inspector::ConsoleMessage&gt; message)
  {
      addMessageToConsoleImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), WTFMove(message));
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::consoleCount(Page&amp; page, JSC::JSGlobalObject* state, const String&amp; label)</span>
  {
      consoleCountImpl(instrumentingAgentsForPage(page), state, label);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::consoleCount(WorkerGlobalScope&amp; workerGlobalScope, JSC::JSGlobalObject* state, const String&amp; label)</span>
  {
      consoleCountImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), state, label);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::consoleCountReset(Page&amp; page, JSC::JSGlobalObject* state, const String&amp; label)</span>
  {
      consoleCountResetImpl(instrumentingAgentsForPage(page), state, label);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::consoleCountReset(WorkerGlobalScope&amp; workerGlobalScope, JSC::JSGlobalObject* state, const String&amp; label)</span>
  {
      consoleCountResetImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), state, label);
  }
  
  inline void InspectorInstrumentation::takeHeapSnapshot(Frame&amp; frame, const String&amp; title)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1413,39 ***</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          takeHeapSnapshotImpl(*instrumentingAgents, title);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::startConsoleTiming(Frame&amp; frame, JSC::ExecState* exec, const String&amp; label)</span>
  {
      if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))
          startConsoleTimingImpl(*instrumentingAgents, frame, exec, label);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::startConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* exec, const String&amp; label)</span>
  {
      startConsoleTimingImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), exec, label);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::logConsoleTiming(Frame&amp; frame, JSC::ExecState* exec, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
      if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))
          logConsoleTimingImpl(*instrumentingAgents, exec, label, WTFMove(arguments));
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::logConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* exec, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
      logConsoleTimingImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), exec, label, WTFMove(arguments));
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::stopConsoleTiming(Frame&amp; frame, JSC::ExecState* exec, const String&amp; label)</span>
  {
      if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))
          stopConsoleTimingImpl(*instrumentingAgents, frame, exec, label);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::stopConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::ExecState* exec, const String&amp; label)</span>
  {
      stopConsoleTimingImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), exec, label);
  }
  
  inline void InspectorInstrumentation::consoleTimeStamp(Frame&amp; frame, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)
<span class="line-new-header">--- 1555,39 ---</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          takeHeapSnapshotImpl(*instrumentingAgents, title);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::startConsoleTiming(Frame&amp; frame, JSC::JSGlobalObject* exec, const String&amp; label)</span>
  {
      if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))
          startConsoleTimingImpl(*instrumentingAgents, frame, exec, label);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::startConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::JSGlobalObject* exec, const String&amp; label)</span>
  {
      startConsoleTimingImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), exec, label);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::logConsoleTiming(Frame&amp; frame, JSC::JSGlobalObject* exec, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
      if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))
          logConsoleTimingImpl(*instrumentingAgents, exec, label, WTFMove(arguments));
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::logConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::JSGlobalObject* exec, const String&amp; label, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
      logConsoleTimingImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), exec, label, WTFMove(arguments));
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::stopConsoleTiming(Frame&amp; frame, JSC::JSGlobalObject* exec, const String&amp; label)</span>
  {
      if (auto* instrumentingAgents = instrumentingAgentsForFrame(frame))
          stopConsoleTimingImpl(*instrumentingAgents, frame, exec, label);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::stopConsoleTiming(WorkerGlobalScope&amp; workerGlobalScope, JSC::JSGlobalObject* exec, const String&amp; label)</span>
  {
      stopConsoleTimingImpl(instrumentingAgentsForWorkerGlobalScope(workerGlobalScope), exec, label);
  }
  
  inline void InspectorInstrumentation::consoleTimeStamp(Frame&amp; frame, Ref&lt;Inspector::ScriptArguments&gt;&amp;&amp; arguments)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1453,29 ***</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          consoleTimeStampImpl(*instrumentingAgents, frame, WTFMove(arguments));
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::startProfiling(Page&amp; page, JSC::ExecState* exec, const String &amp;title)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      startProfilingImpl(instrumentingAgentsForPage(page), exec, title);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::stopProfiling(Page&amp; page, JSC::ExecState* exec, const String &amp;title)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      stopProfilingImpl(instrumentingAgentsForPage(page), exec, title);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::consoleStartRecordingCanvas(CanvasRenderingContext&amp; context, JSC::ExecState&amp; exec, JSC::JSObject* options)</span>
  {
<span class="line-removed">-     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))
          consoleStartRecordingCanvasImpl(*instrumentingAgents, context, exec, options);
  }
  
  inline void InspectorInstrumentation::didRequestAnimationFrame(Document&amp; document, int callbackId)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
          didRequestAnimationFrameImpl(*instrumentingAgents, callbackId, document);
<span class="line-new-header">--- 1595,34 ---</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForFrame(frame))
          consoleTimeStampImpl(*instrumentingAgents, frame, WTFMove(arguments));
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::startProfiling(Page&amp; page, JSC::JSGlobalObject* exec, const String &amp;title)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      startProfilingImpl(instrumentingAgentsForPage(page), exec, title);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::stopProfiling(Page&amp; page, JSC::JSGlobalObject* exec, const String &amp;title)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      stopProfilingImpl(instrumentingAgentsForPage(page), exec, title);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::consoleStartRecordingCanvas(CanvasRenderingContext&amp; context, JSC::JSGlobalObject&amp; exec, JSC::JSObject* options)</span>
  {
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))
          consoleStartRecordingCanvasImpl(*instrumentingAgents, context, exec, options);
  }
  
<span class="line-added">+ inline void InspectorInstrumentation::consoleStopRecordingCanvas(CanvasRenderingContext&amp; context)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     if (auto* instrumentingAgents = instrumentingAgentsForContext(context.canvasBase().scriptExecutionContext()))</span>
<span class="line-added">+         consoleStopRecordingCanvasImpl(*instrumentingAgents, context);</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
  inline void InspectorInstrumentation::didRequestAnimationFrame(Document&amp; document, int callbackId)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
          didRequestAnimationFrameImpl(*instrumentingAgents, callbackId, document);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1486,38 ***</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
          didCancelAnimationFrameImpl(*instrumentingAgents, callbackId, document);
  }
  
<span class="line-modified">! inline InspectorInstrumentationCookie InspectorInstrumentation::willFireAnimationFrame(Document&amp; document, int callbackId)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="line-modified">!     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="line-modified">!         return willFireAnimationFrameImpl(*instrumentingAgents, callbackId, document);</span>
<span class="line-removed">-     return InspectorInstrumentationCookie();</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didFireAnimationFrame(const InspectorInstrumentationCookie&amp; cookie)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (cookie.isValid())</span>
<span class="line-modified">!         didFireAnimationFrameImpl(cookie);</span>
  }
  
<span class="line-modified">! inline InspectorInstrumentationCookie InspectorInstrumentation::willFireObserverCallback(ScriptExecutionContext&amp; context, const String&amp; callbackType)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(InspectorInstrumentationCookie());</span>
<span class="line-modified">!     if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="line-modified">!         return willFireObserverCallbackImpl(*instrumentingAgents, callbackType, context);</span>
<span class="line-removed">-     return InspectorInstrumentationCookie();</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didFireObserverCallback(const InspectorInstrumentationCookie&amp; cookie)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (cookie.isValid())</span>
<span class="line-modified">!         didFireObserverCallbackImpl(cookie);</span>
  }
  
  inline void InspectorInstrumentation::layerTreeDidChange(Page* page)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-new-header">--- 1633,36 ---</span>
      FAST_RETURN_IF_NO_FRONTENDS(void());
      if (InstrumentingAgents* instrumentingAgents = instrumentingAgentsForDocument(document))
          didCancelAnimationFrameImpl(*instrumentingAgents, callbackId, document);
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::willFireAnimationFrame(Document&amp; document, int callbackId)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="line-modified">!         willFireAnimationFrameImpl(*instrumentingAgents, callbackId, document);</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didFireAnimationFrame(Document&amp; document)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForDocument(document))</span>
<span class="line-modified">!         didFireAnimationFrameImpl(*instrumentingAgents);</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::willFireObserverCallback(ScriptExecutionContext&amp; context, const String&amp; callbackType)</span>
  {
<span class="line-modified">!     FAST_RETURN_IF_NO_FRONTENDS(void());</span>
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="line-modified">!         willFireObserverCallbackImpl(*instrumentingAgents, callbackType, context);</span>
  }
  
<span class="line-modified">! inline void InspectorInstrumentation::didFireObserverCallback(ScriptExecutionContext&amp; context)</span>
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
<span class="line-modified">!     if (auto* instrumentingAgents = instrumentingAgentsForContext(context))</span>
<span class="line-modified">!         didFireObserverCallbackImpl(*instrumentingAgents);</span>
  }
  
  inline void InspectorInstrumentation::layerTreeDidChange(Page* page)
  {
      FAST_RETURN_IF_NO_FRONTENDS(void());
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1535,25 ***</span>
  inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForContext(ScriptExecutionContext* context)
  {
      return context ? instrumentingAgentsForContext(*context) : nullptr;
  }
  
<span class="line-modified">! inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForContext(ScriptExecutionContext&amp; context)</span>
<span class="line-removed">- {</span>
<span class="line-removed">-     if (is&lt;Document&gt;(context))</span>
<span class="line-removed">-         return instrumentingAgentsForPage(downcast&lt;Document&gt;(context).page());</span>
<span class="line-removed">-     if (is&lt;WorkerGlobalScope&gt;(context))</span>
<span class="line-removed">-         return &amp;instrumentingAgentsForWorkerGlobalScope(downcast&lt;WorkerGlobalScope&gt;(context));</span>
<span class="line-removed">-     return nullptr;</span>
<span class="line-removed">- }</span>
<span class="line-removed">- </span>
<span class="line-removed">- inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForFrame(Frame* frame)</span>
  {
      return frame ? instrumentingAgentsForFrame(*frame) : nullptr;
  }
  
<span class="line-modified">! inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForFrame(Frame&amp; frame)</span>
  {
      return instrumentingAgentsForPage(frame.page());
  }
  
  inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForDocument(Document* document)
<span class="line-new-header">--- 1680,16 ---</span>
  inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForContext(ScriptExecutionContext* context)
  {
      return context ? instrumentingAgentsForContext(*context) : nullptr;
  }
  
<span class="line-modified">! inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForFrame(const Frame* frame)</span>
  {
      return frame ? instrumentingAgentsForFrame(*frame) : nullptr;
  }
  
<span class="line-modified">! inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForFrame(const Frame&amp; frame)</span>
  {
      return instrumentingAgentsForPage(frame.page());
  }
  
  inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForDocument(Document* document)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1572,40 ***</span>
  inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForPage(Page* page)
  {
      return page ? &amp;instrumentingAgentsForPage(*page) : nullptr;
  }
  
<span class="line-removed">- inline InstrumentingAgents&amp; InspectorInstrumentation::instrumentingAgentsForPage(Page&amp; page)</span>
<span class="line-removed">- {</span>
<span class="line-removed">-     ASSERT(isMainThread());</span>
<span class="line-removed">-     return page.inspectorController().m_instrumentingAgents.get();</span>
<span class="line-removed">- }</span>
<span class="line-removed">- </span>
  inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope* workerGlobalScope)
  {
      return workerGlobalScope ? &amp;instrumentingAgentsForWorkerGlobalScope(*workerGlobalScope) : nullptr;
  }
  
<span class="line-removed">- inline InstrumentingAgents&amp; InspectorInstrumentation::instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope&amp; workerGlobalScope)</span>
<span class="line-removed">- {</span>
<span class="line-removed">-     return workerGlobalScope.inspectorController().m_instrumentingAgents;</span>
<span class="line-removed">- }</span>
<span class="line-removed">- </span>
  inline void InspectorInstrumentation::frontendCreated()
  {
      ASSERT(isMainThread());
<span class="line-modified">!     s_frontendCounter++;</span>
  
<span class="line-modified">!     if (s_frontendCounter == 1)</span>
          InspectorInstrumentation::firstFrontendCreated();
  }
  
  inline void InspectorInstrumentation::frontendDeleted()
  {
      ASSERT(isMainThread());
<span class="line-modified">!     s_frontendCounter--;</span>
  
<span class="line-modified">!     if (!s_frontendCounter)</span>
          InspectorInstrumentation::lastFrontendDeleted();
  }
  
  } // namespace WebCore
<span class="line-new-header">--- 1708,29 ---</span>
  inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForPage(Page* page)
  {
      return page ? &amp;instrumentingAgentsForPage(*page) : nullptr;
  }
  
  inline InstrumentingAgents* InspectorInstrumentation::instrumentingAgentsForWorkerGlobalScope(WorkerGlobalScope* workerGlobalScope)
  {
      return workerGlobalScope ? &amp;instrumentingAgentsForWorkerGlobalScope(*workerGlobalScope) : nullptr;
  }
  
  inline void InspectorInstrumentation::frontendCreated()
  {
      ASSERT(isMainThread());
<span class="line-modified">!     ++InspectorInstrumentationPublic::s_frontendCounter;</span>
  
<span class="line-modified">!     if (InspectorInstrumentationPublic::s_frontendCounter == 1)</span>
          InspectorInstrumentation::firstFrontendCreated();
  }
  
  inline void InspectorInstrumentation::frontendDeleted()
  {
      ASSERT(isMainThread());
<span class="line-modified">!     --InspectorInstrumentationPublic::s_frontendCounter;</span>
  
<span class="line-modified">!     if (!InspectorInstrumentationPublic::s_frontendCounter)</span>
          InspectorInstrumentation::lastFrontendDeleted();
  }
  
  } // namespace WebCore
</pre>
<center><a href="InspectorInstrumentation.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="InspectorNodeFinder.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>