diff a/modules/javafx.web/src/main/native/Source/WebKitLegacy/Storage/WebDatabaseProvider.cpp b/modules/javafx.web/src/main/native/Source/WebKitLegacy/Storage/WebDatabaseProvider.cpp
--- a/modules/javafx.web/src/main/native/Source/WebKitLegacy/Storage/WebDatabaseProvider.cpp
+++ b/modules/javafx.web/src/main/native/Source/WebKitLegacy/Storage/WebDatabaseProvider.cpp
@@ -44,16 +44,16 @@
 
 #if ENABLE(INDEXED_DATABASE)
 WebCore::IDBClient::IDBConnectionToServer& WebDatabaseProvider::idbConnectionToServerForSession(const PAL::SessionID& sessionID)
 {
     return m_idbServerMap.ensure(sessionID, [&sessionID] {
-        return sessionID.isEphemeral() ? WebCore::InProcessIDBServer::create(sessionID) : WebCore::InProcessIDBServer::create(sessionID, indexedDatabaseDirectoryPath());
+        return sessionID.isEphemeral() ? InProcessIDBServer::create(sessionID) : InProcessIDBServer::create(sessionID, indexedDatabaseDirectoryPath());
     }).iterator->value->connectionToServer();
 }
 
 void WebDatabaseProvider::deleteAllDatabases()
 {
     for (auto& server : m_idbServerMap.values())
-        server->idbServer().closeAndDeleteDatabasesModifiedSince(-WallTime::infinity(), [] { });
+        server->closeAndDeleteDatabasesModifiedSince(-WallTime::infinity());
 }
 
 #endif
