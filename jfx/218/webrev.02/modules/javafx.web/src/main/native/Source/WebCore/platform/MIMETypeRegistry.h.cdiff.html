<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/platform/MIMETypeRegistry.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="MIMETypeRegistry.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="PODInterval.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/MIMETypeRegistry.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 29,22 ***</span>
  #include &lt;wtf/Vector.h&gt;
  #include &lt;wtf/text/StringHash.h&gt;
  
  namespace WebCore {
  
  class MIMETypeRegistry {
  public:
      WEBCORE_EXPORT static String getMIMETypeForExtension(const String&amp; extension);
  
      // FIXME: WebKit coding style says we should not have the word &quot;get&quot; in the names of these functions.
      static Vector&lt;String&gt; getExtensionsForMIMEType(const String&amp; type);
      WEBCORE_EXPORT static String getPreferredExtensionForMIMEType(const String&amp; type);
<span class="line-modified">!     static String getMediaMIMETypeForExtension(const String&amp; extension);</span>
      static Vector&lt;String&gt; getMediaMIMETypesForExtension(const String&amp; extension);
  
      static String getMIMETypeForPath(const String&amp; path);
  
      // Check to see if a MIME type is suitable for being loaded inline as an
      // image (e.g., &lt;img&gt; tags).
      WEBCORE_EXPORT static bool isSupportedImageMIMEType(const String&amp; mimeType);
  
      // Check to see if a MIME type is suitable for being loaded as an image, including SVG and Video (where supported).
<span class="line-new-header">--- 29,48 ---</span>
  #include &lt;wtf/Vector.h&gt;
  #include &lt;wtf/text/StringHash.h&gt;
  
  namespace WebCore {
  
<span class="line-added">+ WEBCORE_EXPORT Optional&lt;HashMap&lt;String, Vector&lt;String&gt;, ASCIICaseInsensitiveHash&gt;&gt;&amp; overriddenMimeTypesMap();</span>
<span class="line-added">+ WEBCORE_EXPORT const HashMap&lt;String, Vector&lt;String&gt;, ASCIICaseInsensitiveHash&gt;&amp; commonMimeTypesMap();</span>
<span class="line-added">+ </span>
<span class="line-added">+ struct TypeExtensionPair {</span>
<span class="line-added">+     ASCIILiteral type;</span>
<span class="line-added">+     ASCIILiteral extension;</span>
<span class="line-added">+ };</span>
<span class="line-added">+ </span>
<span class="line-added">+ WEBCORE_EXPORT const std::initializer_list&lt;TypeExtensionPair&gt;&amp; commonMediaTypes();</span>
<span class="line-added">+ </span>
<span class="line-added">+ struct MIMETypeRegistryThreadGlobalData {</span>
<span class="line-added">+     WTF_MAKE_NONCOPYABLE(MIMETypeRegistryThreadGlobalData);</span>
<span class="line-added">+     WTF_MAKE_FAST_ALLOCATED;</span>
<span class="line-added">+ public:</span>
<span class="line-added">+     MIMETypeRegistryThreadGlobalData(HashSet&lt;String, ASCIICaseInsensitiveHash&gt;&amp;&amp; supportedImageMIMETypesForEncoding)</span>
<span class="line-added">+         : m_supportedImageMIMETypesForEncoding(supportedImageMIMETypesForEncoding)</span>
<span class="line-added">+     { }</span>
<span class="line-added">+ </span>
<span class="line-added">+     const HashSet&lt;String, ASCIICaseInsensitiveHash&gt;&amp; supportedImageMIMETypesForEncoding() const { return m_supportedImageMIMETypesForEncoding; }</span>
<span class="line-added">+ </span>
<span class="line-added">+ private:</span>
<span class="line-added">+     HashSet&lt;String, ASCIICaseInsensitiveHash&gt; m_supportedImageMIMETypesForEncoding;</span>
<span class="line-added">+ };</span>
<span class="line-added">+ </span>
  class MIMETypeRegistry {
  public:
      WEBCORE_EXPORT static String getMIMETypeForExtension(const String&amp; extension);
  
      // FIXME: WebKit coding style says we should not have the word &quot;get&quot; in the names of these functions.
      static Vector&lt;String&gt; getExtensionsForMIMEType(const String&amp; type);
      WEBCORE_EXPORT static String getPreferredExtensionForMIMEType(const String&amp; type);
<span class="line-modified">!     WEBCORE_EXPORT static String getMediaMIMETypeForExtension(const String&amp; extension);</span>
      static Vector&lt;String&gt; getMediaMIMETypesForExtension(const String&amp; extension);
  
      static String getMIMETypeForPath(const String&amp; path);
  
<span class="line-added">+     static std::unique_ptr&lt;MIMETypeRegistryThreadGlobalData&gt; createMIMETypeRegistryThreadGlobalData();</span>
<span class="line-added">+ </span>
      // Check to see if a MIME type is suitable for being loaded inline as an
      // image (e.g., &lt;img&gt; tags).
      WEBCORE_EXPORT static bool isSupportedImageMIMEType(const String&amp; mimeType);
  
      // Check to see if a MIME type is suitable for being loaded as an image, including SVG and Video (where supported).
</pre>
<center><a href="MIMETypeRegistry.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="PODInterval.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>