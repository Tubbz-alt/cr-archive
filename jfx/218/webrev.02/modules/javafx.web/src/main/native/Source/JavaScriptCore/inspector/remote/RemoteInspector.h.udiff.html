<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/JavaScriptCore/inspector/remote/RemoteInspector.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="RemoteInspectionTarget.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="RemoteInspectorConstants.h.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/inspector/remote/RemoteInspector.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -45,21 +45,19 @@</span>
  typedef RetainPtr&lt;NSDictionary&gt; TargetListing;
  #endif
  
  #if USE(GLIB)
  #include &lt;wtf/glib/GRefPtr.h&gt;
<span class="udiff-line-added">+ #include &lt;wtf/glib/SocketConnection.h&gt;</span>
  typedef GRefPtr&lt;GVariant&gt; TargetListing;
  typedef struct _GCancellable GCancellable;
<span class="udiff-line-removed">- typedef struct _GDBusConnection GDBusConnection;</span>
<span class="udiff-line-removed">- typedef struct _GDBusInterfaceVTable GDBusInterfaceVTable;</span>
  #endif
  
  #if USE(INSPECTOR_SOCKET_SERVER)
  #include &quot;RemoteConnectionToTarget.h&quot;
  #include &quot;RemoteInspectorConnectionClient.h&quot;
  #include &lt;wtf/JSONValues.h&gt;
<span class="udiff-line-removed">- #include &lt;wtf/RefCounted.h&gt;</span>
  #include &lt;wtf/RefPtr.h&gt;
  
  namespace Inspector {
  using TargetListing = RefPtr&lt;JSON::Object&gt;;
  }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -91,10 +89,19 @@</span>
  
          struct SessionCapabilities {
              bool acceptInsecureCertificates { false };
  #if USE(GLIB)
              Vector&lt;std::pair&lt;String, String&gt;&gt; certificates;
<span class="udiff-line-added">+             struct Proxy {</span>
<span class="udiff-line-added">+                 String type;</span>
<span class="udiff-line-added">+                 Optional&lt;String&gt; ftpURL;</span>
<span class="udiff-line-added">+                 Optional&lt;String&gt; httpURL;</span>
<span class="udiff-line-added">+                 Optional&lt;String&gt; httpsURL;</span>
<span class="udiff-line-added">+                 Optional&lt;String&gt; socksURL;</span>
<span class="udiff-line-added">+                 Vector&lt;String&gt; ignoreAddressList;</span>
<span class="udiff-line-added">+             };</span>
<span class="udiff-line-added">+             Optional&lt;Proxy&gt; proxy;</span>
  #endif
  #if PLATFORM(COCOA)
              Optional&lt;bool&gt; allowInsecureMediaCapture;
              Optional&lt;bool&gt; suppressICECandidateFiltering;
  #endif
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -148,12 +155,16 @@</span>
  #if USE(GLIB) || USE(INSPECTOR_SOCKET_SERVER)
      void setup(TargetID);
      void sendMessageToTarget(TargetID, const char* message);
  #endif
  #if USE(INSPECTOR_SOCKET_SERVER)
<span class="udiff-line-modified-removed">-     static void setConnectionIdentifier(PlatformSocketType);</span>
<span class="udiff-line-modified-removed">-     static void setServerPort(uint16_t);</span>
<span class="udiff-line-modified-added">+     void requestAutomationSession(const String&amp; sessionID, const Client::SessionCapabilities&amp;);</span>
<span class="udiff-line-modified-added">+ </span>
<span class="udiff-line-added">+     bool isConnected() const { return !!m_clientConnection; }</span>
<span class="udiff-line-added">+     void connect(ConnectionID);</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+     void setBackendCommandsPath(const String&amp; backendCommandsPath) { m_backendCommandsPath = backendCommandsPath; }</span>
  #endif
  
  private:
      RemoteInspector();
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -164,12 +175,12 @@</span>
  
  #if PLATFORM(COCOA)
      void setupXPCConnectionIfNeeded();
  #endif
  #if USE(GLIB)
<span class="udiff-line-modified-removed">-     void setupConnection(GRefPtr&lt;GDBusConnection&gt;&amp;&amp;);</span>
<span class="udiff-line-modified-removed">-     static const GDBusInterfaceVTable s_interfaceVTable;</span>
<span class="udiff-line-modified-added">+     void setupConnection(Ref&lt;SocketConnection&gt;&amp;&amp;);</span>
<span class="udiff-line-modified-added">+     static const SocketConnection::MessageHandlers&amp; messageHandlers();</span>
  
      void receivedGetTargetListMessage();
      void receivedSetupMessage(TargetID);
      void receivedDataMessage(TargetID, const char* message);
      void receivedCloseMessage(TargetID);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -212,14 +223,19 @@</span>
      HashMap&lt;String, CallHandler&gt;&amp; dispatchMap() override;
      void didClose(ConnectionID) override;
  
      void sendWebInspectorEvent(const String&amp;);
  
<span class="udiff-line-modified-removed">-     void receivedGetTargetListMessage(const Event&amp;);</span>
<span class="udiff-line-modified-removed">-     void receivedSetupMessage(const Event&amp;);</span>
<span class="udiff-line-modified-removed">-     void receivedDataMessage(const Event&amp;);</span>
<span class="udiff-line-modified-removed">-     void receivedCloseMessage(const Event&amp;);</span>
<span class="udiff-line-modified-added">+     void setupInspectorClient(const Event&amp;);</span>
<span class="udiff-line-modified-added">+     void setupTarget(const Event&amp;);</span>
<span class="udiff-line-modified-added">+     void frontendDidClose(const Event&amp;);</span>
<span class="udiff-line-modified-added">+     void sendMessageToBackend(const Event&amp;);</span>
<span class="udiff-line-added">+     void startAutomationSession(const Event&amp;);</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+     void receivedAutomationSessionRequestMessage(const Event&amp;);</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+     String backendCommands() const;</span>
  #endif
      static bool startEnabled;
  
      // Targets can be registered from any thread at any time.
      // Any target can send messages over the XPC connection.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -233,18 +249,20 @@</span>
  
  #if PLATFORM(COCOA)
      RefPtr&lt;RemoteInspectorXPCConnection&gt; m_relayConnection;
  #endif
  #if USE(GLIB)
<span class="udiff-line-modified-removed">-     GRefPtr&lt;GDBusConnection&gt; m_dbusConnection;</span>
<span class="udiff-line-modified-added">+     RefPtr&lt;SocketConnection&gt; m_socketConnection;</span>
      GRefPtr&lt;GCancellable&gt; m_cancellable;
  #endif
  
  #if USE(INSPECTOR_SOCKET_SERVER)
<span class="udiff-line-modified-removed">-     static PlatformSocketType s_connectionIdentifier;</span>
<span class="udiff-line-modified-removed">-     static uint16_t s_serverPort;</span>
<span class="udiff-line-modified-removed">-     Optional&lt;ConnectionID&gt; m_clientID;</span>
<span class="udiff-line-modified-added">+     // Connection from RemoteInspectorClient or WebDriver.</span>
<span class="udiff-line-modified-added">+     Optional&lt;ConnectionID&gt; m_clientConnection;</span>
<span class="udiff-line-modified-added">+     bool m_readyToPushListings { false };</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+     String m_backendCommandsPath;</span>
  #endif
  
      RemoteInspector::Client* m_client { nullptr };
      Optional&lt;RemoteInspector::Client::Capabilities&gt; m_clientCapabilities;
  
</pre>
<center><a href="RemoteInspectionTarget.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="RemoteInspectorConstants.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>