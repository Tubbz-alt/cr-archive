<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/platform/network/NetworkLoadMetrics.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="HTTPParsers.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="NetworkStorageSession.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/network/NetworkLoadMetrics.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 68,13 ***</span>
          copy.complete = complete;
          copy.protocol = protocol.isolatedCopy();
  
          copy.remoteAddress = remoteAddress.isolatedCopy();
          copy.connectionIdentifier = connectionIdentifier.isolatedCopy();
<span class="line-removed">-         copy.priority = priority;</span>
          copy.tlsProtocol = tlsProtocol.isolatedCopy();
          copy.tlsCipher = tlsCipher.isolatedCopy();
          copy.requestHeaders = requestHeaders.isolatedCopy();
  
          copy.requestHeaderBytesSent = requestHeaderBytesSent;
          copy.requestBodyBytesSent = requestBodyBytesSent;
          copy.responseHeaderBytesReceived = responseHeaderBytesReceived;
<span class="line-new-header">--- 68,13 ---</span>
          copy.complete = complete;
          copy.protocol = protocol.isolatedCopy();
  
          copy.remoteAddress = remoteAddress.isolatedCopy();
          copy.connectionIdentifier = connectionIdentifier.isolatedCopy();
          copy.tlsProtocol = tlsProtocol.isolatedCopy();
          copy.tlsCipher = tlsCipher.isolatedCopy();
<span class="line-added">+         copy.priority = priority;</span>
          copy.requestHeaders = requestHeaders.isolatedCopy();
  
          copy.requestHeaderBytesSent = requestHeaderBytesSent;
          copy.requestBodyBytesSent = requestBodyBytesSent;
          copy.responseHeaderBytesReceived = responseHeaderBytesReceived;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 101,13 ***</span>
  
      void clearNonTimingData()
      {
          remoteAddress = String();
          connectionIdentifier = String();
<span class="line-removed">-         priority = NetworkLoadPriority::Unknown;</span>
          tlsProtocol = String();
          tlsCipher = String();
          requestHeaders.clear();
          requestHeaderBytesSent = std::numeric_limits&lt;uint32_t&gt;::max();
          requestBodyBytesSent = std::numeric_limits&lt;uint64_t&gt;::max();
          responseHeaderBytesReceived = std::numeric_limits&lt;uint32_t&gt;::max();
          responseBodyBytesReceived = std::numeric_limits&lt;uint64_t&gt;::max();
<span class="line-new-header">--- 101,13 ---</span>
  
      void clearNonTimingData()
      {
          remoteAddress = String();
          connectionIdentifier = String();
          tlsProtocol = String();
          tlsCipher = String();
<span class="line-added">+         priority = NetworkLoadPriority::Unknown;</span>
          requestHeaders.clear();
          requestHeaderBytesSent = std::numeric_limits&lt;uint32_t&gt;::max();
          requestBodyBytesSent = std::numeric_limits&lt;uint64_t&gt;::max();
          responseHeaderBytesReceived = std::numeric_limits&lt;uint32_t&gt;::max();
          responseBodyBytesReceived = std::numeric_limits&lt;uint64_t&gt;::max();
</pre>
<hr />
<pre>
<span class="line-old-header">*** 126,13 ***</span>
              &amp;&amp; responseEnd == other.responseEnd
              &amp;&amp; complete == other.complete
              &amp;&amp; protocol == other.protocol
              &amp;&amp; remoteAddress == other.remoteAddress
              &amp;&amp; connectionIdentifier == other.connectionIdentifier
<span class="line-removed">-             &amp;&amp; priority == other.priority</span>
              &amp;&amp; tlsProtocol == other.tlsProtocol
              &amp;&amp; tlsCipher == other.tlsCipher
              &amp;&amp; requestHeaders == other.requestHeaders
              &amp;&amp; requestHeaderBytesSent == other.requestHeaderBytesSent
              &amp;&amp; requestBodyBytesSent == other.requestBodyBytesSent
              &amp;&amp; responseHeaderBytesReceived == other.responseHeaderBytesReceived
              &amp;&amp; responseBodyBytesReceived == other.responseBodyBytesReceived
<span class="line-new-header">--- 126,13 ---</span>
              &amp;&amp; responseEnd == other.responseEnd
              &amp;&amp; complete == other.complete
              &amp;&amp; protocol == other.protocol
              &amp;&amp; remoteAddress == other.remoteAddress
              &amp;&amp; connectionIdentifier == other.connectionIdentifier
              &amp;&amp; tlsProtocol == other.tlsProtocol
              &amp;&amp; tlsCipher == other.tlsCipher
<span class="line-added">+             &amp;&amp; priority == other.priority</span>
              &amp;&amp; requestHeaders == other.requestHeaders
              &amp;&amp; requestHeaderBytesSent == other.requestHeaderBytesSent
              &amp;&amp; requestBodyBytesSent == other.requestBodyBytesSent
              &amp;&amp; responseHeaderBytesReceived == other.responseHeaderBytesReceived
              &amp;&amp; responseBodyBytesReceived == other.responseBodyBytesReceived
</pre>
<hr />
<pre>
<span class="line-old-header">*** 164,35 ***</span>
      // ALPN Protocol ID: https://w3c.github.io/resource-timing/#bib-RFC7301
      String protocol;
  
      String remoteAddress;
      String connectionIdentifier;
<span class="line-removed">-     NetworkLoadPriority priority;</span>
  
      String tlsProtocol;
      String tlsCipher;
  
      // Whether or not all of the properties (0 or otherwise) have been set.
      bool complete { false };
  
      HTTPHeaderMap requestHeaders;
  
<span class="line-modified">!     uint32_t requestHeaderBytesSent;</span>
<span class="line-modified">!     uint32_t responseHeaderBytesReceived;</span>
      uint64_t requestBodyBytesSent;
      uint64_t responseBodyBytesReceived;
      uint64_t responseBodyDecodedSize;
  };
  
  #if PLATFORM(COCOA)
  WEBCORE_EXPORT void copyTimingData(NSDictionary *timingData, NetworkLoadMetrics&amp;);
  #endif
  
<span class="line-removed">- #if PLATFORM(COCOA) &amp;&amp; !HAVE(TIMINGDATAOPTIONS)</span>
<span class="line-removed">- WEBCORE_EXPORT void setCollectsTimingData();</span>
<span class="line-removed">- #endif</span>
<span class="line-removed">- </span>
  template&lt;class Encoder&gt;
  void NetworkLoadMetrics::encode(Encoder&amp; encoder) const
  {
      encoder &lt;&lt; domainLookupStart;
      encoder &lt;&lt; domainLookupEnd;
<span class="line-new-header">--- 164,31 ---</span>
      // ALPN Protocol ID: https://w3c.github.io/resource-timing/#bib-RFC7301
      String protocol;
  
      String remoteAddress;
      String connectionIdentifier;
  
      String tlsProtocol;
      String tlsCipher;
  
      // Whether or not all of the properties (0 or otherwise) have been set.
<span class="line-added">+     NetworkLoadPriority priority;</span>
      bool complete { false };
  
      HTTPHeaderMap requestHeaders;
  
<span class="line-modified">!     uint64_t requestHeaderBytesSent;</span>
<span class="line-modified">!     uint64_t responseHeaderBytesReceived;</span>
      uint64_t requestBodyBytesSent;
      uint64_t responseBodyBytesReceived;
      uint64_t responseBodyDecodedSize;
  };
  
  #if PLATFORM(COCOA)
  WEBCORE_EXPORT void copyTimingData(NSDictionary *timingData, NetworkLoadMetrics&amp;);
  #endif
  
  template&lt;class Encoder&gt;
  void NetworkLoadMetrics::encode(Encoder&amp; encoder) const
  {
      encoder &lt;&lt; domainLookupStart;
      encoder &lt;&lt; domainLookupEnd;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 204,13 ***</span>
      encoder &lt;&lt; responseEnd;
      encoder &lt;&lt; complete;
      encoder &lt;&lt; protocol;
      encoder &lt;&lt; remoteAddress;
      encoder &lt;&lt; connectionIdentifier;
<span class="line-removed">-     encoder &lt;&lt; priority;</span>
      encoder &lt;&lt; tlsProtocol;
      encoder &lt;&lt; tlsCipher;
      encoder &lt;&lt; requestHeaders;
      encoder &lt;&lt; requestHeaderBytesSent;
      encoder &lt;&lt; requestBodyBytesSent;
      encoder &lt;&lt; responseHeaderBytesReceived;
      encoder &lt;&lt; responseBodyBytesReceived;
<span class="line-new-header">--- 200,13 ---</span>
      encoder &lt;&lt; responseEnd;
      encoder &lt;&lt; complete;
      encoder &lt;&lt; protocol;
      encoder &lt;&lt; remoteAddress;
      encoder &lt;&lt; connectionIdentifier;
      encoder &lt;&lt; tlsProtocol;
      encoder &lt;&lt; tlsCipher;
<span class="line-added">+     encoder &lt;&lt; priority;</span>
      encoder &lt;&lt; requestHeaders;
      encoder &lt;&lt; requestHeaderBytesSent;
      encoder &lt;&lt; requestBodyBytesSent;
      encoder &lt;&lt; responseHeaderBytesReceived;
      encoder &lt;&lt; responseBodyBytesReceived;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 230,13 ***</span>
          &amp;&amp; decoder.decode(metrics.responseEnd)
          &amp;&amp; decoder.decode(metrics.complete)
          &amp;&amp; decoder.decode(metrics.protocol)
          &amp;&amp; decoder.decode(metrics.remoteAddress)
          &amp;&amp; decoder.decode(metrics.connectionIdentifier)
<span class="line-removed">-         &amp;&amp; decoder.decode(metrics.priority)</span>
          &amp;&amp; decoder.decode(metrics.tlsProtocol)
          &amp;&amp; decoder.decode(metrics.tlsCipher)
          &amp;&amp; decoder.decode(metrics.requestHeaders)
          &amp;&amp; decoder.decode(metrics.requestHeaderBytesSent)
          &amp;&amp; decoder.decode(metrics.requestBodyBytesSent)
          &amp;&amp; decoder.decode(metrics.responseHeaderBytesReceived)
          &amp;&amp; decoder.decode(metrics.responseBodyBytesReceived)
<span class="line-new-header">--- 226,13 ---</span>
          &amp;&amp; decoder.decode(metrics.responseEnd)
          &amp;&amp; decoder.decode(metrics.complete)
          &amp;&amp; decoder.decode(metrics.protocol)
          &amp;&amp; decoder.decode(metrics.remoteAddress)
          &amp;&amp; decoder.decode(metrics.connectionIdentifier)
          &amp;&amp; decoder.decode(metrics.tlsProtocol)
          &amp;&amp; decoder.decode(metrics.tlsCipher)
<span class="line-added">+         &amp;&amp; decoder.decode(metrics.priority)</span>
          &amp;&amp; decoder.decode(metrics.requestHeaders)
          &amp;&amp; decoder.decode(metrics.requestHeaderBytesSent)
          &amp;&amp; decoder.decode(metrics.requestBodyBytesSent)
          &amp;&amp; decoder.decode(metrics.responseHeaderBytesReceived)
          &amp;&amp; decoder.decode(metrics.responseBodyBytesReceived)
</pre>
<center><a href="HTTPParsers.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="NetworkStorageSession.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>