<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/cmake/WebKitCompilerFlags.cmake</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="WebKitCCache.cmake.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="WebKitFeatures.cmake.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/cmake/WebKitCompilerFlags.cmake</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
106 
107         if (WIN32)
108             WEBKIT_APPEND_GLOBAL_COMPILER_FLAGS(-mno-ms-bitfields)
109             WEBKIT_PREPEND_GLOBAL_COMPILER_FLAGS(-Wno-unknown-pragmas)
110             add_definitions(-D__USE_MINGW_ANSI_STDIO=1)
111         endif ()
112     endif ()
113 
114     # Warnings to be enabled
115     WEBKIT_PREPEND_GLOBAL_COMPILER_FLAGS(-Wcast-align
116                                          -Wformat-security
117                                          -Wmissing-format-attribute
118                                          -Wpointer-arith
119                                          -Wundef
120                                          -Wwrite-strings)
121 
122     # Warnings to be disabled
123     # FIXME: We should probably not be disabling -Wno-maybe-uninitialized?
124     WEBKIT_PREPEND_GLOBAL_COMPILER_FLAGS(-Qunused-arguments
125                                          -Wno-maybe-uninitialized
<span class="line-removed">126                                          -Wno-noexcept-type</span>
127                                          -Wno-parentheses-equality
128                                          -Wno-psabi)
129 


130     # https://gcc.gnu.org/bugzilla/show_bug.cgi?id=80947
131     if (${CMAKE_CXX_COMPILER_VERSION} VERSION_LESS &quot;8.0&quot; AND NOT CMAKE_CXX_COMPILER_ID MATCHES &quot;Clang&quot;)
132         WEBKIT_PREPEND_GLOBAL_CXX_FLAGS(-Wno-attributes)
133     endif ()
134 
135     # -Wexpansion-to-defined produces false positives with GCC but not Clang
136     # https://bugs.webkit.org/show_bug.cgi?id=167643#c13
137     if (CMAKE_COMPILER_IS_GNUCXX)
138         WEBKIT_PREPEND_GLOBAL_COMPILER_FLAGS(-Wno-expansion-to-defined)
139     endif ()
140 
141     # Force SSE2 fp on x86 builds.
142     if (WTF_CPU_X86 AND NOT CMAKE_CROSSCOMPILING)
143         WEBKIT_PREPEND_GLOBAL_COMPILER_FLAGS(-msse2 -mfpmath=sse)
144         include(DetectSSE2)
145         if (NOT SSE2_SUPPORT_FOUND)
146             message(FATAL_ERROR &quot;SSE2 support is required to compile WebKit&quot;)
147         endif ()
148     endif ()
149 endif ()
</pre>
</td>
<td>
<hr />
<pre>
106 
107         if (WIN32)
108             WEBKIT_APPEND_GLOBAL_COMPILER_FLAGS(-mno-ms-bitfields)
109             WEBKIT_PREPEND_GLOBAL_COMPILER_FLAGS(-Wno-unknown-pragmas)
110             add_definitions(-D__USE_MINGW_ANSI_STDIO=1)
111         endif ()
112     endif ()
113 
114     # Warnings to be enabled
115     WEBKIT_PREPEND_GLOBAL_COMPILER_FLAGS(-Wcast-align
116                                          -Wformat-security
117                                          -Wmissing-format-attribute
118                                          -Wpointer-arith
119                                          -Wundef
120                                          -Wwrite-strings)
121 
122     # Warnings to be disabled
123     # FIXME: We should probably not be disabling -Wno-maybe-uninitialized?
124     WEBKIT_PREPEND_GLOBAL_COMPILER_FLAGS(-Qunused-arguments
125                                          -Wno-maybe-uninitialized

126                                          -Wno-parentheses-equality
127                                          -Wno-psabi)
128 
<span class="line-added">129     WEBKIT_PREPEND_GLOBAL_CXX_FLAGS(-Wno-noexcept-type)</span>
<span class="line-added">130 </span>
131     # https://gcc.gnu.org/bugzilla/show_bug.cgi?id=80947
132     if (${CMAKE_CXX_COMPILER_VERSION} VERSION_LESS &quot;8.0&quot; AND NOT CMAKE_CXX_COMPILER_ID MATCHES &quot;Clang&quot;)
133         WEBKIT_PREPEND_GLOBAL_CXX_FLAGS(-Wno-attributes)
134     endif ()
135 
136     # -Wexpansion-to-defined produces false positives with GCC but not Clang
137     # https://bugs.webkit.org/show_bug.cgi?id=167643#c13
138     if (CMAKE_COMPILER_IS_GNUCXX)
139         WEBKIT_PREPEND_GLOBAL_COMPILER_FLAGS(-Wno-expansion-to-defined)
140     endif ()
141 
142     # Force SSE2 fp on x86 builds.
143     if (WTF_CPU_X86 AND NOT CMAKE_CROSSCOMPILING)
144         WEBKIT_PREPEND_GLOBAL_COMPILER_FLAGS(-msse2 -mfpmath=sse)
145         include(DetectSSE2)
146         if (NOT SSE2_SUPPORT_FOUND)
147             message(FATAL_ERROR &quot;SSE2 support is required to compile WebKit&quot;)
148         endif ()
149     endif ()
150 endif ()
</pre>
</td>
</tr>
</table>
<center><a href="WebKitCCache.cmake.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="WebKitFeatures.cmake.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>