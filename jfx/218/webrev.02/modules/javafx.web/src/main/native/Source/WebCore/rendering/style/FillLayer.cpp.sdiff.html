<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/rendering/style/FillLayer.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="BorderData.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="FillLayer.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/rendering/style/FillLayer.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 35     Length x;
 36     Length y;
 37 
 38     LengthSize sizeLength;
 39 
 40     unsigned bitfields : 32;
 41     unsigned bitfields2 : 11;
 42 };
 43 
 44 COMPILE_ASSERT(sizeof(FillLayer) == sizeof(SameSizeAsFillLayer), FillLayer_should_stay_small);
 45 
 46 FillLayer::FillLayer(FillLayerType type)
 47     : m_image(FillLayer::initialFillImage(type))
 48     , m_xPosition(FillLayer::initialFillXPosition(type))
 49     , m_yPosition(FillLayer::initialFillYPosition(type))
 50     , m_attachment(static_cast&lt;unsigned&gt;(FillLayer::initialFillAttachment(type)))
 51     , m_clip(static_cast&lt;unsigned&gt;(FillLayer::initialFillClip(type)))
 52     , m_origin(static_cast&lt;unsigned&gt;(FillLayer::initialFillOrigin(type)))
 53     , m_repeatX(static_cast&lt;unsigned&gt;(FillLayer::initialFillRepeatX(type)))
 54     , m_repeatY(static_cast&lt;unsigned&gt;(FillLayer::initialFillRepeatY(type)))
<span class="line-modified"> 55     , m_composite(FillLayer::initialFillComposite(type))</span>
 56     , m_sizeType(static_cast&lt;unsigned&gt;(FillSizeType::None))
 57     , m_blendMode(static_cast&lt;unsigned&gt;(FillLayer::initialFillBlendMode(type)))
 58     , m_maskSourceType(static_cast&lt;unsigned&gt;(FillLayer::initialFillMaskSourceType(type)))
 59     , m_imageSet(false)
 60     , m_attachmentSet(false)
 61     , m_clipSet(false)
 62     , m_originSet(false)
 63     , m_repeatXSet(false)
 64     , m_repeatYSet(false)
 65     , m_xPosSet(false)
 66     , m_yPosSet(false)
 67     , m_backgroundXOriginSet(false)
 68     , m_backgroundYOriginSet(false)
 69     , m_backgroundXOrigin(static_cast&lt;unsigned&gt;(Edge::Left))
 70     , m_backgroundYOrigin(static_cast&lt;unsigned&gt;(Edge::Top))
 71     , m_compositeSet(type == FillLayerType::Mask)
 72     , m_blendModeSet(false)
 73     , m_maskSourceTypeSet(false)
 74     , m_type(static_cast&lt;unsigned&gt;(type))
 75 {
</pre>
<hr />
<pre>
337         if (layer-&gt;m_image &amp;&amp; image == *layer-&gt;m_image)
338             return true;
339     }
340     return false;
341 }
342 
343 bool FillLayer::imagesAreLoaded() const
344 {
345     for (auto* layer = this; layer; layer = layer-&gt;m_next.get()) {
346         if (layer-&gt;m_image &amp;&amp; !layer-&gt;m_image-&gt;isLoaded())
347             return false;
348     }
349     return true;
350 }
351 
352 bool FillLayer::hasOpaqueImage(const RenderElement&amp; renderer) const
353 {
354     if (!m_image)
355         return false;
356 
<span class="line-modified">357     if (m_composite == CompositeClear || m_composite == CompositeCopy)</span>
358         return true;
359 
<span class="line-modified">360     return static_cast&lt;BlendMode&gt;(m_blendMode) == BlendMode::Normal &amp;&amp; m_composite == CompositeSourceOver &amp;&amp; m_image-&gt;knownToBeOpaque(&amp;renderer);</span>
361 }
362 
363 bool FillLayer::hasRepeatXY() const
364 {
365     return repeatX() == FillRepeat::Repeat &amp;&amp; repeatY() == FillRepeat::Repeat;
366 }
367 
368 bool FillLayer::hasImageInAnyLayer() const
369 {
370     for (auto* layer = this; layer; layer = layer-&gt;m_next.get()) {
371         if (layer-&gt;image())
372             return true;
373     }
374     return false;
375 }
376 
377 bool FillLayer::hasFixedImage() const
378 {
379     for (auto* layer = this; layer; layer = layer-&gt;m_next.get()) {
380         if (layer-&gt;m_image &amp;&amp; layer-&gt;attachment() == FillAttachment::FixedBackground)
</pre>
</td>
<td>
<hr />
<pre>
 35     Length x;
 36     Length y;
 37 
 38     LengthSize sizeLength;
 39 
 40     unsigned bitfields : 32;
 41     unsigned bitfields2 : 11;
 42 };
 43 
 44 COMPILE_ASSERT(sizeof(FillLayer) == sizeof(SameSizeAsFillLayer), FillLayer_should_stay_small);
 45 
 46 FillLayer::FillLayer(FillLayerType type)
 47     : m_image(FillLayer::initialFillImage(type))
 48     , m_xPosition(FillLayer::initialFillXPosition(type))
 49     , m_yPosition(FillLayer::initialFillYPosition(type))
 50     , m_attachment(static_cast&lt;unsigned&gt;(FillLayer::initialFillAttachment(type)))
 51     , m_clip(static_cast&lt;unsigned&gt;(FillLayer::initialFillClip(type)))
 52     , m_origin(static_cast&lt;unsigned&gt;(FillLayer::initialFillOrigin(type)))
 53     , m_repeatX(static_cast&lt;unsigned&gt;(FillLayer::initialFillRepeatX(type)))
 54     , m_repeatY(static_cast&lt;unsigned&gt;(FillLayer::initialFillRepeatY(type)))
<span class="line-modified"> 55     , m_composite(static_cast&lt;unsigned&gt;(FillLayer::initialFillComposite(type)))</span>
 56     , m_sizeType(static_cast&lt;unsigned&gt;(FillSizeType::None))
 57     , m_blendMode(static_cast&lt;unsigned&gt;(FillLayer::initialFillBlendMode(type)))
 58     , m_maskSourceType(static_cast&lt;unsigned&gt;(FillLayer::initialFillMaskSourceType(type)))
 59     , m_imageSet(false)
 60     , m_attachmentSet(false)
 61     , m_clipSet(false)
 62     , m_originSet(false)
 63     , m_repeatXSet(false)
 64     , m_repeatYSet(false)
 65     , m_xPosSet(false)
 66     , m_yPosSet(false)
 67     , m_backgroundXOriginSet(false)
 68     , m_backgroundYOriginSet(false)
 69     , m_backgroundXOrigin(static_cast&lt;unsigned&gt;(Edge::Left))
 70     , m_backgroundYOrigin(static_cast&lt;unsigned&gt;(Edge::Top))
 71     , m_compositeSet(type == FillLayerType::Mask)
 72     , m_blendModeSet(false)
 73     , m_maskSourceTypeSet(false)
 74     , m_type(static_cast&lt;unsigned&gt;(type))
 75 {
</pre>
<hr />
<pre>
337         if (layer-&gt;m_image &amp;&amp; image == *layer-&gt;m_image)
338             return true;
339     }
340     return false;
341 }
342 
343 bool FillLayer::imagesAreLoaded() const
344 {
345     for (auto* layer = this; layer; layer = layer-&gt;m_next.get()) {
346         if (layer-&gt;m_image &amp;&amp; !layer-&gt;m_image-&gt;isLoaded())
347             return false;
348     }
349     return true;
350 }
351 
352 bool FillLayer::hasOpaqueImage(const RenderElement&amp; renderer) const
353 {
354     if (!m_image)
355         return false;
356 
<span class="line-modified">357     if (static_cast&lt;CompositeOperator&gt;(m_composite) == CompositeOperator::Clear || static_cast&lt;CompositeOperator&gt;(m_composite) == CompositeOperator::Copy)</span>
358         return true;
359 
<span class="line-modified">360     return static_cast&lt;BlendMode&gt;(m_blendMode) == BlendMode::Normal &amp;&amp; static_cast&lt;CompositeOperator&gt;(m_composite) == CompositeOperator::SourceOver &amp;&amp; m_image-&gt;knownToBeOpaque(&amp;renderer);</span>
361 }
362 
363 bool FillLayer::hasRepeatXY() const
364 {
365     return repeatX() == FillRepeat::Repeat &amp;&amp; repeatY() == FillRepeat::Repeat;
366 }
367 
368 bool FillLayer::hasImageInAnyLayer() const
369 {
370     for (auto* layer = this; layer; layer = layer-&gt;m_next.get()) {
371         if (layer-&gt;image())
372             return true;
373     }
374     return false;
375 }
376 
377 bool FillLayer::hasFixedImage() const
378 {
379     for (auto* layer = this; layer; layer = layer-&gt;m_next.get()) {
380         if (layer-&gt;m_image &amp;&amp; layer-&gt;attachment() == FillAttachment::FixedBackground)
</pre>
</td>
</tr>
</table>
<center><a href="BorderData.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="FillLayer.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>