<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New modules/javafx.web/src/main/native/Source/WebKitLegacy/CMakeLists.txt</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 cmake_minimum_required(VERSION 3.10)
 2 include(WebKitCommon)
 3 include(target/TargetWTF)
 4 include(target/TargetJavaScriptCore)
 5 set_property(DIRECTORY . PROPERTY FOLDER &quot;WebKitLegacy&quot;)
 6 
 7 set(WebKitLegacy_SOURCES
 8     Storage/InProcessIDBServer.cpp
 9     Storage/StorageAreaImpl.cpp
10     Storage/StorageAreaSync.cpp
11     Storage/StorageNamespaceImpl.cpp
12     Storage/StorageSyncManager.cpp
13     Storage/StorageThread.cpp
14     Storage/StorageTracker.cpp
15     Storage/WebDatabaseProvider.cpp
16     Storage/WebStorageNamespaceProvider.cpp
17 
18     WebCoreSupport/NetworkStorageSessionMap.cpp
19     WebCoreSupport/WebResourceLoadScheduler.cpp
20     WebCoreSupport/WebViewGroup.cpp
21 )
22 
23 set(WebKitLegacy_PRIVATE_INCLUDE_DIRECTORIES
24     &quot;${CMAKE_BINARY_DIR}&quot;
25     &quot;${WEBKITLEGACY_DIR}/Storage&quot;
26     &quot;${WEBKITLEGACY_DIR}/WebCoreSupport&quot;
27     &quot;${WebCore_PRIVATE_FRAMEWORK_HEADERS_DIR}&quot;
28     &quot;${WebKitLegacy_DERIVED_SOURCES_DIR}&quot;
29 )
30 
31 set(WebKitLegacy_PRIVATE_LIBRARIES
32     WebKit::JavaScriptCore
33     WebCore${DEBUG_SUFFIX}
34     PAL${DEBUG_SUFFIX}
35 )
36 
37 WEBKIT_FRAMEWORK_DECLARE(WebKitLegacy)
38 WEBKIT_INCLUDE_CONFIG_FILES_IF_EXISTS()
39 
40 if (MSVC AND NOT PORT STREQUAL Java)
41     WEBKIT_ADD_PRECOMPILED_HEADER(&quot;WebKitPrefix.h&quot; &quot;win/WebKitPrefix.cpp&quot; WebKitLegacy_SOURCES)
42     list(APPEND WebKitLegacy_SOURCES win/WebKit.resources/WebKit.rc)
43     add_definitions(/DWEBKIT_EXPORTS /DFRAMEWORK_NAME=WebKitLegacy)
44 endif ()
45 
46 WEBKIT_FRAMEWORK(WebKitLegacy)
47 
48 if (NOT INTERNAL_BUILD)
49     add_dependencies(WebKitLegacy WebCore WebCorePrivateFrameworkHeaders)
50 endif ()
51 if (TARGET WebKitLegacyGUID)
52     add_dependencies(WebKitLegacy WebKitLegacyGUID)
53 endif ()
54 
55 if (APPLE AND NOT PORT STREQUAL Java)
56     set_target_properties(WebKitLegacy PROPERTIES LINK_FLAGS &quot;-umbrella WebKit&quot;)
57 endif ()
58 
59 if (MSVC AND NOT PORT STREQUAL Java)
60     add_custom_command(
61         TARGET WebKitLegacy
62         POST_BUILD
63         COMMAND ${PERL_EXECUTABLE} ${WEBKIT_LIBRARIES_DIR}/tools/scripts/version-stamp.pl ${WebKitLegacy_DERIVED_SOURCES_DIR} $&lt;TARGET_FILE:WebKitLegacy&gt;
64         VERBATIM)
65 
66     if (USE_CA)
67         add_subdirectory(win/WebKitQuartzCoreAdditions)
68     endif ()
69 endif ()
    </pre>
  </body>
</html>