<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/JavaScriptCore/runtime/ConsoleClient.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ConfigFile.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ConsoleClient.h.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/runtime/ConsoleClient.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -145,15 +145,15 @@</span>
      builder.append(message);
  
      WTFLogAlways(&quot;%s&quot;, builder.toString().utf8().data());
  }
  
<span class="udiff-line-modified-removed">- void ConsoleClient::printConsoleMessageWithArguments(MessageSource source, MessageType type, MessageLevel level, JSC::ExecState* exec, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
<span class="udiff-line-modified-added">+ void ConsoleClient::printConsoleMessageWithArguments(MessageSource source, MessageType type, MessageLevel level, JSC::JSGlobalObject* globalObject, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
      bool isTraceMessage = type == MessageType::Trace;
      size_t stackSize = isTraceMessage ? ScriptCallStack::maxCallStackSizeToCapture : 1;
<span class="udiff-line-modified-removed">-     Ref&lt;ScriptCallStack&gt; callStack = createScriptCallStackForConsole(exec, stackSize);</span>
<span class="udiff-line-modified-added">+     Ref&lt;ScriptCallStack&gt; callStack = createScriptCallStackForConsole(globalObject, stackSize);</span>
      const ScriptCallFrame&amp; lastCaller = callStack-&gt;at(0);
  
      StringBuilder builder;
  
      if (!lastCaller.sourceURL().isEmpty()) {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -162,13 +162,13 @@</span>
      }
  
      appendMessagePrefix(builder, source, type, level);
      for (size_t i = 0; i &lt; arguments-&gt;argumentCount(); ++i) {
          builder.append(&#39; &#39;);
<span class="udiff-line-modified-removed">-         auto* state = arguments-&gt;globalState();</span>
<span class="udiff-line-modified-removed">-         auto scope = DECLARE_CATCH_SCOPE(state-&gt;vm());</span>
<span class="udiff-line-modified-removed">-         builder.append(arguments-&gt;argumentAt(i).toWTFString(state));</span>
<span class="udiff-line-modified-added">+         auto* globalObject = arguments-&gt;globalObject();</span>
<span class="udiff-line-modified-added">+         auto scope = DECLARE_CATCH_SCOPE(globalObject-&gt;vm());</span>
<span class="udiff-line-modified-added">+         builder.append(arguments-&gt;argumentAt(i).toWTFString(globalObject));</span>
          scope.clearException();
      }
  
      WTFLogAlways(&quot;%s&quot;, builder.toString().utf8().data());
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -190,64 +190,64 @@</span>
              WTFLogAlways(&quot;%s&quot;, callFrameBuilder.toString().utf8().data());
          }
      }
  }
  
<span class="udiff-line-modified-removed">- void ConsoleClient::internalMessageWithTypeAndLevel(MessageType type, MessageLevel level, JSC::ExecState* exec, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments, ArgumentRequirement argumentRequirement)</span>
<span class="udiff-line-modified-added">+ void ConsoleClient::internalMessageWithTypeAndLevel(MessageType type, MessageLevel level, JSC::JSGlobalObject* globalObject, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments, ArgumentRequirement argumentRequirement)</span>
  {
      if (argumentRequirement == ArgumentRequired &amp;&amp; !arguments-&gt;argumentCount())
          return;
  
<span class="udiff-line-modified-removed">-     messageWithTypeAndLevel(type, level, exec, WTFMove(arguments));</span>
<span class="udiff-line-modified-added">+     messageWithTypeAndLevel(type, level, globalObject, WTFMove(arguments));</span>
  }
  
<span class="udiff-line-modified-removed">- void ConsoleClient::logWithLevel(ExecState* exec, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments, MessageLevel level)</span>
<span class="udiff-line-modified-added">+ void ConsoleClient::logWithLevel(JSGlobalObject* globalObject, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments, MessageLevel level)</span>
  {
<span class="udiff-line-modified-removed">-     internalMessageWithTypeAndLevel(MessageType::Log, level, exec, WTFMove(arguments), ArgumentRequired);</span>
<span class="udiff-line-modified-added">+     internalMessageWithTypeAndLevel(MessageType::Log, level, globalObject, WTFMove(arguments), ArgumentRequired);</span>
  }
  
<span class="udiff-line-modified-removed">- void ConsoleClient::clear(ExecState* exec)</span>
<span class="udiff-line-modified-added">+ void ConsoleClient::clear(JSGlobalObject* globalObject)</span>
  {
<span class="udiff-line-modified-removed">-     internalMessageWithTypeAndLevel(MessageType::Clear, MessageLevel::Log, exec, ScriptArguments::create(*exec, { }), ArgumentNotRequired);</span>
<span class="udiff-line-modified-added">+     internalMessageWithTypeAndLevel(MessageType::Clear, MessageLevel::Log, globalObject, ScriptArguments::create(globalObject, { }), ArgumentNotRequired);</span>
  }
  
<span class="udiff-line-modified-removed">- void ConsoleClient::dir(ExecState* exec, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
<span class="udiff-line-modified-added">+ void ConsoleClient::dir(JSGlobalObject* globalObject, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
<span class="udiff-line-modified-removed">-     internalMessageWithTypeAndLevel(MessageType::Dir, MessageLevel::Log, exec, WTFMove(arguments), ArgumentRequired);</span>
<span class="udiff-line-modified-added">+     internalMessageWithTypeAndLevel(MessageType::Dir, MessageLevel::Log, globalObject, WTFMove(arguments), ArgumentRequired);</span>
  }
  
<span class="udiff-line-modified-removed">- void ConsoleClient::dirXML(ExecState* exec, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
<span class="udiff-line-modified-added">+ void ConsoleClient::dirXML(JSGlobalObject* globalObject, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
<span class="udiff-line-modified-removed">-     internalMessageWithTypeAndLevel(MessageType::DirXML, MessageLevel::Log, exec, WTFMove(arguments), ArgumentRequired);</span>
<span class="udiff-line-modified-added">+     internalMessageWithTypeAndLevel(MessageType::DirXML, MessageLevel::Log, globalObject, WTFMove(arguments), ArgumentRequired);</span>
  }
  
<span class="udiff-line-modified-removed">- void ConsoleClient::table(ExecState* exec, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
<span class="udiff-line-modified-added">+ void ConsoleClient::table(JSGlobalObject* globalObject, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
<span class="udiff-line-modified-removed">-     internalMessageWithTypeAndLevel(MessageType::Table, MessageLevel::Log, exec, WTFMove(arguments), ArgumentRequired);</span>
<span class="udiff-line-modified-added">+     internalMessageWithTypeAndLevel(MessageType::Table, MessageLevel::Log, globalObject, WTFMove(arguments), ArgumentRequired);</span>
  }
  
<span class="udiff-line-modified-removed">- void ConsoleClient::trace(ExecState* exec, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
<span class="udiff-line-modified-added">+ void ConsoleClient::trace(JSGlobalObject* globalObject, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
<span class="udiff-line-modified-removed">-     internalMessageWithTypeAndLevel(MessageType::Trace, MessageLevel::Log, exec, WTFMove(arguments), ArgumentNotRequired);</span>
<span class="udiff-line-modified-added">+     internalMessageWithTypeAndLevel(MessageType::Trace, MessageLevel::Log, globalObject, WTFMove(arguments), ArgumentNotRequired);</span>
  }
  
<span class="udiff-line-modified-removed">- void ConsoleClient::assertion(ExecState* exec, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
<span class="udiff-line-modified-added">+ void ConsoleClient::assertion(JSGlobalObject* globalObject, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
<span class="udiff-line-modified-removed">-     internalMessageWithTypeAndLevel(MessageType::Assert, MessageLevel::Error, exec, WTFMove(arguments), ArgumentNotRequired);</span>
<span class="udiff-line-modified-added">+     internalMessageWithTypeAndLevel(MessageType::Assert, MessageLevel::Error, globalObject, WTFMove(arguments), ArgumentNotRequired);</span>
  }
  
<span class="udiff-line-modified-removed">- void ConsoleClient::group(ExecState* exec, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
<span class="udiff-line-modified-added">+ void ConsoleClient::group(JSGlobalObject* globalObject, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
<span class="udiff-line-modified-removed">-     internalMessageWithTypeAndLevel(MessageType::StartGroup, MessageLevel::Log, exec, WTFMove(arguments), ArgumentNotRequired);</span>
<span class="udiff-line-modified-added">+     internalMessageWithTypeAndLevel(MessageType::StartGroup, MessageLevel::Log, globalObject, WTFMove(arguments), ArgumentNotRequired);</span>
  }
  
<span class="udiff-line-modified-removed">- void ConsoleClient::groupCollapsed(ExecState* exec, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
<span class="udiff-line-modified-added">+ void ConsoleClient::groupCollapsed(JSGlobalObject* globalObject, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
<span class="udiff-line-modified-removed">-     internalMessageWithTypeAndLevel(MessageType::StartGroupCollapsed, MessageLevel::Log, exec, WTFMove(arguments), ArgumentNotRequired);</span>
<span class="udiff-line-modified-added">+     internalMessageWithTypeAndLevel(MessageType::StartGroupCollapsed, MessageLevel::Log, globalObject, WTFMove(arguments), ArgumentNotRequired);</span>
  }
  
<span class="udiff-line-modified-removed">- void ConsoleClient::groupEnd(ExecState* exec, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
<span class="udiff-line-modified-added">+ void ConsoleClient::groupEnd(JSGlobalObject* globalObject, Ref&lt;ScriptArguments&gt;&amp;&amp; arguments)</span>
  {
<span class="udiff-line-modified-removed">-     internalMessageWithTypeAndLevel(MessageType::EndGroup, MessageLevel::Log, exec, WTFMove(arguments), ArgumentNotRequired);</span>
<span class="udiff-line-modified-added">+     internalMessageWithTypeAndLevel(MessageType::EndGroup, MessageLevel::Log, globalObject, WTFMove(arguments), ArgumentNotRequired);</span>
  }
  
  } // namespace JSC
</pre>
<center><a href="ConfigFile.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ConsoleClient.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>