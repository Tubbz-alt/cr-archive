<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/inspector/scripts/codegen/cpp_generator.py</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../remote/RemoteInspectorConstants.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="generate_cpp_protocol_types_header.py.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/inspector/scripts/codegen/cpp_generator.py</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
258     # &quot;open types&quot; that are manually constructed out of InspectorObjects.
259 
260     # FIXME: Only parameters that are actually open types should need non-builder parameter types.
261     @staticmethod
262     def cpp_type_for_stack_in_parameter(parameter):
263         _type = parameter.type
264         if isinstance(_type, AliasedType):
265             _type = _type.aliased_type  # Fall through.
266 
267         if isinstance(_type, EnumType):
268             _type = _type.primitive_type  # Fall through.
269 
270         if isinstance(_type, ObjectType):
271             return &quot;RefPtr&lt;JSON::Object&gt;&quot;
272         if isinstance(_type, ArrayType):
273             return &quot;RefPtr&lt;JSON::Array&gt;&quot;
274         if isinstance(_type, PrimitiveType):
275             cpp_name = CppGenerator.cpp_name_for_primitive_type(_type)
276             if _type.qualified_name() in [&#39;any&#39;, &#39;object&#39;]:
277                 return &quot;RefPtr&lt;%s&gt;&quot; % CppGenerator.cpp_name_for_primitive_type(_type)
<span class="line-modified">278             elif parameter.is_optional and _type.qualified_name() not in [&#39;boolean&#39;, &#39;string&#39;, &#39;integer&#39;]:</span>
279                 return &quot;Optional&lt;%s&gt;&quot; % cpp_name
280             else:
281                 return cpp_name
282 
283     @staticmethod
284     def cpp_type_for_stack_out_parameter(parameter):
285         _type = parameter.type
286         if isinstance(_type, (ArrayType, ObjectType)):
287             return &#39;RefPtr&lt;%s&gt;&#39; % CppGenerator.cpp_protocol_type_for_type(_type)
288         if isinstance(_type, AliasedType):
289             builder_type = CppGenerator.cpp_protocol_type_for_type(_type)
290             if parameter.is_optional:
291                 return &quot;Optional&lt;%s&gt;&quot; % builder_type
292             return &#39;%s&#39; % builder_type
293         if isinstance(_type, PrimitiveType):
294             cpp_name = CppGenerator.cpp_name_for_primitive_type(_type)
295             if parameter.is_optional:
296                 return &quot;Optional&lt;%s&gt;&quot; % cpp_name
297             else:
298                 return cpp_name
</pre>
</td>
<td>
<hr />
<pre>
258     # &quot;open types&quot; that are manually constructed out of InspectorObjects.
259 
260     # FIXME: Only parameters that are actually open types should need non-builder parameter types.
261     @staticmethod
262     def cpp_type_for_stack_in_parameter(parameter):
263         _type = parameter.type
264         if isinstance(_type, AliasedType):
265             _type = _type.aliased_type  # Fall through.
266 
267         if isinstance(_type, EnumType):
268             _type = _type.primitive_type  # Fall through.
269 
270         if isinstance(_type, ObjectType):
271             return &quot;RefPtr&lt;JSON::Object&gt;&quot;
272         if isinstance(_type, ArrayType):
273             return &quot;RefPtr&lt;JSON::Array&gt;&quot;
274         if isinstance(_type, PrimitiveType):
275             cpp_name = CppGenerator.cpp_name_for_primitive_type(_type)
276             if _type.qualified_name() in [&#39;any&#39;, &#39;object&#39;]:
277                 return &quot;RefPtr&lt;%s&gt;&quot; % CppGenerator.cpp_name_for_primitive_type(_type)
<span class="line-modified">278             elif parameter.is_optional and _type.qualified_name() not in [&#39;boolean&#39;, &#39;string&#39;, &#39;integer&#39;, &#39;number&#39;]:</span>
279                 return &quot;Optional&lt;%s&gt;&quot; % cpp_name
280             else:
281                 return cpp_name
282 
283     @staticmethod
284     def cpp_type_for_stack_out_parameter(parameter):
285         _type = parameter.type
286         if isinstance(_type, (ArrayType, ObjectType)):
287             return &#39;RefPtr&lt;%s&gt;&#39; % CppGenerator.cpp_protocol_type_for_type(_type)
288         if isinstance(_type, AliasedType):
289             builder_type = CppGenerator.cpp_protocol_type_for_type(_type)
290             if parameter.is_optional:
291                 return &quot;Optional&lt;%s&gt;&quot; % builder_type
292             return &#39;%s&#39; % builder_type
293         if isinstance(_type, PrimitiveType):
294             cpp_name = CppGenerator.cpp_name_for_primitive_type(_type)
295             if parameter.is_optional:
296                 return &quot;Optional&lt;%s&gt;&quot; % cpp_name
297             else:
298                 return cpp_name
</pre>
</td>
</tr>
</table>
<center><a href="../../remote/RemoteInspectorConstants.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="generate_cpp_protocol_types_header.py.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>