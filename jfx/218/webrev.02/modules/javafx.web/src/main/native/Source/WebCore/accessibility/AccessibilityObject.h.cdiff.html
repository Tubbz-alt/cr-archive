<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/accessibility/AccessibilityObject.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="AccessibilityObject.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="AccessibilityObjectInterface.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/accessibility/AccessibilityObject.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 29,17 ***</span>
  
  #pragma once
  
  #include &quot;AccessibilityObjectInterface.h&quot;
  #include &quot;FloatQuad.h&quot;
<span class="line-removed">- #include &quot;HTMLTextFormControlElement.h&quot;</span>
  #include &quot;LayoutRect.h&quot;
  #include &quot;Path.h&quot;
  #include &quot;Range.h&quot;
<span class="line-removed">- #include &quot;TextIteratorBehavior.h&quot;</span>
<span class="line-removed">- #include &quot;VisiblePosition.h&quot;</span>
<span class="line-removed">- #include &quot;VisibleSelection.h&quot;</span>
  #include &lt;wtf/Forward.h&gt;
  #include &lt;wtf/Function.h&gt;
  #include &lt;wtf/RefPtr.h&gt;
  #include &lt;wtf/Vector.h&gt;
  
<span class="line-new-header">--- 29,13 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 51,12 ***</span>
  #include &lt;wtf/glib/GRefPtr.h&gt;
  #endif
  
  #if PLATFORM(COCOA)
  
<span class="line-removed">- typedef struct _NSRange NSRange;</span>
<span class="line-removed">- </span>
  OBJC_CLASS NSArray;
  OBJC_CLASS NSAttributedString;
  OBJC_CLASS NSData;
  OBJC_CLASS NSMutableAttributedString;
  OBJC_CLASS NSString;
<span class="line-new-header">--- 47,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 66,951 ***</span>
  #endif
  
  namespace WebCore {
  
  class AccessibilityObject;
<span class="line-removed">- class AccessibilityScrollView;</span>
<span class="line-removed">- class AXObjectCache;</span>
<span class="line-removed">- class Element;</span>
<span class="line-removed">- class Frame;</span>
<span class="line-removed">- class FrameView;</span>
  class IntPoint;
  class IntSize;
<span class="line-removed">- class Node;</span>
<span class="line-removed">- class Page;</span>
<span class="line-removed">- class RenderObject;</span>
  class ScrollableArea;
<span class="line-removed">- class ScrollView;</span>
<span class="line-removed">- class Widget;</span>
<span class="line-removed">- struct ScrollRectToVisibleOptions;</span>
<span class="line-removed">- </span>
<span class="line-removed">- enum class AccessibilityTextSource {</span>
<span class="line-removed">-     Alternative,</span>
<span class="line-removed">-     Children,</span>
<span class="line-removed">-     Summary,</span>
<span class="line-removed">-     Help,</span>
<span class="line-removed">-     Visible,</span>
<span class="line-removed">-     TitleTag,</span>
<span class="line-removed">-     Placeholder,</span>
<span class="line-removed">-     LabelByElement,</span>
<span class="line-removed">-     Title,</span>
<span class="line-removed">-     Subtitle,</span>
<span class="line-removed">-     Action,</span>
<span class="line-removed">- };</span>
  
  struct AccessibilityText {
      String text;
      AccessibilityTextSource textSource;
<span class="line-modified">!     Vector&lt;RefPtr&lt;AccessibilityObject&gt;&gt; textElements;</span>
  
      AccessibilityText(const String&amp; t, const AccessibilityTextSource&amp; s)
          : text(t)
          , textSource(s)
      { }
  
<span class="line-modified">!     AccessibilityText(const String&amp; t, const AccessibilityTextSource&amp; s, Vector&lt;RefPtr&lt;AccessibilityObject&gt;&gt; elements)</span>
          : text(t)
          , textSource(s)
<span class="line-modified">!         , textElements(WTFMove(elements))</span>
<span class="line-modified">!     { }</span>
  
<span class="line-modified">!     AccessibilityText(const String&amp; t, const AccessibilityTextSource&amp; s, RefPtr&lt;AccessibilityObject&gt;&amp;&amp; element)</span>
          : text(t)
          , textSource(s)
      {
<span class="line-modified">!         textElements.append(WTFMove(element));</span>
      }
  };
  
<span class="line-removed">- struct AccessibilityTextUnderElementMode {</span>
<span class="line-removed">-     enum ChildrenInclusion {</span>
<span class="line-removed">-         TextUnderElementModeSkipIgnoredChildren,</span>
<span class="line-removed">-         TextUnderElementModeIncludeAllChildren,</span>
<span class="line-removed">-         TextUnderElementModeIncludeNameFromContentsChildren, // This corresponds to ARIA concept: nameFrom</span>
<span class="line-removed">-     };</span>
<span class="line-removed">- </span>
<span class="line-removed">-     ChildrenInclusion childrenInclusion;</span>
<span class="line-removed">-     bool includeFocusableContent;</span>
<span class="line-removed">-     Node* ignoredChildNode;</span>
<span class="line-removed">- </span>
<span class="line-removed">-     AccessibilityTextUnderElementMode(ChildrenInclusion c = TextUnderElementModeSkipIgnoredChildren, bool i = false, Node* ignored = nullptr)</span>
<span class="line-removed">-         : childrenInclusion(c)</span>
<span class="line-removed">-         , includeFocusableContent(i)</span>
<span class="line-removed">-         , ignoredChildNode(ignored)</span>
<span class="line-removed">-     { }</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- // Use this struct to store the isIgnored data that depends on the parents, so that in addChildren()</span>
<span class="line-removed">- // we avoid going up the parent chain for each element while traversing the tree with useful information already.</span>
<span class="line-removed">- struct AccessibilityIsIgnoredFromParentData {</span>
<span class="line-removed">-     AccessibilityObject* parent { nullptr };</span>
<span class="line-removed">-     bool isAXHidden { false };</span>
<span class="line-removed">-     bool isPresentationalChildOfAriaRole { false };</span>
<span class="line-removed">-     bool isDescendantOfBarrenParent { false };</span>
<span class="line-removed">- </span>
<span class="line-removed">-     AccessibilityIsIgnoredFromParentData(AccessibilityObject* parent = nullptr)</span>
<span class="line-removed">-         : parent(parent)</span>
<span class="line-removed">-     { }</span>
<span class="line-removed">- </span>
<span class="line-removed">-     bool isNull() const { return !parent; }</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- enum class AccessibilityOrientation {</span>
<span class="line-removed">-     Vertical,</span>
<span class="line-removed">-     Horizontal,</span>
<span class="line-removed">-     Undefined,</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- enum class AccessibilityObjectInclusion {</span>
<span class="line-removed">-     IncludeObject,</span>
<span class="line-removed">-     IgnoreObject,</span>
<span class="line-removed">-     DefaultBehavior,</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- enum class AccessibilityButtonState {</span>
<span class="line-removed">-     Off = 0,</span>
<span class="line-removed">-     On,</span>
<span class="line-removed">-     Mixed,</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- enum class AccessibilitySortDirection {</span>
<span class="line-removed">-     None,</span>
<span class="line-removed">-     Ascending,</span>
<span class="line-removed">-     Descending,</span>
<span class="line-removed">-     Other,</span>
<span class="line-removed">-     Invalid,</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- enum class AccessibilitySearchDirection {</span>
<span class="line-removed">-     Next = 1,</span>
<span class="line-removed">-     Previous,</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- enum class AccessibilitySearchKey {</span>
<span class="line-removed">-     AnyType = 1,</span>
<span class="line-removed">-     Article,</span>
<span class="line-removed">-     BlockquoteSameLevel,</span>
<span class="line-removed">-     Blockquote,</span>
<span class="line-removed">-     BoldFont,</span>
<span class="line-removed">-     Button,</span>
<span class="line-removed">-     CheckBox,</span>
<span class="line-removed">-     Control,</span>
<span class="line-removed">-     DifferentType,</span>
<span class="line-removed">-     FontChange,</span>
<span class="line-removed">-     FontColorChange,</span>
<span class="line-removed">-     Frame,</span>
<span class="line-removed">-     Graphic,</span>
<span class="line-removed">-     HeadingLevel1,</span>
<span class="line-removed">-     HeadingLevel2,</span>
<span class="line-removed">-     HeadingLevel3,</span>
<span class="line-removed">-     HeadingLevel4,</span>
<span class="line-removed">-     HeadingLevel5,</span>
<span class="line-removed">-     HeadingLevel6,</span>
<span class="line-removed">-     HeadingSameLevel,</span>
<span class="line-removed">-     Heading,</span>
<span class="line-removed">-     Highlighted,</span>
<span class="line-removed">-     ItalicFont,</span>
<span class="line-removed">-     KeyboardFocusable,</span>
<span class="line-removed">-     Landmark,</span>
<span class="line-removed">-     Link,</span>
<span class="line-removed">-     List,</span>
<span class="line-removed">-     LiveRegion,</span>
<span class="line-removed">-     MisspelledWord,</span>
<span class="line-removed">-     Outline,</span>
<span class="line-removed">-     PlainText,</span>
<span class="line-removed">-     RadioGroup,</span>
<span class="line-removed">-     SameType,</span>
<span class="line-removed">-     StaticText,</span>
<span class="line-removed">-     StyleChange,</span>
<span class="line-removed">-     TableSameLevel,</span>
<span class="line-removed">-     Table,</span>
<span class="line-removed">-     TextField,</span>
<span class="line-removed">-     Underline,</span>
<span class="line-removed">-     UnvisitedLink,</span>
<span class="line-removed">-     VisitedLink,</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- enum class AccessibilityVisiblePositionForBounds {</span>
<span class="line-removed">-     First,</span>
<span class="line-removed">-     Last,</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- struct AccessibilitySearchCriteria {</span>
<span class="line-removed">-     AccessibilityObject* startObject;</span>
<span class="line-removed">-     AccessibilitySearchDirection searchDirection;</span>
<span class="line-removed">-     Vector&lt;AccessibilitySearchKey&gt; searchKeys;</span>
<span class="line-removed">-     String searchText;</span>
<span class="line-removed">-     unsigned resultsLimit;</span>
<span class="line-removed">-     bool visibleOnly;</span>
<span class="line-removed">-     bool immediateDescendantsOnly;</span>
<span class="line-removed">- </span>
<span class="line-removed">-     AccessibilitySearchCriteria(AccessibilityObject* startObject, AccessibilitySearchDirection searchDirection, String searchText, unsigned resultsLimit, bool visibleOnly, bool immediateDescendantsOnly)</span>
<span class="line-removed">-         : startObject(startObject)</span>
<span class="line-removed">-         , searchDirection(searchDirection)</span>
<span class="line-removed">-         , searchText(searchText)</span>
<span class="line-removed">-         , resultsLimit(resultsLimit)</span>
<span class="line-removed">-         , visibleOnly(visibleOnly)</span>
<span class="line-removed">-         , immediateDescendantsOnly(immediateDescendantsOnly)</span>
<span class="line-removed">-     { }</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- enum class AccessibilityDetachmentType { CacheDestroyed, ElementDestroyed };</span>
<span class="line-removed">- </span>
<span class="line-removed">- struct VisiblePositionRange {</span>
<span class="line-removed">- </span>
<span class="line-removed">-     VisiblePosition start;</span>
<span class="line-removed">-     VisiblePosition end;</span>
<span class="line-removed">- </span>
<span class="line-removed">-     VisiblePositionRange() {}</span>
<span class="line-removed">- </span>
<span class="line-removed">-     VisiblePositionRange(const VisiblePosition&amp; s, const VisiblePosition&amp; e)</span>
<span class="line-removed">-         : start(s)</span>
<span class="line-removed">-         , end(e)</span>
<span class="line-removed">-     { }</span>
<span class="line-removed">- </span>
<span class="line-removed">-     VisiblePositionRange(const VisibleSelection&amp; selection)</span>
<span class="line-removed">-         : start(selection.start())</span>
<span class="line-removed">-         , end(selection.end())</span>
<span class="line-removed">-     { }</span>
<span class="line-removed">- </span>
<span class="line-removed">-     bool isNull() const { return start.isNull() || end.isNull(); }</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- struct PlainTextRange {</span>
<span class="line-removed">- </span>
<span class="line-removed">-     unsigned start { 0 };</span>
<span class="line-removed">-     unsigned length { 0 };</span>
<span class="line-removed">- </span>
<span class="line-removed">-     PlainTextRange() = default;</span>
<span class="line-removed">- </span>
<span class="line-removed">-     PlainTextRange(unsigned s, unsigned l)</span>
<span class="line-removed">-         : start(s)</span>
<span class="line-removed">-         , length(l)</span>
<span class="line-removed">-     { }</span>
<span class="line-removed">- </span>
<span class="line-removed">- #if PLATFORM(COCOA)</span>
<span class="line-removed">-     PlainTextRange(NSRange);</span>
<span class="line-removed">- #endif</span>
<span class="line-removed">- </span>
<span class="line-removed">-     bool isNull() const { return !start &amp;&amp; !length; }</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- enum class AccessibilitySearchTextStartFrom {</span>
<span class="line-removed">-     Begin, // Search from the beginning of the element.</span>
<span class="line-removed">-     Selection, // Search from the position of the current selection.</span>
<span class="line-removed">-     End // Search from the end of the element.</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- enum class AccessibilitySearchTextDirection {</span>
<span class="line-removed">-     Forward, // Occurrence after the starting range.</span>
<span class="line-removed">-     Backward, // Occurrence before the starting range.</span>
<span class="line-removed">-     Closest, // Closest occurrence to the starting range, whether after or before.</span>
<span class="line-removed">-     All // All occurrences</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- struct AccessibilitySearchTextCriteria {</span>
<span class="line-removed">-     Vector&lt;String&gt; searchStrings; // Text strings to search for.</span>
<span class="line-removed">-     AccessibilitySearchTextStartFrom start;</span>
<span class="line-removed">-     AccessibilitySearchTextDirection direction;</span>
<span class="line-removed">- </span>
<span class="line-removed">-     AccessibilitySearchTextCriteria()</span>
<span class="line-removed">-         : start(AccessibilitySearchTextStartFrom::Selection)</span>
<span class="line-removed">-         , direction(AccessibilitySearchTextDirection::Forward)</span>
<span class="line-removed">-     { }</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- enum class AccessibilityTextOperationType {</span>
<span class="line-removed">-     Select,</span>
<span class="line-removed">-     Replace,</span>
<span class="line-removed">-     Capitalize,</span>
<span class="line-removed">-     Lowercase,</span>
<span class="line-removed">-     Uppercase</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- struct AccessibilityTextOperation {</span>
<span class="line-removed">-     Vector&lt;RefPtr&lt;Range&gt;&gt; textRanges; // text on which perform the operation.</span>
<span class="line-removed">-     AccessibilityTextOperationType type;</span>
<span class="line-removed">-     String replacementText; // For type = replace.</span>
<span class="line-removed">- </span>
<span class="line-removed">-     AccessibilityTextOperation()</span>
<span class="line-removed">-         : type(AccessibilityTextOperationType::Select)</span>
<span class="line-removed">-     { }</span>
<span class="line-removed">- };</span>
<span class="line-removed">- </span>
<span class="line-removed">- enum class AccessibilityMathScriptObjectType { Subscript, Superscript };</span>
<span class="line-removed">- enum class AccessibilityMathMultiscriptObjectType { PreSubscript, PreSuperscript, PostSubscript, PostSuperscript };</span>
<span class="line-removed">- </span>
<span class="line-removed">- enum class AccessibilityCurrentState { False, True, Page, Step, Location, Date, Time };</span>
<span class="line-removed">- enum class AccessibilityConversionSpace { Screen, Page };</span>
<span class="line-removed">- </span>
  bool nodeHasPresentationRole(Node*);
  
<span class="line-modified">! class AccessibilityObject : public RefCounted&lt;AccessibilityObject&gt;, public AccessibilityObjectInterface {</span>
<span class="line-removed">- protected:</span>
<span class="line-removed">-     AccessibilityObject() = default;</span>
<span class="line-removed">- </span>
  public:
      virtual ~AccessibilityObject();
  
      // After constructing an AccessibilityObject, it must be given a
      // unique ID, then added to AXObjectCache, and finally init() must
      // be called last.
<span class="line-modified">!     void setAXObjectID(AXID axObjectID) { m_id = axObjectID; }</span>
<span class="line-modified">!     virtual void init() { }</span>
<span class="line-removed">- </span>
<span class="line-removed">-     // When the corresponding WebCore object that this AccessibilityObject</span>
<span class="line-removed">-     // wraps is deleted, it must be detached.</span>
<span class="line-removed">-     virtual void detach(AccessibilityDetachmentType, AXObjectCache* cache = nullptr);</span>
<span class="line-removed">-     virtual bool isDetached() const;</span>
  
<span class="line-modified">!     typedef Vector&lt;RefPtr&lt;AccessibilityObject&gt;&gt; AccessibilityChildrenVector;</span>
  
<span class="line-modified">!     virtual bool isAccessibilityNodeObject() const { return false; }</span>
<span class="line-modified">!     virtual bool isAccessibilityRenderObject() const { return false; }</span>
<span class="line-modified">!     virtual bool isAccessibilityScrollbar() const { return false; }</span>
<span class="line-modified">!     virtual bool isAccessibilityScrollView() const { return false; }</span>
<span class="line-modified">!     virtual bool isAccessibilitySVGRoot() const { return false; }</span>
<span class="line-modified">!     virtual bool isAccessibilitySVGElement() const { return false; }</span>
  
<span class="line-modified">!     bool accessibilityObjectContainsText(String *) const;</span>
<span class="line-modified">! </span>
<span class="line-removed">-     virtual bool isAttachmentElement() const { return false; }</span>
<span class="line-removed">-     virtual bool isHeading() const { return false; }</span>
      bool isLink() const override { return false; }
      bool isImage() const override { return false; }
<span class="line-modified">!     virtual bool isImageMap() const { return roleValue() == AccessibilityRole::ImageMap; }</span>
<span class="line-modified">!     virtual bool isNativeImage() const { return false; }</span>
<span class="line-modified">!     virtual bool isImageButton() const { return false; }</span>
<span class="line-modified">!     virtual bool isPasswordField() const { return false; }</span>
<span class="line-modified">!     bool isContainedByPasswordField() const;</span>
<span class="line-modified">!     virtual AccessibilityObject* passwordFieldOrContainingPasswordField() { return nullptr; }</span>
<span class="line-modified">!     virtual bool isNativeTextControl() const { return false; }</span>
<span class="line-modified">!     virtual bool isSearchField() const { return false; }</span>
<span class="line-modified">!     bool isWebArea() const { return roleValue() == AccessibilityRole::WebArea; }</span>
<span class="line-removed">-     virtual bool isCheckbox() const { return roleValue() == AccessibilityRole::CheckBox; }</span>
<span class="line-removed">-     virtual bool isRadioButton() const { return roleValue() == AccessibilityRole::RadioButton; }</span>
<span class="line-removed">-     virtual bool isNativeListBox() const { return false; }</span>
<span class="line-removed">-     bool isListBox() const { return roleValue() == AccessibilityRole::ListBox; }</span>
<span class="line-removed">-     virtual bool isListBoxOption() const { return false; }</span>
      bool isAttachment() const override { return false; }
<span class="line-modified">!     virtual bool isMediaTimeline() const { return false; }</span>
<span class="line-modified">!     virtual bool isMenuRelated() const { return false; }</span>
<span class="line-modified">!     virtual bool isMenu() const { return false; }</span>
<span class="line-modified">!     virtual bool isMenuBar() const { return false; }</span>
<span class="line-modified">!     virtual bool isMenuButton() const { return false; }</span>
<span class="line-modified">!     virtual bool isMenuItem() const { return false; }</span>
      bool isFileUploadButton() const override { return false; }
<span class="line-modified">!     virtual bool isInputImage() const { return false; }</span>
<span class="line-modified">!     virtual bool isProgressIndicator() const { return false; }</span>
<span class="line-modified">!     virtual bool isSlider() const { return false; }</span>
<span class="line-modified">!     virtual bool isSliderThumb() const { return false; }</span>
<span class="line-modified">!     virtual bool isInputSlider() const { return false; }</span>
<span class="line-modified">!     virtual bool isControl() const { return false; }</span>
<span class="line-modified">!     virtual bool isLabel() const { return false; }</span>
<span class="line-modified">!     virtual bool isList() const { return false; }</span>
<span class="line-modified">!     virtual bool isTable() const { return false; }</span>
<span class="line-modified">!     virtual bool isDataTable() const { return false; }</span>
<span class="line-modified">!     virtual bool isTableRow() const { return false; }</span>
<span class="line-modified">!     virtual bool isTableColumn() const { return false; }</span>
<span class="line-modified">!     virtual bool isTableCell() const { return false; }</span>
<span class="line-modified">!     virtual bool isFieldset() const { return false; }</span>
<span class="line-modified">!     virtual bool isGroup() const { return false; }</span>
<span class="line-modified">!     virtual bool isARIATreeGridRow() const { return false; }</span>
      bool isImageMapLink() const override { return false; }
<span class="line-modified">!     virtual bool isMenuList() const { return false; }</span>
<span class="line-modified">!     virtual bool isMenuListPopup() const { return false; }</span>
<span class="line-modified">!     virtual bool isMenuListOption() const { return false; }</span>
<span class="line-modified">!     virtual bool isSpinButton() const { return roleValue() == AccessibilityRole::SpinButton; }</span>
<span class="line-modified">!     virtual bool isNativeSpinButton() const { return false; }</span>
<span class="line-modified">!     virtual bool isSpinButtonPart() const { return false; }</span>
<span class="line-modified">!     virtual bool isMockObject() const { return false; }</span>
<span class="line-modified">!     bool isMediaControlLabel() const override { return false; }</span>
<span class="line-modified">!     virtual bool isMediaObject() const { return false; }</span>
<span class="line-modified">!     bool isSwitch() const { return roleValue() == AccessibilityRole::Switch; }</span>
<span class="line-modified">!     bool isToggleButton() const { return roleValue() == AccessibilityRole::ToggleButton; }</span>
<span class="line-modified">!     bool isTextControl() const;</span>
<span class="line-modified">!     bool isARIATextControl() const;</span>
<span class="line-modified">!     bool isNonNativeTextControl() const;</span>
<span class="line-modified">!     bool isTabList() const { return roleValue() == AccessibilityRole::TabList; }</span>
<span class="line-modified">!     bool isTabItem() const { return roleValue() == AccessibilityRole::Tab; }</span>
<span class="line-modified">!     bool isRadioGroup() const { return roleValue() == AccessibilityRole::RadioGroup; }</span>
<span class="line-modified">!     bool isComboBox() const { return roleValue() == AccessibilityRole::ComboBox; }</span>
<span class="line-modified">!     bool isTree() const override { return roleValue() == AccessibilityRole::Tree; }</span>
<span class="line-modified">!     bool isTreeGrid() const { return roleValue() == AccessibilityRole::TreeGrid; }</span>
<span class="line-modified">!     bool isTreeItem() const override { return roleValue() == AccessibilityRole::TreeItem; }</span>
<span class="line-modified">!     bool isScrollbar() const override { return roleValue() == AccessibilityRole::ScrollBar; }</span>
<span class="line-modified">!     bool isButton() const;</span>
<span class="line-modified">!     bool isListItem() const { return roleValue() == AccessibilityRole::ListItem; }</span>
<span class="line-modified">!     bool isCheckboxOrRadio() const { return isCheckbox() || isRadioButton(); }</span>
<span class="line-modified">!     bool isScrollView() const { return roleValue() == AccessibilityRole::ScrollArea; }</span>
<span class="line-modified">!     bool isCanvas() const { return roleValue() == AccessibilityRole::Canvas; }</span>
<span class="line-modified">!     bool isPopUpButton() const { return roleValue() == AccessibilityRole::PopUpButton; }</span>
<span class="line-modified">!     bool isBlockquote() const;</span>
<span class="line-modified">!     bool isLandmark() const;</span>
<span class="line-modified">!     bool isColorWell() const { return roleValue() == AccessibilityRole::ColorWell; }</span>
<span class="line-modified">!     bool isRangeControl() const;</span>
<span class="line-modified">!     bool isMeter() const;</span>
<span class="line-modified">!     bool isSplitter() const { return roleValue() == AccessibilityRole::Splitter; }</span>
<span class="line-modified">!     bool isToolbar() const { return roleValue() == AccessibilityRole::Toolbar; }</span>
<span class="line-modified">!     bool isStyleFormatGroup() const;</span>
<span class="line-modified">!     bool isFigureElement() const;</span>
<span class="line-modified">!     bool isKeyboardFocusable() const;</span>
<span class="line-modified">!     bool isSummary() const { return roleValue() == AccessibilityRole::Summary; }</span>
<span class="line-modified">!     bool isOutput() const;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual bool isChecked() const { return false; }</span>
<span class="line-modified">!     virtual bool isEnabled() const { return false; }</span>
<span class="line-removed">-     virtual bool isSelected() const { return false; }</span>
<span class="line-removed">-     virtual bool isFocused() const { return false; }</span>
<span class="line-removed">-     virtual bool isHovered() const { return false; }</span>
<span class="line-removed">-     virtual bool isIndeterminate() const { return false; }</span>
<span class="line-removed">-     virtual bool isLoaded() const { return false; }</span>
<span class="line-removed">-     virtual bool isMultiSelectable() const { return false; }</span>
<span class="line-removed">-     virtual bool isOffScreen() const { return false; }</span>
<span class="line-removed">-     virtual bool isPressed() const { return false; }</span>
<span class="line-removed">-     virtual bool isUnvisited() const { return false; }</span>
<span class="line-removed">-     virtual bool isVisited() const { return false; }</span>
<span class="line-removed">-     virtual bool isRequired() const { return false; }</span>
<span class="line-removed">-     virtual bool supportsRequiredAttribute() const { return false; }</span>
<span class="line-removed">-     virtual bool isLinked() const { return false; }</span>
<span class="line-removed">-     virtual bool isExpanded() const;</span>
<span class="line-removed">-     virtual bool isVisible() const { return true; }</span>
<span class="line-removed">-     virtual bool isCollapsed() const { return false; }</span>
<span class="line-removed">-     virtual void setIsExpanded(bool) { }</span>
      FloatRect relativeFrame() const override;
<span class="line-modified">!     FloatRect convertFrameToSpace(const FloatRect&amp;, AccessibilityConversionSpace) const;</span>
  
      // In a multi-select list, many items can be selected but only one is active at a time.
<span class="line-modified">!     virtual bool isSelectedOptionActive() const { return false; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual bool hasBoldFont() const { return false; }</span>
<span class="line-modified">!     virtual bool hasItalicFont() const { return false; }</span>
<span class="line-modified">!     bool hasMisspelling() const;</span>
<span class="line-modified">!     virtual bool hasPlainText() const { return false; }</span>
<span class="line-modified">!     virtual bool hasSameFont(RenderObject*) const { return false; }</span>
<span class="line-modified">!     virtual bool hasSameFontColor(RenderObject*) const { return false; }</span>
<span class="line-modified">!     virtual bool hasSameStyle(RenderObject*) const { return false; }</span>
<span class="line-modified">!     bool isStaticText() const { return roleValue() == AccessibilityRole::StaticText; }</span>
<span class="line-modified">!     virtual bool hasUnderline() const { return false; }</span>
<span class="line-modified">!     bool hasHighlighting() const;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     bool supportsDatetimeAttribute() const;</span>
<span class="line-modified">!     const AtomString&amp; datetimeAttributeValue() const;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual bool canSetFocusAttribute() const { return false; }</span>
<span class="line-modified">!     virtual bool canSetTextRangeAttributes() const { return false; }</span>
<span class="line-modified">!     virtual bool canSetValueAttribute() const { return false; }</span>
<span class="line-modified">!     virtual bool canSetNumericValue() const { return false; }</span>
<span class="line-modified">!     virtual bool canSetSelectedAttribute() const { return false; }</span>
<span class="line-modified">!     virtual bool canSetSelectedChildrenAttribute() const { return false; }</span>
<span class="line-modified">!     virtual bool canSetExpandedAttribute() const { return false; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual Element* element() const;</span>
<span class="line-modified">!     virtual Node* node() const { return nullptr; }</span>
<span class="line-modified">!     virtual RenderObject* renderer() const { return nullptr; }</span>
      bool accessibilityIsIgnored() const override;
<span class="line-modified">!     virtual AccessibilityObjectInclusion defaultObjectInclusion() const;</span>
<span class="line-modified">!     bool accessibilityIsIgnoredByDefault() const;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     bool isShowingValidationMessage() const;</span>
<span class="line-modified">!     String validationMessage() const;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     unsigned blockquoteLevel() const;</span>
<span class="line-modified">!     virtual int headingLevel() const { return 0; }</span>
<span class="line-modified">!     virtual int tableLevel() const { return 0; }</span>
<span class="line-modified">!     virtual AccessibilityButtonState checkboxOrRadioValue() const;</span>
<span class="line-modified">!     virtual String valueDescription() const { return String(); }</span>
<span class="line-modified">!     virtual float valueForRange() const { return 0.0f; }</span>
<span class="line-modified">!     virtual float maxValueForRange() const { return 0.0f; }</span>
<span class="line-modified">!     virtual float minValueForRange() const { return 0.0f; }</span>
<span class="line-modified">!     virtual float stepValueForRange() const { return 0.0f; }</span>
<span class="line-modified">!     virtual AccessibilityObject* selectedRadioButton() { return nullptr; }</span>
<span class="line-modified">!     virtual AccessibilityObject* selectedTabItem() { return nullptr; }</span>
<span class="line-modified">!     AccessibilityObject* selectedListItem();</span>
<span class="line-modified">!     virtual int layoutCount() const { return 0; }</span>
<span class="line-modified">!     virtual double estimatedLoadingProgress() const { return 0; }</span>
      WEBCORE_EXPORT static bool isARIAControl(AccessibilityRole);
      WEBCORE_EXPORT static bool isARIAInput(AccessibilityRole);
  
<span class="line-modified">!     virtual bool supportsARIAOwns() const { return false; }</span>
<span class="line-modified">!     bool isActiveDescendantOfFocusedContainer() const;</span>
<span class="line-modified">!     void ariaActiveDescendantReferencingElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">!     void ariaControlsElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">!     void ariaControlsReferencingElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">!     void ariaDescribedByElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">!     void ariaDescribedByReferencingElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">!     void ariaDetailsElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">!     void ariaDetailsReferencingElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">!     void ariaErrorMessageElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">!     void ariaErrorMessageReferencingElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">!     void ariaFlowToElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">!     void ariaFlowToReferencingElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">!     void ariaLabelledByElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">!     void ariaLabelledByReferencingElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">!     void ariaOwnsElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">!     void ariaOwnsReferencingElements(AccessibilityChildrenVector&amp;) const;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual bool hasPopup() const { return false; }</span>
<span class="line-modified">!     String popupValue() const;</span>
<span class="line-modified">!     bool hasDatalist() const;</span>
<span class="line-modified">!     bool supportsHasPopup() const;</span>
<span class="line-modified">!     bool pressedIsPresent() const;</span>
<span class="line-modified">!     bool ariaIsMultiline() const;</span>
<span class="line-modified">!     String invalidStatus() const;</span>
<span class="line-modified">!     bool supportsPressed() const;</span>
<span class="line-modified">!     bool supportsExpanded() const;</span>
<span class="line-modified">!     bool supportsChecked() const;</span>
<span class="line-modified">!     AccessibilitySortDirection sortDirection() const;</span>
<span class="line-modified">!     virtual bool canvasHasFallbackContent() const { return false; }</span>
<span class="line-modified">!     bool supportsRangeValue() const;</span>
<span class="line-modified">!     const AtomString&amp; identifierAttribute() const;</span>
<span class="line-modified">!     const AtomString&amp; linkRelValue() const;</span>
<span class="line-modified">!     void classList(Vector&lt;String&gt;&amp;) const;</span>
<span class="line-modified">!     virtual String roleDescription() const;</span>
<span class="line-modified">!     AccessibilityCurrentState currentState() const;</span>
<span class="line-modified">!     String currentValue() const;</span>
<span class="line-modified">!     bool supportsCurrent() const;</span>
<span class="line-removed">-     const String keyShortcutsValue() const;</span>
  
      // This function checks if the object should be ignored when there&#39;s a modal dialog displayed.
<span class="line-modified">!     bool ignoredFromModalPresence() const;</span>
<span class="line-modified">!     bool isModalDescendant(Node*) const;</span>
<span class="line-modified">!     bool isModalNode() const;</span>
  
<span class="line-modified">!     bool supportsSetSize() const;</span>
<span class="line-modified">!     bool supportsPosInSet() const;</span>
<span class="line-modified">!     int setSize() const;</span>
<span class="line-modified">!     int posInSet() const;</span>
  
      // ARIA drag and drop
<span class="line-modified">!     virtual bool supportsARIADropping() const { return false; }</span>
<span class="line-modified">!     virtual bool supportsARIADragging() const { return false; }</span>
<span class="line-modified">!     virtual bool isARIAGrabbed() { return false; }</span>
<span class="line-modified">!     virtual void setARIAGrabbed(bool) { }</span>
<span class="line-modified">!     virtual Vector&lt;String&gt; determineARIADropEffects() { return { }; }</span>
  
      // Called on the root AX object to return the deepest available element.
<span class="line-modified">!     AccessibilityObjectInterface* accessibilityHitTest(const IntPoint&amp;) const override { return nullptr; }</span>
      // Called on the AX object after the render tree determines which is the right AccessibilityRenderObject.
<span class="line-modified">!     virtual AccessibilityObjectInterface* elementAccessibilityHitTest(const IntPoint&amp;) const;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     AccessibilityObjectInterface* focusedUIElement() const override;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual AccessibilityObject* firstChild() const { return nullptr; }</span>
<span class="line-modified">!     virtual AccessibilityObject* lastChild() const { return nullptr; }</span>
<span class="line-modified">!     virtual AccessibilityObject* previousSibling() const { return nullptr; }</span>
<span class="line-modified">!     virtual AccessibilityObject* nextSibling() const { return nullptr; }</span>
<span class="line-modified">!     virtual AccessibilityObject* nextSiblingUnignored(int limit) const;</span>
<span class="line-modified">!     virtual AccessibilityObject* previousSiblingUnignored(int limit) const;</span>
<span class="line-modified">!     virtual AccessibilityObject* parentObject() const { return nullptr; }</span>
<span class="line-modified">!     virtual AccessibilityObject* parentObjectUnignored() const;</span>
<span class="line-modified">!     AccessibilityObjectInterface* parentObjectInterfaceUnignored() const override { return parentObjectUnignored(); }</span>
<span class="line-removed">-     virtual AccessibilityObject* parentObjectIfExists() const { return nullptr; }</span>
      static AccessibilityObject* firstAccessibleObjectFromNode(const Node*);
<span class="line-modified">!     void findMatchingObjects(AccessibilitySearchCriteria*, AccessibilityChildrenVector&amp;);</span>
<span class="line-modified">!     virtual bool isDescendantOfBarrenParent() const { return false; }</span>
  
<span class="line-modified">!     bool isDescendantOfRole(AccessibilityRole) const;</span>
  
      // Text selection
  private:
      RefPtr&lt;Range&gt; rangeOfStringClosestToRangeInDirection(Range*, AccessibilitySearchDirection, Vector&lt;String&gt; const&amp;) const;
      RefPtr&lt;Range&gt; selectionRange() const;
      RefPtr&lt;Range&gt; findTextRange(Vector&lt;String&gt; const&amp; searchStrings, RefPtr&lt;Range&gt; const&amp; start, AccessibilitySearchTextDirection) const;
  public:
<span class="line-modified">!     Vector&lt;RefPtr&lt;Range&gt;&gt; findTextRanges(AccessibilitySearchTextCriteria const&amp;) const;</span>
<span class="line-modified">!     Vector&lt;String&gt; performTextOperation(AccessibilityTextOperation const&amp;);</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual AccessibilityObject* observableObject() const { return nullptr; }</span>
<span class="line-modified">!     virtual void linkedUIElements(AccessibilityChildrenVector&amp;) const { }</span>
<span class="line-modified">!     virtual AccessibilityObject* titleUIElement() const { return nullptr; }</span>
<span class="line-modified">!     virtual bool exposesTitleUIElement() const { return true; }</span>
<span class="line-modified">!     virtual AccessibilityObject* correspondingLabelForControlElement() const { return nullptr; }</span>
<span class="line-modified">!     virtual AccessibilityObject* correspondingControlForLabelElement() const { return nullptr; }</span>
<span class="line-modified">!     virtual AccessibilityObject* scrollBar(AccessibilityOrientation) { return nullptr; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual AccessibilityRole ariaRoleAttribute() const { return AccessibilityRole::Unknown; }</span>
<span class="line-modified">!     virtual bool isPresentationalChildOfAriaRole() const { return false; }</span>
<span class="line-modified">!     virtual bool ariaRoleHasPresentationalChildren() const { return false; }</span>
<span class="line-modified">!     virtual bool inheritsPresentationalRole() const { return false; }</span>
  
      // Accessibility Text
<span class="line-modified">!     virtual void accessibilityText(Vector&lt;AccessibilityText&gt;&amp;) const { };</span>
      // A single method for getting a computed label for an AXObject. It condenses the nuances of accessibilityText. Used by Inspector.
<span class="line-modified">!     String computedLabel();</span>
  
      // A programmatic way to set a name on an AccessibleObject.
<span class="line-modified">!     virtual void setAccessibleName(const AtomString&amp;) { }</span>
<span class="line-modified">!     virtual bool hasAttributesRequiredForInclusion() const;</span>
  
      // Accessibility Text - (To be deprecated).
<span class="line-modified">!     virtual String accessibilityDescription() const { return String(); }</span>
<span class="line-modified">!     virtual String title() const { return String(); }</span>
<span class="line-modified">!     virtual String helpText() const { return String(); }</span>
  
      // Methods for determining accessibility text.
<span class="line-modified">!     bool isARIAStaticText() const { return ariaRoleAttribute() == AccessibilityRole::StaticText; }</span>
<span class="line-modified">!     virtual String stringValue() const { return String(); }</span>
<span class="line-modified">!     virtual String textUnderElement(AccessibilityTextUnderElementMode = AccessibilityTextUnderElementMode()) const { return String(); }</span>
<span class="line-modified">!     virtual String text() const { return String(); }</span>
<span class="line-modified">!     virtual int textLength() const { return 0; }</span>
<span class="line-modified">!     virtual String ariaLabeledByAttribute() const { return String(); }</span>
<span class="line-modified">!     virtual String ariaDescribedByAttribute() const { return String(); }</span>
<span class="line-modified">!     const String placeholderValue() const;</span>
<span class="line-modified">!     bool accessibleNameDerivesFromContent() const;</span>
  
      // Abbreviations
<span class="line-modified">!     virtual String expandedTextValue() const { return String(); }</span>
<span class="line-modified">!     virtual bool supportsExpandedTextValue() const { return false; }</span>
  
<span class="line-modified">!     void elementsFromAttribute(Vector&lt;Element*&gt;&amp;, const QualifiedName&amp;) const;</span>
  
      // Only if isColorWell()
<span class="line-modified">!     virtual void colorValue(int&amp; r, int&amp; g, int&amp; b) const { r = 0; g = 0; b = 0; }</span>
  
      AccessibilityRole roleValue() const override { return m_role; }
  
<span class="line-modified">!     virtual AXObjectCache* axObjectCache() const;</span>
<span class="line-modified">!     AXID axObjectID() const { return m_id; }</span>
  
      static AccessibilityObject* anchorElementForNode(Node*);
      static AccessibilityObject* headingElementForNode(Node*);
<span class="line-modified">!     virtual Element* anchorElement() const { return nullptr; }</span>
<span class="line-modified">!     bool supportsPressAction() const;</span>
<span class="line-modified">!     virtual Element* actionElement() const { return nullptr; }</span>
<span class="line-modified">!     virtual LayoutRect boundingBoxRect() const { return LayoutRect(); }</span>
<span class="line-modified">!     IntRect pixelSnappedBoundingBoxRect() const { return snappedIntRect(boundingBoxRect()); }</span>
<span class="line-modified">!     virtual LayoutRect elementRect() const = 0;</span>
<span class="line-removed">-     LayoutSize size() const { return elementRect().size(); }</span>
<span class="line-removed">-     virtual IntPoint clickPoint();</span>
      static IntRect boundingBoxForQuads(RenderObject*, const Vector&lt;FloatQuad&gt;&amp;);
<span class="line-modified">!     virtual Path elementPath() const { return Path(); }</span>
<span class="line-modified">!     virtual bool supportsPath() const { return false; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     TextIteratorBehavior textIteratorBehaviorForTextRange() const;</span>
<span class="line-modified">!     virtual PlainTextRange selectedTextRange() const { return PlainTextRange(); }</span>
<span class="line-modified">!     unsigned selectionStart() const { return selectedTextRange().start; }</span>
<span class="line-modified">!     unsigned selectionEnd() const { return selectedTextRange().length; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual URL url() const { return URL(); }</span>
<span class="line-modified">!     virtual VisibleSelection selection() const { return VisibleSelection(); }</span>
<span class="line-modified">!     virtual String selectedText() const { return String(); }</span>
<span class="line-modified">!     virtual const AtomString&amp; accessKey() const { return nullAtom(); }</span>
<span class="line-modified">!     const String&amp; actionVerb() const;</span>
<span class="line-modified">!     virtual Widget* widget() const { return nullptr; }</span>
<span class="line-modified">!     virtual Widget* widgetForAttachmentView() const { return nullptr; }</span>
<span class="line-modified">!     Page* page() const;</span>
<span class="line-modified">!     virtual Document* document() const;</span>
<span class="line-modified">!     virtual FrameView* documentFrameView() const;</span>
<span class="line-modified">!     Frame* frame() const;</span>
<span class="line-modified">!     Frame* mainFrame() const;</span>
<span class="line-modified">!     Document* topDocument() const;</span>
<span class="line-modified">!     ScrollView* scrollViewAncestor() const;</span>
<span class="line-modified">!     String language() const;</span>
      // 1-based, to match the aria-level spec.
<span class="line-modified">!     virtual unsigned hierarchicalLevel() const { return 0; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual void setFocused(bool) { }</span>
<span class="line-modified">!     virtual void setSelectedText(const String&amp;) { }</span>
<span class="line-modified">!     virtual void setSelectedTextRange(const PlainTextRange&amp;) { }</span>
<span class="line-modified">!     virtual void setValue(const String&amp;) { }</span>
<span class="line-modified">!     bool replaceTextInRange(const String&amp;, const PlainTextRange&amp;);</span>
<span class="line-modified">!     bool insertText(const String&amp;);</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual void setValue(float) { }</span>
<span class="line-modified">!     virtual void setSelected(bool) { }</span>
<span class="line-modified">!     virtual void setSelectedRows(AccessibilityChildrenVector&amp;) { }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual void makeRangeVisible(const PlainTextRange&amp;) { }</span>
<span class="line-modified">!     virtual bool press();</span>
<span class="line-modified">!     bool performDefaultAction() { return press(); }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual AccessibilityOrientation orientation() const;</span>
<span class="line-modified">!     virtual void increment() { }</span>
<span class="line-modified">!     virtual void decrement() { }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual void childrenChanged() { }</span>
<span class="line-modified">!     virtual void textChanged() { }</span>
<span class="line-modified">!     virtual void updateAccessibilityRole() { }</span>
<span class="line-modified">!     const AccessibilityChildrenVector&amp; children(bool updateChildrenIfNeeded = true);</span>
<span class="line-modified">!     virtual void addChildren() { }</span>
<span class="line-modified">!     virtual void addChild(AccessibilityObject*);</span>
<span class="line-modified">!     virtual void insertChild(AccessibilityObject*, unsigned);</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual bool shouldIgnoreAttributeRole() const { return false; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual bool canHaveChildren() const { return true; }</span>
<span class="line-modified">!     virtual bool hasChildren() const { return m_haveChildren; }</span>
      void updateChildrenIfNecessary() override;
<span class="line-modified">!     virtual void setNeedsToUpdateChildren() { }</span>
<span class="line-modified">!     virtual void setNeedsToUpdateSubtree() { }</span>
<span class="line-modified">!     virtual void clearChildren();</span>
<span class="line-modified">!     virtual bool needsToUpdateChildren() const { return false; }</span>
  #if PLATFORM(COCOA)
<span class="line-modified">!     virtual void detachFromParent();</span>
  #else
<span class="line-modified">!     virtual void detachFromParent() { }</span>
  #endif
<span class="line-modified">!     virtual bool isDetachedFromParent() { return false; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual bool canHaveSelectedChildren() const { return false; }</span>
<span class="line-modified">!     virtual void selectedChildren(AccessibilityChildrenVector&amp;) { }</span>
<span class="line-modified">!     virtual void visibleChildren(AccessibilityChildrenVector&amp;) { }</span>
<span class="line-modified">!     virtual void tabChildren(AccessibilityChildrenVector&amp;) { }</span>
<span class="line-modified">!     virtual bool shouldFocusActiveDescendant() const { return false; }</span>
<span class="line-modified">!     virtual AccessibilityObject* activeDescendant() const { return nullptr; }</span>
<span class="line-modified">!     virtual void handleActiveDescendantChanged() { }</span>
<span class="line-modified">!     virtual void handleAriaExpandedChanged() { }</span>
<span class="line-modified">!     bool isDescendantOfObject(const AccessibilityObject*) const;</span>
<span class="line-modified">!     bool isAncestorOfObject(const AccessibilityObject*) const;</span>
<span class="line-modified">!     AccessibilityObject* firstAnonymousBlockChild() const;</span>
  
      WEBCORE_EXPORT static AccessibilityRole ariaRoleToWebCoreRole(const String&amp;);
<span class="line-modified">!     bool hasAttribute(const QualifiedName&amp;) const;</span>
<span class="line-modified">!     const AtomString&amp; getAttribute(const QualifiedName&amp;) const;</span>
<span class="line-modified">!     bool hasTagName(const QualifiedName&amp;) const;</span>
  
<span class="line-modified">!     virtual VisiblePositionRange visiblePositionRange() const { return VisiblePositionRange(); }</span>
<span class="line-modified">!     virtual VisiblePositionRange visiblePositionRangeForLine(unsigned) const { return VisiblePositionRange(); }</span>
  
<span class="line-modified">!     RefPtr&lt;Range&gt; elementRange() const;</span>
      static bool replacedNodeNeedsCharacter(Node* replacedNode);
  
<span class="line-modified">!     VisiblePositionRange visiblePositionRangeForUnorderedPositions(const VisiblePosition&amp;, const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePositionRange positionOfLeftWord(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePositionRange positionOfRightWord(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePositionRange leftLineVisiblePositionRange(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePositionRange rightLineVisiblePositionRange(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePositionRange sentenceForPosition(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePositionRange paragraphForPosition(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePositionRange styleRangeForPosition(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePositionRange visiblePositionRangeForRange(const PlainTextRange&amp;) const;</span>
<span class="line-modified">!     VisiblePositionRange lineRangeForPosition(const VisiblePosition&amp;) const;</span>
  
<span class="line-modified">!     RefPtr&lt;Range&gt; rangeForPlainTextRange(const PlainTextRange&amp;) const;</span>
  
      static String stringForVisiblePositionRange(const VisiblePositionRange&amp;);
<span class="line-modified">!     String stringForRange(RefPtr&lt;Range&gt;) const;</span>
<span class="line-modified">!     virtual IntRect boundsForVisiblePositionRange(const VisiblePositionRange&amp;) const { return IntRect(); }</span>
<span class="line-modified">!     virtual IntRect boundsForRange(const RefPtr&lt;Range&gt;) const { return IntRect(); }</span>
<span class="line-modified">!     int lengthForVisiblePositionRange(const VisiblePositionRange&amp;) const;</span>
<span class="line-modified">!     virtual void setSelectedVisiblePositionRange(const VisiblePositionRange&amp;) const { }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     VisiblePosition visiblePositionForBounds(const IntRect&amp;, AccessibilityVisiblePositionForBounds) const;</span>
<span class="line-modified">!     virtual VisiblePosition visiblePositionForPoint(const IntPoint&amp;) const { return VisiblePosition(); }</span>
<span class="line-modified">!     VisiblePosition nextVisiblePosition(const VisiblePosition&amp; visiblePos) const { return visiblePos.next(); }</span>
<span class="line-modified">!     VisiblePosition previousVisiblePosition(const VisiblePosition&amp; visiblePos) const { return visiblePos.previous(); }</span>
<span class="line-modified">!     VisiblePosition nextWordEnd(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePosition previousWordStart(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePosition nextLineEndPosition(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePosition previousLineStartPosition(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePosition nextSentenceEndPosition(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePosition previousSentenceStartPosition(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePosition nextParagraphEndPosition(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     VisiblePosition previousParagraphStartPosition(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     virtual VisiblePosition visiblePositionForIndex(unsigned, bool /*lastIndexOK */) const { return VisiblePosition(); }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual VisiblePosition visiblePositionForIndex(int) const { return VisiblePosition(); }</span>
<span class="line-modified">!     virtual int indexForVisiblePosition(const VisiblePosition&amp;) const { return 0; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     AccessibilityObject* accessibilityObjectForPosition(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     int lineForPosition(const VisiblePosition&amp;) const;</span>
<span class="line-modified">!     PlainTextRange plainTextRangeForVisiblePositionRange(const VisiblePositionRange&amp;) const;</span>
<span class="line-modified">!     virtual int index(const VisiblePosition&amp;) const { return -1; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual void lineBreaks(Vector&lt;int&gt;&amp;) const { }</span>
<span class="line-modified">!     virtual PlainTextRange doAXRangeForLine(unsigned) const { return PlainTextRange(); }</span>
<span class="line-modified">!     PlainTextRange doAXRangeForPosition(const IntPoint&amp;) const;</span>
<span class="line-modified">!     virtual PlainTextRange doAXRangeForIndex(unsigned) const { return PlainTextRange(); }</span>
<span class="line-modified">!     PlainTextRange doAXStyleRangeForIndex(unsigned) const;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     virtual String doAXStringForRange(const PlainTextRange&amp;) const { return String(); }</span>
<span class="line-modified">!     virtual IntRect doAXBoundsForRange(const PlainTextRange&amp;) const { return IntRect(); }</span>
<span class="line-modified">!     virtual IntRect doAXBoundsForRangeUsingCharacterOffset(const PlainTextRange&amp;) const { return IntRect(); }</span>
      static String listMarkerTextForNodeAndPosition(Node*, const VisiblePosition&amp;);
  
<span class="line-modified">!     unsigned doAXLineForIndex(unsigned);</span>
  
<span class="line-modified">!     String computedRoleString() const;</span>
  
<span class="line-modified">!     virtual String stringValueForMSAA() const { return String(); }</span>
<span class="line-modified">!     virtual String stringRoleForMSAA() const { return String(); }</span>
<span class="line-modified">!     virtual String nameForMSAA() const { return String(); }</span>
<span class="line-modified">!     virtual String descriptionForMSAA() const { return String(); }</span>
<span class="line-modified">!     virtual AccessibilityRole roleValueForMSAA() const { return roleValue(); }</span>
  
<span class="line-modified">!     virtual String passwordFieldValue() const { return String(); }</span>
<span class="line-modified">!     bool isValueAutofilled() const;</span>
<span class="line-modified">!     bool isValueAutofillAvailable() const;</span>
<span class="line-modified">!     AutoFillButtonType valueAutofillButtonType() const;</span>
  
      // Used by an ARIA tree to get all its rows.
<span class="line-modified">!     void ariaTreeRows(AccessibilityChildrenVector&amp;);</span>
      // Used by an ARIA tree item to get all of its direct rows that it can disclose.
<span class="line-modified">!     void ariaTreeItemDisclosedRows(AccessibilityChildrenVector&amp;);</span>
      // Used by an ARIA tree item to get only its content, and not its child tree items and groups.
<span class="line-modified">!     void ariaTreeItemContent(AccessibilityChildrenVector&amp;);</span>
  
      // ARIA live-region features.
<span class="line-modified">!     bool supportsLiveRegion(bool excludeIfOff = true) const;</span>
<span class="line-modified">!     bool isInsideLiveRegion(bool excludeIfOff = true) const;</span>
<span class="line-modified">!     AccessibilityObject* liveRegionAncestor(bool excludeIfOff = true) const;</span>
<span class="line-modified">!     virtual const String liveRegionStatus() const { return String(); }</span>
<span class="line-modified">!     virtual const String liveRegionRelevant() const { return nullAtom(); }</span>
<span class="line-modified">!     virtual bool liveRegionAtomic() const { return false; }</span>
<span class="line-modified">!     virtual bool isBusy() const { return false; }</span>
      static const String defaultLiveRegionStatusForRole(AccessibilityRole);
      static bool liveRegionStatusIsEnabled(const AtomString&amp;);
      static bool contentEditableAttributeIsEnabled(Element*);
<span class="line-modified">!     bool hasContentEditableAttributeSet() const;</span>
  
<span class="line-modified">!     bool supportsReadOnly() const;</span>
<span class="line-modified">!     virtual String readOnlyValue() const;</span>
  
<span class="line-modified">!     bool supportsAutoComplete() const;</span>
<span class="line-modified">!     String autoCompleteValue() const;</span>
  
<span class="line-modified">!     bool supportsARIAAttributes() const;</span>
  
      // CSS3 Speech properties.
<span class="line-modified">!     virtual OptionSet&lt;SpeakAs&gt; speakAsProperty() const { return OptionSet&lt;SpeakAs&gt; { }; }</span>
  
      // Make this object visible by scrolling as many nested scrollable views as needed.
<span class="line-modified">!     virtual void scrollToMakeVisible() const;</span>
      // Same, but if the whole object can&#39;t be made visible, try for this subrect, in local coordinates.
<span class="line-modified">!     virtual void scrollToMakeVisibleWithSubFocus(const IntRect&amp;) const;</span>
      // Scroll this object to a given point in global coordinates of the top-level window.
<span class="line-modified">!     virtual void scrollToGlobalPoint(const IntPoint&amp;) const;</span>
  
<span class="line-modified">!     enum class ScrollByPageDirection { Up, Down, Left, Right };</span>
<span class="line-modified">!     bool scrollByPage(ScrollByPageDirection) const;</span>
<span class="line-modified">!     IntPoint scrollPosition() const;</span>
<span class="line-modified">!     IntSize scrollContentsSize() const;</span>
<span class="line-modified">!     IntRect scrollVisibleContentRect() const;</span>
<span class="line-removed">-     void scrollToMakeVisible(const ScrollRectToVisibleOptions&amp;) const;</span>
  
<span class="line-modified">!     bool lastKnownIsIgnoredValue();</span>
<span class="line-modified">!     void setLastKnownIsIgnoredValue(bool);</span>
  
      // Fires a children changed notification on the parent if the isIgnored value changed.
<span class="line-modified">!     void notifyIfIgnoredValueChanged();</span>
  
      // All math elements return true for isMathElement().
<span class="line-modified">!     virtual bool isMathElement() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathFraction() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathFenced() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathSubscriptSuperscript() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathRow() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathUnderOver() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathRoot() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathSquareRoot() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathText() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathNumber() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathOperator() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathFenceOperator() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathSeparatorOperator() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathIdentifier() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathTable() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathTableRow() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathTableCell() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathMultiscript() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathToken() const { return false; }</span>
<span class="line-modified">!     virtual bool isMathScriptObject(AccessibilityMathScriptObjectType) const { return false; }</span>
<span class="line-modified">!     virtual bool isMathMultiscriptObject(AccessibilityMathMultiscriptObjectType) const { return false; }</span>
  
      // Root components.
<span class="line-modified">!     virtual AccessibilityObject* mathRadicandObject() { return nullptr; }</span>
<span class="line-modified">!     virtual AccessibilityObject* mathRootIndexObject() { return nullptr; }</span>
  
      // Under over components.
<span class="line-modified">!     virtual AccessibilityObject* mathUnderObject() { return nullptr; }</span>
<span class="line-modified">!     virtual AccessibilityObject* mathOverObject() { return nullptr; }</span>
  
      // Fraction components.
<span class="line-modified">!     virtual AccessibilityObject* mathNumeratorObject() { return nullptr; }</span>
<span class="line-modified">!     virtual AccessibilityObject* mathDenominatorObject() { return nullptr; }</span>
  
      // Subscript/superscript components.
<span class="line-modified">!     virtual AccessibilityObject* mathBaseObject() { return nullptr; }</span>
<span class="line-modified">!     virtual AccessibilityObject* mathSubscriptObject() { return nullptr; }</span>
<span class="line-modified">!     virtual AccessibilityObject* mathSuperscriptObject() { return nullptr; }</span>
  
      // Fenced components.
<span class="line-modified">!     virtual String mathFencedOpenString() const { return String(); }</span>
<span class="line-modified">!     virtual String mathFencedCloseString() const { return String(); }</span>
<span class="line-modified">!     virtual int mathLineThickness() const { return 0; }</span>
<span class="line-modified">!     virtual bool isAnonymousMathOperator() const { return false; }</span>
  
      // Multiscripts components.
<span class="line-modified">!     typedef Vector&lt;std::pair&lt;AccessibilityObject*, AccessibilityObject*&gt;&gt; AccessibilityMathMultiscriptPairs;</span>
<span class="line-modified">!     virtual void mathPrescripts(AccessibilityMathMultiscriptPairs&amp;) { }</span>
<span class="line-removed">-     virtual void mathPostscripts(AccessibilityMathMultiscriptPairs&amp;) { }</span>
  
      // Visibility.
<span class="line-modified">!     bool isAXHidden() const;</span>
<span class="line-modified">!     bool isDOMHidden() const;</span>
<span class="line-modified">!     bool isHidden() const { return isAXHidden() || isDOMHidden(); }</span>
<span class="line-removed">- </span>
<span class="line-removed">- #if ENABLE(ACCESSIBILITY)</span>
<span class="line-removed">-     AccessibilityObjectWrapper* wrapper() const override { return m_wrapper.get(); }</span>
<span class="line-removed">-     void setWrapper(AccessibilityObjectWrapper* wrapper) { m_wrapper = wrapper; }</span>
<span class="line-removed">- #else</span>
<span class="line-removed">-     AccessibilityObjectWrapper* wrapper() const override { return nullptr; }</span>
<span class="line-removed">- #endif</span>
  
  #if PLATFORM(COCOA)
<span class="line-modified">!     void overrideAttachmentParent(AccessibilityObject* parent);</span>
  #else
<span class="line-modified">!     void overrideAttachmentParent(AccessibilityObject*) { }</span>
  #endif
  
  #if ENABLE(ACCESSIBILITY)
      // a platform-specific method for determining if an attachment is ignored
<span class="line-modified">!     bool accessibilityIgnoreAttachment() const;</span>
      // gives platforms the opportunity to indicate if and how an object should be included
<span class="line-modified">!     AccessibilityObjectInclusion accessibilityPlatformIncludesObject() const;</span>
  #else
<span class="line-modified">!     bool accessibilityIgnoreAttachment() const { return true; }</span>
<span class="line-modified">!     AccessibilityObjectInclusion accessibilityPlatformIncludesObject() const { return AccessibilityObjectInclusion::DefaultBehavior; }</span>
  #endif
  
  #if PLATFORM(IOS_FAMILY)
<span class="line-modified">!     int accessibilityPasswordFieldLength();</span>
<span class="line-modified">!     bool hasTouchEventListener() const;</span>
<span class="line-modified">!     bool isInputTypePopupButton() const;</span>
  #endif
  
      // allows for an AccessibilityObject to update its render tree or perform
      // other operations update type operations
<span class="line-modified">!     void updateBackingStore();</span>
  
  #if PLATFORM(COCOA)
<span class="line-modified">!     bool preventKeyboardDOMEventDispatch() const;</span>
<span class="line-modified">!     void setPreventKeyboardDOMEventDispatch(bool);</span>
<span class="line-modified">!     bool fileUploadButtonReturnsValueInTitle() const;</span>
      String speechHintAttributeValue() const override;
      String descriptionAttributeValue() const override;
      String helpTextAttributeValue() const override;
      String titleAttributeValue() const override;
  #endif
  
  #if PLATFORM(COCOA) &amp;&amp; !PLATFORM(IOS_FAMILY)
<span class="line-modified">!     bool caretBrowsingEnabled() const;</span>
<span class="line-modified">!     void setCaretBrowsingEnabled(bool);</span>
  #endif
  
<span class="line-modified">!     AccessibilityObject* focusableAncestor();</span>
<span class="line-modified">!     AccessibilityObject* editableAncestor();</span>
<span class="line-modified">!     AccessibilityObject* highestEditableAncestor();</span>
  
<span class="line-modified">!     const AccessibilityScrollView* ancestorAccessibilityScrollView(bool includeSelf) const;</span>
<span class="line-removed">-     static const AccessibilityObject* matchedParent(const AccessibilityObject&amp;, bool includeSelf, const WTF::Function&lt;bool(const AccessibilityObject&amp;)&gt;&amp;);</span>
  
<span class="line-modified">!     void clearIsIgnoredFromParentData() { m_isIgnoredFromParentData = AccessibilityIsIgnoredFromParentData(); }</span>
<span class="line-modified">!     void setIsIgnoredFromParentDataForChild(AccessibilityObject*);</span>
  
  protected:
      AXID m_id { 0 };
      AccessibilityChildrenVector m_children;
      mutable bool m_haveChildren { false };
      AccessibilityRole m_role { AccessibilityRole::Unknown };
      AccessibilityObjectInclusion m_lastKnownIsIgnoredValue { AccessibilityObjectInclusion::DefaultBehavior };
<span class="line-new-header">--- 60,682 ---</span>
  #endif
  
  namespace WebCore {
  
  class AccessibilityObject;
  class IntPoint;
  class IntSize;
  class ScrollableArea;
  
  struct AccessibilityText {
      String text;
      AccessibilityTextSource textSource;
<span class="line-modified">!     Vector&lt;RefPtr&lt;AXCoreObject&gt;&gt; textElements;</span>
  
      AccessibilityText(const String&amp; t, const AccessibilityTextSource&amp; s)
          : text(t)
          , textSource(s)
      { }
  
<span class="line-modified">!     AccessibilityText(const String&amp; t, const AccessibilityTextSource&amp; s, Vector&lt;AXCoreObject*&gt; elements)</span>
          : text(t)
          , textSource(s)
<span class="line-modified">!     {</span>
<span class="line-modified">!         textElements.reserveCapacity(elements.size());</span>
<span class="line-added">+         for (auto element : elements)</span>
<span class="line-added">+             textElements.uncheckedAppend(element);</span>
<span class="line-added">+     }</span>
  
<span class="line-modified">!     AccessibilityText(const String&amp; t, const AccessibilityTextSource&amp; s, AXCoreObject* element)</span>
          : text(t)
          , textSource(s)
      {
<span class="line-modified">!         textElements.append(element);</span>
      }
  };
  
  bool nodeHasPresentationRole(Node*);
  
<span class="line-modified">! class AccessibilityObject : public AXCoreObject {</span>
  public:
      virtual ~AccessibilityObject();
  
      // After constructing an AccessibilityObject, it must be given a
      // unique ID, then added to AXObjectCache, and finally init() must
      // be called last.
<span class="line-modified">!     void setObjectID(AXID id) override { m_id = id; }</span>
<span class="line-modified">!     void init() override { }</span>
  
<span class="line-modified">!     bool isDetached() const override;</span>
  
<span class="line-modified">!     bool isAccessibilityNodeObject() const override { return false; }</span>
<span class="line-modified">!     bool isAccessibilityRenderObject() const override { return false; }</span>
<span class="line-modified">!     bool isAccessibilityScrollbar() const override { return false; }</span>
<span class="line-modified">!     bool isAccessibilityScrollView() const override { return false; }</span>
<span class="line-modified">!     bool isAccessibilitySVGRoot() const override { return false; }</span>
<span class="line-modified">!     bool isAccessibilitySVGElement() const override { return false; }</span>
  
<span class="line-modified">!     bool isAttachmentElement() const override { return false; }</span>
<span class="line-modified">!     bool isHeading() const override { return false; }</span>
      bool isLink() const override { return false; }
      bool isImage() const override { return false; }
<span class="line-modified">!     bool isNativeImage() const override { return false; }</span>
<span class="line-modified">!     bool isImageButton() const override { return false; }</span>
<span class="line-modified">!     bool isPasswordField() const override { return false; }</span>
<span class="line-modified">!     bool isContainedByPasswordField() const override;</span>
<span class="line-modified">!     AccessibilityObject* passwordFieldOrContainingPasswordField() override { return nullptr; }</span>
<span class="line-modified">!     bool isNativeTextControl() const override { return false; }</span>
<span class="line-modified">!     bool isSearchField() const override { return false; }</span>
<span class="line-modified">!     bool isNativeListBox() const override { return false; }</span>
<span class="line-modified">!     bool isListBoxOption() const override { return false; }</span>
      bool isAttachment() const override { return false; }
<span class="line-modified">!     bool isMediaTimeline() const override { return false; }</span>
<span class="line-modified">!     bool isMenuRelated() const override { return false; }</span>
<span class="line-modified">!     bool isMenu() const override { return false; }</span>
<span class="line-modified">!     bool isMenuBar() const override { return false; }</span>
<span class="line-modified">!     bool isMenuButton() const override { return false; }</span>
<span class="line-modified">!     bool isMenuItem() const override { return false; }</span>
      bool isFileUploadButton() const override { return false; }
<span class="line-modified">!     bool isInputImage() const override { return false; }</span>
<span class="line-modified">!     bool isProgressIndicator() const override { return false; }</span>
<span class="line-modified">!     bool isSlider() const override { return false; }</span>
<span class="line-modified">!     bool isSliderThumb() const override { return false; }</span>
<span class="line-modified">!     bool isInputSlider() const override { return false; }</span>
<span class="line-modified">!     bool isControl() const override { return false; }</span>
<span class="line-modified">!     bool isLabel() const override { return false; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     bool isList() const override { return false; }</span>
<span class="line-modified">!     bool isUnorderedList() const override { return false; }</span>
<span class="line-modified">!     bool isOrderedList() const override { return false; }</span>
<span class="line-modified">!     bool isDescriptionList() const override { return false; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     bool isTable() const override { return false; }</span>
<span class="line-modified">!     bool isDataTable() const override { return false; }</span>
<span class="line-modified">!     bool isTableRow() const override { return false; }</span>
<span class="line-added">+     bool isTableColumn() const override { return false; }</span>
<span class="line-added">+     bool isTableCell() const override { return false; }</span>
<span class="line-added">+     bool isFieldset() const override { return false; }</span>
<span class="line-added">+     bool isGroup() const override { return false; }</span>
<span class="line-added">+     bool isARIATreeGridRow() const override { return false; }</span>
      bool isImageMapLink() const override { return false; }
<span class="line-modified">!     bool isMenuList() const override { return false; }</span>
<span class="line-modified">!     bool isMenuListPopup() const override { return false; }</span>
<span class="line-modified">!     bool isMenuListOption() const override { return false; }</span>
<span class="line-modified">!     bool isNativeSpinButton() const override { return false; }</span>
<span class="line-modified">!     AXCoreObject* incrementButton() override { return nullptr; }</span>
<span class="line-modified">!     AXCoreObject* decrementButton() override { return nullptr; }</span>
<span class="line-modified">!     bool isSpinButtonPart() const override { return false; }</span>
<span class="line-modified">!     bool isIncrementor() const override { return false; }</span>
<span class="line-modified">!     bool isMockObject() const override { return false; }</span>
<span class="line-modified">!     virtual bool isMediaControlLabel() const { return false; }</span>
<span class="line-modified">!     bool isMediaObject() const override { return false; }</span>
<span class="line-modified">!     bool isTextControl() const override;</span>
<span class="line-modified">!     bool isARIATextControl() const override;</span>
<span class="line-modified">!     bool isNonNativeTextControl() const override;</span>
<span class="line-modified">!     bool isButton() const override;</span>
<span class="line-modified">!     bool isBlockquote() const override;</span>
<span class="line-modified">!     bool isLandmark() const override;</span>
<span class="line-modified">!     bool isRangeControl() const override;</span>
<span class="line-modified">!     bool isMeter() const override;</span>
<span class="line-modified">!     bool isStyleFormatGroup() const override;</span>
<span class="line-modified">!     bool isFigureElement() const override;</span>
<span class="line-modified">!     bool isKeyboardFocusable() const override;</span>
<span class="line-modified">!     bool isOutput() const override;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     bool isChecked() const override { return false; }</span>
<span class="line-modified">!     bool isEnabled() const override { return false; }</span>
<span class="line-modified">!     bool isSelected() const override { return false; }</span>
<span class="line-modified">!     bool isFocused() const override { return false; }</span>
<span class="line-modified">!     bool isHovered() const override { return false; }</span>
<span class="line-modified">!     bool isIndeterminate() const override { return false; }</span>
<span class="line-modified">!     bool isLoaded() const override { return false; }</span>
<span class="line-modified">!     bool isMultiSelectable() const override { return false; }</span>
<span class="line-modified">!     bool isOffScreen() const override { return false; }</span>
<span class="line-modified">!     bool isPressed() const override { return false; }</span>
<span class="line-modified">!     bool isUnvisited() const override { return false; }</span>
<span class="line-modified">!     bool isVisited() const override { return false; }</span>
<span class="line-modified">!     bool isRequired() const override { return false; }</span>
<span class="line-modified">!     bool supportsRequiredAttribute() const override { return false; }</span>
<span class="line-modified">!     bool isLinked() const override { return false; }</span>
<span class="line-modified">!     bool isExpanded() const override;</span>
<span class="line-modified">!     bool isVisible() const override { return true; }</span>
<span class="line-modified">!     bool isCollapsed() const override { return false; }</span>
<span class="line-modified">!     void setIsExpanded(bool) override { }</span>
      FloatRect relativeFrame() const override;
<span class="line-modified">!     FloatRect convertFrameToSpace(const FloatRect&amp;, AccessibilityConversionSpace) const override;</span>
  
      // In a multi-select list, many items can be selected but only one is active at a time.
<span class="line-modified">!     bool isSelectedOptionActive() const override { return false; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     bool hasBoldFont() const override { return false; }</span>
<span class="line-modified">!     bool hasItalicFont() const override { return false; }</span>
<span class="line-modified">!     bool hasMisspelling() const override;</span>
<span class="line-modified">!     RefPtr&lt;Range&gt; getMisspellingRange(RefPtr&lt;Range&gt; const&amp; start, AccessibilitySearchDirection) const override;</span>
<span class="line-modified">!     bool hasPlainText() const override { return false; }</span>
<span class="line-modified">!     bool hasSameFont(RenderObject*) const override { return false; }</span>
<span class="line-modified">!     bool hasSameFontColor(RenderObject*) const override { return false; }</span>
<span class="line-modified">!     bool hasSameStyle(RenderObject*) const override { return false; }</span>
<span class="line-modified">!     bool hasUnderline() const override { return false; }</span>
<span class="line-modified">!     bool hasHighlighting() const override;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     bool supportsDatetimeAttribute() const override;</span>
<span class="line-modified">!     String datetimeAttributeValue() const override;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     bool canSetFocusAttribute() const override { return false; }</span>
<span class="line-modified">!     bool canSetTextRangeAttributes() const override { return false; }</span>
<span class="line-modified">!     bool canSetValueAttribute() const override { return false; }</span>
<span class="line-modified">!     bool canSetNumericValue() const override { return false; }</span>
<span class="line-modified">!     bool canSetSelectedAttribute() const override { return false; }</span>
<span class="line-modified">!     bool canSetSelectedChildrenAttribute() const override { return false; }</span>
<span class="line-modified">!     bool canSetExpandedAttribute() const override { return false; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     Element* element() const override;</span>
<span class="line-modified">!     Node* node() const override { return nullptr; }</span>
<span class="line-modified">!     RenderObject* renderer() const override { return nullptr; }</span>
      bool accessibilityIsIgnored() const override;
<span class="line-modified">!     AccessibilityObjectInclusion defaultObjectInclusion() const override;</span>
<span class="line-modified">!     bool accessibilityIsIgnoredByDefault() const override;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     bool isShowingValidationMessage() const override;</span>
<span class="line-modified">!     String validationMessage() const override;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     unsigned blockquoteLevel() const override;</span>
<span class="line-modified">!     int headingLevel() const override { return 0; }</span>
<span class="line-modified">!     int tableLevel() const override { return 0; }</span>
<span class="line-modified">!     AccessibilityButtonState checkboxOrRadioValue() const override;</span>
<span class="line-modified">!     String valueDescription() const override { return String(); }</span>
<span class="line-modified">!     float valueForRange() const override { return 0.0f; }</span>
<span class="line-modified">!     float maxValueForRange() const override { return 0.0f; }</span>
<span class="line-modified">!     float minValueForRange() const override { return 0.0f; }</span>
<span class="line-modified">!     float stepValueForRange() const override { return 0.0f; }</span>
<span class="line-modified">!     AXCoreObject* selectedRadioButton() override { return nullptr; }</span>
<span class="line-modified">!     AXCoreObject* selectedTabItem() override { return nullptr; }</span>
<span class="line-modified">!     AXCoreObject* selectedListItem() override;</span>
<span class="line-modified">!     int layoutCount() const override { return 0; }</span>
<span class="line-modified">!     double estimatedLoadingProgress() const override { return 0; }</span>
      WEBCORE_EXPORT static bool isARIAControl(AccessibilityRole);
      WEBCORE_EXPORT static bool isARIAInput(AccessibilityRole);
  
<span class="line-modified">!     bool supportsARIAOwns() const override { return false; }</span>
<span class="line-modified">!     bool isActiveDescendantOfFocusedContainer() const override;</span>
<span class="line-modified">!     void ariaActiveDescendantReferencingElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">!     void ariaControlsElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">!     void ariaControlsReferencingElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">!     void ariaDescribedByElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">!     void ariaDescribedByReferencingElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">!     void ariaDetailsElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">!     void ariaDetailsReferencingElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">!     void ariaErrorMessageElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">!     void ariaErrorMessageReferencingElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">!     void ariaFlowToElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">!     void ariaFlowToReferencingElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">!     void ariaLabelledByElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">!     void ariaLabelledByReferencingElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">!     void ariaOwnsElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">!     void ariaOwnsReferencingElements(AccessibilityChildrenVector&amp;) const override;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     bool hasPopup() const override { return false; }</span>
<span class="line-modified">!     String popupValue() const override;</span>
<span class="line-modified">!     bool hasDatalist() const override;</span>
<span class="line-modified">!     bool supportsHasPopup() const override;</span>
<span class="line-modified">!     bool pressedIsPresent() const override;</span>
<span class="line-modified">!     bool ariaIsMultiline() const override;</span>
<span class="line-modified">!     String invalidStatus() const override;</span>
<span class="line-modified">!     bool supportsPressed() const override;</span>
<span class="line-modified">!     bool supportsExpanded() const override;</span>
<span class="line-modified">!     bool supportsChecked() const override;</span>
<span class="line-modified">!     AccessibilitySortDirection sortDirection() const override;</span>
<span class="line-modified">!     bool canvasHasFallbackContent() const override { return false; }</span>
<span class="line-modified">!     bool supportsRangeValue() const override;</span>
<span class="line-modified">!     String identifierAttribute() const override;</span>
<span class="line-modified">!     String linkRelValue() const override;</span>
<span class="line-modified">!     void classList(Vector&lt;String&gt;&amp;) const override;</span>
<span class="line-modified">!     AccessibilityCurrentState currentState() const override;</span>
<span class="line-modified">!     String currentValue() const override;</span>
<span class="line-modified">!     bool supportsCurrent() const override;</span>
<span class="line-modified">!     const String keyShortcutsValue() const override;</span>
  
      // This function checks if the object should be ignored when there&#39;s a modal dialog displayed.
<span class="line-modified">!     bool ignoredFromModalPresence() const override;</span>
<span class="line-modified">!     bool isModalDescendant(Node*) const override;</span>
<span class="line-modified">!     bool isModalNode() const override;</span>
  
<span class="line-modified">!     bool supportsSetSize() const override;</span>
<span class="line-modified">!     bool supportsPosInSet() const override;</span>
<span class="line-modified">!     int setSize() const override;</span>
<span class="line-modified">!     int posInSet() const override;</span>
  
      // ARIA drag and drop
<span class="line-modified">!     bool supportsARIADropping() const override { return false; }</span>
<span class="line-modified">!     bool supportsARIADragging() const override { return false; }</span>
<span class="line-modified">!     bool isARIAGrabbed() override { return false; }</span>
<span class="line-modified">!     void setARIAGrabbed(bool) override { }</span>
<span class="line-modified">!     Vector&lt;String&gt; determineARIADropEffects() override { return { }; }</span>
  
      // Called on the root AX object to return the deepest available element.
<span class="line-modified">!     AXCoreObject* accessibilityHitTest(const IntPoint&amp;) const override { return nullptr; }</span>
      // Called on the AX object after the render tree determines which is the right AccessibilityRenderObject.
<span class="line-modified">!     AXCoreObject* elementAccessibilityHitTest(const IntPoint&amp;) const override;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     AXCoreObject* focusedUIElement() const override;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     AccessibilityObject* firstChild() const override { return nullptr; }</span>
<span class="line-modified">!     AccessibilityObject* lastChild() const override { return nullptr; }</span>
<span class="line-modified">!     AccessibilityObject* previousSibling() const override { return nullptr; }</span>
<span class="line-modified">!     AccessibilityObject* nextSibling() const override { return nullptr; }</span>
<span class="line-modified">!     AccessibilityObject* nextSiblingUnignored(int limit) const override;</span>
<span class="line-modified">!     AccessibilityObject* previousSiblingUnignored(int limit) const override;</span>
<span class="line-modified">!     AccessibilityObject* parentObject() const override { return nullptr; }</span>
<span class="line-modified">!     AXCoreObject* parentObjectUnignored() const override;</span>
<span class="line-modified">!     AccessibilityObject* parentObjectIfExists() const override { return nullptr; }</span>
      static AccessibilityObject* firstAccessibleObjectFromNode(const Node*);
<span class="line-modified">!     void findMatchingObjects(AccessibilitySearchCriteria*, AccessibilityChildrenVector&amp;) override;</span>
<span class="line-modified">!     bool isDescendantOfBarrenParent() const override { return false; }</span>
  
<span class="line-modified">!     bool isDescendantOfRole(AccessibilityRole) const override;</span>
  
      // Text selection
  private:
      RefPtr&lt;Range&gt; rangeOfStringClosestToRangeInDirection(Range*, AccessibilitySearchDirection, Vector&lt;String&gt; const&amp;) const;
      RefPtr&lt;Range&gt; selectionRange() const;
      RefPtr&lt;Range&gt; findTextRange(Vector&lt;String&gt; const&amp; searchStrings, RefPtr&lt;Range&gt; const&amp; start, AccessibilitySearchTextDirection) const;
  public:
<span class="line-modified">!     Vector&lt;RefPtr&lt;Range&gt;&gt; findTextRanges(AccessibilitySearchTextCriteria const&amp;) const override;</span>
<span class="line-modified">!     Vector&lt;String&gt; performTextOperation(AccessibilityTextOperation const&amp;) override;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     AccessibilityObject* observableObject() const override { return nullptr; }</span>
<span class="line-modified">!     void linkedUIElements(AccessibilityChildrenVector&amp;) const override { }</span>
<span class="line-modified">!     AccessibilityObject* titleUIElement() const override { return nullptr; }</span>
<span class="line-modified">!     bool exposesTitleUIElement() const override { return true; }</span>
<span class="line-modified">!     AccessibilityObject* correspondingLabelForControlElement() const override { return nullptr; }</span>
<span class="line-modified">!     AccessibilityObject* correspondingControlForLabelElement() const override { return nullptr; }</span>
<span class="line-modified">!     AccessibilityObject* scrollBar(AccessibilityOrientation) override { return nullptr; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     AccessibilityRole ariaRoleAttribute() const override { return AccessibilityRole::Unknown; }</span>
<span class="line-modified">!     bool isPresentationalChildOfAriaRole() const override { return false; }</span>
<span class="line-modified">!     bool ariaRoleHasPresentationalChildren() const override { return false; }</span>
<span class="line-modified">!     bool inheritsPresentationalRole() const override { return false; }</span>
  
      // Accessibility Text
<span class="line-modified">!     void accessibilityText(Vector&lt;AccessibilityText&gt;&amp;) const override { };</span>
      // A single method for getting a computed label for an AXObject. It condenses the nuances of accessibilityText. Used by Inspector.
<span class="line-modified">!     String computedLabel() override;</span>
  
      // A programmatic way to set a name on an AccessibleObject.
<span class="line-modified">!     void setAccessibleName(const AtomString&amp;) override { }</span>
<span class="line-modified">!     bool hasAttributesRequiredForInclusion() const override;</span>
  
      // Accessibility Text - (To be deprecated).
<span class="line-modified">!     String accessibilityDescription() const override { return String(); }</span>
<span class="line-modified">!     String title() const override { return String(); }</span>
<span class="line-modified">!     String helpText() const override { return String(); }</span>
  
      // Methods for determining accessibility text.
<span class="line-modified">!     bool isARIAStaticText() const override { return ariaRoleAttribute() == AccessibilityRole::StaticText; }</span>
<span class="line-modified">!     String stringValue() const override { return String(); }</span>
<span class="line-modified">!     String textUnderElement(AccessibilityTextUnderElementMode = AccessibilityTextUnderElementMode()) const override { return String(); }</span>
<span class="line-modified">!     String text() const override { return String(); }</span>
<span class="line-modified">!     int textLength() const override { return 0; }</span>
<span class="line-modified">!     String ariaLabeledByAttribute() const override { return String(); }</span>
<span class="line-modified">!     String ariaDescribedByAttribute() const override { return String(); }</span>
<span class="line-modified">!     const String placeholderValue() const override;</span>
<span class="line-modified">!     bool accessibleNameDerivesFromContent() const override;</span>
  
      // Abbreviations
<span class="line-modified">!     String expandedTextValue() const override { return String(); }</span>
<span class="line-modified">!     bool supportsExpandedTextValue() const override { return false; }</span>
  
<span class="line-modified">!     void elementsFromAttribute(Vector&lt;Element*&gt;&amp;, const QualifiedName&amp;) const override;</span>
  
      // Only if isColorWell()
<span class="line-modified">!     void colorValue(int&amp; r, int&amp; g, int&amp; b) const override { r = 0; g = 0; b = 0; }</span>
  
      AccessibilityRole roleValue() const override { return m_role; }
<span class="line-added">+     String rolePlatformString() const override;</span>
<span class="line-added">+     String roleDescription() const override;</span>
<span class="line-added">+     String ariaLandmarkRoleDescription() const override;</span>
  
<span class="line-modified">!     AXObjectCache* axObjectCache() const override;</span>
<span class="line-modified">!     AXID objectID() const override { return m_id; }</span>
  
      static AccessibilityObject* anchorElementForNode(Node*);
      static AccessibilityObject* headingElementForNode(Node*);
<span class="line-modified">!     Element* anchorElement() const override { return nullptr; }</span>
<span class="line-modified">!     bool supportsPressAction() const override;</span>
<span class="line-modified">!     Element* actionElement() const override { return nullptr; }</span>
<span class="line-modified">!     LayoutRect boundingBoxRect() const override { return LayoutRect(); }</span>
<span class="line-modified">!     LayoutRect elementRect() const override = 0;</span>
<span class="line-modified">!     IntPoint clickPoint() override;</span>
      static IntRect boundingBoxForQuads(RenderObject*, const Vector&lt;FloatQuad&gt;&amp;);
<span class="line-modified">!     Path elementPath() const override { return Path(); }</span>
<span class="line-modified">!     bool supportsPath() const override { return false; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     TextIteratorBehavior textIteratorBehaviorForTextRange() const override;</span>
<span class="line-modified">!     PlainTextRange selectedTextRange() const override { return PlainTextRange(); }</span>
<span class="line-modified">!     unsigned selectionStart() const override { return selectedTextRange().start; }</span>
<span class="line-modified">!     unsigned selectionEnd() const override { return selectedTextRange().length; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     URL url() const override { return URL(); }</span>
<span class="line-modified">!     VisibleSelection selection() const override { return VisibleSelection(); }</span>
<span class="line-modified">!     String selectedText() const override { return String(); }</span>
<span class="line-modified">!     String accessKey() const override { return nullAtom(); }</span>
<span class="line-modified">!     String actionVerb() const override;</span>
<span class="line-modified">!     Widget* widget() const override { return nullptr; }</span>
<span class="line-modified">!     Widget* widgetForAttachmentView() const override { return nullptr; }</span>
<span class="line-modified">!     Page* page() const override;</span>
<span class="line-modified">!     Document* document() const override;</span>
<span class="line-modified">!     FrameView* documentFrameView() const override;</span>
<span class="line-modified">!     Frame* frame() const override;</span>
<span class="line-modified">!     Frame* mainFrame() const override;</span>
<span class="line-modified">!     Document* topDocument() const override;</span>
<span class="line-modified">!     ScrollView* scrollViewAncestor() const override;</span>
<span class="line-modified">!     String language() const override;</span>
      // 1-based, to match the aria-level spec.
<span class="line-modified">!     unsigned hierarchicalLevel() const override { return 0; }</span>
<span class="line-modified">!     bool isInlineText() const override;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     void setFocused(bool) override { }</span>
<span class="line-modified">!     void setSelectedText(const String&amp;) override { }</span>
<span class="line-modified">!     void setSelectedTextRange(const PlainTextRange&amp;) override { }</span>
<span class="line-modified">!     void setValue(const String&amp;) override { }</span>
<span class="line-modified">!     bool replaceTextInRange(const String&amp;, const PlainTextRange&amp;) override;</span>
<span class="line-modified">!     bool insertText(const String&amp;) override;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     void setValue(float) override { }</span>
<span class="line-modified">!     void setSelected(bool) override { }</span>
<span class="line-modified">!     void setSelectedRows(AccessibilityChildrenVector&amp;) override { }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     void makeRangeVisible(const PlainTextRange&amp;) override { }</span>
<span class="line-modified">!     bool press() override;</span>
<span class="line-modified">!     bool performDefaultAction() override { return press(); }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     AccessibilityOrientation orientation() const override;</span>
<span class="line-modified">!     void increment() override { }</span>
<span class="line-modified">!     void decrement() override { }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     void childrenChanged() override { }</span>
<span class="line-modified">!     void textChanged() override { }</span>
<span class="line-modified">!     void updateAccessibilityRole() override { }</span>
<span class="line-modified">!     const AccessibilityChildrenVector&amp; children(bool updateChildrenIfNeeded = true) override;</span>
<span class="line-modified">!     void addChildren() override { }</span>
<span class="line-modified">!     void addChild(AXCoreObject*) override;</span>
<span class="line-modified">!     void insertChild(AXCoreObject*, unsigned) override;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     bool shouldIgnoreAttributeRole() const override { return false; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     bool canHaveChildren() const override { return true; }</span>
<span class="line-added">+     bool hasChildren() const override { return m_haveChildren; }</span>
      void updateChildrenIfNecessary() override;
<span class="line-modified">!     void setNeedsToUpdateChildren() override { }</span>
<span class="line-modified">!     void setNeedsToUpdateSubtree() override { }</span>
<span class="line-modified">!     void clearChildren() override;</span>
<span class="line-modified">!     bool needsToUpdateChildren() const override { return false; }</span>
  #if PLATFORM(COCOA)
<span class="line-modified">!     void detachFromParent() override;</span>
  #else
<span class="line-modified">!     void detachFromParent() override { }</span>
  #endif
<span class="line-modified">!     bool isDetachedFromParent() override { return false; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     bool canHaveSelectedChildren() const override { return false; }</span>
<span class="line-modified">!     void selectedChildren(AccessibilityChildrenVector&amp;) override { }</span>
<span class="line-modified">!     void visibleChildren(AccessibilityChildrenVector&amp;) override { }</span>
<span class="line-modified">!     void tabChildren(AccessibilityChildrenVector&amp;) override { }</span>
<span class="line-modified">!     bool shouldFocusActiveDescendant() const override { return false; }</span>
<span class="line-modified">!     AccessibilityObject* activeDescendant() const override { return nullptr; }</span>
<span class="line-modified">!     void handleActiveDescendantChanged() override { }</span>
<span class="line-modified">!     void handleAriaExpandedChanged() override { }</span>
<span class="line-modified">!     bool isDescendantOfObject(const AXCoreObject*) const override;</span>
<span class="line-modified">!     bool isAncestorOfObject(const AXCoreObject*) const override;</span>
<span class="line-modified">!     AccessibilityObject* firstAnonymousBlockChild() const override;</span>
  
      WEBCORE_EXPORT static AccessibilityRole ariaRoleToWebCoreRole(const String&amp;);
<span class="line-modified">!     bool hasAttribute(const QualifiedName&amp;) const override;</span>
<span class="line-modified">!     const AtomString&amp; getAttribute(const QualifiedName&amp;) const override;</span>
<span class="line-modified">!     bool hasTagName(const QualifiedName&amp;) const override;</span>
<span class="line-added">+     String tagName() const override;</span>
  
<span class="line-modified">!     VisiblePositionRange visiblePositionRange() const override { return VisiblePositionRange(); }</span>
<span class="line-modified">!     VisiblePositionRange visiblePositionRangeForLine(unsigned) const override { return VisiblePositionRange(); }</span>
  
<span class="line-modified">!     RefPtr&lt;Range&gt; elementRange() const override;</span>
      static bool replacedNodeNeedsCharacter(Node* replacedNode);
  
<span class="line-modified">!     VisiblePositionRange visiblePositionRangeForUnorderedPositions(const VisiblePosition&amp;, const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePositionRange positionOfLeftWord(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePositionRange positionOfRightWord(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePositionRange leftLineVisiblePositionRange(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePositionRange rightLineVisiblePositionRange(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePositionRange sentenceForPosition(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePositionRange paragraphForPosition(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePositionRange styleRangeForPosition(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePositionRange visiblePositionRangeForRange(const PlainTextRange&amp;) const override;</span>
<span class="line-modified">!     VisiblePositionRange lineRangeForPosition(const VisiblePosition&amp;) const override;</span>
  
<span class="line-modified">!     RefPtr&lt;Range&gt; rangeForPlainTextRange(const PlainTextRange&amp;) const override;</span>
  
      static String stringForVisiblePositionRange(const VisiblePositionRange&amp;);
<span class="line-modified">!     String stringForRange(RefPtr&lt;Range&gt;) const override;</span>
<span class="line-modified">!     IntRect boundsForVisiblePositionRange(const VisiblePositionRange&amp;) const override { return IntRect(); }</span>
<span class="line-modified">!     IntRect boundsForRange(const RefPtr&lt;Range&gt;) const override { return IntRect(); }</span>
<span class="line-modified">!     int lengthForVisiblePositionRange(const VisiblePositionRange&amp;) const override;</span>
<span class="line-modified">!     void setSelectedVisiblePositionRange(const VisiblePositionRange&amp;) const override { }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     VisiblePosition visiblePositionForBounds(const IntRect&amp;, AccessibilityVisiblePositionForBounds) const override;</span>
<span class="line-modified">!     VisiblePosition visiblePositionForPoint(const IntPoint&amp;) const override { return VisiblePosition(); }</span>
<span class="line-modified">!     VisiblePosition nextVisiblePosition(const VisiblePosition&amp; visiblePos) const override { return visiblePos.next(); }</span>
<span class="line-modified">!     VisiblePosition previousVisiblePosition(const VisiblePosition&amp; visiblePos) const override { return visiblePos.previous(); }</span>
<span class="line-modified">!     VisiblePosition nextWordEnd(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePosition previousWordStart(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePosition nextLineEndPosition(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePosition previousLineStartPosition(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePosition nextSentenceEndPosition(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePosition previousSentenceStartPosition(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePosition nextParagraphEndPosition(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePosition previousParagraphStartPosition(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     VisiblePosition visiblePositionForIndex(unsigned, bool /*lastIndexOK */) const override { return VisiblePosition(); }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     VisiblePosition visiblePositionForIndex(int) const override { return VisiblePosition(); }</span>
<span class="line-modified">!     int indexForVisiblePosition(const VisiblePosition&amp;) const override { return 0; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     AccessibilityObject* accessibilityObjectForPosition(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     int lineForPosition(const VisiblePosition&amp;) const override;</span>
<span class="line-modified">!     PlainTextRange plainTextRangeForVisiblePositionRange(const VisiblePositionRange&amp;) const override;</span>
<span class="line-modified">!     int index(const VisiblePosition&amp;) const override { return -1; }</span>
<span class="line-modified">! </span>
<span class="line-modified">!     void lineBreaks(Vector&lt;int&gt;&amp;) const override { }</span>
<span class="line-modified">!     PlainTextRange doAXRangeForLine(unsigned) const override { return PlainTextRange(); }</span>
<span class="line-modified">!     PlainTextRange doAXRangeForPosition(const IntPoint&amp;) const override;</span>
<span class="line-modified">!     PlainTextRange doAXRangeForIndex(unsigned) const override { return PlainTextRange(); }</span>
<span class="line-modified">!     PlainTextRange doAXStyleRangeForIndex(unsigned) const override;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     String doAXStringForRange(const PlainTextRange&amp;) const override { return String(); }</span>
<span class="line-modified">!     IntRect doAXBoundsForRange(const PlainTextRange&amp;) const override { return IntRect(); }</span>
<span class="line-modified">!     IntRect doAXBoundsForRangeUsingCharacterOffset(const PlainTextRange&amp;) const override { return IntRect(); }</span>
      static String listMarkerTextForNodeAndPosition(Node*, const VisiblePosition&amp;);
  
<span class="line-modified">!     unsigned doAXLineForIndex(unsigned) override;</span>
  
<span class="line-modified">!     String computedRoleString() const override;</span>
  
<span class="line-modified">!     String stringValueForMSAA() const override { return String(); }</span>
<span class="line-modified">!     String stringRoleForMSAA() const override { return String(); }</span>
<span class="line-modified">!     String nameForMSAA() const override { return String(); }</span>
<span class="line-modified">!     String descriptionForMSAA() const override { return String(); }</span>
<span class="line-modified">!     AccessibilityRole roleValueForMSAA() const override { return roleValue(); }</span>
  
<span class="line-modified">!     String passwordFieldValue() const override { return String(); }</span>
<span class="line-modified">!     bool isValueAutofilled() const override;</span>
<span class="line-modified">!     bool isValueAutofillAvailable() const override;</span>
<span class="line-modified">!     AutoFillButtonType valueAutofillButtonType() const override;</span>
  
      // Used by an ARIA tree to get all its rows.
<span class="line-modified">!     void ariaTreeRows(AccessibilityChildrenVector&amp;) override;</span>
      // Used by an ARIA tree item to get all of its direct rows that it can disclose.
<span class="line-modified">!     void ariaTreeItemDisclosedRows(AccessibilityChildrenVector&amp;) override;</span>
      // Used by an ARIA tree item to get only its content, and not its child tree items and groups.
<span class="line-modified">!     void ariaTreeItemContent(AccessibilityChildrenVector&amp;) override;</span>
  
      // ARIA live-region features.
<span class="line-modified">!     bool supportsLiveRegion(bool excludeIfOff = true) const override;</span>
<span class="line-modified">!     bool isInsideLiveRegion(bool excludeIfOff = true) const override;</span>
<span class="line-modified">!     AccessibilityObject* liveRegionAncestor(bool excludeIfOff = true) const override;</span>
<span class="line-modified">!     const String liveRegionStatus() const override { return String(); }</span>
<span class="line-modified">!     const String liveRegionRelevant() const override { return nullAtom(); }</span>
<span class="line-modified">!     bool liveRegionAtomic() const override { return false; }</span>
<span class="line-modified">!     bool isBusy() const override { return false; }</span>
      static const String defaultLiveRegionStatusForRole(AccessibilityRole);
      static bool liveRegionStatusIsEnabled(const AtomString&amp;);
      static bool contentEditableAttributeIsEnabled(Element*);
<span class="line-modified">!     bool hasContentEditableAttributeSet() const override;</span>
  
<span class="line-modified">!     bool supportsReadOnly() const override;</span>
<span class="line-modified">!     String readOnlyValue() const override;</span>
  
<span class="line-modified">!     bool supportsAutoComplete() const override;</span>
<span class="line-modified">!     String autoCompleteValue() const override;</span>
  
<span class="line-modified">!     bool hasARIAValueNow() const override { return hasAttribute(HTMLNames::aria_valuenowAttr); }</span>
<span class="line-added">+     bool supportsARIAAttributes() const override;</span>
  
      // CSS3 Speech properties.
<span class="line-modified">!     OptionSet&lt;SpeakAs&gt; speakAsProperty() const override { return OptionSet&lt;SpeakAs&gt; { }; }</span>
  
      // Make this object visible by scrolling as many nested scrollable views as needed.
<span class="line-modified">!     void scrollToMakeVisible() const override;</span>
      // Same, but if the whole object can&#39;t be made visible, try for this subrect, in local coordinates.
<span class="line-modified">!     void scrollToMakeVisibleWithSubFocus(const IntRect&amp;) const override;</span>
      // Scroll this object to a given point in global coordinates of the top-level window.
<span class="line-modified">!     void scrollToGlobalPoint(const IntPoint&amp;) const override;</span>
  
<span class="line-modified">!     bool scrollByPage(ScrollByPageDirection) const override;</span>
<span class="line-modified">!     IntPoint scrollPosition() const override;</span>
<span class="line-modified">!     IntSize scrollContentsSize() const override;</span>
<span class="line-modified">!     IntRect scrollVisibleContentRect() const override;</span>
<span class="line-modified">!     void scrollToMakeVisible(const ScrollRectToVisibleOptions&amp;) const override;</span>
  
<span class="line-modified">!     bool lastKnownIsIgnoredValue() override;</span>
<span class="line-modified">!     void setLastKnownIsIgnoredValue(bool) override;</span>
  
      // Fires a children changed notification on the parent if the isIgnored value changed.
<span class="line-modified">!     void notifyIfIgnoredValueChanged() override;</span>
  
      // All math elements return true for isMathElement().
<span class="line-modified">!     bool isMathElement() const override { return false; }</span>
<span class="line-modified">!     bool isMathFraction() const override { return false; }</span>
<span class="line-modified">!     bool isMathFenced() const override { return false; }</span>
<span class="line-modified">!     bool isMathSubscriptSuperscript() const override { return false; }</span>
<span class="line-modified">!     bool isMathRow() const override { return false; }</span>
<span class="line-modified">!     bool isMathUnderOver() const override { return false; }</span>
<span class="line-modified">!     bool isMathRoot() const override { return false; }</span>
<span class="line-modified">!     bool isMathSquareRoot() const override { return false; }</span>
<span class="line-modified">!     bool isMathText() const override { return false; }</span>
<span class="line-modified">!     bool isMathNumber() const override { return false; }</span>
<span class="line-modified">!     bool isMathOperator() const override { return false; }</span>
<span class="line-modified">!     bool isMathFenceOperator() const override { return false; }</span>
<span class="line-modified">!     bool isMathSeparatorOperator() const override { return false; }</span>
<span class="line-modified">!     bool isMathIdentifier() const override { return false; }</span>
<span class="line-modified">!     bool isMathTable() const override { return false; }</span>
<span class="line-modified">!     bool isMathTableRow() const override { return false; }</span>
<span class="line-modified">!     bool isMathTableCell() const override { return false; }</span>
<span class="line-modified">!     bool isMathMultiscript() const override { return false; }</span>
<span class="line-modified">!     bool isMathToken() const override { return false; }</span>
<span class="line-modified">!     bool isMathScriptObject(AccessibilityMathScriptObjectType) const override { return false; }</span>
<span class="line-modified">!     bool isMathMultiscriptObject(AccessibilityMathMultiscriptObjectType) const override { return false; }</span>
  
      // Root components.
<span class="line-modified">!     AXCoreObject* mathRadicandObject() override { return nullptr; }</span>
<span class="line-modified">!     AXCoreObject* mathRootIndexObject() override { return nullptr; }</span>
  
      // Under over components.
<span class="line-modified">!     AXCoreObject* mathUnderObject() override { return nullptr; }</span>
<span class="line-modified">!     AXCoreObject* mathOverObject() override { return nullptr; }</span>
  
      // Fraction components.
<span class="line-modified">!     AXCoreObject* mathNumeratorObject() override { return nullptr; }</span>
<span class="line-modified">!     AXCoreObject* mathDenominatorObject() override { return nullptr; }</span>
  
      // Subscript/superscript components.
<span class="line-modified">!     AXCoreObject* mathBaseObject() override { return nullptr; }</span>
<span class="line-modified">!     AXCoreObject* mathSubscriptObject() override { return nullptr; }</span>
<span class="line-modified">!     AXCoreObject* mathSuperscriptObject() override { return nullptr; }</span>
  
      // Fenced components.
<span class="line-modified">!     String mathFencedOpenString() const override { return String(); }</span>
<span class="line-modified">!     String mathFencedCloseString() const override { return String(); }</span>
<span class="line-modified">!     int mathLineThickness() const override { return 0; }</span>
<span class="line-modified">!     bool isAnonymousMathOperator() const override { return false; }</span>
  
      // Multiscripts components.
<span class="line-modified">!     void mathPrescripts(AccessibilityMathMultiscriptPairs&amp;) override { }</span>
<span class="line-modified">!     void mathPostscripts(AccessibilityMathMultiscriptPairs&amp;) override { }</span>
  
      // Visibility.
<span class="line-modified">!     bool isAXHidden() const override;</span>
<span class="line-modified">!     bool isDOMHidden() const override;</span>
<span class="line-modified">!     bool isHidden() const override { return isAXHidden() || isDOMHidden(); }</span>
  
  #if PLATFORM(COCOA)
<span class="line-modified">!     void overrideAttachmentParent(AXCoreObject* parent) override;</span>
  #else
<span class="line-modified">!     void overrideAttachmentParent(AXCoreObject*) override { }</span>
  #endif
  
  #if ENABLE(ACCESSIBILITY)
      // a platform-specific method for determining if an attachment is ignored
<span class="line-modified">!     bool accessibilityIgnoreAttachment() const override;</span>
      // gives platforms the opportunity to indicate if and how an object should be included
<span class="line-modified">!     AccessibilityObjectInclusion accessibilityPlatformIncludesObject() const override;</span>
  #else
<span class="line-modified">!     bool accessibilityIgnoreAttachment() const override { return true; }</span>
<span class="line-modified">!     AccessibilityObjectInclusion accessibilityPlatformIncludesObject() const override { return AccessibilityObjectInclusion::DefaultBehavior; }</span>
  #endif
  
  #if PLATFORM(IOS_FAMILY)
<span class="line-modified">!     int accessibilityPasswordFieldLength() override;</span>
<span class="line-modified">!     bool hasTouchEventListener() const override;</span>
<span class="line-modified">!     bool isInputTypePopupButton() const override;</span>
  #endif
  
      // allows for an AccessibilityObject to update its render tree or perform
      // other operations update type operations
<span class="line-modified">!     void updateBackingStore() override;</span>
  
  #if PLATFORM(COCOA)
<span class="line-modified">!     bool preventKeyboardDOMEventDispatch() const override;</span>
<span class="line-modified">!     void setPreventKeyboardDOMEventDispatch(bool) override;</span>
<span class="line-modified">!     bool fileUploadButtonReturnsValueInTitle() const override;</span>
      String speechHintAttributeValue() const override;
      String descriptionAttributeValue() const override;
      String helpTextAttributeValue() const override;
      String titleAttributeValue() const override;
<span class="line-added">+     bool hasApplePDFAnnotationAttribute() const override { return hasAttribute(HTMLNames::x_apple_pdf_annotationAttr); }</span>
  #endif
  
  #if PLATFORM(COCOA) &amp;&amp; !PLATFORM(IOS_FAMILY)
<span class="line-modified">!     bool caretBrowsingEnabled() const override;</span>
<span class="line-modified">!     void setCaretBrowsingEnabled(bool) override;</span>
  #endif
  
<span class="line-modified">!     AccessibilityObject* focusableAncestor() override;</span>
<span class="line-modified">!     AccessibilityObject* editableAncestor() override;</span>
<span class="line-modified">!     AccessibilityObject* highestEditableAncestor() override;</span>
  
<span class="line-modified">!     const AccessibilityScrollView* ancestorAccessibilityScrollView(bool includeSelf) const override;</span>
  
<span class="line-modified">!     void clearIsIgnoredFromParentData() override { m_isIgnoredFromParentData = AccessibilityIsIgnoredFromParentData(); }</span>
<span class="line-modified">!     void setIsIgnoredFromParentDataForChild(AXCoreObject*) override;</span>
<span class="line-added">+ </span>
<span class="line-added">+     uint64_t sessionID() const override;</span>
<span class="line-added">+     String documentURI() const override;</span>
<span class="line-added">+     String documentEncoding() const override;</span>
  
  protected:
<span class="line-added">+     AccessibilityObject() = default;</span>
<span class="line-added">+     void detachRemoteParts(AccessibilityDetachmentType) override;</span>
<span class="line-added">+     void detachPlatformWrapper(AccessibilityDetachmentType) override;</span>
<span class="line-added">+ </span>
      AXID m_id { 0 };
      AccessibilityChildrenVector m_children;
      mutable bool m_haveChildren { false };
      AccessibilityRole m_role { AccessibilityRole::Unknown };
      AccessibilityObjectInclusion m_lastKnownIsIgnoredValue { AccessibilityObjectInclusion::DefaultBehavior };
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1019,27 ***</span>
      bool m_subtreeDirty { false };
  #if ENABLE(ACCESSIBILITY_ISOLATED_TREE)
      bool m_isolatedTreeNodeInitialized { false };
  #endif
  
<span class="line-modified">!     void setIsIgnoredFromParentData(AccessibilityIsIgnoredFromParentData&amp; data) { m_isIgnoredFromParentData = data; }</span>
  
      virtual bool computeAccessibilityIsIgnored() const { return true; }
      bool isAccessibilityObject() const override { return true; }
  
      // If this object itself scrolls, return its ScrollableArea.
      virtual ScrollableArea* getScrollableAreaIfScrollable() const { return nullptr; }
      virtual void scrollTo(const IntPoint&amp;) const { }
      ScrollableArea* scrollableAreaAncestor() const;
      void scrollAreaAndAncestor(std::pair&lt;ScrollableArea*, AccessibilityObject*&gt;&amp;) const;
  
<span class="line-removed">-     static bool isAccessibilityObjectSearchMatchAtIndex(AccessibilityObject*, AccessibilitySearchCriteria*, size_t);</span>
<span class="line-removed">-     static bool isAccessibilityObjectSearchMatch(AccessibilityObject*, AccessibilitySearchCriteria*);</span>
<span class="line-removed">-     static bool isAccessibilityTextSearchMatch(AccessibilityObject*, AccessibilitySearchCriteria*);</span>
<span class="line-removed">-     static bool objectMatchesSearchCriteriaWithResultLimit(AccessibilityObject*, AccessibilitySearchCriteria*, AccessibilityChildrenVector&amp;);</span>
      virtual AccessibilityRole buttonRoleType() const;
<span class="line-modified">!     bool isOnscreen() const;</span>
      bool dispatchTouchEvent();
  
      void ariaElementsFromAttribute(AccessibilityChildrenVector&amp;, const QualifiedName&amp;) const;
      void ariaElementsReferencedByAttribute(AccessibilityChildrenVector&amp;, const QualifiedName&amp;) const;
  
<span class="line-new-header">--- 744,24 ---</span>
      bool m_subtreeDirty { false };
  #if ENABLE(ACCESSIBILITY_ISOLATED_TREE)
      bool m_isolatedTreeNodeInitialized { false };
  #endif
  
<span class="line-modified">!     void setIsIgnoredFromParentData(AccessibilityIsIgnoredFromParentData&amp; data) override { m_isIgnoredFromParentData = data; }</span>
  
      virtual bool computeAccessibilityIsIgnored() const { return true; }
      bool isAccessibilityObject() const override { return true; }
  
      // If this object itself scrolls, return its ScrollableArea.
      virtual ScrollableArea* getScrollableAreaIfScrollable() const { return nullptr; }
      virtual void scrollTo(const IntPoint&amp;) const { }
      ScrollableArea* scrollableAreaAncestor() const;
      void scrollAreaAndAncestor(std::pair&lt;ScrollableArea*, AccessibilityObject*&gt;&amp;) const;
  
      virtual AccessibilityRole buttonRoleType() const;
<span class="line-modified">!     String rolePlatformDescription() const;</span>
<span class="line-added">+     bool isOnScreen() const override;</span>
      bool dispatchTouchEvent();
  
      void ariaElementsFromAttribute(AccessibilityChildrenVector&amp;, const QualifiedName&amp;) const;
      void ariaElementsReferencedByAttribute(AccessibilityChildrenVector&amp;, const QualifiedName&amp;) const;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1050,34 ***</span>
      unsigned getLengthForTextRange() const;
  #else
      bool allowsTextRanges() const { return isTextControl(); }
      unsigned getLengthForTextRange() const { return text().length(); }
  #endif
<span class="line-removed">- </span>
<span class="line-removed">- #if PLATFORM(COCOA)</span>
<span class="line-removed">-     RetainPtr&lt;WebAccessibilityObjectWrapper&gt; m_wrapper;</span>
<span class="line-removed">- #elif PLATFORM(WIN)</span>
<span class="line-removed">-     COMPtr&lt;AccessibilityObjectWrapper&gt; m_wrapper;</span>
<span class="line-removed">- #elif USE(ATK)</span>
<span class="line-removed">-     GRefPtr&lt;WebKitAccessible&gt; m_wrapper;</span>
<span class="line-removed">- #endif</span>
  };
  
  #if !ENABLE(ACCESSIBILITY)
  inline const AccessibilityObject::AccessibilityChildrenVector&amp; AccessibilityObject::children(bool) { return m_children; }
<span class="line-modified">! inline const String&amp; AccessibilityObject::actionVerb() const { return emptyString(); }</span>
  inline int AccessibilityObject::lineForPosition(const VisiblePosition&amp;) const { return -1; }
  inline void AccessibilityObject::updateBackingStore() { }
  #endif
  
  AccessibilityObject* firstAccessibleObjectFromNode(const Node*, const WTF::Function&lt;bool(const AccessibilityObject&amp;)&gt;&amp; isAccessible);
  
  } // namespace WebCore
  
  #define SPECIALIZE_TYPE_TRAITS_ACCESSIBILITY(ToValueTypeName, predicate) \
  SPECIALIZE_TYPE_TRAITS_BEGIN(WebCore::ToValueTypeName) \
<span class="line-modified">!     static bool isType(const WebCore::AccessibilityObject&amp; object) { return object.predicate; } \</span>
  SPECIALIZE_TYPE_TRAITS_END()
  
  SPECIALIZE_TYPE_TRAITS_BEGIN(WebCore::AccessibilityObject)
<span class="line-modified">! static bool isType(const WebCore::AccessibilityObjectInterface&amp; context) { return context.isAccessibilityObject(); }</span>
  SPECIALIZE_TYPE_TRAITS_END()
<span class="line-new-header">--- 772,36 ---</span>
      unsigned getLengthForTextRange() const;
  #else
      bool allowsTextRanges() const { return isTextControl(); }
      unsigned getLengthForTextRange() const { return text().length(); }
  #endif
  };
  
  #if !ENABLE(ACCESSIBILITY)
  inline const AccessibilityObject::AccessibilityChildrenVector&amp; AccessibilityObject::children(bool) { return m_children; }
<span class="line-modified">! inline String AccessibilityObject::actionVerb() const { return emptyString(); }</span>
  inline int AccessibilityObject::lineForPosition(const VisiblePosition&amp;) const { return -1; }
  inline void AccessibilityObject::updateBackingStore() { }
<span class="line-added">+ inline void AccessibilityObject::detachPlatformWrapper(AccessibilityDetachmentType) { }</span>
  #endif
  
  AccessibilityObject* firstAccessibleObjectFromNode(const Node*, const WTF::Function&lt;bool(const AccessibilityObject&amp;)&gt;&amp; isAccessible);
  
<span class="line-added">+ namespace Accessibility {</span>
<span class="line-added">+ </span>
<span class="line-added">+ using PlatformRoleMap = HashMap&lt;AccessibilityRole, String, DefaultHash&lt;unsigned&gt;::Hash, WTF::UnsignedWithZeroKeyHashTraits&lt;unsigned&gt;&gt;;</span>
<span class="line-added">+ </span>
<span class="line-added">+ PlatformRoleMap createPlatformRoleMap();</span>
<span class="line-added">+ String roleToPlatformString(AccessibilityRole);</span>
<span class="line-added">+ </span>
<span class="line-added">+ } // namespace Accessibility</span>
<span class="line-added">+ </span>
  } // namespace WebCore
  
  #define SPECIALIZE_TYPE_TRAITS_ACCESSIBILITY(ToValueTypeName, predicate) \
  SPECIALIZE_TYPE_TRAITS_BEGIN(WebCore::ToValueTypeName) \
<span class="line-modified">!     static bool isType(const WebCore::AXCoreObject&amp; object) { return object.predicate; } \</span>
  SPECIALIZE_TYPE_TRAITS_END()
  
  SPECIALIZE_TYPE_TRAITS_BEGIN(WebCore::AccessibilityObject)
<span class="line-modified">! static bool isType(const WebCore::AXCoreObject&amp; context) { return context.isAccessibilityObject(); }</span>
  SPECIALIZE_TYPE_TRAITS_END()
</pre>
<center><a href="AccessibilityObject.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="AccessibilityObjectInterface.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>