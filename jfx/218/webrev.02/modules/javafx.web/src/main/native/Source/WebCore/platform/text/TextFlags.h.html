<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New modules/javafx.web/src/main/native/Source/WebCore/platform/text/TextFlags.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (C) 2003, 2006, 2017 Apple Inc.  All rights reserved.
  3  *
  4  * Redistribution and use in source and binary forms, with or without
  5  * modification, are permitted provided that the following conditions
  6  * are met:
  7  * 1. Redistributions of source code must retain the above copyright
  8  *    notice, this list of conditions and the following disclaimer.
  9  * 2. Redistributions in binary form must reproduce the above copyright
 10  *    notice, this list of conditions and the following disclaimer in the
 11  *    documentation and/or other materials provided with the distribution.
 12  *
 13  * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS&#39;&#39; AND ANY
 14  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 15  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 16  * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR
 17  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 18  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 19  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 20  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 21  * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 22  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 23  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 24  */
 25 
 26 #pragma once
 27 
 28 #include &lt;wtf/EnumTraits.h&gt;
 29 #include &lt;wtf/Optional.h&gt;
 30 
 31 namespace WebCore {
 32 
 33 enum class TextRenderingMode : uint8_t {
 34     AutoTextRendering,
 35     OptimizeSpeed,
 36     OptimizeLegibility,
 37     GeometricPrecision
 38 };
 39 
 40 enum class FontSmoothingMode : uint8_t {
 41     AutoSmoothing,
 42     NoSmoothing,
 43     Antialiased,
 44     SubpixelAntialiased
 45 };
 46 
 47 // This setting is used to provide ways of switching between multiple rendering modes that may have different
 48 // metrics. It is used to switch between CG and GDI text on Windows.
 49 enum class FontRenderingMode : uint8_t {
 50     Normal,
 51     Alternate
 52 };
 53 
 54 enum class FontOrientation : uint8_t {
 55     Horizontal,
 56     Vertical
 57 };
 58 
 59 enum class NonCJKGlyphOrientation : uint8_t {
 60     Mixed,
 61     Upright
 62 };
 63 
 64 // Here, &quot;Leading&quot; and &quot;Trailing&quot; are relevant after the line has been rearranged for bidi.
 65 // (&quot;Leading&quot; means &quot;left&quot; and &quot;Trailing&quot; means &quot;right.&quot;)
 66 enum ExpansionBehaviorFlags {
 67     ForbidTrailingExpansion = 0 &lt;&lt; 0,
 68     AllowTrailingExpansion = 1 &lt;&lt; 0,
 69     ForceTrailingExpansion = 2 &lt;&lt; 0,
 70     TrailingExpansionMask = 3 &lt;&lt; 0,
 71 
 72     ForbidLeadingExpansion = 0 &lt;&lt; 2,
 73     AllowLeadingExpansion = 1 &lt;&lt; 2,
 74     ForceLeadingExpansion = 2 &lt;&lt; 2,
 75     LeadingExpansionMask = 3 &lt;&lt; 2,
 76 
 77     DefaultExpansion = AllowTrailingExpansion | ForbidLeadingExpansion,
 78 };
 79 typedef unsigned ExpansionBehavior;
 80 
 81 enum FontSynthesisValues {
 82     FontSynthesisNone = 0x0,
 83     FontSynthesisWeight = 0x1,
 84     FontSynthesisStyle = 0x2,
 85     FontSynthesisSmallCaps = 0x4
 86 };
 87 typedef unsigned FontSynthesis;
 88 const unsigned FontSynthesisWidth = 3;
 89 
 90 enum class FontVariantLigatures : uint8_t {
 91     Normal,
 92     Yes,
 93     No
 94 };
 95 
 96 enum class FontVariantPosition : uint8_t {
 97     Normal,
 98     Subscript,
 99     Superscript
100 };
101 
102 enum class FontVariantCaps : uint8_t {
103     Normal,
104     Small,
105     AllSmall,
106     Petite,
107     AllPetite,
108     Unicase,
109     Titling
110 };
111 
112 enum class FontVariantNumericFigure : uint8_t {
113     Normal,
114     LiningNumbers,
115     OldStyleNumbers
116 };
117 
118 enum class FontVariantNumericSpacing : uint8_t {
119     Normal,
120     ProportionalNumbers,
121     TabularNumbers
122 };
123 
124 enum class FontVariantNumericFraction : uint8_t {
125     Normal,
126     DiagonalFractions,
127     StackedFractions
128 };
129 
130 enum class FontVariantNumericOrdinal : uint8_t {
131     Normal,
132     Yes
133 };
134 
135 enum class FontVariantNumericSlashedZero : uint8_t {
136     Normal,
137     Yes
138 };
139 
140 enum class FontVariantAlternates : uint8_t {
141     Normal,
142     HistoricalForms
143 };
144 
145 enum class FontVariantEastAsianVariant : uint8_t {
146     Normal,
147     Jis78,
148     Jis83,
149     Jis90,
150     Jis04,
151     Simplified,
152     Traditional
153 };
154 
155 enum class FontVariantEastAsianWidth : uint8_t {
156     Normal,
157     Full,
158     Proportional
159 };
160 
161 enum class FontVariantEastAsianRuby : uint8_t {
162     Normal,
163     Yes
164 };
165 
166 struct FontVariantSettings {
167     FontVariantSettings()
168         : commonLigatures(FontVariantLigatures::Normal)
169         , discretionaryLigatures(FontVariantLigatures::Normal)
170         , historicalLigatures(FontVariantLigatures::Normal)
171         , contextualAlternates(FontVariantLigatures::Normal)
172         , position(FontVariantPosition::Normal)
173         , caps(FontVariantCaps::Normal)
174         , numericFigure(FontVariantNumericFigure::Normal)
175         , numericSpacing(FontVariantNumericSpacing::Normal)
176         , numericFraction(FontVariantNumericFraction::Normal)
177         , numericOrdinal(FontVariantNumericOrdinal::Normal)
178         , numericSlashedZero(FontVariantNumericSlashedZero::Normal)
179         , alternates(FontVariantAlternates::Normal)
180         , eastAsianVariant(FontVariantEastAsianVariant::Normal)
181         , eastAsianWidth(FontVariantEastAsianWidth::Normal)
182         , eastAsianRuby(FontVariantEastAsianRuby::Normal)
183     {
184     }
185 
186     FontVariantSettings(
187         FontVariantLigatures commonLigatures,
188         FontVariantLigatures discretionaryLigatures,
189         FontVariantLigatures historicalLigatures,
190         FontVariantLigatures contextualAlternates,
191         FontVariantPosition position,
192         FontVariantCaps caps,
193         FontVariantNumericFigure numericFigure,
194         FontVariantNumericSpacing numericSpacing,
195         FontVariantNumericFraction numericFraction,
196         FontVariantNumericOrdinal numericOrdinal,
197         FontVariantNumericSlashedZero numericSlashedZero,
198         FontVariantAlternates alternates,
199         FontVariantEastAsianVariant eastAsianVariant,
200         FontVariantEastAsianWidth eastAsianWidth,
201         FontVariantEastAsianRuby eastAsianRuby)
202             : commonLigatures(commonLigatures)
203             , discretionaryLigatures(discretionaryLigatures)
204             , historicalLigatures(historicalLigatures)
205             , contextualAlternates(contextualAlternates)
206             , position(position)
207             , caps(caps)
208             , numericFigure(numericFigure)
209             , numericSpacing(numericSpacing)
210             , numericFraction(numericFraction)
211             , numericOrdinal(numericOrdinal)
212             , numericSlashedZero(numericSlashedZero)
213             , alternates(alternates)
214             , eastAsianVariant(eastAsianVariant)
215             , eastAsianWidth(eastAsianWidth)
216             , eastAsianRuby(eastAsianRuby)
217     {
218     }
219 
220     bool isAllNormal() const
221     {
222         return commonLigatures == FontVariantLigatures::Normal
223             &amp;&amp; discretionaryLigatures == FontVariantLigatures::Normal
224             &amp;&amp; historicalLigatures == FontVariantLigatures::Normal
225             &amp;&amp; contextualAlternates == FontVariantLigatures::Normal
226             &amp;&amp; position == FontVariantPosition::Normal
227             &amp;&amp; caps == FontVariantCaps::Normal
228             &amp;&amp; numericFigure == FontVariantNumericFigure::Normal
229             &amp;&amp; numericSpacing == FontVariantNumericSpacing::Normal
230             &amp;&amp; numericFraction == FontVariantNumericFraction::Normal
231             &amp;&amp; numericOrdinal == FontVariantNumericOrdinal::Normal
232             &amp;&amp; numericSlashedZero == FontVariantNumericSlashedZero::Normal
233             &amp;&amp; alternates == FontVariantAlternates::Normal
234             &amp;&amp; eastAsianVariant == FontVariantEastAsianVariant::Normal
235             &amp;&amp; eastAsianWidth == FontVariantEastAsianWidth::Normal
236             &amp;&amp; eastAsianRuby == FontVariantEastAsianRuby::Normal;
237     }
238 
239     bool operator==(const FontVariantSettings&amp; other) const
240     {
241         return commonLigatures == other.commonLigatures
242             &amp;&amp; discretionaryLigatures == other.discretionaryLigatures
243             &amp;&amp; historicalLigatures == other.historicalLigatures
244             &amp;&amp; contextualAlternates == other.contextualAlternates
245             &amp;&amp; position == other.position
246             &amp;&amp; caps == other.caps
247             &amp;&amp; numericFigure == other.numericFigure
248             &amp;&amp; numericSpacing == other.numericSpacing
249             &amp;&amp; numericFraction == other.numericFraction
250             &amp;&amp; numericOrdinal == other.numericOrdinal
251             &amp;&amp; numericSlashedZero == other.numericSlashedZero
252             &amp;&amp; alternates == other.alternates
253             &amp;&amp; eastAsianVariant == other.eastAsianVariant
254             &amp;&amp; eastAsianWidth == other.eastAsianWidth
255             &amp;&amp; eastAsianRuby == other.eastAsianRuby;
256     }
257 
258     bool operator!=(const FontVariantSettings&amp; other) const { return !(*this == other); }
259 
260     unsigned uniqueValue() const
261     {
262         return static_cast&lt;unsigned&gt;(commonLigatures) &lt;&lt; 26
263             | static_cast&lt;unsigned&gt;(discretionaryLigatures) &lt;&lt; 24
264             | static_cast&lt;unsigned&gt;(historicalLigatures) &lt;&lt; 22
265             | static_cast&lt;unsigned&gt;(contextualAlternates) &lt;&lt; 20
266             | static_cast&lt;unsigned&gt;(position) &lt;&lt; 18
267             | static_cast&lt;unsigned&gt;(caps) &lt;&lt; 15
268             | static_cast&lt;unsigned&gt;(numericFigure) &lt;&lt; 13
269             | static_cast&lt;unsigned&gt;(numericSpacing) &lt;&lt; 11
270             | static_cast&lt;unsigned&gt;(numericFraction) &lt;&lt; 9
271             | static_cast&lt;unsigned&gt;(numericOrdinal) &lt;&lt; 8
272             | static_cast&lt;unsigned&gt;(numericSlashedZero) &lt;&lt; 7
273             | static_cast&lt;unsigned&gt;(alternates) &lt;&lt; 6
274             | static_cast&lt;unsigned&gt;(eastAsianVariant) &lt;&lt; 3
275             | static_cast&lt;unsigned&gt;(eastAsianWidth) &lt;&lt; 1
276             | static_cast&lt;unsigned&gt;(eastAsianRuby) &lt;&lt; 0;
277     }
278 
279     template&lt;class Encoder&gt; void encode(Encoder&amp;) const;
280     template&lt;class Decoder&gt; static Optional&lt;FontVariantSettings&gt; decode(Decoder&amp;);
281 
282     // FIXME: this would be much more compact with bitfields.
283     FontVariantLigatures commonLigatures;
284     FontVariantLigatures discretionaryLigatures;
285     FontVariantLigatures historicalLigatures;
286     FontVariantLigatures contextualAlternates;
287     FontVariantPosition position;
288     FontVariantCaps caps;
289     FontVariantNumericFigure numericFigure;
290     FontVariantNumericSpacing numericSpacing;
291     FontVariantNumericFraction numericFraction;
292     FontVariantNumericOrdinal numericOrdinal;
293     FontVariantNumericSlashedZero numericSlashedZero;
294     FontVariantAlternates alternates;
295     FontVariantEastAsianVariant eastAsianVariant;
296     FontVariantEastAsianWidth eastAsianWidth;
297     FontVariantEastAsianRuby eastAsianRuby;
298 };
299 
300 template&lt;class Encoder&gt;
301 void FontVariantSettings::encode(Encoder&amp; encoder) const
302 {
303     encoder &lt;&lt; commonLigatures;
304     encoder &lt;&lt; discretionaryLigatures;
305     encoder &lt;&lt; historicalLigatures;
306     encoder &lt;&lt; contextualAlternates;
307     encoder &lt;&lt; position;
308     encoder &lt;&lt; caps;
309     encoder &lt;&lt; numericFigure;
310     encoder &lt;&lt; numericSpacing;
311     encoder &lt;&lt; numericFraction;
312     encoder &lt;&lt; numericOrdinal;
313     encoder &lt;&lt; numericSlashedZero;
314     encoder &lt;&lt; alternates;
315     encoder &lt;&lt; eastAsianVariant;
316     encoder &lt;&lt; eastAsianWidth;
317     encoder &lt;&lt; eastAsianRuby;
318 }
319 
320 template&lt;class Decoder&gt;
321 Optional&lt;FontVariantSettings&gt; FontVariantSettings::decode(Decoder&amp; decoder)
322 {
323     Optional&lt;FontVariantLigatures&gt; commonLigatures;
324     decoder &gt;&gt; commonLigatures;
325     if (!commonLigatures)
326         return WTF::nullopt;
327 
328     Optional&lt;FontVariantLigatures&gt; discretionaryLigatures;
329     decoder &gt;&gt; discretionaryLigatures;
330     if (!discretionaryLigatures)
331         return WTF::nullopt;
332 
333     Optional&lt;FontVariantLigatures&gt; historicalLigatures;
334     decoder &gt;&gt; historicalLigatures;
335     if (!historicalLigatures)
336         return WTF::nullopt;
337 
338     Optional&lt;FontVariantLigatures&gt; contextualAlternates;
339     decoder &gt;&gt; contextualAlternates;
340     if (!contextualAlternates)
341         return WTF::nullopt;
342 
343     Optional&lt;FontVariantPosition&gt; position;
344     decoder &gt;&gt; position;
345     if (!position)
346         return WTF::nullopt;
347 
348     Optional&lt;FontVariantCaps&gt; caps;
349     decoder &gt;&gt; caps;
350     if (!caps)
351         return WTF::nullopt;
352 
353     Optional&lt;FontVariantNumericFigure&gt; numericFigure;
354     decoder &gt;&gt; numericFigure;
355     if (!numericFigure)
356         return WTF::nullopt;
357 
358     Optional&lt;FontVariantNumericSpacing&gt; numericSpacing;
359     decoder &gt;&gt; numericSpacing;
360     if (!numericSpacing)
361         return WTF::nullopt;
362 
363     Optional&lt;FontVariantNumericFraction&gt; numericFraction;
364     decoder &gt;&gt; numericFraction;
365     if (!numericFraction)
366         return WTF::nullopt;
367 
368     Optional&lt;FontVariantNumericOrdinal&gt; numericOrdinal;
369     decoder &gt;&gt; numericOrdinal;
370     if (!numericOrdinal)
371         return WTF::nullopt;
372 
373     Optional&lt;FontVariantNumericSlashedZero&gt; numericSlashedZero;
374     decoder &gt;&gt; numericSlashedZero;
375     if (!numericSlashedZero)
376         return WTF::nullopt;
377 
378     Optional&lt;FontVariantAlternates&gt; alternates;
379     decoder &gt;&gt; alternates;
380     if (!alternates)
381         return WTF::nullopt;
382 
383     Optional&lt;FontVariantEastAsianVariant&gt; eastAsianVariant;
384     decoder &gt;&gt; eastAsianVariant;
385     if (!eastAsianVariant)
386         return WTF::nullopt;
387 
388     Optional&lt;FontVariantEastAsianWidth&gt; eastAsianWidth;
389     decoder &gt;&gt; eastAsianWidth;
390     if (!eastAsianWidth)
391         return WTF::nullopt;
392 
393     Optional&lt;FontVariantEastAsianRuby&gt; eastAsianRuby;
394     decoder &gt;&gt; eastAsianRuby;
395     if (!eastAsianRuby)
396         return WTF::nullopt;
397 
398     return {{
399         *commonLigatures,
400         *discretionaryLigatures,
401         *historicalLigatures,
402         *contextualAlternates,
403         *position,
404         *caps,
405         *numericFigure,
406         *numericSpacing,
407         *numericFraction,
408         *numericOrdinal,
409         *numericSlashedZero,
410         *alternates,
411         *eastAsianVariant,
412         *eastAsianWidth,
413         *eastAsianRuby
414     }};
415 }
416 
417 struct FontVariantLigaturesValues {
418     FontVariantLigaturesValues(
419         FontVariantLigatures commonLigatures,
420         FontVariantLigatures discretionaryLigatures,
421         FontVariantLigatures historicalLigatures,
422         FontVariantLigatures contextualAlternates)
423             : commonLigatures(commonLigatures)
424             , discretionaryLigatures(discretionaryLigatures)
425             , historicalLigatures(historicalLigatures)
426             , contextualAlternates(contextualAlternates)
427     {
428     }
429 
430     template&lt;class Encoder&gt; void encode(Encoder&amp;) const;
431     template&lt;class Decoder&gt; static Optional&lt;FontVariantLigaturesValues&gt; decode(Decoder&amp;);
432 
433     FontVariantLigatures commonLigatures;
434     FontVariantLigatures discretionaryLigatures;
435     FontVariantLigatures historicalLigatures;
436     FontVariantLigatures contextualAlternates;
437 };
438 
439 template&lt;class Encoder&gt;
440 void FontVariantLigaturesValues::encode(Encoder&amp; encoder) const
441 {
442     encoder &lt;&lt; commonLigatures;
443     encoder &lt;&lt; discretionaryLigatures;
444     encoder &lt;&lt; historicalLigatures;
445     encoder &lt;&lt; contextualAlternates;
446 }
447 
448 template&lt;class Decoder&gt;
449 Optional&lt;FontVariantLigaturesValues&gt; FontVariantLigaturesValues::decode(Decoder&amp; decoder)
450 {
451     Optional&lt;FontVariantLigatures&gt; commonLigatures;
452     decoder &gt;&gt; commonLigatures;
453     if (!commonLigatures)
454         return WTF::nullopt;
455 
456     Optional&lt;FontVariantLigatures&gt; discretionaryLigatures;
457     decoder &gt;&gt; discretionaryLigatures;
458     if (!discretionaryLigatures)
459         return WTF::nullopt;
460 
461     Optional&lt;FontVariantLigatures&gt; historicalLigatures;
462     decoder &gt;&gt; historicalLigatures;
463     if (!historicalLigatures)
464         return WTF::nullopt;
465 
466     Optional&lt;FontVariantLigatures&gt; contextualAlternates;
467     decoder &gt;&gt; contextualAlternates;
468     if (!contextualAlternates)
469         return WTF::nullopt;
470 
471     return {{ *commonLigatures, *discretionaryLigatures, *historicalLigatures, *contextualAlternates }};
472 }
473 
474 struct FontVariantNumericValues {
475     FontVariantNumericValues(
476         FontVariantNumericFigure figure,
477         FontVariantNumericSpacing spacing,
478         FontVariantNumericFraction fraction,
479         FontVariantNumericOrdinal ordinal,
480         FontVariantNumericSlashedZero slashedZero)
481             : figure(figure)
482             , spacing(spacing)
483             , fraction(fraction)
484             , ordinal(ordinal)
485             , slashedZero(slashedZero)
486     {
487     }
488 
489     template&lt;class Encoder&gt; void encode(Encoder&amp;) const;
490     template&lt;class Decoder&gt; static Optional&lt;FontVariantNumericValues&gt; decode(Decoder&amp;);
491 
492     FontVariantNumericFigure figure;
493     FontVariantNumericSpacing spacing;
494     FontVariantNumericFraction fraction;
495     FontVariantNumericOrdinal ordinal;
496     FontVariantNumericSlashedZero slashedZero;
497 };
498 
499 template&lt;class Encoder&gt;
500 void FontVariantNumericValues::encode(Encoder&amp; encoder) const
501 {
502     encoder &lt;&lt; figure;
503     encoder &lt;&lt; spacing;
504     encoder &lt;&lt; fraction;
505     encoder &lt;&lt; ordinal;
506     encoder &lt;&lt; slashedZero;
507 }
508 
509 template&lt;class Decoder&gt;
510 Optional&lt;FontVariantNumericValues&gt; FontVariantNumericValues::decode(Decoder&amp; decoder)
511 {
512     Optional&lt;FontVariantNumericFigure&gt; figure;
513     decoder &gt;&gt; figure;
514     if (!figure)
515         return WTF::nullopt;
516 
517     Optional&lt;FontVariantNumericSpacing&gt; spacing;
518     decoder &gt;&gt; spacing;
519     if (!spacing)
520         return WTF::nullopt;
521 
522     Optional&lt;FontVariantNumericFraction&gt; fraction;
523     decoder &gt;&gt; fraction;
524     if (!fraction)
525         return WTF::nullopt;
526 
527     Optional&lt;FontVariantNumericOrdinal&gt; ordinal;
528     decoder &gt;&gt; ordinal;
529     if (!ordinal)
530         return WTF::nullopt;
531 
532     Optional&lt;FontVariantNumericSlashedZero&gt; slashedZero;
533     decoder &gt;&gt; slashedZero;
534     if (!slashedZero)
535         return WTF::nullopt;
536 
537     return {{ *figure, *spacing, *fraction, *ordinal, *slashedZero }};
538 }
539 
540 struct FontVariantEastAsianValues {
541     FontVariantEastAsianValues(
542         FontVariantEastAsianVariant variant,
543         FontVariantEastAsianWidth width,
544         FontVariantEastAsianRuby ruby)
545             : variant(variant)
546             , width(width)
547             , ruby(ruby)
548     {
549     }
550 
551     template&lt;class Encoder&gt; void encode(Encoder&amp;) const;
552     template&lt;class Decoder&gt; static Optional&lt;FontVariantEastAsianValues&gt; decode(Decoder&amp;);
553 
554     FontVariantEastAsianVariant variant;
555     FontVariantEastAsianWidth width;
556     FontVariantEastAsianRuby ruby;
557 };
558 
559 template&lt;class Encoder&gt;
560 void FontVariantEastAsianValues::encode(Encoder&amp; encoder) const
561 {
562     encoder &lt;&lt; variant;
563     encoder &lt;&lt; width;
564     encoder &lt;&lt; ruby;
565 }
566 
567 template&lt;class Decoder&gt;
568 Optional&lt;FontVariantEastAsianValues&gt; FontVariantEastAsianValues::decode(Decoder&amp; decoder)
569 {
570     Optional&lt;FontVariantEastAsianVariant&gt; variant;
571     decoder &gt;&gt; variant;
572     if (!variant)
573         return WTF::nullopt;
574 
575     Optional&lt;FontVariantEastAsianWidth&gt; width;
576     decoder &gt;&gt; width;
577     if (!width)
578         return WTF::nullopt;
579 
580     Optional&lt;FontVariantEastAsianRuby&gt; ruby;
581     decoder &gt;&gt; ruby;
582     if (!ruby)
583         return WTF::nullopt;
584 
585     return {{ *variant, *width, *ruby }};
586 }
587 
588 enum class FontWidthVariant : uint8_t {
589     RegularWidth,
590     HalfWidth,
591     ThirdWidth,
592     QuarterWidth,
593     LastFontWidthVariant = QuarterWidth
594 };
595 
596 const unsigned FontWidthVariantWidth = 2;
597 
598 COMPILE_ASSERT(!(static_cast&lt;unsigned&gt;(FontWidthVariant::LastFontWidthVariant) &gt;&gt; FontWidthVariantWidth), FontWidthVariantWidth_is_correct);
599 
600 enum class FontSmallCaps : uint8_t {
601     Off = 0,
602     On = 1
603 };
604 
605 enum class Kerning : uint8_t {
606     Auto,
607     Normal,
608     NoShift
609 };
610 
611 enum class FontOpticalSizing : uint8_t {
612     Enabled,
613     Disabled
614 };
615 
616 // https://www.microsoft.com/typography/otspec/fvar.htm#VAT
617 enum class FontStyleAxis : uint8_t {
618     slnt,
619     ital
620 };
621 
622 enum class AllowUserInstalledFonts : uint8_t {
623     No,
624     Yes
625 };
626 
627 }
628 
629 namespace WTF {
630 
631 template&lt;&gt; struct EnumTraits&lt;WebCore::TextRenderingMode&gt; {
632     using values = EnumValues&lt;
633     WebCore::TextRenderingMode,
634     WebCore::TextRenderingMode::AutoTextRendering,
635     WebCore::TextRenderingMode::OptimizeSpeed,
636     WebCore::TextRenderingMode::OptimizeLegibility,
637     WebCore::TextRenderingMode::GeometricPrecision
638     &gt;;
639 };
640 
641 template&lt;&gt; struct EnumTraits&lt;WebCore::FontSmoothingMode&gt; {
642     using values = EnumValues&lt;
643     WebCore::FontSmoothingMode,
644     WebCore::FontSmoothingMode::AutoSmoothing,
645     WebCore::FontSmoothingMode::NoSmoothing,
646     WebCore::FontSmoothingMode::Antialiased,
647     WebCore::FontSmoothingMode::SubpixelAntialiased,
648     WebCore::FontSmoothingMode::AutoSmoothing
649     &gt;;
650 };
651 
652 template&lt;&gt; struct EnumTraits&lt;WebCore::FontRenderingMode&gt; {
653     using values = EnumValues&lt;
654     WebCore::FontRenderingMode,
655     WebCore::FontRenderingMode::Normal,
656     WebCore::FontRenderingMode::Alternate
657     &gt;;
658 };
659 
660 template&lt;&gt; struct EnumTraits&lt;WebCore::FontOrientation&gt; {
661     using values = EnumValues&lt;
662     WebCore::FontOrientation,
663     WebCore::FontOrientation::Horizontal,
664     WebCore::FontOrientation::Vertical
665     &gt;;
666 };
667 
668 template&lt;&gt; struct EnumTraits&lt;WebCore::NonCJKGlyphOrientation&gt; {
669     using values = EnumValues&lt;
670     WebCore::NonCJKGlyphOrientation,
671     WebCore::NonCJKGlyphOrientation::Mixed,
672     WebCore::NonCJKGlyphOrientation::Upright
673     &gt;;
674 };
675 
676 template&lt;&gt; struct EnumTraits&lt;WebCore::FontVariantLigatures&gt; {
677     using values = EnumValues&lt;
678     WebCore::FontVariantLigatures,
679     WebCore::FontVariantLigatures::Normal,
680     WebCore::FontVariantLigatures::Yes,
681     WebCore::FontVariantLigatures::No
682     &gt;;
683 };
684 
685 template&lt;&gt; struct EnumTraits&lt;WebCore::FontVariantPosition&gt; {
686     using values = EnumValues&lt;
687     WebCore::FontVariantPosition,
688     WebCore::FontVariantPosition::Normal,
689     WebCore::FontVariantPosition::Subscript,
690     WebCore::FontVariantPosition::Superscript
691     &gt;;
692 };
693 
694 template&lt;&gt; struct EnumTraits&lt;WebCore::FontVariantCaps&gt; {
695     using values = EnumValues&lt;
696     WebCore::FontVariantCaps,
697     WebCore::FontVariantCaps::Normal,
698     WebCore::FontVariantCaps::Small,
699     WebCore::FontVariantCaps::AllSmall,
700     WebCore::FontVariantCaps::Petite,
701     WebCore::FontVariantCaps::AllPetite,
702     WebCore::FontVariantCaps::Unicase,
703     WebCore::FontVariantCaps::Titling
704     &gt;;
705 };
706 
707 template&lt;&gt; struct EnumTraits&lt;WebCore::FontVariantNumericFigure&gt; {
708     using values = EnumValues&lt;
709     WebCore::FontVariantNumericFigure,
710     WebCore::FontVariantNumericFigure::Normal,
711     WebCore::FontVariantNumericFigure::LiningNumbers,
712     WebCore::FontVariantNumericFigure::OldStyleNumbers
713     &gt;;
714 };
715 
716 template&lt;&gt; struct EnumTraits&lt;WebCore::FontVariantNumericSpacing&gt; {
717     using values = EnumValues&lt;
718     WebCore::FontVariantNumericSpacing,
719     WebCore::FontVariantNumericSpacing::Normal,
720     WebCore::FontVariantNumericSpacing::ProportionalNumbers,
721     WebCore::FontVariantNumericSpacing::TabularNumbers
722     &gt;;
723 };
724 
725 template&lt;&gt; struct EnumTraits&lt;WebCore::FontVariantNumericFraction&gt; {
726     using values = EnumValues&lt;
727     WebCore::FontVariantNumericFraction,
728     WebCore::FontVariantNumericFraction::Normal,
729     WebCore::FontVariantNumericFraction::DiagonalFractions,
730     WebCore::FontVariantNumericFraction::StackedFractions
731     &gt;;
732 };
733 
734 template&lt;&gt; struct EnumTraits&lt;WebCore::FontVariantNumericOrdinal&gt; {
735     using values = EnumValues&lt;
736     WebCore::FontVariantNumericOrdinal,
737     WebCore::FontVariantNumericOrdinal::Normal,
738     WebCore::FontVariantNumericOrdinal::Yes
739     &gt;;
740 };
741 
742 template&lt;&gt; struct EnumTraits&lt;WebCore::FontVariantNumericSlashedZero&gt; {
743     using values = EnumValues&lt;
744     WebCore::FontVariantNumericSlashedZero,
745     WebCore::FontVariantNumericSlashedZero::Normal,
746     WebCore::FontVariantNumericSlashedZero::Yes
747     &gt;;
748 };
749 
750 template&lt;&gt; struct EnumTraits&lt;WebCore::FontVariantAlternates&gt; {
751     using values = EnumValues&lt;
752     WebCore::FontVariantAlternates,
753     WebCore::FontVariantAlternates::Normal,
754     WebCore::FontVariantAlternates::HistoricalForms
755     &gt;;
756 };
757 
758 template&lt;&gt; struct EnumTraits&lt;WebCore::FontVariantEastAsianVariant&gt; {
759     using values = EnumValues&lt;
760     WebCore::FontVariantEastAsianVariant,
761     WebCore::FontVariantEastAsianVariant::Normal,
762     WebCore::FontVariantEastAsianVariant::Jis78,
763     WebCore::FontVariantEastAsianVariant::Jis83,
764     WebCore::FontVariantEastAsianVariant::Jis90,
765     WebCore::FontVariantEastAsianVariant::Jis04,
766     WebCore::FontVariantEastAsianVariant::Simplified,
767     WebCore::FontVariantEastAsianVariant::Traditional,
768     WebCore::FontVariantEastAsianVariant::Normal
769     &gt;;
770 };
771 
772 template&lt;&gt; struct EnumTraits&lt;WebCore::FontVariantEastAsianWidth&gt; {
773     using values = EnumValues&lt;
774     WebCore::FontVariantEastAsianWidth,
775     WebCore::FontVariantEastAsianWidth::Normal,
776     WebCore::FontVariantEastAsianWidth::Full,
777     WebCore::FontVariantEastAsianWidth::Proportional
778     &gt;;
779 };
780 
781 template&lt;&gt; struct EnumTraits&lt;WebCore::FontVariantEastAsianRuby&gt; {
782     using values = EnumValues&lt;
783     WebCore::FontVariantEastAsianRuby,
784     WebCore::FontVariantEastAsianRuby::Normal,
785     WebCore::FontVariantEastAsianRuby::Yes
786     &gt;;
787 };
788 
789 template&lt;&gt; struct EnumTraits&lt;WebCore::FontWidthVariant&gt; {
790     using values = EnumValues&lt;
791     WebCore::FontWidthVariant,
792     WebCore::FontWidthVariant::RegularWidth,
793     WebCore::FontWidthVariant::HalfWidth,
794     WebCore::FontWidthVariant::ThirdWidth,
795     WebCore::FontWidthVariant::QuarterWidth
796     &gt;;
797 };
798 
799 template&lt;&gt; struct EnumTraits&lt;WebCore::FontSmallCaps&gt; {
800     using values = EnumValues&lt;
801     WebCore::FontSmallCaps,
802     WebCore::FontSmallCaps::Off,
803     WebCore::FontSmallCaps::On
804     &gt;;
805 };
806 
807 template&lt;&gt; struct EnumTraits&lt;WebCore::Kerning&gt; {
808     using values = EnumValues&lt;
809     WebCore::Kerning,
810     WebCore::Kerning::Auto,
811     WebCore::Kerning::Normal,
812     WebCore::Kerning::NoShift
813     &gt;;
814 };
815 
816 template&lt;&gt; struct EnumTraits&lt;WebCore::FontOpticalSizing&gt; {
817     using values = EnumValues&lt;
818     WebCore::FontOpticalSizing,
819     WebCore::FontOpticalSizing::Enabled,
820     WebCore::FontOpticalSizing::Disabled
821     &gt;;
822 };
823 
824 template&lt;&gt; struct EnumTraits&lt;WebCore::FontStyleAxis&gt; {
825     using values = EnumValues&lt;
826     WebCore::FontStyleAxis,
827     WebCore::FontStyleAxis::slnt,
828     WebCore::FontStyleAxis::ital
829     &gt;;
830 };
831 
832 template&lt;&gt; struct EnumTraits&lt;WebCore::AllowUserInstalledFonts&gt; {
833     using values = EnumValues&lt;
834     WebCore::AllowUserInstalledFonts,
835     WebCore::AllowUserInstalledFonts::No,
836     WebCore::AllowUserInstalledFonts::Yes
837     &gt;;
838 };
839 
840 } // namespace WTF
    </pre>
  </body>
</html>