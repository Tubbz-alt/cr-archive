<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/dom/make_event_factory.pl</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="XMLDocument.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="make_names.pl.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/dom/make_event_factory.pl</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 80     ($factoryFunction eq &quot;toJS&quot; or $factoryFunction eq &quot;toNewlyCreated&quot;) or die &quot;factoryFunction should be either toJS or toNewlyCreated&quot;;
 81     my $useNamespaceAsSuffix = $parsedParameters{&quot;useNamespaceAsSuffix&quot;};
 82 
 83     my $F;
 84     open F, &quot;&gt;&quot;, &quot;$outputDir/${namespace}Factory.cpp&quot; or die &quot;Failed to open file: $!&quot;;
 85 
 86     print F $InCompiler-&gt;license();
 87 
 88     my $interfaceMethodName = lcfirst $namespace . &quot;Interface&quot;;
 89 
 90     print F &quot;#include \&quot;config.h\&quot;\n&quot;;
 91     print F &quot;#include \&quot;${namespace}Headers.h\&quot;\n&quot;;
 92     print F &quot;\n&quot;;
 93     print F &quot;#include \&quot;JSDOMGlobalObject.h\&quot;\n&quot;;
 94     print F &quot;#include &lt;JavaScriptCore/StructureInlines.h&gt;\n&quot;;
 95     print F &quot;\n&quot;;
 96     print F &quot;namespace WebCore {\n&quot;;
 97     print F &quot;\n&quot;;
 98     # FIXME: Why does Event need toNewlyCreated but EventTarget need toJS?
 99     if ($factoryFunction eq &quot;toNewlyCreated&quot;) {
<span class="line-modified">100         print F &quot;JSC::JSValue toJSNewlyCreated(JSC::ExecState*, JSDOMGlobalObject* globalObject, Ref&lt;${namespace}&gt;&amp;&amp; impl)\n&quot;;</span>
101         print F &quot;{\n&quot;;
102         print F &quot;    switch (impl-&gt;${interfaceMethodName}()) {\n&quot;;
103     } else {
<span class="line-modified">104         print F &quot;JSC::JSValue toJS(JSC::ExecState* state, JSDOMGlobalObject* globalObject, ${namespace}&amp; impl)\n&quot;;</span>
105         print F &quot;{\n&quot;;
106         print F &quot;    switch (impl.${interfaceMethodName}()) {\n&quot;;
107     }
108 
109     my %generatedInterfaceNames = ();
110 
111     for my $eventName (sort keys %parsedEvents) {
112         my $conditional = $parsedEvents{$eventName}{&quot;conditional&quot;};
113         my $runtimeEnabled = $parsedEvents{$eventName}{&quot;runtimeEnabled&quot;};
114         my $interfaceName = $InCompiler-&gt;interfaceForItem($eventName);
115 
116         next if $generatedInterfaceNames{$interfaceName};
117         $generatedInterfaceNames{$interfaceName} = 1;
118 
119         my $suffix = &quot;&quot;;
120         if ($useNamespaceAsSuffix eq &quot;true&quot;) {
121             $suffix = $namespace . $suffix;
122         }
123 
124         # FIXME: This should pay attention to $runtimeConditional so it can support RuntimeEnabledFeatures.
</pre>
</td>
<td>
<hr />
<pre>
 80     ($factoryFunction eq &quot;toJS&quot; or $factoryFunction eq &quot;toNewlyCreated&quot;) or die &quot;factoryFunction should be either toJS or toNewlyCreated&quot;;
 81     my $useNamespaceAsSuffix = $parsedParameters{&quot;useNamespaceAsSuffix&quot;};
 82 
 83     my $F;
 84     open F, &quot;&gt;&quot;, &quot;$outputDir/${namespace}Factory.cpp&quot; or die &quot;Failed to open file: $!&quot;;
 85 
 86     print F $InCompiler-&gt;license();
 87 
 88     my $interfaceMethodName = lcfirst $namespace . &quot;Interface&quot;;
 89 
 90     print F &quot;#include \&quot;config.h\&quot;\n&quot;;
 91     print F &quot;#include \&quot;${namespace}Headers.h\&quot;\n&quot;;
 92     print F &quot;\n&quot;;
 93     print F &quot;#include \&quot;JSDOMGlobalObject.h\&quot;\n&quot;;
 94     print F &quot;#include &lt;JavaScriptCore/StructureInlines.h&gt;\n&quot;;
 95     print F &quot;\n&quot;;
 96     print F &quot;namespace WebCore {\n&quot;;
 97     print F &quot;\n&quot;;
 98     # FIXME: Why does Event need toNewlyCreated but EventTarget need toJS?
 99     if ($factoryFunction eq &quot;toNewlyCreated&quot;) {
<span class="line-modified">100         print F &quot;JSC::JSValue toJSNewlyCreated(JSC::JSGlobalObject*, JSDOMGlobalObject* globalObject, Ref&lt;${namespace}&gt;&amp;&amp; impl)\n&quot;;</span>
101         print F &quot;{\n&quot;;
102         print F &quot;    switch (impl-&gt;${interfaceMethodName}()) {\n&quot;;
103     } else {
<span class="line-modified">104         print F &quot;JSC::JSValue toJS(JSC::JSGlobalObject* state, JSDOMGlobalObject* globalObject, ${namespace}&amp; impl)\n&quot;;</span>
105         print F &quot;{\n&quot;;
106         print F &quot;    switch (impl.${interfaceMethodName}()) {\n&quot;;
107     }
108 
109     my %generatedInterfaceNames = ();
110 
111     for my $eventName (sort keys %parsedEvents) {
112         my $conditional = $parsedEvents{$eventName}{&quot;conditional&quot;};
113         my $runtimeEnabled = $parsedEvents{$eventName}{&quot;runtimeEnabled&quot;};
114         my $interfaceName = $InCompiler-&gt;interfaceForItem($eventName);
115 
116         next if $generatedInterfaceNames{$interfaceName};
117         $generatedInterfaceNames{$interfaceName} = 1;
118 
119         my $suffix = &quot;&quot;;
120         if ($useNamespaceAsSuffix eq &quot;true&quot;) {
121             $suffix = $namespace . $suffix;
122         }
123 
124         # FIXME: This should pay attention to $runtimeConditional so it can support RuntimeEnabledFeatures.
</pre>
</td>
</tr>
</table>
<center><a href="XMLDocument.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="make_names.pl.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>