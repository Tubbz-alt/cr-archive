<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/ScrollableArea.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ScrollableArea.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Scrollbar.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/ScrollableArea.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 56     case VerticalScrollbar: return offset.y();
 57     }
 58     ASSERT_NOT_REACHED();
 59     return 0;
 60 }
 61 
 62 
 63 class ScrollableArea : public CanMakeWeakPtr&lt;ScrollableArea&gt; {
 64 public:
 65     WEBCORE_EXPORT bool scroll(ScrollDirection, ScrollGranularity, float multiplier = 1);
 66     WEBCORE_EXPORT void scrollToOffsetWithoutAnimation(const FloatPoint&amp;, ScrollClamping = ScrollClamping::Clamped);
 67     void scrollToOffsetWithoutAnimation(ScrollbarOrientation, float offset);
 68 
 69     // Should be called when the scroll position changes externally, for example if the scroll layer position
 70     // is updated on the scrolling thread and we need to notify the main thread.
 71     WEBCORE_EXPORT void notifyScrollPositionChanged(const ScrollPosition&amp;);
 72 
 73     // Allows subclasses to handle scroll position updates themselves. If this member function
 74     // returns true, the scrollable area won&#39;t actually update the scroll position and instead
 75     // expect it to happen sometime in the future.
<span class="line-modified"> 76     virtual bool requestScrollPositionUpdate(const ScrollPosition&amp;) { return false; }</span>
 77 
 78     WEBCORE_EXPORT bool handleWheelEvent(const PlatformWheelEvent&amp;);
 79 
 80 #if ENABLE(CSS_SCROLL_SNAP)
 81     WEBCORE_EXPORT const Vector&lt;LayoutUnit&gt;* horizontalSnapOffsets() const;
 82     WEBCORE_EXPORT const Vector&lt;LayoutUnit&gt;* verticalSnapOffsets() const;
 83     WEBCORE_EXPORT const Vector&lt;ScrollOffsetRange&lt;LayoutUnit&gt;&gt;* horizontalSnapOffsetRanges() const;
 84     WEBCORE_EXPORT const Vector&lt;ScrollOffsetRange&lt;LayoutUnit&gt;&gt;* verticalSnapOffsetRanges() const;
 85     virtual void updateSnapOffsets() { };
 86     void setHorizontalSnapOffsets(const Vector&lt;LayoutUnit&gt;&amp;);
 87     void setVerticalSnapOffsets(const Vector&lt;LayoutUnit&gt;&amp;);
 88     void setHorizontalSnapOffsetRanges(const Vector&lt;ScrollOffsetRange&lt;LayoutUnit&gt;&gt;&amp;);
 89     void setVerticalSnapOffsetRanges(const Vector&lt;ScrollOffsetRange&lt;LayoutUnit&gt;&gt;&amp;);
 90     void clearHorizontalSnapOffsets();
 91     void clearVerticalSnapOffsets();
 92     unsigned currentHorizontalSnapPointIndex() const { return m_currentHorizontalSnapPointIndex; }
 93     void setCurrentHorizontalSnapPointIndex(unsigned index) { m_currentHorizontalSnapPointIndex = index; }
 94     unsigned currentVerticalSnapPointIndex() const { return m_currentVerticalSnapPointIndex; }
 95     void setCurrentVerticalSnapPointIndex(unsigned index) { m_currentVerticalSnapPointIndex = index; }
 96     IntPoint nearestActiveSnapPoint(const IntPoint&amp;);
</pre>
<hr />
<pre>
103 #endif
104 
105 #if PLATFORM(IOS_FAMILY)
106     virtual void didStartScroll() { }
107     virtual void didEndScroll() { }
108     virtual void didUpdateScroll() { }
109 #endif
110 
111     // Functions for controlling if you can scroll past the end of the document.
112     bool constrainsScrollingToContentEdge() const { return m_constrainsScrollingToContentEdge; }
113     void setConstrainsScrollingToContentEdge(bool constrainsScrollingToContentEdge) { m_constrainsScrollingToContentEdge = constrainsScrollingToContentEdge; }
114 
115     void setVerticalScrollElasticity(ScrollElasticity scrollElasticity) { m_verticalScrollElasticity = scrollElasticity; }
116     ScrollElasticity verticalScrollElasticity() const { return static_cast&lt;ScrollElasticity&gt;(m_verticalScrollElasticity); }
117 
118     void setHorizontalScrollElasticity(ScrollElasticity scrollElasticity) { m_horizontalScrollElasticity = scrollElasticity; }
119     ScrollElasticity horizontalScrollElasticity() const { return static_cast&lt;ScrollElasticity&gt;(m_horizontalScrollElasticity); }
120 
121     virtual ScrollbarMode horizontalScrollbarMode() const { return ScrollbarAuto; }
122     virtual ScrollbarMode verticalScrollbarMode() const { return ScrollbarAuto; }

123 
124     virtual bool horizontalScrollbarHiddenByStyle() const { return false; }
125     virtual bool verticalScrollbarHiddenByStyle() const { return false; }
126 
127     bool inLiveResize() const { return m_inLiveResize; }
128     WEBCORE_EXPORT virtual void willStartLiveResize();
129     WEBCORE_EXPORT virtual void willEndLiveResize();
130 
131     WEBCORE_EXPORT void contentAreaWillPaint() const;
132     WEBCORE_EXPORT void mouseEnteredContentArea() const;
133     WEBCORE_EXPORT void mouseExitedContentArea() const;
134     WEBCORE_EXPORT void mouseMovedInContentArea() const;
135     WEBCORE_EXPORT void mouseEnteredScrollbar(Scrollbar*) const;
136     void mouseExitedScrollbar(Scrollbar*) const;
137     void mouseIsDownInScrollbar(Scrollbar*, bool) const;
138     void contentAreaDidShow() const;
139     void contentAreaDidHide() const;
140 
141     void lockOverlayScrollbarStateToHidden(bool shouldLockState) const;
142     WEBCORE_EXPORT bool scrollbarsCanBeActive() const;
</pre>
</td>
<td>
<hr />
<pre>
 56     case VerticalScrollbar: return offset.y();
 57     }
 58     ASSERT_NOT_REACHED();
 59     return 0;
 60 }
 61 
 62 
 63 class ScrollableArea : public CanMakeWeakPtr&lt;ScrollableArea&gt; {
 64 public:
 65     WEBCORE_EXPORT bool scroll(ScrollDirection, ScrollGranularity, float multiplier = 1);
 66     WEBCORE_EXPORT void scrollToOffsetWithoutAnimation(const FloatPoint&amp;, ScrollClamping = ScrollClamping::Clamped);
 67     void scrollToOffsetWithoutAnimation(ScrollbarOrientation, float offset);
 68 
 69     // Should be called when the scroll position changes externally, for example if the scroll layer position
 70     // is updated on the scrolling thread and we need to notify the main thread.
 71     WEBCORE_EXPORT void notifyScrollPositionChanged(const ScrollPosition&amp;);
 72 
 73     // Allows subclasses to handle scroll position updates themselves. If this member function
 74     // returns true, the scrollable area won&#39;t actually update the scroll position and instead
 75     // expect it to happen sometime in the future.
<span class="line-modified"> 76     virtual bool requestScrollPositionUpdate(const ScrollPosition&amp;, ScrollType = ScrollType::User, ScrollClamping = ScrollClamping::Clamped) { return false; }</span>
 77 
 78     WEBCORE_EXPORT bool handleWheelEvent(const PlatformWheelEvent&amp;);
 79 
 80 #if ENABLE(CSS_SCROLL_SNAP)
 81     WEBCORE_EXPORT const Vector&lt;LayoutUnit&gt;* horizontalSnapOffsets() const;
 82     WEBCORE_EXPORT const Vector&lt;LayoutUnit&gt;* verticalSnapOffsets() const;
 83     WEBCORE_EXPORT const Vector&lt;ScrollOffsetRange&lt;LayoutUnit&gt;&gt;* horizontalSnapOffsetRanges() const;
 84     WEBCORE_EXPORT const Vector&lt;ScrollOffsetRange&lt;LayoutUnit&gt;&gt;* verticalSnapOffsetRanges() const;
 85     virtual void updateSnapOffsets() { };
 86     void setHorizontalSnapOffsets(const Vector&lt;LayoutUnit&gt;&amp;);
 87     void setVerticalSnapOffsets(const Vector&lt;LayoutUnit&gt;&amp;);
 88     void setHorizontalSnapOffsetRanges(const Vector&lt;ScrollOffsetRange&lt;LayoutUnit&gt;&gt;&amp;);
 89     void setVerticalSnapOffsetRanges(const Vector&lt;ScrollOffsetRange&lt;LayoutUnit&gt;&gt;&amp;);
 90     void clearHorizontalSnapOffsets();
 91     void clearVerticalSnapOffsets();
 92     unsigned currentHorizontalSnapPointIndex() const { return m_currentHorizontalSnapPointIndex; }
 93     void setCurrentHorizontalSnapPointIndex(unsigned index) { m_currentHorizontalSnapPointIndex = index; }
 94     unsigned currentVerticalSnapPointIndex() const { return m_currentVerticalSnapPointIndex; }
 95     void setCurrentVerticalSnapPointIndex(unsigned index) { m_currentVerticalSnapPointIndex = index; }
 96     IntPoint nearestActiveSnapPoint(const IntPoint&amp;);
</pre>
<hr />
<pre>
103 #endif
104 
105 #if PLATFORM(IOS_FAMILY)
106     virtual void didStartScroll() { }
107     virtual void didEndScroll() { }
108     virtual void didUpdateScroll() { }
109 #endif
110 
111     // Functions for controlling if you can scroll past the end of the document.
112     bool constrainsScrollingToContentEdge() const { return m_constrainsScrollingToContentEdge; }
113     void setConstrainsScrollingToContentEdge(bool constrainsScrollingToContentEdge) { m_constrainsScrollingToContentEdge = constrainsScrollingToContentEdge; }
114 
115     void setVerticalScrollElasticity(ScrollElasticity scrollElasticity) { m_verticalScrollElasticity = scrollElasticity; }
116     ScrollElasticity verticalScrollElasticity() const { return static_cast&lt;ScrollElasticity&gt;(m_verticalScrollElasticity); }
117 
118     void setHorizontalScrollElasticity(ScrollElasticity scrollElasticity) { m_horizontalScrollElasticity = scrollElasticity; }
119     ScrollElasticity horizontalScrollElasticity() const { return static_cast&lt;ScrollElasticity&gt;(m_horizontalScrollElasticity); }
120 
121     virtual ScrollbarMode horizontalScrollbarMode() const { return ScrollbarAuto; }
122     virtual ScrollbarMode verticalScrollbarMode() const { return ScrollbarAuto; }
<span class="line-added">123     bool canHaveScrollbars() const { return horizontalScrollbarMode() != ScrollbarAlwaysOff || verticalScrollbarMode() != ScrollbarAlwaysOff; }</span>
124 
125     virtual bool horizontalScrollbarHiddenByStyle() const { return false; }
126     virtual bool verticalScrollbarHiddenByStyle() const { return false; }
127 
128     bool inLiveResize() const { return m_inLiveResize; }
129     WEBCORE_EXPORT virtual void willStartLiveResize();
130     WEBCORE_EXPORT virtual void willEndLiveResize();
131 
132     WEBCORE_EXPORT void contentAreaWillPaint() const;
133     WEBCORE_EXPORT void mouseEnteredContentArea() const;
134     WEBCORE_EXPORT void mouseExitedContentArea() const;
135     WEBCORE_EXPORT void mouseMovedInContentArea() const;
136     WEBCORE_EXPORT void mouseEnteredScrollbar(Scrollbar*) const;
137     void mouseExitedScrollbar(Scrollbar*) const;
138     void mouseIsDownInScrollbar(Scrollbar*, bool) const;
139     void contentAreaDidShow() const;
140     void contentAreaDidHide() const;
141 
142     void lockOverlayScrollbarStateToHidden(bool shouldLockState) const;
143     WEBCORE_EXPORT bool scrollbarsCanBeActive() const;
</pre>
</td>
</tr>
</table>
<center><a href="ScrollableArea.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Scrollbar.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>