<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/html/HTMLFormControlElement.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="HTMLEmbedElement.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="HTMLFormControlElement.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/html/HTMLFormControlElement.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
598     }
599 }
600 
601 void HTMLFormControlElement::setCustomValidity(const String&amp; error)
602 {
603     FormAssociatedElement::setCustomValidity(error);
604     updateValidity();
605 }
606 
607 bool HTMLFormControlElement::validationMessageShadowTreeContains(const Node&amp; node) const
608 {
609     return m_validationMessage &amp;&amp; m_validationMessage-&gt;shadowTreeContains(node);
610 }
611 
612 void HTMLFormControlElement::dispatchBlurEvent(RefPtr&lt;Element&gt;&amp;&amp; newFocusedElement)
613 {
614     HTMLElement::dispatchBlurEvent(WTFMove(newFocusedElement));
615     hideVisibleValidationMessage();
616 }
617 
<span class="line-modified">618 #if ENABLE(IOS_AUTOCORRECT_AND_AUTOCAPITALIZE)</span>
619 
620 // FIXME: We should look to share this code with class HTMLFormElement instead of duplicating the logic.
621 
622 bool HTMLFormControlElement::shouldAutocorrect() const
623 {
624     const AtomString&amp; autocorrectValue = attributeWithoutSynchronization(autocorrectAttr);
625     if (!autocorrectValue.isEmpty())
626         return !equalLettersIgnoringASCIICase(autocorrectValue, &quot;off&quot;);
627     if (RefPtr&lt;HTMLFormElement&gt; form = this-&gt;form())
628         return form-&gt;shouldAutocorrect();
629     return true;
630 }
631 




632 AutocapitalizeType HTMLFormControlElement::autocapitalizeType() const
633 {
634     AutocapitalizeType type = HTMLElement::autocapitalizeType();
635     if (type == AutocapitalizeTypeDefault) {
636         if (RefPtr&lt;HTMLFormElement&gt; form = this-&gt;form())
637             return form-&gt;autocapitalizeType();
638     }
639     return type;
640 }
641 
642 #endif
643 
644 HTMLFormControlElement* HTMLFormControlElement::enclosingFormControlElement(Node* node)
645 {
646     for (; node; node = node-&gt;parentNode()) {
647         if (is&lt;HTMLFormControlElement&gt;(*node))
648             return downcast&lt;HTMLFormControlElement&gt;(node);
649     }
650     return nullptr;
651 }
</pre>
</td>
<td>
<hr />
<pre>
598     }
599 }
600 
601 void HTMLFormControlElement::setCustomValidity(const String&amp; error)
602 {
603     FormAssociatedElement::setCustomValidity(error);
604     updateValidity();
605 }
606 
607 bool HTMLFormControlElement::validationMessageShadowTreeContains(const Node&amp; node) const
608 {
609     return m_validationMessage &amp;&amp; m_validationMessage-&gt;shadowTreeContains(node);
610 }
611 
612 void HTMLFormControlElement::dispatchBlurEvent(RefPtr&lt;Element&gt;&amp;&amp; newFocusedElement)
613 {
614     HTMLElement::dispatchBlurEvent(WTFMove(newFocusedElement));
615     hideVisibleValidationMessage();
616 }
617 
<span class="line-modified">618 #if ENABLE(AUTOCORRECT)</span>
619 
620 // FIXME: We should look to share this code with class HTMLFormElement instead of duplicating the logic.
621 
622 bool HTMLFormControlElement::shouldAutocorrect() const
623 {
624     const AtomString&amp; autocorrectValue = attributeWithoutSynchronization(autocorrectAttr);
625     if (!autocorrectValue.isEmpty())
626         return !equalLettersIgnoringASCIICase(autocorrectValue, &quot;off&quot;);
627     if (RefPtr&lt;HTMLFormElement&gt; form = this-&gt;form())
628         return form-&gt;shouldAutocorrect();
629     return true;
630 }
631 
<span class="line-added">632 #endif</span>
<span class="line-added">633 </span>
<span class="line-added">634 #if ENABLE(AUTOCAPITALIZE)</span>
<span class="line-added">635 </span>
636 AutocapitalizeType HTMLFormControlElement::autocapitalizeType() const
637 {
638     AutocapitalizeType type = HTMLElement::autocapitalizeType();
639     if (type == AutocapitalizeTypeDefault) {
640         if (RefPtr&lt;HTMLFormElement&gt; form = this-&gt;form())
641             return form-&gt;autocapitalizeType();
642     }
643     return type;
644 }
645 
646 #endif
647 
648 HTMLFormControlElement* HTMLFormControlElement::enclosingFormControlElement(Node* node)
649 {
650     for (; node; node = node-&gt;parentNode()) {
651         if (is&lt;HTMLFormControlElement&gt;(*node))
652             return downcast&lt;HTMLFormControlElement&gt;(node);
653     }
654     return nullptr;
655 }
</pre>
</td>
</tr>
</table>
<center><a href="HTMLEmbedElement.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="HTMLFormControlElement.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>