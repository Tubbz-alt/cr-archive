diff a/modules/javafx.web/src/main/native/Source/JavaScriptCore/heap/CompleteSubspaceInlines.h b/modules/javafx.web/src/main/native/Source/JavaScriptCore/heap/CompleteSubspaceInlines.h
--- a/modules/javafx.web/src/main/native/Source/JavaScriptCore/heap/CompleteSubspaceInlines.h
+++ b/modules/javafx.web/src/main/native/Source/JavaScriptCore/heap/CompleteSubspaceInlines.h
@@ -23,19 +23,22 @@
  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */
 
 #pragma once
 
+#include "CompleteSubspace.h"
+#include "VM.h"
+
 namespace JSC {
 
 ALWAYS_INLINE void* CompleteSubspace::allocateNonVirtual(VM& vm, size_t size, GCDeferralContext* deferralContext, AllocationFailureMode failureMode)
 {
     if (validateDFGDoesGC)
         RELEASE_ASSERT(vm.heap.expectDoesGC());
 
     if (Allocator allocator = allocatorForNonVirtual(size, AllocatorForMode::AllocatorIfExists))
-        return allocator.allocate(deferralContext, failureMode);
+        return allocator.allocate(vm.heap, deferralContext, failureMode);
     return allocateSlow(vm, size, deferralContext, failureMode);
 }
 
 } // namespace JSC
 
