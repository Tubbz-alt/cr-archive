<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.web/src/main/native/Tools/TestRunnerShared/UIScriptContext/Bindings/UIScriptController.idl</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
  2  * Copyright (C) 2015-2018 Apple Inc. All rights reserved.
  3  *
  4  * Redistribution and use in source and binary forms, with or without
  5  * modification, are permitted provided that the following conditions
  6  * are met:
  7  * 1. Redistributions of source code must retain the above copyright
  8  *    notice, this list of conditions and the following disclaimer.
  9  * 2. Redistributions in binary form must reproduce the above copyright
 10  *    notice, this list of conditions and the following disclaimer in the
 11  *    documentation and/or other materials provided with the distribution.
 12  *
 13  * THIS SOFTWARE IS PROVIDED BY APPLE INC. AND ITS CONTRIBUTORS ``AS IS&#39;&#39;
 14  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 15  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 16  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL APPLE INC. OR ITS CONTRIBUTORS
 17  * BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 18  * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 19  * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 20  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 21  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 22  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 23  * THE POSSIBILITY OF SUCH DAMAGE.
 24  */
 25 
 26 enum DeviceOrientation {
 27     &quot;portrait&quot;,
 28     &quot;portrait-upsidedown&quot;,
 29     &quot;landscape-left&quot;,
 30     &quot;landscape-right&quot;
 31 };
 32 
 33 enum ModifierKey {
 34     &quot;alt&quot;,
 35     &quot;capsLock&quot;,
 36     &quot;ctrl&quot;,
 37     &quot;meta&quot;, // Command key on Mac and iOS
 38     &quot;shift&quot;
 39 };
 40 
 41 interface UIScriptController {
 42 
 43     void doAsyncTask(object callback); // Used to test the harness.
 44     void uiScriptComplete(DOMString result);
 45 
 46     void doAfterPresentationUpdate(object callback); // Call the callback after sending a message to the WebProcess and receiving a subsequent update.
 47     void doAfterNextStablePresentationUpdate(object callback);
 48     void ensurePositionInformationIsUpToDateAt(long x, long y, object callback);
 49     void doAfterVisibleContentRectUpdate(object callback);
 50 
 51     void doAfterDoubleTapDelay(object callback);
 52 
 53     void simulateAccessibilitySettingsChangeNotification(object callback);
 54 
 55     // Interaction.
 56     // These functions post events asynchronously. The callback is fired when the events have been dispatched, but any
 57     // resulting behavior may also be asynchronous. Points are in &quot;global&quot; (WKWebView) coordinates.
 58     void touchDownAtPoint(long x, long y, long touchCount, object callback);
 59     void liftUpAtPoint(long x, long y, long touchCount, object callback);
 60     void singleTapAtPoint(long x, long y, object callback);
 61     void singleTapAtPointWithModifiers(long x, long y, object modifierArray, object callback);
<a name="1" id="anc1"></a><span class="line-added"> 62     void twoFingerSingleTapAtPoint(long x, long y, object callback);</span>
 63     void doubleTapAtPoint(long x, long y, float delay, object callback);
 64     void dragFromPointToPoint(long startX, long startY, long endX, long endY, double durationSeconds, object callback);
 65 
<a name="2" id="anc2"></a><span class="line-added"> 66     void activateAtPoint(long x, long y, object callback);</span>
<span class="line-added"> 67 </span>
 68     void longPressAtPoint(long x, long y, object callback);
 69 
 70     void stylusDownAtPoint(long x, long y, float azimuthAngle, float altitudeAngle, float pressure, object callback);
 71     void stylusMoveToPoint(long x, long y, float azimuthAngle, float altitudeAngle, float pressure, object callback);
 72     void stylusUpAtPoint(long x, long y, object callback);
 73     void stylusTapAtPoint(long x, long y, float azimuthAngle, float altitudeAngle, float pressure, object callback);
 74     void stylusTapAtPointWithModifiers(long x, long y, float azimuthAngle, float altitudeAngle, float pressure, object modifierArray, object callback);
 75 
 76     void enterText(DOMString text);
 77     void typeCharacterUsingHardwareKeyboard(DOMString character, object callback);
 78 
 79     void keyDown(DOMString character, object modifierArray);
 80     void toggleCapsLock(object callback);
<a name="3" id="anc3"></a><span class="line-added"> 81     void setContinuousSpellCheckingEnabled(boolean enabled);</span>
 82 
 83     void rawKeyDown(DOMString key);
 84     void rawKeyUp(DOMString key);
 85 
 86     // eventsJSON describes a series of user events in JSON form. For the keys, see HIDEventGenerator.mm.
 87     // For example, this JSON describes a touch down followed by a touch up (i.e. a single tap).
 88     //  {
 89     //      &quot;events&quot; : [
 90     //          {
 91     //              &quot;inputType&quot; : &quot;hand&quot;,
 92     //              &quot;timeOffset&quot; : 0,
 93     //              &quot;coordinateSpace&quot; : &quot;content&quot;,
 94     //              &quot;touches&quot; : [
 95     //                  {
 96     //                      &quot;inputType&quot; : &quot;finger&quot;,
 97     //                      &quot;phase&quot; : &quot;began&quot;,
 98     //                      &quot;id&quot; : 1,
 99     //                      &quot;x&quot; : 100,
100     //                      &quot;y&quot; : 120
101     //                  }
102     //              ]
103     //          },
104     //          // This is a basic force press
105     //          {
106     //              &quot;interpolate&quot; : &quot;linear&quot;,
107     //              &quot;timestep&quot; : 0.025,
108     //              &quot;coordinateSpace&quot; : &quot;global&quot;,
109     //              &quot;startEvent&quot; : {
110     //                  &quot;inputType&quot; : &quot;hand&quot;,
111     //                  &quot;timeOffset&quot; : 0.025,
112     //                  &quot;touches&quot; : [
113     //                      {
114     //                          &quot;inputType&quot; : &quot;finger&quot;,
115     //                          &quot;phase&quot; : &quot;began&quot;,
116     //                          &quot;id&quot; : 1,
117     //                          &quot;x&quot; : 100,
118     //                          &quot;y&quot; : 120,
119     //                          &quot;pressure&quot; : 0
120     //                      }
121     //                  ]
122     //              },
123     //              &quot;endEvent&quot; : {
124     //                  &quot;inputType&quot; : &quot;hand&quot;,
125     //                  &quot;timeOffset&quot; : 3.0,
126     //                  &quot;touches&quot; : [
127     //                      {
128     //                          &quot;inputType&quot; : &quot;finger&quot;,
129     //                          &quot;phase&quot; : &quot;stationary&quot;,
130     //                          &quot;id&quot; : 1,
131     //                          &quot;x&quot; : 100,
132     //                          &quot;y&quot; : 120,
133     //                          &quot;pressure&quot; : 500
134     //                      }
135     //                  ]
136     //              }
137     //          },
138     //          //This is a basic drag
139     //          {
140     //              &quot;interpolate&quot; : &quot;linear&quot;,
141     //              &quot;timestep&quot; : 0.025,
142     //              &quot;coordinateSpace&quot; : &quot;content&quot;,
143     //              &quot;startEvent&quot; : {
144     //                  &quot;inputType&quot; : &quot;hand&quot;,
145     //                  &quot;timeOffset&quot; : 3.025,
146     //                  &quot;touches&quot; : [
147     //                      {
148     //                          &quot;inputType&quot; : &quot;finger&quot;,
149     //                          &quot;phase&quot; : &quot;moved&quot;,
150     //                          &quot;id&quot; : 1,
151     //                          &quot;x&quot; : 100,
152     //                          &quot;y&quot; : 120,
153     //                          &quot;pressure&quot; : 0
154     //                      }
155     //                  ]
156     //              },
157     //              &quot;endEvent&quot; : {
158     //                  &quot;inputType&quot; : &quot;hand&quot;,
159     //                  &quot;timeOffset&quot; : 4.0,
160     //                  &quot;touches&quot; : [
161     //                      {
162     //                          &quot;inputType&quot; : &quot;finger&quot;,
163     //                          &quot;phase&quot; : &quot;moved&quot;,
164     //                          &quot;id&quot; : 1,
165     //                          &quot;x&quot; : 20,
166     //                          &quot;y&quot; : 40,
167     //                          &quot;pressure&quot; : 0
168     //                      }
169     //                  ]
170     //              }
171     //          },
172     //          //ending lift
173     //          {
174     //              &quot;inputType&quot; : &quot;hand&quot;,
175     //              &quot;timeOffset&quot; : 4.025, // seconds relative to the first event
176     //              &quot;coordinateSpace&quot; : &quot;content&quot;,
177     //              &quot;touches&quot; : [
178     //                  {
179     //                      &quot;inputType&quot; : &quot;finger&quot;,
180     //                      &quot;phase&quot; : &quot;ended&quot;,
181     //                      &quot;id&quot; : 1,
182     //                      &quot;x&quot; : 20,
183     //                      &quot;y&quot; : 40
184     //                  }
185     //              ]
186     //          },
187     //      ]
188     //  }
189     void sendEventStream(DOMString eventsJSON, object callback);
190 
191     void beginBackSwipe(object callback);
192     void completeBackSwipe(object callback);
193 
194     void playBackEventStream(DOMString eventStream, object callback);
195 
196     // Equivalent of pressing the Done button in the form accessory bar.
197     void dismissFormAccessoryView();
198 
199     void dismissFilePicker(object callback);
200 
201     readonly attribute DOMString textContentType;
202 
203     // Form control handling
204     attribute object didStartFormControlInteractionCallback;
205     attribute object didEndFormControlInteractionCallback;
206 
<a name="4" id="anc4"></a><span class="line-modified">207     // Pop Over preview handling</span>
<span class="line-modified">208     attribute object didShowContextMenuCallback;</span>
<span class="line-modified">209     attribute object didDismissContextMenuCallback;</span>
210 
211     // &lt;select&gt; picker
212     void selectFormAccessoryPickerRow(long rowIndex);
213     readonly attribute DOMString selectFormPopoverTitle;
214     readonly attribute DOMString formInputLabel;
215 
216     void setTimePickerValue(long hour, long minute);
217 
218     // Share sheet
219     void setShareSheetCompletesImmediatelyWithResolution(boolean resolved);
220 
221     // &lt;datalist&gt;
222     readonly attribute boolean isShowingDataListSuggestions;
<a name="5" id="anc5"></a><span class="line-added">223     void activateDataListSuggestion(unsigned long index, object callback);</span>
224 
225     void keyboardAccessoryBarNext();
226     void keyboardAccessoryBarPrevious();
227 
228     void applyAutocorrection(DOMString newString, DOMString oldString, object callback);
229 
230     // Returned object is a dictionary with the passed in string as a key for returned object
231     object contentsOfUserInterfaceItem(DOMString interfaceItem);
232 
233     // These callbacks also work for the form accessory views.
234     attribute object didShowKeyboardCallback;
235     attribute object didHideKeyboardCallback;
236     readonly attribute boolean isShowingKeyboard;
237     readonly attribute boolean hasInputSession;
238 
239     attribute object didShowMenuCallback;
240     attribute object didHideMenuCallback;
241     readonly attribute boolean isDismissingMenu;
242     readonly attribute boolean isShowingMenu;
243     readonly attribute object menuRect;
244     object rectForMenuAction(DOMString action);
<a name="6" id="anc6"></a><span class="line-added">245     void chooseMenuAction(DOMString action, object callback);</span>
<span class="line-added">246     void dismissMenu();</span>
247 
248     readonly attribute boolean isShowingPopover;
249     attribute object willPresentPopoverCallback;
250     attribute object didDismissPopoverCallback;
251 
252     attribute object willBeginZoomingCallback;
253     attribute object didEndZoomingCallback;
254 
255     attribute object willCreateNewPageCallback;
256 
257     void zoomToScale(double scale, object callback);
258 
259     void setViewScale(double scale);
260     void setMinimumEffectiveWidth(double effectiveWidth);
261     void setAllowsViewportShrinkToFit(boolean allows);
262 
263     void becomeFirstResponder();
264     void resignFirstResponder();
265     readonly attribute boolean isPresentingModally;
266 
<a name="7" id="anc7"></a><span class="line-added">267     void copyText(DOMString text);</span>
<span class="line-added">268 </span>
269     readonly attribute double contentOffsetX;
270     readonly attribute double contentOffsetY;
271 
272     attribute boolean scrollUpdatesDisabled; // Turns off notifications back to the web process after scrolls (used for testing scrolling tree).
273 
274     void scrollToOffset(long x, long y); // Initiate an animated scroll in the UI process.
275     attribute object didEndScrollingCallback;
276 
277     void immediateScrollToOffset(long x, long y); // Set the scroll position in the UI process without animation.
278     void immediateZoomToScale(double scale); // Set the zoom scale in the UI process without animation.
279 
280     // Find the scroller for the given point in content (&quot;absolute&quot;) coordinates, and do an immediate scroll.
281     void immediateScrollElementAtContentPointToOffset(long x, long y, long xOffset, long yOffset);
282 
283     // View state
284     readonly attribute double zoomScale;
285     readonly attribute double minimumZoomScale;
286     readonly attribute double maximumZoomScale;
287 
288     // Overides the &quot;in stable state&quot; behavior of WKWebView (only applies to iOS)
289     // When false, content rect updates to the web process have inStableState=false, as if a scroll or zoom were in progress.
290     attribute boolean? stableStateOverride;
291 
292     readonly attribute object contentVisibleRect; // Returned object has &#39;left&#39;, &#39;top&#39;, &#39;width&#39;, &#39;height&#39; properties.
293 
294     readonly attribute object textSelectionRangeRects; // An array of objects with &#39;left&#39;, &#39;top&#39;, &#39;width&#39;, and &#39;height&#39; properties.
295     readonly attribute object textSelectionCaretRect; // An object with &#39;left&#39;, &#39;top&#39;, &#39;width&#39;, &#39;height&#39; properties.
296     readonly attribute object selectionStartGrabberViewRect;
297     readonly attribute object selectionEndGrabberViewRect;
298     readonly attribute object selectionCaretViewRect;
299     readonly attribute object selectionRangeViewRects;
300     readonly attribute object calendarType;
301     void setDefaultCalendarType(DOMString calendarIdentifier);
302     readonly attribute object inputViewBounds;
303 
304     void setKeyboardInputModeIdentifier(DOMString identifier);
305 
306     void replaceTextAtRange(DOMString text, long location, long length);
307     void removeAllDynamicDictionaries();
308 
309     readonly attribute DOMString scrollingTreeAsText;
310 
311     object propertiesOfLayerWithID(unsigned long long layerID);
312 
313     void retrieveSpeakSelectionContent(object callback);
314     readonly attribute DOMString accessibilitySpeakSelectionContent;
315     
316     void simulateRotation(DeviceOrientation orientation, object callback);
317     void simulateRotationLikeSafari(DeviceOrientation orientation, object callback);
318 
319     void findString(DOMString string, unsigned long options, unsigned long maxCount);
320 
321     // Unparent and parent the web view, simulating, for example, tab switching.
322     void removeViewFromWindow(object callback);
323     void addViewToWindow(object callback);
324 
325     void overridePreference(DOMString preference, DOMString value);
326 
327     void setSafeAreaInsets(double top, double right, double bottom, double left);
328 
329     void firstResponderSuppressionForWebView(boolean shouldSuppress);
330     void makeWindowContentViewFirstResponder();
331     readonly attribute boolean isWindowContentViewFirstResponder;
332 
333     void setHardwareKeyboardAttached(boolean attached);
334 
335     object attachmentInfo(DOMString attachmentIdentifier);
336 
337     // Editing
338     void drawSquareInEditableImage();
339     readonly attribute long numberOfStrokesInEditableImage;
340     readonly attribute DOMString lastUndoLabel;
341     readonly attribute DOMString firstRedoLabel;
342 };
<a name="8" id="anc8"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="8" type="hidden" />
</body>
</html>