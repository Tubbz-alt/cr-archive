<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WTF/wtf/dtoa/utils.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="double-conversion.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../generic/MainThreadGeneric.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/dtoa/utils.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
254 
255   // Add a single character to the builder. It is not allowed to add
256   // 0-characters; use the Finalize() method to terminate the string
257   // instead.
258   void AddCharacter(char c) {
259     ASSERT(c != &#39;\0&#39;);
260     ASSERT(!is_finalized() &amp;&amp; position_ &lt; buffer_.length());
261     buffer_[position_++] = c;
262   }
263 
264   // Add an entire string to the builder. Uses strlen() internally to
265   // compute the length of the input string.
266   void AddString(const char* s) {
267     AddSubstring(s, StrLength(s));
268   }
269 
270   // Add the first &#39;n&#39; characters of the given string &#39;s&#39; to the
271   // builder. The input string must have enough characters.
272   void AddSubstring(const char* s, int n) {
273     ASSERT(!is_finalized() &amp;&amp; position_ + n &lt; buffer_.length());
<span class="line-modified">274     ASSERT_WITH_SECURITY_IMPLICATION(static_cast&lt;size_t&gt;(n) &lt;= strlen(s));</span>
275     memmove(&amp;buffer_[position_], s, n * kCharSize);
276     position_ += n;
277   }
278 
279 
280   // Add character padding to the builder. If count is non-positive,
281   // nothing is added to the builder.
282   void AddPadding(char c, int count) {
283     for (int i = 0; i &lt; count; i++) {
284       AddCharacter(c);
285     }
286   }
287 
288   void RemoveCharacters(int start, int end) {
289     ASSERT(start &gt;= 0);
290     ASSERT(end &gt;= 0);
291     ASSERT(start &lt;= end);
292     ASSERT(end &lt;= position_);
293     std::memmove(&amp;buffer_[start], &amp;buffer_[end], position_ - end);
294     position_ -= end - start;
</pre>
</td>
<td>
<hr />
<pre>
254 
255   // Add a single character to the builder. It is not allowed to add
256   // 0-characters; use the Finalize() method to terminate the string
257   // instead.
258   void AddCharacter(char c) {
259     ASSERT(c != &#39;\0&#39;);
260     ASSERT(!is_finalized() &amp;&amp; position_ &lt; buffer_.length());
261     buffer_[position_++] = c;
262   }
263 
264   // Add an entire string to the builder. Uses strlen() internally to
265   // compute the length of the input string.
266   void AddString(const char* s) {
267     AddSubstring(s, StrLength(s));
268   }
269 
270   // Add the first &#39;n&#39; characters of the given string &#39;s&#39; to the
271   // builder. The input string must have enough characters.
272   void AddSubstring(const char* s, int n) {
273     ASSERT(!is_finalized() &amp;&amp; position_ + n &lt; buffer_.length());
<span class="line-modified">274     ASSERT_WITH_SECURITY_IMPLICATION(static_cast&lt;size_t&gt;(n) &lt;= strnlen(s, n));</span>
275     memmove(&amp;buffer_[position_], s, n * kCharSize);
276     position_ += n;
277   }
278 
279 
280   // Add character padding to the builder. If count is non-positive,
281   // nothing is added to the builder.
282   void AddPadding(char c, int count) {
283     for (int i = 0; i &lt; count; i++) {
284       AddCharacter(c);
285     }
286   }
287 
288   void RemoveCharacters(int start, int end) {
289     ASSERT(start &gt;= 0);
290     ASSERT(end &gt;= 0);
291     ASSERT(start &lt;= end);
292     ASSERT(end &lt;= position_);
293     std::memmove(&amp;buffer_[start], &amp;buffer_[end], position_ - end);
294     position_ -= end - start;
</pre>
</td>
</tr>
</table>
<center><a href="double-conversion.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../generic/MainThreadGeneric.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>