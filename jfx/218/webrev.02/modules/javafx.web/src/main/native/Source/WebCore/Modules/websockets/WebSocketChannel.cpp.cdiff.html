<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/Modules/websockets/WebSocketChannel.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="WebSocket.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="WebSocketDeflater.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/Modules/websockets/WebSocketChannel.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 202,11 ***</span>
          m_closingTimer.startOneShot(TCPMaximumSegmentLifetime * 2);
  }
  
  void WebSocketChannel::fail(const String&amp; reason)
  {
<span class="line-modified">!     LOG(Network, &quot;WebSocketChannel %p fail() reason=&#39;%s&#39;&quot;, this, reason.utf8().data());</span>
      ASSERT(!m_suspended);
      if (m_document) {
          InspectorInstrumentation::didReceiveWebSocketFrameError(m_document.get(), m_identifier, reason);
  
          String consoleMessage;
<span class="line-new-header">--- 202,11 ---</span>
          m_closingTimer.startOneShot(TCPMaximumSegmentLifetime * 2);
  }
  
  void WebSocketChannel::fail(const String&amp; reason)
  {
<span class="line-modified">!     RELEASE_LOG(Network, &quot;WebSocketChannel %p fail() reason=&#39;%s&#39;&quot;, this, reason.utf8().data());</span>
      ASSERT(!m_suspended);
      if (m_document) {
          InspectorInstrumentation::didReceiveWebSocketFrameError(m_document.get(), m_identifier, reason);
  
          String consoleMessage;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 362,10 ***</span>
<span class="line-new-header">--- 362,11 ---</span>
              message = makeString(&quot;WebSocket network error: error code &quot;, error.errorCode());
          else
              message = &quot;WebSocket network error: &quot; + error.localizedDescription();
          InspectorInstrumentation::didReceiveWebSocketFrameError(m_document.get(), m_identifier, message);
          m_document-&gt;addConsoleMessage(MessageSource::Network, MessageLevel::Error, message);
<span class="line-added">+         LOG_ERROR(&quot;%s&quot;, message.utf8().data());</span>
      }
      m_shouldDiscardReceivedData = true;
      if (m_client)
          m_client-&gt;didReceiveMessageError();
      handle.disconnect();
</pre>
<center><a href="WebSocket.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="WebSocketDeflater.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>