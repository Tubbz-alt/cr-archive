<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/svg/SVGFEImageElement.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SVGFEFuncRElement.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SVGFEImageElement.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/svg/SVGFEImageElement.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 23 #include &quot;config.h&quot;
 24 #include &quot;SVGFEImageElement.h&quot;
 25 
 26 #include &quot;CachedImage.h&quot;
 27 #include &quot;CachedResourceLoader.h&quot;
 28 #include &quot;CachedResourceRequest.h&quot;
 29 #include &quot;Document.h&quot;
 30 #include &quot;Image.h&quot;
 31 #include &quot;RenderObject.h&quot;
 32 #include &quot;RenderSVGResource.h&quot;
 33 #include &quot;SVGNames.h&quot;
 34 #include &quot;SVGPreserveAspectRatioValue.h&quot;
 35 #include &lt;wtf/IsoMallocInlines.h&gt;
 36 
 37 namespace WebCore {
 38 
 39 WTF_MAKE_ISO_ALLOCATED_IMPL(SVGFEImageElement);
 40 
 41 inline SVGFEImageElement::SVGFEImageElement(const QualifiedName&amp; tagName, Document&amp; document)
 42     : SVGFilterPrimitiveStandardAttributes(tagName, document)
<span class="line-removed"> 43     , SVGExternalResourcesRequired(this)</span>
 44     , SVGURIReference(this)
 45 {
 46     ASSERT(hasTagName(SVGNames::feImageTag));
 47 
 48     static std::once_flag onceFlag;
 49     std::call_once(onceFlag, [] {
 50         PropertyRegistry::registerProperty&lt;SVGNames::preserveAspectRatioAttr, &amp;SVGFEImageElement::m_preserveAspectRatio&gt;();
 51     });
 52 }
 53 
 54 Ref&lt;SVGFEImageElement&gt; SVGFEImageElement::create(const QualifiedName&amp; tagName, Document&amp; document)
 55 {
 56     return adoptRef(*new SVGFEImageElement(tagName, document));
 57 }
 58 
 59 SVGFEImageElement::~SVGFEImageElement()
 60 {
 61     clearResourceReferences();
 62 }
 63 
</pre>
<hr />
<pre>
109     } else if (is&lt;SVGElement&gt;(*target.element)) {
110         // Register us with the target in the dependencies map. Any change of hrefElement
111         // that leads to relayout/repainting now informs us, so we can react to it.
112         document().accessSVGExtensions().addElementReferencingTarget(*this, downcast&lt;SVGElement&gt;(*target.element));
113     }
114 
115     invalidate();
116 }
117 
118 void SVGFEImageElement::parseAttribute(const QualifiedName&amp; name, const AtomString&amp; value)
119 {
120     if (name == SVGNames::preserveAspectRatioAttr) {
121         SVGPreserveAspectRatioValue preserveAspectRatio;
122         preserveAspectRatio.parse(value);
123         m_preserveAspectRatio-&gt;setBaseValInternal(preserveAspectRatio);
124         return;
125     }
126 
127     SVGFilterPrimitiveStandardAttributes::parseAttribute(name, value);
128     SVGURIReference::parseAttribute(name, value);
<span class="line-removed">129     SVGExternalResourcesRequired::parseAttribute(name, value);</span>
130 }
131 
132 void SVGFEImageElement::svgAttributeChanged(const QualifiedName&amp; attrName)
133 {
134     if (attrName == SVGNames::preserveAspectRatioAttr) {
135         InstanceInvalidationGuard guard(*this);
136         invalidate();
137         return;
138     }
139 
140     if (SVGURIReference::isKnownAttribute(attrName)) {
141         InstanceInvalidationGuard guard(*this);
142         buildPendingResource();
143         return;
144     }
145 
146     SVGFilterPrimitiveStandardAttributes::svgAttributeChanged(attrName);
147 }
148 
149 Node::InsertedIntoAncestorResult SVGFEImageElement::insertedIntoAncestor(InsertionType insertionType, ContainerNode&amp; parentOfInsertedTree)
</pre>
</td>
<td>
<hr />
<pre>
 23 #include &quot;config.h&quot;
 24 #include &quot;SVGFEImageElement.h&quot;
 25 
 26 #include &quot;CachedImage.h&quot;
 27 #include &quot;CachedResourceLoader.h&quot;
 28 #include &quot;CachedResourceRequest.h&quot;
 29 #include &quot;Document.h&quot;
 30 #include &quot;Image.h&quot;
 31 #include &quot;RenderObject.h&quot;
 32 #include &quot;RenderSVGResource.h&quot;
 33 #include &quot;SVGNames.h&quot;
 34 #include &quot;SVGPreserveAspectRatioValue.h&quot;
 35 #include &lt;wtf/IsoMallocInlines.h&gt;
 36 
 37 namespace WebCore {
 38 
 39 WTF_MAKE_ISO_ALLOCATED_IMPL(SVGFEImageElement);
 40 
 41 inline SVGFEImageElement::SVGFEImageElement(const QualifiedName&amp; tagName, Document&amp; document)
 42     : SVGFilterPrimitiveStandardAttributes(tagName, document)

 43     , SVGURIReference(this)
 44 {
 45     ASSERT(hasTagName(SVGNames::feImageTag));
 46 
 47     static std::once_flag onceFlag;
 48     std::call_once(onceFlag, [] {
 49         PropertyRegistry::registerProperty&lt;SVGNames::preserveAspectRatioAttr, &amp;SVGFEImageElement::m_preserveAspectRatio&gt;();
 50     });
 51 }
 52 
 53 Ref&lt;SVGFEImageElement&gt; SVGFEImageElement::create(const QualifiedName&amp; tagName, Document&amp; document)
 54 {
 55     return adoptRef(*new SVGFEImageElement(tagName, document));
 56 }
 57 
 58 SVGFEImageElement::~SVGFEImageElement()
 59 {
 60     clearResourceReferences();
 61 }
 62 
</pre>
<hr />
<pre>
108     } else if (is&lt;SVGElement&gt;(*target.element)) {
109         // Register us with the target in the dependencies map. Any change of hrefElement
110         // that leads to relayout/repainting now informs us, so we can react to it.
111         document().accessSVGExtensions().addElementReferencingTarget(*this, downcast&lt;SVGElement&gt;(*target.element));
112     }
113 
114     invalidate();
115 }
116 
117 void SVGFEImageElement::parseAttribute(const QualifiedName&amp; name, const AtomString&amp; value)
118 {
119     if (name == SVGNames::preserveAspectRatioAttr) {
120         SVGPreserveAspectRatioValue preserveAspectRatio;
121         preserveAspectRatio.parse(value);
122         m_preserveAspectRatio-&gt;setBaseValInternal(preserveAspectRatio);
123         return;
124     }
125 
126     SVGFilterPrimitiveStandardAttributes::parseAttribute(name, value);
127     SVGURIReference::parseAttribute(name, value);

128 }
129 
130 void SVGFEImageElement::svgAttributeChanged(const QualifiedName&amp; attrName)
131 {
132     if (attrName == SVGNames::preserveAspectRatioAttr) {
133         InstanceInvalidationGuard guard(*this);
134         invalidate();
135         return;
136     }
137 
138     if (SVGURIReference::isKnownAttribute(attrName)) {
139         InstanceInvalidationGuard guard(*this);
140         buildPendingResource();
141         return;
142     }
143 
144     SVGFilterPrimitiveStandardAttributes::svgAttributeChanged(attrName);
145 }
146 
147 Node::InsertedIntoAncestorResult SVGFEImageElement::insertedIntoAncestor(InsertionType insertionType, ContainerNode&amp; parentOfInsertedTree)
</pre>
</td>
</tr>
</table>
<center><a href="SVGFEFuncRElement.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SVGFEImageElement.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>