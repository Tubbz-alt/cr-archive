<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/svg/SVGFilterPrimitiveStandardAttributes.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SVGFilterElement.idl.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SVGFilterPrimitiveStandardAttributes.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/svg/SVGFilterPrimitiveStandardAttributes.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 34 WTF_MAKE_ISO_ALLOCATED_IMPL(SVGFilterPrimitiveStandardAttributes);
 35 
 36 SVGFilterPrimitiveStandardAttributes::SVGFilterPrimitiveStandardAttributes(const QualifiedName&amp; tagName, Document&amp; document)
 37     : SVGElement(tagName, document)
 38 {
 39     static std::once_flag onceFlag;
 40     std::call_once(onceFlag, [] {
 41         PropertyRegistry::registerProperty&lt;SVGNames::xAttr, &amp;SVGFilterPrimitiveStandardAttributes::m_x&gt;();
 42         PropertyRegistry::registerProperty&lt;SVGNames::yAttr, &amp;SVGFilterPrimitiveStandardAttributes::m_y&gt;();
 43         PropertyRegistry::registerProperty&lt;SVGNames::widthAttr, &amp;SVGFilterPrimitiveStandardAttributes::m_width&gt;();
 44         PropertyRegistry::registerProperty&lt;SVGNames::heightAttr, &amp;SVGFilterPrimitiveStandardAttributes::m_height&gt;();
 45         PropertyRegistry::registerProperty&lt;SVGNames::resultAttr, &amp;SVGFilterPrimitiveStandardAttributes::m_result&gt;();
 46     });
 47 }
 48 
 49 void SVGFilterPrimitiveStandardAttributes::parseAttribute(const QualifiedName&amp; name, const AtomString&amp; value)
 50 {
 51     SVGParsingError parseError = NoError;
 52 
 53     if (name == SVGNames::xAttr)
<span class="line-modified"> 54         m_x-&gt;setBaseValInternal(SVGLengthValue::construct(LengthModeWidth, value, parseError));</span>
 55     else if (name == SVGNames::yAttr)
<span class="line-modified"> 56         m_y-&gt;setBaseValInternal(SVGLengthValue::construct(LengthModeHeight, value, parseError));</span>
 57     else if (name == SVGNames::widthAttr)
<span class="line-modified"> 58         m_width-&gt;setBaseValInternal(SVGLengthValue::construct(LengthModeWidth, value, parseError));</span>
 59     else if (name == SVGNames::heightAttr)
<span class="line-modified"> 60         m_height-&gt;setBaseValInternal(SVGLengthValue::construct(LengthModeHeight, value, parseError));</span>
 61     else if (name == SVGNames::resultAttr)
 62         m_result-&gt;setBaseValInternal(value);
 63 
 64     reportAttributeParsingError(parseError, name, value);
 65 
 66     SVGElement::parseAttribute(name, value);
 67 }
 68 
 69 bool SVGFilterPrimitiveStandardAttributes::setFilterEffectAttribute(FilterEffect*, const QualifiedName&amp;)
 70 {
 71     // When all filters support this method, it will be changed to a pure virtual method.
 72     ASSERT_NOT_REACHED();
 73     return false;
 74 }
 75 
 76 void SVGFilterPrimitiveStandardAttributes::svgAttributeChanged(const QualifiedName&amp; attrName)
 77 {
<span class="line-modified"> 78     if (isKnownAttribute(attrName)) {</span>
 79         InstanceInvalidationGuard guard(*this);
 80         invalidate();
 81         return;
 82     }
 83 
 84     SVGElement::svgAttributeChanged(attrName);
 85 }
 86 
 87 void SVGFilterPrimitiveStandardAttributes::childrenChanged(const ChildChange&amp; change)
 88 {
 89     SVGElement::childrenChanged(change);
 90 
 91     if (change.source == ChildChangeSource::Parser)
 92         return;
 93     invalidate();
 94 }
 95 
 96 void SVGFilterPrimitiveStandardAttributes::setStandardAttributes(FilterEffect* filterEffect) const
 97 {
 98     ASSERT(filterEffect);
</pre>
</td>
<td>
<hr />
<pre>
 34 WTF_MAKE_ISO_ALLOCATED_IMPL(SVGFilterPrimitiveStandardAttributes);
 35 
 36 SVGFilterPrimitiveStandardAttributes::SVGFilterPrimitiveStandardAttributes(const QualifiedName&amp; tagName, Document&amp; document)
 37     : SVGElement(tagName, document)
 38 {
 39     static std::once_flag onceFlag;
 40     std::call_once(onceFlag, [] {
 41         PropertyRegistry::registerProperty&lt;SVGNames::xAttr, &amp;SVGFilterPrimitiveStandardAttributes::m_x&gt;();
 42         PropertyRegistry::registerProperty&lt;SVGNames::yAttr, &amp;SVGFilterPrimitiveStandardAttributes::m_y&gt;();
 43         PropertyRegistry::registerProperty&lt;SVGNames::widthAttr, &amp;SVGFilterPrimitiveStandardAttributes::m_width&gt;();
 44         PropertyRegistry::registerProperty&lt;SVGNames::heightAttr, &amp;SVGFilterPrimitiveStandardAttributes::m_height&gt;();
 45         PropertyRegistry::registerProperty&lt;SVGNames::resultAttr, &amp;SVGFilterPrimitiveStandardAttributes::m_result&gt;();
 46     });
 47 }
 48 
 49 void SVGFilterPrimitiveStandardAttributes::parseAttribute(const QualifiedName&amp; name, const AtomString&amp; value)
 50 {
 51     SVGParsingError parseError = NoError;
 52 
 53     if (name == SVGNames::xAttr)
<span class="line-modified"> 54         m_x-&gt;setBaseValInternal(SVGLengthValue::construct(SVGLengthMode::Width, value, parseError));</span>
 55     else if (name == SVGNames::yAttr)
<span class="line-modified"> 56         m_y-&gt;setBaseValInternal(SVGLengthValue::construct(SVGLengthMode::Height, value, parseError));</span>
 57     else if (name == SVGNames::widthAttr)
<span class="line-modified"> 58         m_width-&gt;setBaseValInternal(SVGLengthValue::construct(SVGLengthMode::Width, value, parseError));</span>
 59     else if (name == SVGNames::heightAttr)
<span class="line-modified"> 60         m_height-&gt;setBaseValInternal(SVGLengthValue::construct(SVGLengthMode::Height, value, parseError));</span>
 61     else if (name == SVGNames::resultAttr)
 62         m_result-&gt;setBaseValInternal(value);
 63 
 64     reportAttributeParsingError(parseError, name, value);
 65 
 66     SVGElement::parseAttribute(name, value);
 67 }
 68 
 69 bool SVGFilterPrimitiveStandardAttributes::setFilterEffectAttribute(FilterEffect*, const QualifiedName&amp;)
 70 {
 71     // When all filters support this method, it will be changed to a pure virtual method.
 72     ASSERT_NOT_REACHED();
 73     return false;
 74 }
 75 
 76 void SVGFilterPrimitiveStandardAttributes::svgAttributeChanged(const QualifiedName&amp; attrName)
 77 {
<span class="line-modified"> 78     if (PropertyRegistry::isKnownAttribute(attrName)) {</span>
 79         InstanceInvalidationGuard guard(*this);
 80         invalidate();
 81         return;
 82     }
 83 
 84     SVGElement::svgAttributeChanged(attrName);
 85 }
 86 
 87 void SVGFilterPrimitiveStandardAttributes::childrenChanged(const ChildChange&amp; change)
 88 {
 89     SVGElement::childrenChanged(change);
 90 
 91     if (change.source == ChildChangeSource::Parser)
 92         return;
 93     invalidate();
 94 }
 95 
 96 void SVGFilterPrimitiveStandardAttributes::setStandardAttributes(FilterEffect* filterEffect) const
 97 {
 98     ASSERT(filterEffect);
</pre>
</td>
</tr>
</table>
<center><a href="SVGFilterElement.idl.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SVGFilterPrimitiveStandardAttributes.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>