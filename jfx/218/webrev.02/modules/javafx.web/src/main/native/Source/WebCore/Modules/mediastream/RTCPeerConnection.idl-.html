<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old modules/javafx.web/src/main/native/Source/WebCore/Modules/mediastream/RTCPeerConnection.idl</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (C) 2012 Google Inc. All rights reserved.
  3  * Copyright (C) 2013 Nokia Corporation and/or its subsidiary(-ies).
  4  * Copyright (C) 2015, 2016 Ericsson AB. All rights reserved.
  5  * Copyright (C) 2017 Apple Inc. All rights reserved.
  6  *
  7  * Redistribution and use in source and binary forms, with or without
  8  * modification, are permitted provided that the following conditions
  9  * are met:
 10  *
 11  * 1. Redistributions of source code must retain the above copyright
 12  *    notice, this list of conditions and the following disclaimer.
 13  * 2. Redistributions in binary form must reproduce the above copyright
 14  *    notice, this list of conditions and the following disclaimer
 15  *    in the documentation and/or other materials provided with the
 16  *    distribution.
 17  * 3. Neither the name of Google Inc. nor the names of its contributors
 18  *    may be used to endorse or promote products derived from this
 19  *    software without specific prior written permission.
 20  *
 21  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 22  * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 23  * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 24  * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 25  * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 26  * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 27  * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 28  * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 29  * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 30  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 31  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 32  */
 33 
 34 typedef RTCRtpTransceiverDirection RtpTransceiverDirection;
 35 
 36 [
 37     Conditional=WEB_RTC,
 38     EnabledAtRuntime=PeerConnection
 39 ] dictionary RTCDataChannelInit {
 40     boolean ordered = true;
 41     unsigned short maxPacketLifeTime;
 42     unsigned short maxRetransmits;
 43     USVString protocol = &quot;&quot;;
 44     boolean negotiated = false;
 45     [EnforceRange] unsigned short id;
 46     // FIXME 169644: missing priority
 47 };
 48 
 49 [
 50 Conditional=WEB_RTC,
 51 EnabledAtRuntime=PeerConnection
 52 ] dictionary RTCCertificateParameters {
 53     DOMString name;
 54     DOMString hash;
 55     DOMString namedCurve;
 56     unsigned long modulusLength;
 57     Uint8Array publicExponent;
 58     double expires;
 59 };
 60 
 61 typedef (object or DOMString) AlgorithmIdentifier;
 62 
 63 [
 64     Conditional=WEB_RTC,
 65     EnabledAtRuntime=PeerConnection,
 66     ImplementedAs=RTCRtpTransceiverInit
 67 ] dictionary RTCRtpTransceiverInit {
 68     RtpTransceiverDirection direction = &quot;sendrecv&quot;;
 69     sequence&lt;MediaStream&gt; streams = [];
 70     // FIXME 169662: missing sendEncodings
 71 };
 72 
 73 [
 74     ActiveDOMObject,
 75     Conditional=WEB_RTC,
 76     ConstructorCallWith=ScriptExecutionContext,
 77     EnabledAtRuntime=PeerConnection,
 78     ExportMacro=WEBCORE_EXPORT,
 79     JSBuiltinConstructor
 80 ] interface RTCPeerConnection : EventTarget {
 81     // JS built-in constructor handles the optional RTCConfiguration
 82     [PrivateIdentifier, CallWith=Document, MayThrowException] void initializeWith(RTCConfiguration configuration);
 83 
 84 
 85     // 4.3.2 Interface Definition
 86     // JSBuiltins provide support for legacy signatures
 87     [JSBuiltin] Promise&lt;RTCSessionDescriptionInit&gt; createOffer(optional RTCOfferOptions offerOptions);
 88     [JSBuiltin] Promise&lt;RTCSessionDescriptionInit&gt; createAnswer(optional RTCAnswerOptions answerOptions);
 89 
 90     [JSBuiltin] Promise&lt;void&gt; setLocalDescription(RTCSessionDescriptionInit description);
 91     readonly attribute RTCSessionDescription? localDescription;
 92     readonly attribute RTCSessionDescription? currentLocalDescription;
 93     readonly attribute RTCSessionDescription? pendingLocalDescription;
 94 
 95     [JSBuiltin] Promise&lt;void&gt; setRemoteDescription(RTCSessionDescriptionInit description);
 96     readonly attribute RTCSessionDescription? remoteDescription;
 97     readonly attribute RTCSessionDescription? currentRemoteDescription;
 98     readonly attribute RTCSessionDescription? pendingRemoteDescription;
 99 
100     [JSBuiltin] Promise&lt;void&gt; addIceCandidate((RTCIceCandidateInit or RTCIceCandidate) candidate);
101 
102     readonly attribute RTCSignalingState signalingState;
103     readonly attribute RTCIceGatheringState iceGatheringState;
104     readonly attribute RTCIceConnectionState iceConnectionState;
105     readonly attribute RTCPeerConnectionState connectionState;
106     // FIXME 169644: missing canTrickleIceCandidates
107     // FIXME 169644: missing defaultIceServers
108 
109     RTCConfiguration getConfiguration();
110     [MayThrowException] void setConfiguration(RTCConfiguration configuration);
111     void close();
112 
113     attribute EventHandler onnegotiationneeded;
114     attribute EventHandler onicecandidate;
115     attribute EventHandler onsignalingstatechange;
116     attribute EventHandler oniceconnectionstatechange;
117     attribute EventHandler onicegatheringstatechange;
118     attribute EventHandler onconnectionstatechange;
119     // FIXME 169644: missing onfingerprintfailure and onicecandidateerror
120 
121     // Private API used to implement the overloaded operations above. Queued functions are called by runQueuedOperation().
122     // See RTCPeerConnectionInternals.js.
123     [PrivateIdentifier] Promise&lt;RTCSessionDescriptionInit&gt; queuedCreateOffer(optional RTCOfferOptions offerOptions);
124     [PrivateIdentifier] Promise&lt;RTCSessionDescriptionInit&gt; queuedCreateAnswer(optional RTCAnswerOptions answerOptions);
125     [PrivateIdentifier] Promise&lt;void&gt; queuedSetLocalDescription(RTCSessionDescription description);
126     [PrivateIdentifier] Promise&lt;void&gt; queuedSetRemoteDescription(RTCSessionDescription description);
127     [PrivateIdentifier] Promise&lt;void&gt; queuedAddIceCandidate(RTCIceCandidate? candidate);
128 
129 
130     // 4.11 Certificate management
131     [CallWith=ExecState] static Promise&lt;RTCCertificate&gt; generateCertificate(AlgorithmIdentifier keygenAlgorithm);
132 
133     // 5.1 RTCPeerConnection extensions
134     // RTP Media API extensions
135     sequence&lt;RTCRtpSender&gt; getSenders();
136     sequence&lt;RTCRtpReceiver&gt; getReceivers();
137     sequence&lt;RTCRtpTransceiver&gt; getTransceivers();
138 
139     [MayThrowException] RTCRtpSender addTrack(MediaStreamTrack track, MediaStream... streams);
140     [MayThrowException] void removeTrack(RTCRtpSender sender);
141 
142     [MayThrowException] RTCRtpTransceiver addTransceiver((MediaStreamTrack or DOMString) track, optional RTCRtpTransceiverInit init);
143 
144     attribute EventHandler ontrack;
145 
146     // 6.1 Peer-to-peer data API
147     // FIXME 169644: missing sctp
148 
149     [CallWith=ScriptExecutionContext, MayThrowException] RTCDataChannel createDataChannel([TreatNullAs=EmptyString] USVString label, optional RTCDataChannelInit options);
150     attribute EventHandler ondatachannel;
151 
152 
153     // 8.2 Statistics API
154     Promise&lt;RTCStatsReport&gt; getStats(optional MediaStreamTrack? selector = null);
155 
156 
157     // 9.6 Identity Provider API
158     // FIXME 169644: missing IdP
159 };
    </pre>
  </body>
</html>