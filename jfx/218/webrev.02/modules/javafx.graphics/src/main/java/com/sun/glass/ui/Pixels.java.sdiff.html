<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.graphics/src/main/java/com/sun/glass/ui/Pixels.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../javafx.fxml/src/test/java/test/javafx/fxml/RT_27529Test.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="monocle/EPDFrameBuffer.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/java/com/sun/glass/ui/Pixels.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
150     }
151 
152     public final int getWidthUnsafe() {
153         return this.width;
154     }
155 
156     public final int getHeight() {
157         Application.checkEventThread();
158         return this.height;
159     }
160 
161     public final int getHeightUnsafe() {
162         return this.height;
163     }
164 
165     public final int getBytesPerComponent() {
166         Application.checkEventThread();
167         return this.bytesPerComponent;
168     }
169 
<span class="line-modified">170     /*</span>
<span class="line-modified">171      * Return the original pixels buffer.</span>



172      */
173     public final Buffer getPixels() {
174         if (this.bytes != null) {
175             this.bytes.rewind();
176             return this.bytes;
177         } else if (this.ints != null) {
178             this.ints.rewind();
179             return this.ints;
180         } else {
181             throw new RuntimeException(&quot;Unexpected Pixels state.&quot;);
182         }
183     }
184 















185     /*
186      * Return a copy of pixels as bytes.
187      */
188     public final ByteBuffer asByteBuffer() {
189         Application.checkEventThread();
190         ByteBuffer bb = ByteBuffer.allocateDirect(getWidth()*getHeight()*4);
191         bb.order(ByteOrder.nativeOrder());
192         bb.rewind();
193         asByteBuffer(bb);
194         return bb;
195     }
196 
197     /*
198      * Copy pixels into provided byte buffer.
199      * The ByteBuffer must be direct.
200      */
201     public final void asByteBuffer(ByteBuffer bb) {
202         Application.checkEventThread();
203         if (!bb.isDirect()) {
204             throw new RuntimeException(&quot;Expected direct buffer.&quot;);
</pre>
</td>
<td>
<hr />
<pre>
150     }
151 
152     public final int getWidthUnsafe() {
153         return this.width;
154     }
155 
156     public final int getHeight() {
157         Application.checkEventThread();
158         return this.height;
159     }
160 
161     public final int getHeightUnsafe() {
162         return this.height;
163     }
164 
165     public final int getBytesPerComponent() {
166         Application.checkEventThread();
167         return this.bytesPerComponent;
168     }
169 
<span class="line-modified">170     /**</span>
<span class="line-modified">171      * Rewinds and returns the buffer used to create this {@code Pixels} object.</span>
<span class="line-added">172      *</span>
<span class="line-added">173      * @return the original pixels buffer with its position set to zero and its</span>
<span class="line-added">174      * mark discarded</span>
175      */
176     public final Buffer getPixels() {
177         if (this.bytes != null) {
178             this.bytes.rewind();
179             return this.bytes;
180         } else if (this.ints != null) {
181             this.ints.rewind();
182             return this.ints;
183         } else {
184             throw new RuntimeException(&quot;Unexpected Pixels state.&quot;);
185         }
186     }
187 
<span class="line-added">188     /**</span>
<span class="line-added">189      * Returns the buffer used to create this {@code Pixels} object.</span>
<span class="line-added">190      *</span>
<span class="line-added">191      * @return the original pixels buffer, unmodified</span>
<span class="line-added">192      */</span>
<span class="line-added">193     public final Buffer getBuffer() {</span>
<span class="line-added">194         if (this.bytes != null) {</span>
<span class="line-added">195             return this.bytes;</span>
<span class="line-added">196         } else if (this.ints != null) {</span>
<span class="line-added">197             return this.ints;</span>
<span class="line-added">198         } else {</span>
<span class="line-added">199             throw new RuntimeException(&quot;Unexpected Pixels state.&quot;);</span>
<span class="line-added">200         }</span>
<span class="line-added">201     }</span>
<span class="line-added">202 </span>
203     /*
204      * Return a copy of pixels as bytes.
205      */
206     public final ByteBuffer asByteBuffer() {
207         Application.checkEventThread();
208         ByteBuffer bb = ByteBuffer.allocateDirect(getWidth()*getHeight()*4);
209         bb.order(ByteOrder.nativeOrder());
210         bb.rewind();
211         asByteBuffer(bb);
212         return bb;
213     }
214 
215     /*
216      * Copy pixels into provided byte buffer.
217      * The ByteBuffer must be direct.
218      */
219     public final void asByteBuffer(ByteBuffer bb) {
220         Application.checkEventThread();
221         if (!bb.isDirect()) {
222             throw new RuntimeException(&quot;Expected direct buffer.&quot;);
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../../javafx.fxml/src/test/java/test/javafx/fxml/RT_27529Test.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="monocle/EPDFrameBuffer.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>