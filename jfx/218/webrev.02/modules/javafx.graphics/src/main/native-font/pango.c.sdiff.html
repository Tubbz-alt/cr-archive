<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.graphics/src/main/native-font/pango.c</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../java/javafx/scene/Scene.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../native-glass/ios/GlassApplication.m.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/native-font/pango.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
381 JNIEXPORT void JNICALL OS_NATIVE(g_1list_1free)
382     (JNIEnv *env, jclass that, jlong arg0)
383 {
384     g_list_free((GList *)arg0);
385 }
386 
387 JNIEXPORT jlong JNICALL OS_NATIVE(g_1utf8_1offset_1to_1pointer)
388     (JNIEnv *env, jclass that, jlong str, jlong offset)
389 {
390     if (!str) return 0;
391     return (jlong)g_utf8_offset_to_pointer((const gchar *)str, (glong)offset);
392 }
393 
394 JNIEXPORT jlong JNICALL OS_NATIVE(g_1utf8_1pointer_1to_1offset)
395     (JNIEnv *env, jclass that, jlong str, jlong pos)
396 {
397     if (!str) return 0;
398     return (jlong)g_utf8_pointer_to_offset((const gchar *)str, (const gchar *)pos);
399 }
400 







401 JNIEXPORT jlong JNICALL OS_NATIVE(g_1utf16_1to_1utf8)
402     (JNIEnv *env, jclass that, jcharArray str)
403 {
404     if (!str) return 0;
405     jsize length = (*env)-&gt;GetArrayLength(env, str);
406     void *ch = (*env)-&gt;GetPrimitiveArrayCritical(env, str, 0);
407     if (ch == NULL) {
408         fprintf(stderr, &quot;OS_NATIVE: GetPrimitiveArrayCritical returns NULL: out of memory\n&quot;);
409         return 0;
410     }
411     jlong result = (jlong)g_utf16_to_utf8((const gunichar2 *)ch, length, NULL, NULL, NULL);
412     (*env)-&gt;ReleasePrimitiveArrayCritical(env, str, ch, 0);
413     return result;
414 }
415 
416 JNIEXPORT void JNICALL OS_NATIVE(g_1free)
417     (JNIEnv *env, jclass that, jlong arg0)
418 {
419     g_free((gpointer)arg0);
420 }
</pre>
</td>
<td>
<hr />
<pre>
381 JNIEXPORT void JNICALL OS_NATIVE(g_1list_1free)
382     (JNIEnv *env, jclass that, jlong arg0)
383 {
384     g_list_free((GList *)arg0);
385 }
386 
387 JNIEXPORT jlong JNICALL OS_NATIVE(g_1utf8_1offset_1to_1pointer)
388     (JNIEnv *env, jclass that, jlong str, jlong offset)
389 {
390     if (!str) return 0;
391     return (jlong)g_utf8_offset_to_pointer((const gchar *)str, (glong)offset);
392 }
393 
394 JNIEXPORT jlong JNICALL OS_NATIVE(g_1utf8_1pointer_1to_1offset)
395     (JNIEnv *env, jclass that, jlong str, jlong pos)
396 {
397     if (!str) return 0;
398     return (jlong)g_utf8_pointer_to_offset((const gchar *)str, (const gchar *)pos);
399 }
400 
<span class="line-added">401 JNIEXPORT jlong JNICALL OS_NATIVE(g_1utf8_1strlen)</span>
<span class="line-added">402     (JNIEnv *env, jclass that, jlong str, jlong pos)</span>
<span class="line-added">403 {</span>
<span class="line-added">404     if (!str) return 0;</span>
<span class="line-added">405     return (jlong)g_utf8_strlen((const gchar *)str, (const gchar *)pos);</span>
<span class="line-added">406 }</span>
<span class="line-added">407 </span>
408 JNIEXPORT jlong JNICALL OS_NATIVE(g_1utf16_1to_1utf8)
409     (JNIEnv *env, jclass that, jcharArray str)
410 {
411     if (!str) return 0;
412     jsize length = (*env)-&gt;GetArrayLength(env, str);
413     void *ch = (*env)-&gt;GetPrimitiveArrayCritical(env, str, 0);
414     if (ch == NULL) {
415         fprintf(stderr, &quot;OS_NATIVE: GetPrimitiveArrayCritical returns NULL: out of memory\n&quot;);
416         return 0;
417     }
418     jlong result = (jlong)g_utf16_to_utf8((const gunichar2 *)ch, length, NULL, NULL, NULL);
419     (*env)-&gt;ReleasePrimitiveArrayCritical(env, str, ch, 0);
420     return result;
421 }
422 
423 JNIEXPORT void JNICALL OS_NATIVE(g_1free)
424     (JNIEnv *env, jclass that, jlong arg0)
425 {
426     g_free((gpointer)arg0);
427 }
</pre>
</td>
</tr>
</table>
<center><a href="../java/javafx/scene/Scene.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../native-glass/ios/GlassApplication.m.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>