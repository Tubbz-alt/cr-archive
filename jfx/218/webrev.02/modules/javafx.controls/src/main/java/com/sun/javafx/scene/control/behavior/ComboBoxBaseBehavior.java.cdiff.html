<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/behavior/ComboBoxBaseBehavior.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ButtonBehavior.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="ListViewBehavior.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/behavior/ComboBoxBaseBehavior.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 24,10 ***</span>
<span class="line-new-header">--- 24,12 ---</span>
   */
  
  package com.sun.javafx.scene.control.behavior;
  
  import com.sun.javafx.scene.control.inputmap.InputMap;
<span class="line-added">+ </span>
<span class="line-added">+ import javafx.beans.InvalidationListener;</span>
  import javafx.beans.Observable;
  import javafx.event.EventHandler;
  import javafx.event.EventTarget;
  import javafx.scene.Node;
  import javafx.scene.control.ComboBox;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 45,10 ***</span>
<span class="line-new-header">--- 47,11 ---</span>
  import static com.sun.javafx.scene.control.inputmap.InputMap.MouseMapping;
  
  public class ComboBoxBaseBehavior&lt;T&gt; extends BehaviorBase&lt;ComboBoxBase&lt;T&gt;&gt; {
  
      private final InputMap&lt;ComboBoxBase&lt;T&gt;&gt; inputMap;
<span class="line-added">+     private InvalidationListener focusListener = this::focusChanged;</span>
  
      /***************************************************************************
       *                                                                         *
       * Constructors                                                            *
       *                                                                         *
</pre>
<hr />
<pre>
<span class="line-old-header">*** 100,21 ***</span>
          // we don&#39;t want to consume events on enter press - let them carry on through
          enterPressed.setAutoConsume(false);
          enterReleased.setAutoConsume(false);
  
          // ComboBoxBase also cares about focus
<span class="line-modified">!         comboBox.focusedProperty().addListener(this::focusChanged);</span>
  
          // Only add this if we&#39;re on an embedded platform that supports 5-button navigation
          if (Utils.isTwoLevelFocus()) {
              tlFocus = new TwoLevelFocusComboBehavior(comboBox); // needs to be last.
          }
      }
  
      @Override public void dispose() {
          if (tlFocus != null) tlFocus.dispose();
<span class="line-modified">!         getNode().focusedProperty().removeListener(this::focusChanged);</span>
          super.dispose();
      }
  
      @Override public InputMap&lt;ComboBoxBase&lt;T&gt;&gt; getInputMap() {
          return inputMap;
<span class="line-new-header">--- 103,21 ---</span>
          // we don&#39;t want to consume events on enter press - let them carry on through
          enterPressed.setAutoConsume(false);
          enterReleased.setAutoConsume(false);
  
          // ComboBoxBase also cares about focus
<span class="line-modified">!         comboBox.focusedProperty().addListener(focusListener);</span>
  
          // Only add this if we&#39;re on an embedded platform that supports 5-button navigation
          if (Utils.isTwoLevelFocus()) {
              tlFocus = new TwoLevelFocusComboBehavior(comboBox); // needs to be last.
          }
      }
  
      @Override public void dispose() {
          if (tlFocus != null) tlFocus.dispose();
<span class="line-modified">!         getNode().focusedProperty().removeListener(focusListener);</span>
          super.dispose();
      }
  
      @Override public InputMap&lt;ComboBoxBase&lt;T&gt;&gt; getInputMap() {
          return inputMap;
</pre>
<center><a href="ButtonBehavior.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="ListViewBehavior.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>