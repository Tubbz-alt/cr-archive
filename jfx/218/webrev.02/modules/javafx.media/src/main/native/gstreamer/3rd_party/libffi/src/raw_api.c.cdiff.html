<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.media/src/main/native/gstreamer/3rd_party/libffi/src/raw_api.c</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="prep_cif.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="types.c.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/3rd_party/libffi/src/raw_api.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 27,10 ***</span>
<span class="line-new-header">--- 27,14 ---</span>
  /* This file defines generic functions for use with the raw api. */
  
  #include &lt;ffi.h&gt;
  #include &lt;ffi_common.h&gt;
  
<span class="line-added">+ #ifdef GSTREAMER_LITE</span>
<span class="line-added">+ #include &lt;string.h&gt;</span>
<span class="line-added">+ #endif // GSTREAMER_LITE</span>
<span class="line-added">+ </span>
  #if !FFI_NO_RAW_API
  
  size_t
  ffi_raw_size (ffi_cif *cif)
  {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 41,14 ***</span>
  
    for (i = cif-&gt;nargs-1; i &gt;= 0; i--, at++)
      {
  #if !FFI_NO_STRUCTS
        if ((*at)-&gt;type == FFI_TYPE_STRUCT)
<span class="line-modified">!     result += ALIGN (sizeof (void*), FFI_SIZEOF_ARG);</span>
        else
  #endif
<span class="line-modified">!     result += ALIGN ((*at)-&gt;size, FFI_SIZEOF_ARG);</span>
      }
  
    return result;
  }
  
<span class="line-new-header">--- 45,14 ---</span>
  
    for (i = cif-&gt;nargs-1; i &gt;= 0; i--, at++)
      {
  #if !FFI_NO_STRUCTS
        if ((*at)-&gt;type == FFI_TYPE_STRUCT)
<span class="line-modified">!     result += FFI_ALIGN (sizeof (void*), FFI_SIZEOF_ARG);</span>
        else
  #endif
<span class="line-modified">!     result += FFI_ALIGN ((*at)-&gt;size, FFI_SIZEOF_ARG);</span>
      }
  
    return result;
  }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 96,11 ***</span>
        *args = (void*) &amp;(raw++)-&gt;ptr;
        break;
  
      default:
        *args = raw;
<span class="line-modified">!       raw += ALIGN ((*tp)-&gt;size, FFI_SIZEOF_ARG) / FFI_SIZEOF_ARG;</span>
      }
      }
  
  #else /* WORDS_BIGENDIAN */
  
<span class="line-new-header">--- 100,11 ---</span>
        *args = (void*) &amp;(raw++)-&gt;ptr;
        break;
  
      default:
        *args = raw;
<span class="line-modified">!       raw += FFI_ALIGN ((*tp)-&gt;size, FFI_SIZEOF_ARG) / FFI_SIZEOF_ARG;</span>
      }
      }
  
  #else /* WORDS_BIGENDIAN */
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 121,11 ***</span>
        *args = (raw++)-&gt;ptr;
      }
        else
      {
        *args = (void*) raw;
<span class="line-modified">!       raw += ALIGN ((*tp)-&gt;size, sizeof (void*)) / sizeof (void*);</span>
      }
      }
  
  #else
  #error &quot;pdp endian not supported&quot;
<span class="line-new-header">--- 125,11 ---</span>
        *args = (raw++)-&gt;ptr;
      }
        else
      {
        *args = (void*) raw;
<span class="line-modified">!       raw += FFI_ALIGN ((*tp)-&gt;size, sizeof (void*)) / sizeof (void*);</span>
      }
      }
  
  #else
  #error &quot;pdp endian not supported&quot;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 184,11 ***</span>
        (raw++)-&gt;ptr = **(void***) args;
        break;
  
      default:
        memcpy ((void*) raw-&gt;data, (void*)*args, (*tp)-&gt;size);
<span class="line-modified">!       raw += ALIGN ((*tp)-&gt;size, FFI_SIZEOF_ARG) / FFI_SIZEOF_ARG;</span>
      }
      }
  }
  
  #if !FFI_NATIVE_RAW_API
<span class="line-new-header">--- 188,11 ---</span>
        (raw++)-&gt;ptr = **(void***) args;
        break;
  
      default:
        memcpy ((void*) raw-&gt;data, (void*)*args, (*tp)-&gt;size);
<span class="line-modified">!       raw += FFI_ALIGN ((*tp)-&gt;size, FFI_SIZEOF_ARG) / FFI_SIZEOF_ARG;</span>
      }
      }
  }
  
  #if !FFI_NATIVE_RAW_API
</pre>
<center><a href="prep_cif.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="types.c.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>