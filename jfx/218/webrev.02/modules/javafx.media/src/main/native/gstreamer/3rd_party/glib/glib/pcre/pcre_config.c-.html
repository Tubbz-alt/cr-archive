<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/pcre/pcre_config.c</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*************************************************
  2 *      Perl-Compatible Regular Expressions       *
  3 *************************************************/
  4 
  5 /* PCRE is a library of functions to support regular expressions whose syntax
  6 and semantics are as close as possible to those of the Perl 5 language.
  7 
  8                        Written by Philip Hazel
  9            Copyright (c) 1997-2012 University of Cambridge
 10 
 11 -----------------------------------------------------------------------------
 12 Redistribution and use in source and binary forms, with or without
 13 modification, are permitted provided that the following conditions are met:
 14 
 15     * Redistributions of source code must retain the above copyright notice,
 16       this list of conditions and the following disclaimer.
 17 
 18     * Redistributions in binary form must reproduce the above copyright
 19       notice, this list of conditions and the following disclaimer in the
 20       documentation and/or other materials provided with the distribution.
 21 
 22     * Neither the name of the University of Cambridge nor the names of its
 23       contributors may be used to endorse or promote products derived from
 24       this software without specific prior written permission.
 25 
 26 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;
 27 AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 28 IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 29 ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 30 LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 31 CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 32 SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 33 INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 34 CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 35 ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 36 POSSIBILITY OF SUCH DAMAGE.
 37 -----------------------------------------------------------------------------
 38 */
 39 
 40 
 41 /* This module contains the external function pcre_config(). */
 42 
 43 
 44 #include &quot;config.h&quot;
 45 
 46 /* Keep the original link size. */
 47 static int real_link_size = LINK_SIZE;
 48 
 49 #include &quot;pcre_internal.h&quot;
 50 
 51 
 52 /*************************************************
 53 * Return info about what features are configured *
 54 *************************************************/
 55 
 56 /* This function has an extensible interface so that additional items can be
 57 added compatibly.
 58 
 59 Arguments:
 60   what             what information is required
 61   where            where to put the information
 62 
 63 Returns:           0 if data returned, negative on error
 64 */
 65 
 66 #ifdef COMPILE_PCRE8
 67 PCRE_EXP_DEFN int PCRE_CALL_CONVENTION
 68 pcre_config(int what, void *where)
 69 #else
 70 PCRE_EXP_DEFN int PCRE_CALL_CONVENTION
 71 pcre16_config(int what, void *where)
 72 #endif
 73 {
 74 switch (what)
 75   {
 76   case PCRE_CONFIG_UTF8:
 77 #if defined COMPILE_PCRE16
 78   *((int *)where) = 0;
 79   return PCRE_ERROR_BADOPTION;
 80 #else
 81 #if defined SUPPORT_UTF
 82   *((int *)where) = 1;
 83 #else
 84   *((int *)where) = 0;
 85 #endif
 86   break;
 87 #endif
 88 
 89   case PCRE_CONFIG_UTF16:
 90 #if defined COMPILE_PCRE8
 91   *((int *)where) = 0;
 92   return PCRE_ERROR_BADOPTION;
 93 #else
 94 #if defined SUPPORT_UTF
 95   *((int *)where) = 1;
 96 #else
 97   *((int *)where) = 0;
 98 #endif
 99   break;
100 #endif
101 
102   case PCRE_CONFIG_UNICODE_PROPERTIES:
103 #ifdef SUPPORT_UCP
104   *((int *)where) = 1;
105 #else
106   *((int *)where) = 0;
107 #endif
108   break;
109 
110   case PCRE_CONFIG_JIT:
111 #ifdef SUPPORT_JIT
112   *((int *)where) = 1;
113 #else
114   *((int *)where) = 0;
115 #endif
116   break;
117 
118   case PCRE_CONFIG_JITTARGET:
119 #ifdef SUPPORT_JIT
120   *((const char **)where) = PRIV(jit_get_target)();
121 #else
122   *((const char **)where) = NULL;
123 #endif
124   break;
125 
126   case PCRE_CONFIG_NEWLINE:
127   *((int *)where) = NEWLINE;
128   break;
129 
130   case PCRE_CONFIG_BSR:
131 #ifdef BSR_ANYCRLF
132   *((int *)where) = 1;
133 #else
134   *((int *)where) = 0;
135 #endif
136   break;
137 
138   case PCRE_CONFIG_LINK_SIZE:
139   *((int *)where) = real_link_size;
140   break;
141 
142   case PCRE_CONFIG_POSIX_MALLOC_THRESHOLD:
143   *((int *)where) = POSIX_MALLOC_THRESHOLD;
144   break;
145 
146   case PCRE_CONFIG_MATCH_LIMIT:
147   *((unsigned long int *)where) = MATCH_LIMIT;
148   break;
149 
150   case PCRE_CONFIG_MATCH_LIMIT_RECURSION:
151   *((unsigned long int *)where) = MATCH_LIMIT_RECURSION;
152   break;
153 
154   case PCRE_CONFIG_STACKRECURSE:
155 #ifdef NO_RECURSE
156   *((int *)where) = 0;
157 #else
158   *((int *)where) = 1;
159 #endif
160   break;
161 
162   default: return PCRE_ERROR_BADOPTION;
163   }
164 
165 return 0;
166 }
167 
168 /* End of pcre_config.c */
    </pre>
  </body>
</html>