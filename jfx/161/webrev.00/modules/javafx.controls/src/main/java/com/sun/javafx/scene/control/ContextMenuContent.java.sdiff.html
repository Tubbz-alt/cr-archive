<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/ContextMenuContent.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../test/java/test/javafx/scene/control/ContextMenuTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/ContextMenuContent.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 633                     final Menu menu = (Menu) item;
 634                     if (menu.isDisable()) return;
 635                     selectedBackground = ((MenuItemContainer)n);
 636 
 637                     // RT-15103
 638                     // if submenu for this menu is already showing then do nothing
 639                     // Menubar will process the right key and move to the next menu
 640                     if (openSubmenu == menu &amp;&amp; submenu != null &amp;&amp; submenu.isShowing()) {
 641                         return;
 642                     }
 643 
 644                     showMenu(menu);
 645                     ke.consume();
 646                 }
 647             }
 648         });
 649     }
 650 
 651     private void showMenu(Menu menu) {
 652         menu.show();
<span class="line-modified"> 653         // request focus on the first item of the submenu after it is shown</span>
<span class="line-modified"> 654         ContextMenuContent cmContent = (ContextMenuContent)submenu.getSkin().getNode();</span>
<span class="line-modified"> 655         if (cmContent != null) {</span>
<span class="line-modified"> 656            if (cmContent.itemsContainer.getChildren().size() &gt; 0) {</span>
<span class="line-modified"> 657                cmContent.itemsContainer.getChildren().get(0).requestFocus();</span>
<span class="line-modified"> 658                cmContent.currentFocusedIndex = 0;</span>
<span class="line-modified"> 659            } else {</span>
<span class="line-modified"> 660                cmContent.requestFocus();</span>
<span class="line-modified"> 661            }</span>




 662         }
 663     }
 664 
 665     private void selectMenuItem() {
 666         getFocusedNode().ifPresent(n -&gt; {
 667             if (n instanceof MenuItemContainer) {
 668                 MenuItem item = ((MenuItemContainer)n).item;
 669                 if (item instanceof Menu) {
 670                     final Menu menu = (Menu) item;
 671                     if (openSubmenu != null) {
 672                         hideSubmenu();
 673                     }
 674                     if (menu.isDisable()) return;
 675                     selectedBackground = ((MenuItemContainer)n);
 676                     menu.show();
 677                 } else {
 678                     ((MenuItemContainer)n).doSelect();
 679                 }
 680             }
 681         });
</pre>
</td>
<td>
<hr />
<pre>
 633                     final Menu menu = (Menu) item;
 634                     if (menu.isDisable()) return;
 635                     selectedBackground = ((MenuItemContainer)n);
 636 
 637                     // RT-15103
 638                     // if submenu for this menu is already showing then do nothing
 639                     // Menubar will process the right key and move to the next menu
 640                     if (openSubmenu == menu &amp;&amp; submenu != null &amp;&amp; submenu.isShowing()) {
 641                         return;
 642                     }
 643 
 644                     showMenu(menu);
 645                     ke.consume();
 646                 }
 647             }
 648         });
 649     }
 650 
 651     private void showMenu(Menu menu) {
 652         menu.show();
<span class="line-modified"> 653 </span>
<span class="line-modified"> 654         // if there is a submenu</span>
<span class="line-modified"> 655         if (submenu != null) {</span>
<span class="line-modified"> 656             // request focus on the first item of the submenu after it is shown</span>
<span class="line-modified"> 657             ContextMenuContent cmContent = (ContextMenuContent)submenu.getSkin().getNode();</span>
<span class="line-modified"> 658             if (cmContent != null) {</span>
<span class="line-modified"> 659                if (cmContent.itemsContainer.getChildren().size() &gt; 0) {</span>
<span class="line-modified"> 660                    cmContent.itemsContainer.getChildren().get(0).requestFocus();</span>
<span class="line-modified"> 661                    cmContent.currentFocusedIndex = 0;</span>
<span class="line-added"> 662                } else {</span>
<span class="line-added"> 663                    cmContent.requestFocus();</span>
<span class="line-added"> 664                }</span>
<span class="line-added"> 665             }</span>
 666         }
 667     }
 668 
 669     private void selectMenuItem() {
 670         getFocusedNode().ifPresent(n -&gt; {
 671             if (n instanceof MenuItemContainer) {
 672                 MenuItem item = ((MenuItemContainer)n).item;
 673                 if (item instanceof Menu) {
 674                     final Menu menu = (Menu) item;
 675                     if (openSubmenu != null) {
 676                         hideSubmenu();
 677                     }
 678                     if (menu.isDisable()) return;
 679                     selectedBackground = ((MenuItemContainer)n);
 680                     menu.show();
 681                 } else {
 682                     ((MenuItemContainer)n).doSelect();
 683                 }
 684             }
 685         });
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../test/java/test/javafx/scene/control/ContextMenuTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>