<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff buildSrc/win.gradle</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../index.html" target="_top">index</a> <a href="../modules/javafx.graphics/src/main/java/com/sun/glass/ui/win/WinApplication.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>buildSrc/win.gradle</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
173     }
174     ext.FXC = cygpath(&quot;$WINDOWS_DXSDK_DIR/utilities/bin/x86/fxc.exe&quot;)
175 }
176 
177 ext.MC = cygpath(&quot;$winSdkBinDir/mt.exe&quot;)
178 
179 if (!file(RC).exists()) throw new GradleException(&quot;FAIL: cannot find RC: &quot; + RC)
180 if (!file(FXC).exists()) throw new GradleException(&quot;FAIL: cannot find FXC: &quot; + FXC)
181 
182 def msvcRedstDir
183 if (hasProperty(&#39;toolchainDir&#39;)) {
184     msvcRedstDir = &quot;$WINDOWS_VS_VSINSTALLDIR/VC/Redist/$CPU_BITS&quot;
185 } else {
186     def msvcRedistVer = System.getenv(&quot;MSVC_REDIST_VER&quot;) ?: &quot;14.10.25008&quot;
187     msvcRedstDir = &quot;$WINDOWS_VS_VSINSTALLDIR/VC/Redist/MSVC/$msvcRedistVer/$CPU_BITS&quot;
188 }
189 
190 def winSdkDllDir = &quot;$WINDOWS_VS_WINSDKDLLINSTALLDIR/$CPU_BITS&quot;
191 
192 def WINDOWS_DLL_VER = WINDOWS_VS_VER
<span class="line-removed">193 ext.MSVCR = null</span>
<span class="line-removed">194 ext.MSVCP = null</span>
195 
196 def windowsCRTVer = System.getenv(&quot;WINDOWS_CRT_VER&quot;) ?: WINDOWS_CRT_VER
197 if (WINDOWS_VS_VER == &quot;150&quot;) {
198     WINDOWS_DLL_VER = &quot;140&quot;
<span class="line-removed">199     ext.MSVCR = cygpath(&quot;${msvcRedstDir}/Microsoft.VC${windowsCRTVer}.CRT/vcruntime${WINDOWS_DLL_VER}.dll&quot;)</span>
<span class="line-removed">200     ext.MSVCP = cygpath(&quot;${msvcRedstDir}/Microsoft.VC${windowsCRTVer}.CRT/msvcp${WINDOWS_DLL_VER}.dll&quot;)</span>
201 }
202 
203 def vs2017DllPath = cygpath(&quot;${msvcRedstDir}/Microsoft.VC${windowsCRTVer}.CRT&quot;)
204 if (file(vs2017DllPath).exists()) {
205     ext.WIN.VS2017DLLNames = [
<span class="line-removed">206         &quot;concrt140.dll&quot;,</span>
207         &quot;msvcp140.dll&quot;,
<span class="line-modified">208         &quot;vcruntime140.dll&quot;</span>

209     ];
210     ext.WIN.VS2017DLLs = []
211     ext.WIN.VS2017DLLNames.each { vsdll-&gt;
212         ext.WIN.VS2017DLLs += &quot;$vs2017DllPath/$vsdll&quot;
213     }
214 }
215 else {
216     ext.WIN.VS2017DLLNames = [
217 	];
218     ext.WIN.VS2017DLLs = [
219 	];
220 }
221 
222 def WinSDKDLLsPath = cygpath(&quot;${winSdkDllDir}&quot;)
223 if (file(WinSDKDLLsPath).exists()) {
224     ext.WIN.WinSDKDLLNames = [
225         &quot;api-ms-win-core-console-l1-1-0.dll&quot;,
226         &quot;api-ms-win-core-datetime-l1-1-0.dll&quot;,
227         &quot;api-ms-win-core-debug-l1-1-0.dll&quot;,
228         &quot;api-ms-win-core-errorhandling-l1-1-0.dll&quot;,
</pre>
</td>
<td>
<hr />
<pre>
173     }
174     ext.FXC = cygpath(&quot;$WINDOWS_DXSDK_DIR/utilities/bin/x86/fxc.exe&quot;)
175 }
176 
177 ext.MC = cygpath(&quot;$winSdkBinDir/mt.exe&quot;)
178 
179 if (!file(RC).exists()) throw new GradleException(&quot;FAIL: cannot find RC: &quot; + RC)
180 if (!file(FXC).exists()) throw new GradleException(&quot;FAIL: cannot find FXC: &quot; + FXC)
181 
182 def msvcRedstDir
183 if (hasProperty(&#39;toolchainDir&#39;)) {
184     msvcRedstDir = &quot;$WINDOWS_VS_VSINSTALLDIR/VC/Redist/$CPU_BITS&quot;
185 } else {
186     def msvcRedistVer = System.getenv(&quot;MSVC_REDIST_VER&quot;) ?: &quot;14.10.25008&quot;
187     msvcRedstDir = &quot;$WINDOWS_VS_VSINSTALLDIR/VC/Redist/MSVC/$msvcRedistVer/$CPU_BITS&quot;
188 }
189 
190 def winSdkDllDir = &quot;$WINDOWS_VS_WINSDKDLLINSTALLDIR/$CPU_BITS&quot;
191 
192 def WINDOWS_DLL_VER = WINDOWS_VS_VER


193 
194 def windowsCRTVer = System.getenv(&quot;WINDOWS_CRT_VER&quot;) ?: WINDOWS_CRT_VER
195 if (WINDOWS_VS_VER == &quot;150&quot;) {
196     WINDOWS_DLL_VER = &quot;140&quot;


197 }
198 
199 def vs2017DllPath = cygpath(&quot;${msvcRedstDir}/Microsoft.VC${windowsCRTVer}.CRT&quot;)
200 if (file(vs2017DllPath).exists()) {
201     ext.WIN.VS2017DLLNames = [

202         &quot;msvcp140.dll&quot;,
<span class="line-modified">203         &quot;vcruntime140.dll&quot;,</span>
<span class="line-added">204         &quot;vcruntime140_1.dll&quot;</span>
205     ];
206     ext.WIN.VS2017DLLs = []
207     ext.WIN.VS2017DLLNames.each { vsdll-&gt;
208         ext.WIN.VS2017DLLs += &quot;$vs2017DllPath/$vsdll&quot;
209     }
210 }
211 else {
212     ext.WIN.VS2017DLLNames = [
213 	];
214     ext.WIN.VS2017DLLs = [
215 	];
216 }
217 
218 def WinSDKDLLsPath = cygpath(&quot;${winSdkDllDir}&quot;)
219 if (file(WinSDKDLLsPath).exists()) {
220     ext.WIN.WinSDKDLLNames = [
221         &quot;api-ms-win-core-console-l1-1-0.dll&quot;,
222         &quot;api-ms-win-core-datetime-l1-1-0.dll&quot;,
223         &quot;api-ms-win-core-debug-l1-1-0.dll&quot;,
224         &quot;api-ms-win-core-errorhandling-l1-1-0.dll&quot;,
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../index.html" target="_top">index</a> <a href="../modules/javafx.graphics/src/main/java/com/sun/glass/ui/win/WinApplication.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>