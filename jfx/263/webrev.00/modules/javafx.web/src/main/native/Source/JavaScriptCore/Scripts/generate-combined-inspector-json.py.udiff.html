<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/JavaScriptCore/Scripts/generate-combined-inspector-json.py</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../PlatformJava.cmake.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="generate-js-builtins.py.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/Scripts/generate-combined-inspector-json.py</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -24,10 +24,11 @@</span>
  # THE POSSIBILITY OF SUCH DAMAGE.
  
  import glob
  import json
  import os
<span class="udiff-line-added">+ import re</span>
  import sys
  
  if len(sys.argv) &lt; 2:
      print(&quot;usage: %s [json files or directory of json files ...]&quot; % os.path.basename(sys.argv[0]))
      sys.exit(1)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -55,11 +56,12 @@</span>
          print(&quot;,&quot;)
  
      string = open(file).read()
  
      try:
<span class="udiff-line-modified-removed">-         dictionary = json.loads(string)</span>
<span class="udiff-line-modified-added">+         regex = re.compile(r&quot;\/\*.*?\*\/&quot;, re.DOTALL)</span>
<span class="udiff-line-added">+         dictionary = json.loads(re.sub(regex, &quot;&quot;, string))</span>
          if not &quot;domain&quot; in dictionary:
              raise Exception(&quot;File \&quot;%s\&quot; does not contains a \&quot;domain\&quot; key.&quot; % file)
      except ValueError:
          sys.stderr.write(&quot;File \&quot;%s\&quot; does not contain valid JSON:\n&quot; % file)
          raise
</pre>
<center><a href="../PlatformJava.cmake.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="generate-js-builtins.py.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>