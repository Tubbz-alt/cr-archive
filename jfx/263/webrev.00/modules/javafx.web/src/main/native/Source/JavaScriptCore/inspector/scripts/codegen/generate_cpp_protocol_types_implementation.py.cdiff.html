<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/inspector/scripts/codegen/generate_cpp_protocol_types_implementation.py</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="generate_cpp_protocol_types_header.py.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="generate_js_backend_commands.py.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/inspector/scripts/codegen/generate_cpp_protocol_types_implementation.py</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 211,13 ***</span>
          should_count_properties = not Generator.type_has_open_fields(object_declaration.type)
          lines = []
  
          lines.append(&#39;void BindingTraits&lt;%s&gt;::assertValueHasExpectedType(JSON::Value* value)&#39; % (CppGenerator.cpp_protocol_type_for_type(object_declaration.type)))
          lines.append(&quot;&quot;&quot;{
<span class="line-modified">! #if ASSERT_DISABLED</span>
<span class="line-removed">-     UNUSED_PARAM(value);</span>
<span class="line-removed">- #else</span>
      ASSERT_ARG(value, value);
      RefPtr&lt;JSON::Object&gt; object;
      bool castSucceeded = value-&gt;asObject(object);
      ASSERT_UNUSED(castSucceeded, castSucceeded);&quot;&quot;&quot;)
          for type_member in required_members:
<span class="line-new-header">--- 211,11 ---</span>
          should_count_properties = not Generator.type_has_open_fields(object_declaration.type)
          lines = []
  
          lines.append(&#39;void BindingTraits&lt;%s&gt;::assertValueHasExpectedType(JSON::Value* value)&#39; % (CppGenerator.cpp_protocol_type_for_type(object_declaration.type)))
          lines.append(&quot;&quot;&quot;{
<span class="line-modified">! #if ASSERT_ENABLED</span>
      ASSERT_ARG(value, value);
      RefPtr&lt;JSON::Object&gt; object;
      bool castSucceeded = value-&gt;asObject(object);
      ASSERT_UNUSED(castSucceeded, castSucceeded);&quot;&quot;&quot;)
          for type_member in required_members:
</pre>
<hr />
<pre>
<span class="line-old-header">*** 253,27 ***</span>
              lines.append(&#39;    }&#39;)
  
          if should_count_properties:
              lines.append(&#39;    if (foundPropertiesCount != object-&gt;size())&#39;)
              lines.append(&#39;        FATAL(&quot;Unexpected properties in object: %s\\n&quot;, object-&gt;toJSONString().ascii().data());&#39;)
<span class="line-modified">!         lines.append(&#39;#endif // !ASSERT_DISABLED&#39;)</span>
          lines.append(&#39;}&#39;)
          return &#39;\n&#39;.join(lines)
  
      def _generate_assertion_for_enum(self, enum_member, object_declaration):
          lines = []
          lines.append(&#39;void %s(JSON::Value* value)&#39; % CppGenerator.cpp_assertion_method_for_type_member(enum_member, object_declaration))
          lines.append(&#39;{&#39;)
<span class="line-modified">!         lines.append(&#39;#if ASSERT_DISABLED&#39;)</span>
<span class="line-removed">-         lines.append(&#39;    UNUSED_PARAM(value);&#39;)</span>
<span class="line-removed">-         lines.append(&#39;#else&#39;)</span>
          lines.append(&#39;    ASSERT_ARG(value, value);&#39;)
          lines.append(&#39;    String result;&#39;)
          lines.append(&#39;    bool castSucceeded = value-&gt;asString(result);&#39;)
          lines.append(&#39;    ASSERT(castSucceeded);&#39;)
  
          assert_condition = &#39; || &#39;.join([&#39;result == &quot;%s&quot;&#39; % enum_value for enum_value in enum_member.type.enum_values()])
          lines.append(&#39;    ASSERT(%s);&#39; % assert_condition)
<span class="line-modified">!         lines.append(&#39;#endif // !ASSERT_DISABLED&#39;)</span>
          lines.append(&#39;}&#39;)
  
          return &#39;\n&#39;.join(lines)
<span class="line-new-header">--- 251,29 ---</span>
              lines.append(&#39;    }&#39;)
  
          if should_count_properties:
              lines.append(&#39;    if (foundPropertiesCount != object-&gt;size())&#39;)
              lines.append(&#39;        FATAL(&quot;Unexpected properties in object: %s\\n&quot;, object-&gt;toJSONString().ascii().data());&#39;)
<span class="line-modified">!         lines.append(&#39;#else // ASSERT_ENABLED&#39;)</span>
<span class="line-added">+         lines.append(&#39;    UNUSED_PARAM(value);&#39;)</span>
<span class="line-added">+         lines.append(&#39;#endif // ASSERT_ENABLED&#39;)</span>
          lines.append(&#39;}&#39;)
          return &#39;\n&#39;.join(lines)
  
      def _generate_assertion_for_enum(self, enum_member, object_declaration):
          lines = []
          lines.append(&#39;void %s(JSON::Value* value)&#39; % CppGenerator.cpp_assertion_method_for_type_member(enum_member, object_declaration))
          lines.append(&#39;{&#39;)
<span class="line-modified">!         lines.append(&#39;#if ASSERT_ENABLED&#39;)</span>
          lines.append(&#39;    ASSERT_ARG(value, value);&#39;)
          lines.append(&#39;    String result;&#39;)
          lines.append(&#39;    bool castSucceeded = value-&gt;asString(result);&#39;)
          lines.append(&#39;    ASSERT(castSucceeded);&#39;)
  
          assert_condition = &#39; || &#39;.join([&#39;result == &quot;%s&quot;&#39; % enum_value for enum_value in enum_member.type.enum_values()])
          lines.append(&#39;    ASSERT(%s);&#39; % assert_condition)
<span class="line-modified">!         lines.append(&#39;#else // ASSERT_ENABLED&#39;)</span>
<span class="line-added">+         lines.append(&#39;    UNUSED_PARAM(value);&#39;)</span>
<span class="line-added">+         lines.append(&#39;#endif // ASSERT_ENABLED&#39;)</span>
          lines.append(&#39;}&#39;)
  
          return &#39;\n&#39;.join(lines)
</pre>
<center><a href="generate_cpp_protocol_types_header.py.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="generate_js_backend_commands.py.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>