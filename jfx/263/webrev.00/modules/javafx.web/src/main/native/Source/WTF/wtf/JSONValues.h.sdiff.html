<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WTF/wtf/JSONValues.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="JSONValues.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Language.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/JSONValues.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
  2  * Copyright (C) 2009 Google Inc. All rights reserved.
  3  * Copyright (C) 2014 University of Washington. All rights reserved.
<span class="line-modified">  4  * Copyright (C) 2017 Apple Inc. All rights reserved.</span>
  5  *
  6  * Redistribution and use in source and binary forms, with or without
  7  * modification, are permitted provided that the following conditions are
  8  * met:
  9  *
 10  *     * Redistributions of source code must retain the above copyright
 11  * notice, this list of conditions and the following disclaimer.
 12  *     * Redistributions in binary form must reproduce the above
 13  * copyright notice, this list of conditions and the following disclaimer
 14  * in the documentation and/or other materials provided with the
 15  * distribution.
 16  *     * Neither the name of Google Inc. nor the names of its
 17  * contributors may be used to endorse or promote products derived from
 18  * this software without specific prior written permission.
 19  *
 20  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 21  * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 22  * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 23  * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 24  * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</pre>
<hr />
<pre>
 35 #include &lt;wtf/HashMap.h&gt;
 36 #include &lt;wtf/text/StringHash.h&gt;
 37 #include &lt;wtf/text/WTFString.h&gt;
 38 
 39 namespace WTF {
 40 
 41 // Make sure compiled symbols contain the WTF namespace prefix, but
 42 // use a different inner namespace name so that JSON::Value is not ambigious.
 43 // Otherwise, the compiler would have both WTF::JSON::Value and JSON::Value
 44 // in scope and client code would have to use WTF::JSON::Value, which is tedious.
 45 namespace JSONImpl {
 46 
 47 class Array;
 48 class ArrayBase;
 49 class Object;
 50 class ObjectBase;
 51 
 52 // FIXME: unify this JSON parser with JSONParse in JavaScriptCore.
 53 class WTF_EXPORT_PRIVATE Value : public RefCounted&lt;Value&gt; {
 54 public:
<span class="line-modified"> 55     static const int maxDepth = 1000;</span>
 56 
 57     virtual ~Value()
 58     {
 59         switch (m_type) {
 60         case Type::Null:
 61         case Type::Boolean:
 62         case Type::Double:
 63         case Type::Integer:
 64             break;
 65         case Type::String:
 66             if (m_value.string)
 67                 m_value.string-&gt;deref();
 68             break;
 69         case Type::Object:
 70         case Type::Array:
 71             break;
 72         }
 73     }
 74 
 75     static Ref&lt;Value&gt; null();
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
  2  * Copyright (C) 2009 Google Inc. All rights reserved.
  3  * Copyright (C) 2014 University of Washington. All rights reserved.
<span class="line-modified">  4  * Copyright (C) 2017-2019 Apple Inc. All rights reserved.</span>
  5  *
  6  * Redistribution and use in source and binary forms, with or without
  7  * modification, are permitted provided that the following conditions are
  8  * met:
  9  *
 10  *     * Redistributions of source code must retain the above copyright
 11  * notice, this list of conditions and the following disclaimer.
 12  *     * Redistributions in binary form must reproduce the above
 13  * copyright notice, this list of conditions and the following disclaimer
 14  * in the documentation and/or other materials provided with the
 15  * distribution.
 16  *     * Neither the name of Google Inc. nor the names of its
 17  * contributors may be used to endorse or promote products derived from
 18  * this software without specific prior written permission.
 19  *
 20  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 21  * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 22  * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 23  * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 24  * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</pre>
<hr />
<pre>
 35 #include &lt;wtf/HashMap.h&gt;
 36 #include &lt;wtf/text/StringHash.h&gt;
 37 #include &lt;wtf/text/WTFString.h&gt;
 38 
 39 namespace WTF {
 40 
 41 // Make sure compiled symbols contain the WTF namespace prefix, but
 42 // use a different inner namespace name so that JSON::Value is not ambigious.
 43 // Otherwise, the compiler would have both WTF::JSON::Value and JSON::Value
 44 // in scope and client code would have to use WTF::JSON::Value, which is tedious.
 45 namespace JSONImpl {
 46 
 47 class Array;
 48 class ArrayBase;
 49 class Object;
 50 class ObjectBase;
 51 
 52 // FIXME: unify this JSON parser with JSONParse in JavaScriptCore.
 53 class WTF_EXPORT_PRIVATE Value : public RefCounted&lt;Value&gt; {
 54 public:
<span class="line-modified"> 55     static constexpr int maxDepth = 1000;</span>
 56 
 57     virtual ~Value()
 58     {
 59         switch (m_type) {
 60         case Type::Null:
 61         case Type::Boolean:
 62         case Type::Double:
 63         case Type::Integer:
 64             break;
 65         case Type::String:
 66             if (m_value.string)
 67                 m_value.string-&gt;deref();
 68             break;
 69         case Type::Object:
 70         case Type::Array:
 71             break;
 72         }
 73     }
 74 
 75     static Ref&lt;Value&gt; null();
</pre>
</td>
</tr>
</table>
<center><a href="JSONValues.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Language.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>