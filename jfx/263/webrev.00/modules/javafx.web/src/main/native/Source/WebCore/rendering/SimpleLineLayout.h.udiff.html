<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WebCore/rendering/SimpleLineLayout.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SimpleLineLayout.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SimpleLineLayoutCoverage.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/rendering/SimpleLineLayout.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -25,10 +25,11 @@</span>
  
  #pragma once
  
  #include &quot;SimpleLineLayoutCoverage.h&quot;
  #include &quot;TextFlags.h&quot;
<span class="udiff-line-added">+ #include &lt;wtf/RefCounted.h&gt;</span>
  #include &lt;wtf/Vector.h&gt;
  #include &lt;wtf/text/WTFString.h&gt;
  
  #if COMPILER(MSVC)
  #pragma warning(push)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -48,23 +49,25 @@</span>
  
  struct Run {
  #if COMPILER(MSVC)
      Run() { }
  #endif
<span class="udiff-line-modified-removed">-     Run(unsigned start, unsigned end, float logicalLeft, float logicalRight, bool isEndOfLine, bool hasHyphen)</span>
<span class="udiff-line-modified-added">+     Run(unsigned start, unsigned end, float logicalLeft, float logicalRight, bool isEndOfLine, bool hasHyphen, bool isLineBreak)</span>
          : end(end)
          , start(start)
          , isEndOfLine(isEndOfLine)
          , hasHyphen(hasHyphen)
<span class="udiff-line-added">+         , isLineBreak(isLineBreak)</span>
          , logicalLeft(logicalLeft)
          , logicalRight(logicalRight)
      { }
  
      unsigned end;
<span class="udiff-line-modified-removed">-     unsigned start : 30;</span>
<span class="udiff-line-modified-added">+     unsigned start : 29;</span>
      unsigned isEndOfLine : 1;
      unsigned hasHyphen : 1;
<span class="udiff-line-added">+     unsigned isLineBreak : 1;</span>
      float logicalLeft;
      float logicalRight;
      // TODO: Move these optional items out of SimpleLineLayout::Run to a supplementary structure.
      float expansion { 0 };
      ExpansionBehavior expansionBehavior { ForbidLeadingExpansion | ForbidTrailingExpansion };
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -73,16 +76,16 @@</span>
  struct SimpleLineStrut {
      unsigned lineBreak;
      float offset;
  };
  
<span class="udiff-line-modified-removed">- class Layout {</span>
<span class="udiff-line-modified-added">+ class Layout : public RefCounted&lt;Layout&gt; {</span>
      WTF_MAKE_FAST_ALLOCATED;
  public:
      using RunVector = Vector&lt;Run, 10&gt;;
      using SimpleLineStruts = Vector&lt;SimpleLineStrut, 4&gt;;
<span class="udiff-line-modified-removed">-     static std::unique_ptr&lt;Layout&gt; create(const RunVector&amp;, unsigned lineCount, const RenderBlockFlow&amp;);</span>
<span class="udiff-line-modified-added">+     static Ref&lt;Layout&gt; create(const RunVector&amp;, unsigned lineCount, const RenderBlockFlow&amp;);</span>
  
      ~Layout();
  
      unsigned lineCount() const { return m_lineCount; }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -106,11 +109,11 @@</span>
      const RenderBlockFlow&amp; m_blockFlowRenderer;
      mutable std::unique_ptr&lt;RunResolver&gt; m_runResolver;
      Run m_runs[0];
  };
  
<span class="udiff-line-modified-removed">- std::unique_ptr&lt;Layout&gt; create(RenderBlockFlow&amp;);</span>
<span class="udiff-line-modified-added">+ Ref&lt;Layout&gt; create(RenderBlockFlow&amp;);</span>
  
  }
  }
  
  #if COMPILER(MSVC)
</pre>
<center><a href="SimpleLineLayout.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SimpleLineLayoutCoverage.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>