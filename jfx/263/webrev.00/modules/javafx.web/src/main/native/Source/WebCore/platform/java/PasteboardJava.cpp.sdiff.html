<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/java/PasteboardJava.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="LocalizedStringsJava.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="RenderThemeJava.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/java/PasteboardJava.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
435     if (m_dataObject) {
436         for (const auto&amp; filename : m_dataObject-&gt;asFilenames())
437             reader.readFilename(filename);
438     }
439 }
440 
441 String Pasteboard::readStringInCustomData(const String&amp;)
442 {
443     notImplemented();
444     return { };
445 }
446 
447 Pasteboard::FileContentState Pasteboard::fileContentState()
448 {
449     // FIXME: This implementation can be slightly more efficient by avoiding calls to DragQueryFileW.
450     PasteboardFileCounter reader;
451     read(reader);
452     return reader.count ? FileContentState::MayContainFilePaths : FileContentState::NoFileOrImageData;
453 }
454 
<span class="line-modified">455 void Pasteboard::read(PasteboardPlainText&amp; text)</span>
456 {
457     if (m_copyPasteMode) {
458         text.text = jGetPlainText();
459         if (m_dataObject) {
460             m_dataObject-&gt;setPlainText(text.text);
461         }
462         return;
463     }
464     if (m_dataObject) {
465         text.text = m_dataObject-&gt;asPlainText();
466     }
467 }
468 
469 bool Pasteboard::canSmartReplace()
470 {
471     // we do not provide smart replace for now
472     return false;
473 }
474 
475 RefPtr&lt;DocumentFragment&gt; Pasteboard::documentFragment(
</pre>
<hr />
<pre>
498     if (!allowPlainText) {
499         return nullptr;
500     }
501 
502     String plainTextString = m_copyPasteMode ?
503         jGetPlainText() :
504         m_dataObject ? m_dataObject-&gt;asPlainText() : String();
505 
506     if (!plainTextString.isNull()) {
507         chosePlainText = true;
508         if (RefPtr&lt;DocumentFragment&gt; fragment = createFragmentFromText(
509                 range,
510                 plainTextString))
511         {
512             return fragment;
513         }
514     }
515     return nullptr;
516 }
517 
<span class="line-modified">518 void Pasteboard::read(PasteboardWebContentReader&amp;, WebContentReadingPolicy)</span>
519 {
520 }
521 
522 void Pasteboard::write(const PasteboardImage&amp;)
523 {
524 }
525 
526 void Pasteboard::write(const PasteboardWebContent&amp;)
527 {
528 }
529 
530 void Pasteboard::writeMarkup(const String&amp;)
531 {
532 }
533 
<span class="line-modified">534 void Pasteboard::writeCustomData(const PasteboardCustomData&amp;)</span>
535 {
536 }
537 
538 void Pasteboard::write(const WebCore::Color&amp;)
539 {
540 }
541 
542 void Pasteboard::writeTrustworthyWebURLsPboardType(const PasteboardURL&amp;)
543 {
544     notImplemented();
545 }
546 
547 } // namespace WebCore
</pre>
</td>
<td>
<hr />
<pre>
435     if (m_dataObject) {
436         for (const auto&amp; filename : m_dataObject-&gt;asFilenames())
437             reader.readFilename(filename);
438     }
439 }
440 
441 String Pasteboard::readStringInCustomData(const String&amp;)
442 {
443     notImplemented();
444     return { };
445 }
446 
447 Pasteboard::FileContentState Pasteboard::fileContentState()
448 {
449     // FIXME: This implementation can be slightly more efficient by avoiding calls to DragQueryFileW.
450     PasteboardFileCounter reader;
451     read(reader);
452     return reader.count ? FileContentState::MayContainFilePaths : FileContentState::NoFileOrImageData;
453 }
454 
<span class="line-modified">455 void Pasteboard::read(PasteboardPlainText&amp; text, PlainTextURLReadingPolicy, Optional&lt;size_t&gt;)</span>
456 {
457     if (m_copyPasteMode) {
458         text.text = jGetPlainText();
459         if (m_dataObject) {
460             m_dataObject-&gt;setPlainText(text.text);
461         }
462         return;
463     }
464     if (m_dataObject) {
465         text.text = m_dataObject-&gt;asPlainText();
466     }
467 }
468 
469 bool Pasteboard::canSmartReplace()
470 {
471     // we do not provide smart replace for now
472     return false;
473 }
474 
475 RefPtr&lt;DocumentFragment&gt; Pasteboard::documentFragment(
</pre>
<hr />
<pre>
498     if (!allowPlainText) {
499         return nullptr;
500     }
501 
502     String plainTextString = m_copyPasteMode ?
503         jGetPlainText() :
504         m_dataObject ? m_dataObject-&gt;asPlainText() : String();
505 
506     if (!plainTextString.isNull()) {
507         chosePlainText = true;
508         if (RefPtr&lt;DocumentFragment&gt; fragment = createFragmentFromText(
509                 range,
510                 plainTextString))
511         {
512             return fragment;
513         }
514     }
515     return nullptr;
516 }
517 
<span class="line-modified">518 void Pasteboard::read(PasteboardWebContentReader&amp;, WebContentReadingPolicy, Optional&lt;size_t&gt;)</span>
519 {
520 }
521 
522 void Pasteboard::write(const PasteboardImage&amp;)
523 {
524 }
525 
526 void Pasteboard::write(const PasteboardWebContent&amp;)
527 {
528 }
529 
530 void Pasteboard::writeMarkup(const String&amp;)
531 {
532 }
533 
<span class="line-modified">534 void Pasteboard::writeCustomData(const Vector&lt;PasteboardCustomData&gt;&amp;)</span>
535 {
536 }
537 
538 void Pasteboard::write(const WebCore::Color&amp;)
539 {
540 }
541 
542 void Pasteboard::writeTrustworthyWebURLsPboardType(const PasteboardURL&amp;)
543 {
544     notImplemented();
545 }
546 
547 } // namespace WebCore
</pre>
</td>
</tr>
</table>
<center><a href="LocalizedStringsJava.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="RenderThemeJava.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>