<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/parser/ParserTokens.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ParserModes.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ResultType.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/parser/ParserTokens.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 68     VAR,
 69     CONSTTOKEN,
 70     CONTINUE,
 71     FUNCTION,
 72     RETURN,
 73     IF,
 74     THISTOKEN,
 75     DO,
 76     WHILE,
 77     SWITCH,
 78     WITH,
 79     RESERVED,
 80     RESERVED_IF_STRICT,
 81     THROW,
 82     TRY,
 83     CATCH,
 84     FINALLY,
 85     DEBUGGER,
 86     ELSE,
 87     IMPORT,
<span class="line-modified"> 88     EXPORT,</span>
 89     CLASSTOKEN,
 90     EXTENDS,
 91     SUPER,
 92 
 93     // Contextual keywords
 94 
 95     LET,
 96     YIELD,
 97     AWAIT,
 98 
 99     FirstContextualKeywordToken = LET,
100     LastContextualKeywordToken = AWAIT,
101     FirstSafeContextualKeywordToken = AWAIT,
102     LastSafeContextualKeywordToken = LastContextualKeywordToken,
103 
104     OPENBRACE = 0,
105     CLOSEBRACE,
106     OPENPAREN,
107     CLOSEPAREN,
108     OPENBRACKET,
</pre>
<hr />
<pre>
180     UNTERMINATED_IDENTIFIER_UNICODE_ESCAPE_ERRORTOK = 2 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
181     INVALID_IDENTIFIER_UNICODE_ESCAPE_ERRORTOK = 3 | ErrorTokenFlag,
182     UNTERMINATED_MULTILINE_COMMENT_ERRORTOK = 4 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
183     UNTERMINATED_NUMERIC_LITERAL_ERRORTOK = 5 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
184     UNTERMINATED_OCTAL_NUMBER_ERRORTOK = 6 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
185     INVALID_NUMERIC_LITERAL_ERRORTOK = 7 | ErrorTokenFlag,
186     UNTERMINATED_STRING_LITERAL_ERRORTOK = 8 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
187     INVALID_STRING_LITERAL_ERRORTOK = 9 | ErrorTokenFlag,
188     INVALID_PRIVATE_NAME_ERRORTOK = 10 | ErrorTokenFlag,
189     UNTERMINATED_HEX_NUMBER_ERRORTOK = 11 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
190     UNTERMINATED_BINARY_NUMBER_ERRORTOK = 12 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
191     UNTERMINATED_TEMPLATE_LITERAL_ERRORTOK = 13 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
192     UNTERMINATED_REGEXP_LITERAL_ERRORTOK = 14 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
193     INVALID_TEMPLATE_LITERAL_ERRORTOK = 15 | ErrorTokenFlag,
194     UNEXPECTED_ESCAPE_ERRORTOK = 16 | ErrorTokenFlag,
195 };
196 static_assert(static_cast&lt;unsigned&gt;(POW) &lt;= 0x00ffffffU, &quot;JSTokenType must be 24bits.&quot;);
197 
198 struct JSTextPosition {
199     JSTextPosition() = default;
<span class="line-modified">200     JSTextPosition(int _line, int _offset, int _lineStartOffset) : line(_line), offset(_offset), lineStartOffset(_lineStartOffset) { }</span>






201 
202     JSTextPosition operator+(int adjustment) const { return JSTextPosition(line, offset + adjustment, lineStartOffset); }
203     JSTextPosition operator+(unsigned adjustment) const { return *this + static_cast&lt;int&gt;(adjustment); }
204     JSTextPosition operator-(int adjustment) const { return *this + (- adjustment); }
205     JSTextPosition operator-(unsigned adjustment) const { return *this + (- static_cast&lt;int&gt;(adjustment)); }
206 
207     operator int() const { return offset; }
208 
209     bool operator==(const JSTextPosition&amp; other) const
210     {
211         return line == other.line
212             &amp;&amp; offset == other.offset
213             &amp;&amp; lineStartOffset == other.lineStartOffset;
214     }
215     bool operator!=(const JSTextPosition&amp; other) const
216     {
217         return !(*this == other);
218     }
219 
<span class="line-modified">220     int line { 0 };</span>
<span class="line-modified">221     int offset { 0 };</span>
<span class="line-modified">222     int lineStartOffset { 0 };</span>










223 };
224 
225 union JSTokenData {
226     struct {
227         const Identifier* cooked;
228         const Identifier* raw;
229         bool isTail;
230     };
231     struct {
232         uint32_t line;
233         uint32_t offset;
234         uint32_t lineStartOffset;
235     };
236     double doubleValue;
237     struct {
238         const Identifier* ident;
239         bool escaped;
240     };
241     struct {
242         const Identifier* bigIntString;
</pre>
</td>
<td>
<hr />
<pre>
 68     VAR,
 69     CONSTTOKEN,
 70     CONTINUE,
 71     FUNCTION,
 72     RETURN,
 73     IF,
 74     THISTOKEN,
 75     DO,
 76     WHILE,
 77     SWITCH,
 78     WITH,
 79     RESERVED,
 80     RESERVED_IF_STRICT,
 81     THROW,
 82     TRY,
 83     CATCH,
 84     FINALLY,
 85     DEBUGGER,
 86     ELSE,
 87     IMPORT,
<span class="line-modified"> 88     EXPORT_,</span>
 89     CLASSTOKEN,
 90     EXTENDS,
 91     SUPER,
 92 
 93     // Contextual keywords
 94 
 95     LET,
 96     YIELD,
 97     AWAIT,
 98 
 99     FirstContextualKeywordToken = LET,
100     LastContextualKeywordToken = AWAIT,
101     FirstSafeContextualKeywordToken = AWAIT,
102     LastSafeContextualKeywordToken = LastContextualKeywordToken,
103 
104     OPENBRACE = 0,
105     CLOSEBRACE,
106     OPENPAREN,
107     CLOSEPAREN,
108     OPENBRACKET,
</pre>
<hr />
<pre>
180     UNTERMINATED_IDENTIFIER_UNICODE_ESCAPE_ERRORTOK = 2 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
181     INVALID_IDENTIFIER_UNICODE_ESCAPE_ERRORTOK = 3 | ErrorTokenFlag,
182     UNTERMINATED_MULTILINE_COMMENT_ERRORTOK = 4 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
183     UNTERMINATED_NUMERIC_LITERAL_ERRORTOK = 5 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
184     UNTERMINATED_OCTAL_NUMBER_ERRORTOK = 6 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
185     INVALID_NUMERIC_LITERAL_ERRORTOK = 7 | ErrorTokenFlag,
186     UNTERMINATED_STRING_LITERAL_ERRORTOK = 8 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
187     INVALID_STRING_LITERAL_ERRORTOK = 9 | ErrorTokenFlag,
188     INVALID_PRIVATE_NAME_ERRORTOK = 10 | ErrorTokenFlag,
189     UNTERMINATED_HEX_NUMBER_ERRORTOK = 11 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
190     UNTERMINATED_BINARY_NUMBER_ERRORTOK = 12 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
191     UNTERMINATED_TEMPLATE_LITERAL_ERRORTOK = 13 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
192     UNTERMINATED_REGEXP_LITERAL_ERRORTOK = 14 | ErrorTokenFlag | UnterminatedErrorTokenFlag,
193     INVALID_TEMPLATE_LITERAL_ERRORTOK = 15 | ErrorTokenFlag,
194     UNEXPECTED_ESCAPE_ERRORTOK = 16 | ErrorTokenFlag,
195 };
196 static_assert(static_cast&lt;unsigned&gt;(POW) &lt;= 0x00ffffffU, &quot;JSTokenType must be 24bits.&quot;);
197 
198 struct JSTextPosition {
199     JSTextPosition() = default;
<span class="line-modified">200     JSTextPosition(int _line, int _offset, int _lineStartOffset)</span>
<span class="line-added">201         : line(_line)</span>
<span class="line-added">202         , offset(_offset)</span>
<span class="line-added">203         , lineStartOffset(_lineStartOffset)</span>
<span class="line-added">204     {</span>
<span class="line-added">205         checkConsistency();</span>
<span class="line-added">206     }</span>
207 
208     JSTextPosition operator+(int adjustment) const { return JSTextPosition(line, offset + adjustment, lineStartOffset); }
209     JSTextPosition operator+(unsigned adjustment) const { return *this + static_cast&lt;int&gt;(adjustment); }
210     JSTextPosition operator-(int adjustment) const { return *this + (- adjustment); }
211     JSTextPosition operator-(unsigned adjustment) const { return *this + (- static_cast&lt;int&gt;(adjustment)); }
212 
213     operator int() const { return offset; }
214 
215     bool operator==(const JSTextPosition&amp; other) const
216     {
217         return line == other.line
218             &amp;&amp; offset == other.offset
219             &amp;&amp; lineStartOffset == other.lineStartOffset;
220     }
221     bool operator!=(const JSTextPosition&amp; other) const
222     {
223         return !(*this == other);
224     }
225 
<span class="line-modified">226     int column() const { return offset - lineStartOffset; }</span>
<span class="line-modified">227     void checkConsistency()</span>
<span class="line-modified">228     {</span>
<span class="line-added">229         // FIXME: We should test ASSERT(offset &gt;= lineStartOffset); but that breaks a lot of tests.</span>
<span class="line-added">230         ASSERT(line &gt;= 0);</span>
<span class="line-added">231         ASSERT(offset &gt;= 0);</span>
<span class="line-added">232         ASSERT(lineStartOffset &gt;= 0);</span>
<span class="line-added">233     }</span>
<span class="line-added">234 </span>
<span class="line-added">235     // FIXME: these should be unsigned.</span>
<span class="line-added">236     int line { -1 };</span>
<span class="line-added">237     int offset { -1 };</span>
<span class="line-added">238     int lineStartOffset { -1 };</span>
239 };
240 
241 union JSTokenData {
242     struct {
243         const Identifier* cooked;
244         const Identifier* raw;
245         bool isTail;
246     };
247     struct {
248         uint32_t line;
249         uint32_t offset;
250         uint32_t lineStartOffset;
251     };
252     double doubleValue;
253     struct {
254         const Identifier* ident;
255         bool escaped;
256     };
257     struct {
258         const Identifier* bigIntString;
</pre>
</td>
</tr>
</table>
<center><a href="ParserModes.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ResultType.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>