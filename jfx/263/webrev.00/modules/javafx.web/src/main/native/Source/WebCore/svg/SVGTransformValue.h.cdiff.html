<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/svg/SVGTransformValue.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SVGTransformList.idl.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SVGURIReference.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/svg/SVGTransformValue.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,9 ***</span>
  /*
   * Copyright (C) 2004, 2005, 2008 Nikolas Zimmermann &lt;zimmermann@kde.org&gt;
   * Copyright (C) 2004, 2005 Rob Buis &lt;buis@kde.org&gt;
<span class="line-modified">!  * Copyright (C) 2019 Apple Inc.  All rights reserved.</span>
   *
   * This library is free software; you can redistribute it and/or
   * modify it under the terms of the GNU Library General Public
   * License as published by the Free Software Foundation; either
   * version 2 of the License, or (at your option) any later version.
<span class="line-new-header">--- 1,9 ---</span>
  /*
   * Copyright (C) 2004, 2005, 2008 Nikolas Zimmermann &lt;zimmermann@kde.org&gt;
   * Copyright (C) 2004, 2005 Rob Buis &lt;buis@kde.org&gt;
<span class="line-modified">!  * Copyright (C) 2019 Apple Inc. All rights reserved.</span>
   *
   * This library is free software; you can redistribute it and/or
   * modify it under the terms of the GNU Library General Public
   * License as published by the Free Software Foundation; either
   * version 2 of the License, or (at your option) any later version.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 204,30 ***</span>
              break;
          }
          return builder.toString();
      }
  
<span class="line-modified">!     static String prefixForTransfromType(SVGTransformType type)</span>
      {
          switch (type) {
          case SVG_TRANSFORM_UNKNOWN:
<span class="line-modified">!             return emptyString();</span>
          case SVG_TRANSFORM_MATRIX:
<span class="line-modified">!             return &quot;matrix(&quot;_s;</span>
          case SVG_TRANSFORM_TRANSLATE:
<span class="line-modified">!             return &quot;translate(&quot;_s;</span>
          case SVG_TRANSFORM_SCALE:
<span class="line-modified">!             return &quot;scale(&quot;_s;</span>
          case SVG_TRANSFORM_ROTATE:
<span class="line-modified">!             return &quot;rotate(&quot;_s;</span>
          case SVG_TRANSFORM_SKEWX:
<span class="line-modified">!             return &quot;skewX(&quot;_s;</span>
          case SVG_TRANSFORM_SKEWY:
<span class="line-modified">!             return &quot;skewY(&quot;_s;</span>
          }
          ASSERT_NOT_REACHED();
<span class="line-modified">!         return emptyString();</span>
      }
  
  private:
      static void appendFixedPrecisionNumbers(StringBuilder&amp; builder)
      {
<span class="line-new-header">--- 204,30 ---</span>
              break;
          }
          return builder.toString();
      }
  
<span class="line-modified">!     static const char* prefixForTransfromType(SVGTransformType type)</span>
      {
          switch (type) {
          case SVG_TRANSFORM_UNKNOWN:
<span class="line-modified">!             return &quot;&quot;;</span>
          case SVG_TRANSFORM_MATRIX:
<span class="line-modified">!             return &quot;matrix(&quot;;</span>
          case SVG_TRANSFORM_TRANSLATE:
<span class="line-modified">!             return &quot;translate(&quot;;</span>
          case SVG_TRANSFORM_SCALE:
<span class="line-modified">!             return &quot;scale(&quot;;</span>
          case SVG_TRANSFORM_ROTATE:
<span class="line-modified">!             return &quot;rotate(&quot;;</span>
          case SVG_TRANSFORM_SKEWX:
<span class="line-modified">!             return &quot;skewX(&quot;;</span>
          case SVG_TRANSFORM_SKEWY:
<span class="line-modified">!             return &quot;skewY(&quot;;</span>
          }
          ASSERT_NOT_REACHED();
<span class="line-modified">!         return &quot;&quot;;</span>
      }
  
  private:
      static void appendFixedPrecisionNumbers(StringBuilder&amp; builder)
      {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 237,11 ***</span>
      template&lt;typename Number, typename... Numbers&gt;
      static void appendFixedPrecisionNumbers(StringBuilder&amp; builder, Number number, Numbers... numbers)
      {
          if (builder.length() &amp;&amp; builder[builder.length() - 1] != &#39;(&#39;)
              builder.append(&#39; &#39;);
<span class="line-modified">!         builder.appendFixedPrecisionNumber(number);</span>
          appendFixedPrecisionNumbers(builder, numbers...);
      }
  
      void appendMatrix(StringBuilder&amp; builder) const
      {
<span class="line-new-header">--- 237,12 ---</span>
      template&lt;typename Number, typename... Numbers&gt;
      static void appendFixedPrecisionNumbers(StringBuilder&amp; builder, Number number, Numbers... numbers)
      {
          if (builder.length() &amp;&amp; builder[builder.length() - 1] != &#39;(&#39;)
              builder.append(&#39; &#39;);
<span class="line-modified">!         // FIXME: Shortest form would be better, but fixed precision is required for now to smooth over precision errors caused by converting float to double and back since we use AffineTransform to store transforms.</span>
<span class="line-added">+         builder.append(FormattedNumber::fixedPrecision(number));</span>
          appendFixedPrecisionNumbers(builder, numbers...);
      }
  
      void appendMatrix(StringBuilder&amp; builder) const
      {
</pre>
<center><a href="SVGTransformList.idl.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="SVGURIReference.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>