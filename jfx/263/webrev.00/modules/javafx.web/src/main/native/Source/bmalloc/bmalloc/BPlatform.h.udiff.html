<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/bmalloc/bmalloc/BPlatform.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="AvailableMemory.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="BumpAllocator.h.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/bmalloc/bmalloc/BPlatform.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -38,11 +38,11 @@</span>
  
  #ifdef __APPLE__
  #define BOS_DARWIN 1
  #endif
  
<span class="udiff-line-modified-removed">- #ifdef __unix</span>
<span class="udiff-line-modified-added">+ #if defined(__unix) || defined(__unix__)</span>
  #define BOS_UNIX 1
  #endif
  
  #ifdef __linux__
  #define BOS_LINUX 1
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -56,10 +56,11 @@</span>
  #define BOS_WINDOWS 1
  #endif
  
  #if BOS(DARWIN) &amp;&amp; !defined(BUILDING_WITH_CMAKE)
  #if TARGET_OS_IOS
<span class="udiff-line-added">+ #define BOS_IOS 1</span>
  #define BPLATFORM_IOS 1
  #if TARGET_OS_SIMULATOR
  #define BPLATFORM_IOS_SIMULATOR 1
  #endif
  #endif
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -67,23 +68,26 @@</span>
  #define BPLATFORM_IOS_FAMILY 1
  #if TARGET_OS_SIMULATOR
  #define BPLATFORM_IOS_FAMILY_SIMULATOR 1
  #endif
  #elif TARGET_OS_MAC
<span class="udiff-line-added">+ #define BOS_MAC 1</span>
  #define BPLATFORM_MAC 1
  #endif
  #endif
  
  #if BPLATFORM(MAC) || BPLATFORM(IOS_FAMILY)
  #define BPLATFORM_COCOA 1
  #endif
  
  #if defined(TARGET_OS_WATCH) &amp;&amp; TARGET_OS_WATCH
<span class="udiff-line-added">+ #define BOS_WATCHOS 1</span>
  #define BPLATFORM_WATCHOS 1
  #endif
  
  #if defined(TARGET_OS_TV) &amp;&amp; TARGET_OS_TV
<span class="udiff-line-added">+ #define BOS_APPLETV 1</span>
  #define BPLATFORM_APPLETV 1
  #endif
  
  /* ==== Policy decision macros: these define policy choices for a particular port. ==== */
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -228,10 +232,49 @@</span>
  #  error &quot;Cannot use both of BCPU_ARM_TRADITIONAL and BCPU_ARM_THUMB2 platforms&quot;
  #endif /* !defined(BCPU_ARM_TRADITIONAL) &amp;&amp; !defined(BCPU_ARM_THUMB2) */
  
  #endif /* ARM */
  
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ #if BCOMPILER(GCC_COMPATIBLE)</span>
<span class="udiff-line-added">+ /* __LP64__ is not defined on 64bit Windows since it uses LLP64. Using __SIZEOF_POINTER__ is simpler. */</span>
<span class="udiff-line-added">+ #if __SIZEOF_POINTER__ == 8</span>
<span class="udiff-line-added">+ #define BCPU_ADDRESS64 1</span>
<span class="udiff-line-added">+ #elif __SIZEOF_POINTER__ == 4</span>
<span class="udiff-line-added">+ #define BCPU_ADDRESS32 1</span>
<span class="udiff-line-added">+ #else</span>
<span class="udiff-line-added">+ #error &quot;Unsupported pointer width&quot;</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ #else</span>
<span class="udiff-line-added">+ #error &quot;Unsupported compiler for bmalloc&quot;</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ #if BCOMPILER(GCC_COMPATIBLE)</span>
<span class="udiff-line-added">+ #if __BYTE_ORDER__ == __ORDER_BIG_ENDIAN__</span>
<span class="udiff-line-added">+ #define BCPU_BIG_ENDIAN 1</span>
<span class="udiff-line-added">+ #elif __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__</span>
<span class="udiff-line-added">+ #define BCPU_LITTLE_ENDIAN 1</span>
<span class="udiff-line-added">+ #elif __BYTE_ORDER__ == __ORDER_PDP_ENDIAN__</span>
<span class="udiff-line-added">+ #define BCPU_MIDDLE_ENDIAN 1</span>
<span class="udiff-line-added">+ #else</span>
<span class="udiff-line-added">+ #error &quot;Unknown endian&quot;</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ #else</span>
<span class="udiff-line-added">+ #error &quot;Unsupported compiler for bmalloc&quot;</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ #if BCPU(ADDRESS64)</span>
<span class="udiff-line-added">+ #if (BOS(IOS) || BOS(TVOS) || BOS(WATCHOS)) &amp;&amp; BCPU(ARM64)</span>
<span class="udiff-line-added">+ #define BOS_EFFECTIVE_ADDRESS_WIDTH 36</span>
<span class="udiff-line-added">+ #else</span>
<span class="udiff-line-added">+ /* We strongly assume that effective address width is &lt;= 48 in 64bit architectures (e.g. NaN boxing). */</span>
<span class="udiff-line-added">+ #define BOS_EFFECTIVE_ADDRESS_WIDTH 48</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ #else</span>
<span class="udiff-line-added">+ #define BOS_EFFECTIVE_ADDRESS_WIDTH 32</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ </span>
  #define BATTRIBUTE_PRINTF(formatStringArgument, extraArguments) __attribute__((__format__(printf, formatStringArgument, extraArguments)))
  
  #if BPLATFORM(MAC) || BPLATFORM(IOS_FAMILY)
  #define BUSE_OS_LOG 1
  #endif
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -243,14 +286,30 @@</span>
  /* BUNUSED_PARAM */
  #if !defined(BUNUSED_PARAM)
  #define BUNUSED_PARAM(variable) (void)variable
  #endif
  
<span class="udiff-line-added">+ /* Enable this to put each IsoHeap and other allocation categories into their own malloc heaps, so that tools like vmmap can show how big each heap is. */</span>
<span class="udiff-line-added">+ #define BENABLE_MALLOC_HEAP_BREAKDOWN 0</span>
<span class="udiff-line-added">+ </span>
  /* This is used for debugging when hacking on how bmalloc calculates its physical footprint. */
  #define ENABLE_PHYSICAL_PAGE_MAP 0
  
  #if BPLATFORM(IOS_FAMILY) &amp;&amp; (BCPU(ARM64) || BCPU(ARM))
  #define BUSE_CHECK_NANO_MALLOC 1
  #else
  #define BUSE_CHECK_NANO_MALLOC 0
  #endif
  
<span class="udiff-line-added">+ #if BPLATFORM(MAC)</span>
<span class="udiff-line-added">+ #define BUSE_PARTIAL_SCAVENGE 1</span>
<span class="udiff-line-added">+ #else</span>
<span class="udiff-line-added">+ #define BUSE_PARTIAL_SCAVENGE 0</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ #if !defined(BUSE_PRECOMPUTED_CONSTANTS_VMPAGE4K)</span>
<span class="udiff-line-added">+ #define BUSE_PRECOMPUTED_CONSTANTS_VMPAGE4K 1</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ #if !defined(BUSE_PRECOMPUTED_CONSTANTS_VMPAGE16K)</span>
<span class="udiff-line-added">+ #define BUSE_PRECOMPUTED_CONSTANTS_VMPAGE16K 1</span>
<span class="udiff-line-added">+ #endif</span>
</pre>
<center><a href="AvailableMemory.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="BumpAllocator.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>