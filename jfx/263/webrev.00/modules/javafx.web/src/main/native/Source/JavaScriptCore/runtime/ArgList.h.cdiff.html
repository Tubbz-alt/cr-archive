<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/runtime/ArgList.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="AbstractModuleRecord.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ArrayBuffer.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/runtime/ArgList.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 131,10 ***</span>
<span class="line-new-header">--- 131,21 ---</span>
          return Base::hasOverflowed();
      }
  
      void overflowCheckNotNeeded() { clearNeedsOverflowCheck(); }
  
<span class="line-added">+     template&lt;typename Functor&gt;</span>
<span class="line-added">+     void fill(size_t count, const Functor&amp; func)</span>
<span class="line-added">+     {</span>
<span class="line-added">+         ASSERT(!m_size);</span>
<span class="line-added">+         ensureCapacity(count);</span>
<span class="line-added">+         if (Base::hasOverflowed())</span>
<span class="line-added">+             return;</span>
<span class="line-added">+         m_size = count;</span>
<span class="line-added">+         func(reinterpret_cast&lt;JSValue*&gt;(&amp;slotFor(0)));</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
  private:
      void expandCapacity();
      void expandCapacity(int newCapacity);
      void slowEnsureCapacity(size_t requestedCapacity);
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 152,19 ***</span>
          if (m_buffer == m_inlineBuffer)
              return 0;
          return &amp;slotFor(0);
      }
  
<span class="line-modified">! #if ASSERT_DISABLED</span>
<span class="line-removed">-     void setNeedsOverflowCheck() { }</span>
<span class="line-removed">-     void clearNeedsOverflowCheck() { }</span>
<span class="line-removed">- #else</span>
      void setNeedsOverflowCheck() { m_needsOverflowCheck = true; }
      void clearNeedsOverflowCheck() { m_needsOverflowCheck = false; }
  
      bool m_needsOverflowCheck { false };
<span class="line-modified">! #endif</span>
      int m_size;
      int m_capacity;
      EncodedJSValue m_inlineBuffer[inlineCapacity];
      EncodedJSValue* m_buffer;
      ListSet* m_markSet;
<span class="line-new-header">--- 163,19 ---</span>
          if (m_buffer == m_inlineBuffer)
              return 0;
          return &amp;slotFor(0);
      }
  
<span class="line-modified">! #if ASSERT_ENABLED</span>
      void setNeedsOverflowCheck() { m_needsOverflowCheck = true; }
      void clearNeedsOverflowCheck() { m_needsOverflowCheck = false; }
  
      bool m_needsOverflowCheck { false };
<span class="line-modified">! #else</span>
<span class="line-added">+     void setNeedsOverflowCheck() { }</span>
<span class="line-added">+     void clearNeedsOverflowCheck() { }</span>
<span class="line-added">+ #endif // ASSERT_ENABLED</span>
      int m_size;
      int m_capacity;
      EncodedJSValue m_inlineBuffer[inlineCapacity];
      EncodedJSValue* m_buffer;
      ListSet* m_markSet;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 179,13 ***</span>
          : m_args(0)
          , m_argCount(0)
      {
      }
  
<span class="line-modified">!     ArgList(ExecState* exec)</span>
<span class="line-modified">!         : m_args(reinterpret_cast&lt;JSValue*&gt;(&amp;exec[CallFrame::argumentOffset(0)]))</span>
<span class="line-modified">!         , m_argCount(exec-&gt;argumentCount())</span>
      {
      }
  
      ArgList(const MarkedArgumentBuffer&amp; args)
          : m_args(reinterpret_cast&lt;JSValue*&gt;(args.m_buffer))
<span class="line-new-header">--- 190,13 ---</span>
          : m_args(0)
          , m_argCount(0)
      {
      }
  
<span class="line-modified">!     ArgList(CallFrame* callFrame)</span>
<span class="line-modified">!         : m_args(reinterpret_cast&lt;JSValue*&gt;(&amp;callFrame[CallFrame::argumentOffset(0)]))</span>
<span class="line-modified">!         , m_argCount(callFrame-&gt;argumentCount())</span>
      {
      }
  
      ArgList(const MarkedArgumentBuffer&amp; args)
          : m_args(reinterpret_cast&lt;JSValue*&gt;(args.m_buffer))
</pre>
<center><a href="AbstractModuleRecord.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ArrayBuffer.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>