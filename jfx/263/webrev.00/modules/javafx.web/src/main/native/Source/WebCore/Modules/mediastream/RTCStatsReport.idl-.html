<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old modules/javafx.web/src/main/native/Source/WebCore/Modules/mediastream/RTCStatsReport.idl</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (C) 2012 Google Inc. All rights reserved.
  3  * Copyright (C) 2017 Apple Inc. All rights reserved.
  4  *
  5  * Redistribution and use in source and binary forms, with or without
  6  * modification, are permitted provided that the following conditions
  7  * are met:
  8  * 1.  Redistributions of source code must retain the above copyright
  9  *     notice, this list of conditions and the following disclaimer.
 10  * 2.  Redistributions in binary form must reproduce the above copyright
 11  *     notice, this list of conditions and the following disclaimer in the
 12  *     documentation and/or other materials provided with the distribution.
 13  *
 14  * THIS SOFTWARE IS PROVIDED BY APPLE INC. AND ITS CONTRIBUTORS ``AS IS&#39;&#39; AND ANY
 15  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 16  * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 17  * DISCLAIMED. IN NO EVENT SHALL APPLE INC. OR ITS CONTRIBUTORS BE LIABLE FOR ANY
 18  * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 19  * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 20  * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 21  * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 22  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 23  * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 24  */
 25 
 26 [
 27     Conditional=WEB_RTC,
 28     EnabledAtRuntime=PeerConnection,
 29     ImplementationLacksVTable,
 30 ] interface RTCStatsReport {
 31     readonly maplike&lt;DOMString, object&gt;;
 32 };
 33 
 34 enum RTCStatsType {
 35     &quot;codec&quot;,
 36     &quot;inbound-rtp&quot;,
 37     &quot;outbound-rtp&quot;,
 38     &quot;peer-connection&quot;,
 39     &quot;data-channel&quot;,
 40     &quot;track&quot;,
 41     &quot;transport&quot;,
 42     &quot;candidate-pair&quot;,
 43     &quot;local-candidate&quot;,
 44     &quot;remote-candidate&quot;,
 45     &quot;certificate&quot;
 46 };
 47 
 48 typedef double DOMHighResTimeStamp;
 49 
 50 dictionary RTCStats {
 51     DOMHighResTimeStamp timestamp;
 52     RTCStatsType type;
 53     DOMString id;
 54 
 55 };
 56 
 57 dictionary RTCRTPStreamStats : RTCStats {
 58     unsigned long ssrc;
 59     DOMString associateStatsId;
 60     boolean isRemote = false;
 61     DOMString mediaType;
 62     DOMString trackId;
 63     DOMString transportId;
 64     DOMString codecId;
 65     unsigned long firCount;
 66     unsigned long pliCount;
 67     unsigned long nackCount;
 68     unsigned long sliCount;
 69     unsigned long long qpSum;
 70 };
 71 
 72 [ JSGenerateToJSObject ]
 73 dictionary RTCInboundRTPStreamStats : RTCRTPStreamStats {
 74     unsigned long packetsReceived;
 75     unsigned long long bytesReceived;
 76     unsigned long packetsLost;
 77     double jitter;
 78     double fractionLost;
 79     unsigned long packetsDiscarded;
 80     unsigned long packetsRepaired;
 81     unsigned long burstPacketsLost;
 82     unsigned long burstPacketsDiscarded;
 83     unsigned long burstLossCount;
 84     unsigned long burstDiscardCount;
 85     double burstLossRate;
 86     double burstDiscardRate;
 87     double gapLossRate;
 88     double gapDiscardRate;
 89     unsigned long framesDecoded;
 90 };
 91 
 92 [ JSGenerateToJSObject ]
 93 dictionary RTCOutboundRTPStreamStats : RTCRTPStreamStats {
 94     unsigned long packetsSent;
 95     unsigned long long bytesSent;
 96     double targetBitrate;
 97     // FIXME 169662: missing roundTripTime
 98     unsigned long framesEncoded;
 99 };
100 
101 [ JSGenerateToJSObject ]
102 dictionary RTCMediaStreamTrackStats : RTCStats {
103     DOMString trackIdentifier;
104     boolean remoteSource;
105     boolean ended;
106     boolean detached;
107     // FIXME: Add sequence&lt;DOMString&gt; ssrcIds;
108     unsigned long frameWidth;
109     unsigned long frameHeight;
110     double framesPerSecond;
111     unsigned long framesSent;
112     unsigned long framesReceived;
113     unsigned long framesDecoded;
114     unsigned long framesDropped;
115     unsigned long framesCorrupted;
116     unsigned long partialFramesLost;
117     unsigned long fullFramesLost;
118     double audioLevel;
119     double echoReturnLoss;
120     double echoReturnLossEnhancement;
121 };
122 
123 [ JSGenerateToJSObject ]
124 dictionary RTCDataChannelStats : RTCStats {
125     DOMString label;
126     DOMString protocol;
127     long datachannelid;
128     // FIXME: Switch state to RTCDataChannelState
129     DOMString state;
130     unsigned long messagesSent;
131     unsigned long long bytesSent;
132     unsigned long messagesReceived;
133     unsigned long long bytesReceived;
134 };
135 
136 enum RTCStatsIceCandidatePairState {
137     &quot;frozen&quot;,
138     &quot;waiting&quot;,
139     &quot;inprogress&quot;,
140     &quot;failed&quot;,
141     &quot;succeeded&quot;,
142     &quot;cancelled&quot;
143 };
144 
145 [ JSGenerateToJSObject ]
146 dictionary RTCIceCandidatePairStats : RTCStats {
147     DOMString transportId;
148     DOMString localCandidateId;
149     DOMString remoteCandidateId;
150     RTCStatsIceCandidatePairState state;
151     unsigned long long priority;
152     boolean nominated;
153     boolean writable;
154     boolean readable;
155     unsigned long long bytesSent;
156     unsigned long long bytesReceived;
157     double totalRoundTripTime;
158     double currentRoundTripTime;
159     double availableOutgoingBitrate;
160     double availableIncomingBitrate;
161     unsigned long long requestsReceived;
162     unsigned long long requestsSent;
163     unsigned long long responsesReceived;
164     unsigned long long responsesSent;
165     // FIXME: Expose other fields once libwebrtc support them.
166 };
167 
168 enum RTCIceCandidateType {
169     &quot;host&quot;,
170     &quot;srflx&quot;,
171     &quot;prflx&quot;,
172     &quot;relay&quot;
173 };
174 
175 [ JSGenerateToJSObject ]
176 dictionary RTCIceCandidateStats : RTCStats {
177     DOMString transportId;
178     // FIXME: decide whether to expose networkType
179     // FIXME: Expose relayProtocol
180     DOMString address;
181     long port;
182     DOMString protocol;
183     RTCIceCandidateType candidateType;
184     long priority;
185     DOMString url;
186     boolean deleted = false;
187 };
188 
189 [ JSGenerateToJSObject ]
190 dictionary RTCCertificateStats : RTCStats {
191     DOMString fingerprint;
192     DOMString fingerprintAlgorithm;
193     DOMString base64Certificate;
194     DOMString issuerCertificateId;
195 };
196 
197 enum RTCCodecType {
198     &quot;encode&quot;,
199     &quot;decode&quot;
200 };
201 
202 [ JSGenerateToJSObject ]
203 dictionary RTCCodecStats : RTCStats {
204     unsigned long payloadType;
205     RTCCodecType codecType;
206     DOMString transportId;
207     DOMString mimeType;
208     unsigned long clockRate;
209     unsigned long channels;
210     DOMString sdpFmtpLine;
211     DOMString implementation;
212 };
213 
214 [ JSGenerateToJSObject ]
215 dictionary RTCTransportStats : RTCStats {
216     // FIXME 169662: Support more fields.
217     // unsigned long packetsSent;
218     // unsigned long packetsReceived;
219     unsigned long long bytesSent;
220     unsigned long long bytesReceived;
221     DOMString rtcpTransportStatsId;
222     // RTCIceRole iceRole;
223     // RTCDtlsTransportState dtlsState;
224     DOMString selectedCandidatePairId;
225     DOMString localCertificateId;
226     DOMString remoteCertificateId;
227     // DOMString tlsVersion;
228     // DOMString dtlsCipher;
229     // DOMString srtpCipher;
230     // DOMString tlsGroup;
231 };
232 
233 [ JSGenerateToJSObject ]
234 dictionary RTCPeerConnectionStats : RTCStats {
235     // FIXME 169662: Support more fields.
236     unsigned long dataChannelsOpened;
237     unsigned long dataChannelsClosed;
238     // unsigned long dataChannelsRequested;
239     // unsigned long dataChannelsAccepted;
240 };
241 
242 // FIXME 169662: missing RTCMediaStreamStats
    </pre>
  </body>
</html>