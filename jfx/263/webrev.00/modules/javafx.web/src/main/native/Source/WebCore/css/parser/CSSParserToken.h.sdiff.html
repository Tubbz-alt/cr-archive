<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/css/parser/CSSParserToken.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="CSSParserToken.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="CSSPropertyParser.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/css/parser/CSSParserToken.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
110     // Converts NumberToken to DimensionToken.
111     void convertToDimensionWithUnit(StringView);
112 
113     // Converts NumberToken to PercentageToken.
114     void convertToPercentage();
115 
116     CSSParserTokenType type() const { return static_cast&lt;CSSParserTokenType&gt;(m_type); }
117     StringView value() const
118     {
119         if (m_valueIs8Bit)
120             return StringView(static_cast&lt;const LChar*&gt;(m_valueDataCharRaw), m_valueLength);
121         return StringView(static_cast&lt;const UChar*&gt;(m_valueDataCharRaw), m_valueLength);
122     }
123 
124     UChar delimiter() const;
125     NumericSign numericSign() const;
126     NumericValueType numericValueType() const;
127     double numericValue() const;
128     HashTokenType getHashTokenType() const { ASSERT(m_type == HashToken); return m_hashTokenType; }
129     BlockType getBlockType() const { return static_cast&lt;BlockType&gt;(m_blockType); }
<span class="line-modified">130     CSSPrimitiveValue::UnitType unitType() const { return static_cast&lt;CSSPrimitiveValue::UnitType&gt;(m_unit); }</span>
131     UChar32 unicodeRangeStart() const { ASSERT(m_type == UnicodeRangeToken); return m_unicodeRange.start; }
132     UChar32 unicodeRangeEnd() const { ASSERT(m_type == UnicodeRangeToken); return m_unicodeRange.end; }
133     CSSValueID id() const;
134     CSSValueID functionId() const;
135 
136     bool hasStringBacking() const;
137 
138     CSSPropertyID parseAsCSSPropertyID() const;
139 
140     void serialize(StringBuilder&amp;) const;
141 
142     CSSParserToken copyWithUpdatedString(const StringView&amp;) const;
143 
144 private:
145     void initValueFromStringView(StringView string)
146     {
147         m_valueLength = string.length();
148         m_valueIs8Bit = string.is8Bit();
149         m_valueDataCharRaw = m_valueIs8Bit ? const_cast&lt;void*&gt;(static_cast&lt;const void*&gt;(string.characters8())) : const_cast&lt;void*&gt;(static_cast&lt;const void*&gt;(string.characters16()));
150     }
151     unsigned m_type : 6; // CSSParserTokenType
152     unsigned m_blockType : 2; // BlockType
153     unsigned m_numericValueType : 1; // NumericValueType
154     unsigned m_numericSign : 2; // NumericSign
<span class="line-modified">155     unsigned m_unit : 7; // CSSPrimitiveValue::UnitType</span>
156 
157     bool valueDataCharRawEqual(const CSSParserToken&amp; other) const;
158 
159     // m_value... is an unpacked StringView so that we can pack it
160     // tightly with the rest of this object for a smaller object size.
161     bool m_valueIs8Bit : 1;
162     unsigned m_valueLength;
163     void* m_valueDataCharRaw; // Either LChar* or UChar*.
164 
165     union {
166         UChar m_delimiter;
167         HashTokenType m_hashTokenType;
168         double m_numericValue;
169         mutable int m_id;
170 
171         struct {
172             UChar32 start;
173             UChar32 end;
174         } m_unicodeRange;
175     };
</pre>
</td>
<td>
<hr />
<pre>
110     // Converts NumberToken to DimensionToken.
111     void convertToDimensionWithUnit(StringView);
112 
113     // Converts NumberToken to PercentageToken.
114     void convertToPercentage();
115 
116     CSSParserTokenType type() const { return static_cast&lt;CSSParserTokenType&gt;(m_type); }
117     StringView value() const
118     {
119         if (m_valueIs8Bit)
120             return StringView(static_cast&lt;const LChar*&gt;(m_valueDataCharRaw), m_valueLength);
121         return StringView(static_cast&lt;const UChar*&gt;(m_valueDataCharRaw), m_valueLength);
122     }
123 
124     UChar delimiter() const;
125     NumericSign numericSign() const;
126     NumericValueType numericValueType() const;
127     double numericValue() const;
128     HashTokenType getHashTokenType() const { ASSERT(m_type == HashToken); return m_hashTokenType; }
129     BlockType getBlockType() const { return static_cast&lt;BlockType&gt;(m_blockType); }
<span class="line-modified">130     CSSUnitType unitType() const { return static_cast&lt;CSSUnitType&gt;(m_unit); }</span>
131     UChar32 unicodeRangeStart() const { ASSERT(m_type == UnicodeRangeToken); return m_unicodeRange.start; }
132     UChar32 unicodeRangeEnd() const { ASSERT(m_type == UnicodeRangeToken); return m_unicodeRange.end; }
133     CSSValueID id() const;
134     CSSValueID functionId() const;
135 
136     bool hasStringBacking() const;
137 
138     CSSPropertyID parseAsCSSPropertyID() const;
139 
140     void serialize(StringBuilder&amp;) const;
141 
142     CSSParserToken copyWithUpdatedString(const StringView&amp;) const;
143 
144 private:
145     void initValueFromStringView(StringView string)
146     {
147         m_valueLength = string.length();
148         m_valueIs8Bit = string.is8Bit();
149         m_valueDataCharRaw = m_valueIs8Bit ? const_cast&lt;void*&gt;(static_cast&lt;const void*&gt;(string.characters8())) : const_cast&lt;void*&gt;(static_cast&lt;const void*&gt;(string.characters16()));
150     }
151     unsigned m_type : 6; // CSSParserTokenType
152     unsigned m_blockType : 2; // BlockType
153     unsigned m_numericValueType : 1; // NumericValueType
154     unsigned m_numericSign : 2; // NumericSign
<span class="line-modified">155     unsigned m_unit : 7; // CSSUnitType</span>
156 
157     bool valueDataCharRawEqual(const CSSParserToken&amp; other) const;
158 
159     // m_value... is an unpacked StringView so that we can pack it
160     // tightly with the rest of this object for a smaller object size.
161     bool m_valueIs8Bit : 1;
162     unsigned m_valueLength;
163     void* m_valueDataCharRaw; // Either LChar* or UChar*.
164 
165     union {
166         UChar m_delimiter;
167         HashTokenType m_hashTokenType;
168         double m_numericValue;
169         mutable int m_id;
170 
171         struct {
172             UChar32 start;
173             UChar32 end;
174         } m_unicodeRange;
175     };
</pre>
</td>
</tr>
</table>
<center><a href="CSSParserToken.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="CSSPropertyParser.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>