<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/bindings/js/JSDOMBuiltinConstructorBase.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="JSDOMBuiltinConstructor.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="JSDOMBuiltinConstructorBase.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/bindings/js/JSDOMBuiltinConstructorBase.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 20,37 ***</span>
   */
  
  #include &quot;config.h&quot;
  #include &quot;JSDOMBuiltinConstructorBase.h&quot;
  
  #include &lt;JavaScriptCore/JSCInlines.h&gt;
  
  namespace WebCore {
  using namespace JSC;
  
<span class="line-modified">! void JSDOMBuiltinConstructorBase::callFunctionWithCurrentArguments(JSC::ExecState&amp; state, JSC::JSObject&amp; thisObject, JSC::JSFunction&amp; function)</span>
  {
<span class="line-modified">!     JSC::VM&amp; vm = state.vm();</span>
      auto scope = DECLARE_THROW_SCOPE(vm);
      JSC::CallData callData;
      JSC::CallType callType = JSC::getCallData(vm, &amp;function, callData);
      ASSERT(callType != CallType::None);
  
      JSC::MarkedArgumentBuffer arguments;
<span class="line-modified">!     for (unsigned i = 0; i &lt; state.argumentCount(); ++i)</span>
<span class="line-modified">!         arguments.append(state.uncheckedArgument(i));</span>
      if (UNLIKELY(arguments.hasOverflowed())) {
<span class="line-modified">!         throwOutOfMemoryError(&amp;state, scope);</span>
          return;
      }
<span class="line-modified">!     JSC::call(&amp;state, &amp;function, callType, callData, &amp;thisObject, arguments);</span>
  }
  
  void JSDOMBuiltinConstructorBase::visitChildren(JSC::JSCell* cell, JSC::SlotVisitor&amp; visitor)
  {
      auto* thisObject = jsCast&lt;JSDOMBuiltinConstructorBase*&gt;(cell);
      ASSERT_GC_OBJECT_INHERITS(thisObject, info());
      Base::visitChildren(thisObject, visitor);
      visitor.append(thisObject-&gt;m_initializeFunction);
  }
  
  } // namespace WebCore
<span class="line-new-header">--- 20,43 ---</span>
   */
  
  #include &quot;config.h&quot;
  #include &quot;JSDOMBuiltinConstructorBase.h&quot;
  
<span class="line-added">+ #include &quot;WebCoreJSClientData.h&quot;</span>
  #include &lt;JavaScriptCore/JSCInlines.h&gt;
  
  namespace WebCore {
  using namespace JSC;
  
<span class="line-modified">! void JSDOMBuiltinConstructorBase::callFunctionWithCurrentArguments(JSC::JSGlobalObject&amp; lexicalGlobalObject, JSC::CallFrame&amp; callFrame, JSC::JSObject&amp; thisObject, JSC::JSFunction&amp; function)</span>
  {
<span class="line-modified">!     JSC::VM&amp; vm = lexicalGlobalObject.vm();</span>
      auto scope = DECLARE_THROW_SCOPE(vm);
      JSC::CallData callData;
      JSC::CallType callType = JSC::getCallData(vm, &amp;function, callData);
      ASSERT(callType != CallType::None);
  
      JSC::MarkedArgumentBuffer arguments;
<span class="line-modified">!     for (unsigned i = 0; i &lt; callFrame.argumentCount(); ++i)</span>
<span class="line-modified">!         arguments.append(callFrame.uncheckedArgument(i));</span>
      if (UNLIKELY(arguments.hasOverflowed())) {
<span class="line-modified">!         throwOutOfMemoryError(&amp;lexicalGlobalObject, scope);</span>
          return;
      }
<span class="line-modified">!     JSC::call(&amp;lexicalGlobalObject, &amp;function, callType, callData, &amp;thisObject, arguments);</span>
  }
  
  void JSDOMBuiltinConstructorBase::visitChildren(JSC::JSCell* cell, JSC::SlotVisitor&amp; visitor)
  {
      auto* thisObject = jsCast&lt;JSDOMBuiltinConstructorBase*&gt;(cell);
      ASSERT_GC_OBJECT_INHERITS(thisObject, info());
      Base::visitChildren(thisObject, visitor);
      visitor.append(thisObject-&gt;m_initializeFunction);
  }
  
<span class="line-added">+ JSC::IsoSubspace* JSDOMBuiltinConstructorBase::subspaceForImpl(JSC::VM&amp; vm)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     return &amp;static_cast&lt;JSVMClientData*&gt;(vm.clientData)-&gt;domBuiltinConstructorSpace();</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
  } // namespace WebCore
</pre>
<center><a href="JSDOMBuiltinConstructor.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="JSDOMBuiltinConstructorBase.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>