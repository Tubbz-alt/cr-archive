<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/dom/PseudoElement.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="PromiseRejectionEvent.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="QualifiedName.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/dom/PseudoElement.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 18  * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 19  * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 20  * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 21  * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 22  * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 23  * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 24  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 25  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 26  */
 27 
 28 #include &quot;config.h&quot;
 29 #include &quot;PseudoElement.h&quot;
 30 
 31 #include &quot;CSSAnimationController.h&quot;
 32 #include &quot;ContentData.h&quot;
 33 #include &quot;DocumentTimeline.h&quot;
 34 #include &quot;InspectorInstrumentation.h&quot;
 35 #include &quot;RenderElement.h&quot;
 36 #include &quot;RenderImage.h&quot;
 37 #include &quot;RenderQuote.h&quot;
<span class="line-removed"> 38 #include &quot;RuntimeEnabledFeatures.h&quot;</span>
 39 #include &quot;StyleResolver.h&quot;
 40 #include &lt;wtf/IsoMallocInlines.h&gt;
 41 
 42 namespace WebCore {
 43 
 44 WTF_MAKE_ISO_ALLOCATED_IMPL(PseudoElement);
 45 
 46 const QualifiedName&amp; pseudoElementTagName()
 47 {
 48     static NeverDestroyed&lt;QualifiedName&gt; name(nullAtom(), &quot;&lt;pseudo&gt;&quot;, nullAtom());
 49     return name;
 50 }
 51 
 52 String PseudoElement::pseudoElementNameForEvents(PseudoId pseudoId)
 53 {
 54     static NeverDestroyed&lt;const String&gt; after(MAKE_STATIC_STRING_IMPL(&quot;::after&quot;));
 55     static NeverDestroyed&lt;const String&gt; before(MAKE_STATIC_STRING_IMPL(&quot;::before&quot;));
 56     switch (pseudoId) {
 57     case PseudoId::After:
 58         return after;
</pre>
<hr />
<pre>
 74 
 75 PseudoElement::~PseudoElement()
 76 {
 77     ASSERT(!m_hostElement);
 78 }
 79 
 80 Ref&lt;PseudoElement&gt; PseudoElement::create(Element&amp; host, PseudoId pseudoId)
 81 {
 82     auto pseudoElement = adoptRef(*new PseudoElement(host, pseudoId));
 83 
 84     InspectorInstrumentation::pseudoElementCreated(host.document().page(), pseudoElement.get());
 85 
 86     return pseudoElement;
 87 }
 88 
 89 void PseudoElement::clearHostElement()
 90 {
 91     InspectorInstrumentation::pseudoElementDestroyed(document().page(), *this);
 92 
 93     if (auto* timeline = document().existingTimeline())
<span class="line-modified"> 94         timeline-&gt;removeAnimationsForElement(*this);</span>

 95     if (auto* frame = document().frame())
 96         frame-&gt;animation().cancelAnimations(*this);
 97 
 98     m_hostElement = nullptr;
 99 }
100 
101 bool PseudoElement::rendererIsNeeded(const RenderStyle&amp; style)
102 {
103     return pseudoElementRendererIsNeeded(&amp;style);
104 }
105 
106 } // namespace
</pre>
</td>
<td>
<hr />
<pre>
 18  * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 19  * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 20  * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 21  * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 22  * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 23  * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 24  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 25  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 26  */
 27 
 28 #include &quot;config.h&quot;
 29 #include &quot;PseudoElement.h&quot;
 30 
 31 #include &quot;CSSAnimationController.h&quot;
 32 #include &quot;ContentData.h&quot;
 33 #include &quot;DocumentTimeline.h&quot;
 34 #include &quot;InspectorInstrumentation.h&quot;
 35 #include &quot;RenderElement.h&quot;
 36 #include &quot;RenderImage.h&quot;
 37 #include &quot;RenderQuote.h&quot;

 38 #include &quot;StyleResolver.h&quot;
 39 #include &lt;wtf/IsoMallocInlines.h&gt;
 40 
 41 namespace WebCore {
 42 
 43 WTF_MAKE_ISO_ALLOCATED_IMPL(PseudoElement);
 44 
 45 const QualifiedName&amp; pseudoElementTagName()
 46 {
 47     static NeverDestroyed&lt;QualifiedName&gt; name(nullAtom(), &quot;&lt;pseudo&gt;&quot;, nullAtom());
 48     return name;
 49 }
 50 
 51 String PseudoElement::pseudoElementNameForEvents(PseudoId pseudoId)
 52 {
 53     static NeverDestroyed&lt;const String&gt; after(MAKE_STATIC_STRING_IMPL(&quot;::after&quot;));
 54     static NeverDestroyed&lt;const String&gt; before(MAKE_STATIC_STRING_IMPL(&quot;::before&quot;));
 55     switch (pseudoId) {
 56     case PseudoId::After:
 57         return after;
</pre>
<hr />
<pre>
 73 
 74 PseudoElement::~PseudoElement()
 75 {
 76     ASSERT(!m_hostElement);
 77 }
 78 
 79 Ref&lt;PseudoElement&gt; PseudoElement::create(Element&amp; host, PseudoId pseudoId)
 80 {
 81     auto pseudoElement = adoptRef(*new PseudoElement(host, pseudoId));
 82 
 83     InspectorInstrumentation::pseudoElementCreated(host.document().page(), pseudoElement.get());
 84 
 85     return pseudoElement;
 86 }
 87 
 88 void PseudoElement::clearHostElement()
 89 {
 90     InspectorInstrumentation::pseudoElementDestroyed(document().page(), *this);
 91 
 92     if (auto* timeline = document().existingTimeline())
<span class="line-modified"> 93         timeline-&gt;elementWasRemoved(*this);</span>
<span class="line-added"> 94 </span>
 95     if (auto* frame = document().frame())
 96         frame-&gt;animation().cancelAnimations(*this);
 97 
 98     m_hostElement = nullptr;
 99 }
100 
101 bool PseudoElement::rendererIsNeeded(const RenderStyle&amp; style)
102 {
103     return pseudoElementRendererIsNeeded(&amp;style);
104 }
105 
106 } // namespace
</pre>
</td>
</tr>
</table>
<center><a href="PromiseRejectionEvent.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="QualifiedName.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>