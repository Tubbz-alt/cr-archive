diff a/modules/javafx.web/src/main/native/Source/WebCore/Modules/indexeddb/shared/IDBResourceIdentifier.cpp b/modules/javafx.web/src/main/native/Source/WebCore/Modules/indexeddb/shared/IDBResourceIdentifier.cpp
--- a/modules/javafx.web/src/main/native/Source/WebCore/Modules/indexeddb/shared/IDBResourceIdentifier.cpp
+++ b/modules/javafx.web/src/main/native/Source/WebCore/Modules/indexeddb/shared/IDBResourceIdentifier.cpp
@@ -42,20 +42,19 @@
     return currentNumber += 2;
 }
 
 static uint64_t nextServerResourceNumber()
 {
-    ASSERT(isMainThread());
     static uint64_t currentNumber = 0;
     return currentNumber += 2;
 }
 
 IDBResourceIdentifier::IDBResourceIdentifier()
 {
 }
 
-IDBResourceIdentifier::IDBResourceIdentifier(uint64_t connectionIdentifier, uint64_t resourceIdentifier)
+IDBResourceIdentifier::IDBResourceIdentifier(IDBConnectionIdentifier connectionIdentifier, uint64_t resourceIdentifier)
     : m_idbConnectionIdentifier(connectionIdentifier)
     , m_resourceNumber(resourceIdentifier)
 {
 }
 
@@ -82,29 +81,28 @@
     return IDBResourceIdentifier(m_idbConnectionIdentifier, m_resourceNumber);
 }
 
 IDBResourceIdentifier IDBResourceIdentifier::emptyValue()
 {
-    return IDBResourceIdentifier(0, 0);
+    return IDBResourceIdentifier({ }, 0);
 }
 
 IDBResourceIdentifier IDBResourceIdentifier::deletedValue()
 {
-    return IDBResourceIdentifier(std::numeric_limits<uint64_t>::max(), std::numeric_limits<uint64_t>::max());
+    return IDBResourceIdentifier(IDBConnectionIdentifier { WTF::HashTableDeletedValue }, std::numeric_limits<uint64_t>::max());
 }
 
 bool IDBResourceIdentifier::isHashTableDeletedValue() const
 {
-    return m_idbConnectionIdentifier == std::numeric_limits<uint64_t>::max()
-        && m_resourceNumber == std::numeric_limits<uint64_t>::max();
+    return m_idbConnectionIdentifier.isHashTableDeletedValue() && m_resourceNumber == std::numeric_limits<uint64_t>::max();
 }
 
 #if !LOG_DISABLED
 
 String IDBResourceIdentifier::loggingString() const
 {
-    return makeString('<', m_idbConnectionIdentifier, ", ", m_resourceNumber, '>');
+    return makeString('<', m_idbConnectionIdentifier.toUInt64(), ", ", m_resourceNumber, '>');
 }
 
 #endif
 
 } // namespace WebCore
