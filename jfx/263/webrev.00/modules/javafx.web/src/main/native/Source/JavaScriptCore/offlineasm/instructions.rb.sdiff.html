<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/offlineasm/instructions.rb</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="cloop.rb.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="mips.rb.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/offlineasm/instructions.rb</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 16 # BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 17 # CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 18 # SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 19 # INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 20 # CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 21 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 22 # THE POSSIBILITY OF SUCH DAMAGE.
 23 
 24 require &quot;config&quot;
 25 require &quot;set&quot;
 26 
 27 # Interesting invariant, which we take advantage of: branching instructions
 28 # always begin with &quot;b&quot;, and no non-branching instructions begin with &quot;b&quot;.
 29 # Terminal instructions are &quot;jmp&quot; and &quot;ret&quot;.
 30 
 31 MACRO_INSTRUCTIONS =
 32     [
 33      &quot;emit&quot;,
 34      &quot;addi&quot;,
 35      &quot;andi&quot;,


 36      &quot;lshifti&quot;,
 37      &quot;lshiftp&quot;,
 38      &quot;lshiftq&quot;,
 39      &quot;muli&quot;,
 40      &quot;negi&quot;,
 41      &quot;negp&quot;,
 42      &quot;negq&quot;,
 43      &quot;noti&quot;,
 44      &quot;ori&quot;,



 45      &quot;rshifti&quot;,
 46      &quot;urshifti&quot;,
 47      &quot;rshiftp&quot;,
 48      &quot;urshiftp&quot;,
 49      &quot;rshiftq&quot;,
 50      &quot;urshiftq&quot;,




 51      &quot;subi&quot;,
 52      &quot;xori&quot;,
 53      &quot;loadi&quot;,
 54      &quot;loadis&quot;,
 55      &quot;loadb&quot;,
 56      &quot;loadbsi&quot;,
 57      &quot;loadbsq&quot;,
 58      &quot;loadh&quot;,
 59      &quot;loadhsi&quot;,
 60      &quot;loadhsq&quot;,
 61      &quot;storei&quot;,

 62      &quot;storeb&quot;,

 63      &quot;loadd&quot;,
 64      &quot;moved&quot;,

 65      &quot;stored&quot;,

 66      &quot;addd&quot;,

 67      &quot;divd&quot;,

 68      &quot;subd&quot;,

 69      &quot;muld&quot;,

 70      &quot;sqrtd&quot;,














 71      &quot;ci2d&quot;,









 72      &quot;fii2d&quot;, # usage: fii2d &lt;gpr with least significant bits&gt;, &lt;gpr with most significant bits&gt;, &lt;fpr&gt;
 73      &quot;fd2ii&quot;, # usage: fd2ii &lt;fpr&gt;, &lt;gpr with least significant bits&gt;, &lt;gpr with most significant bits&gt;
 74      &quot;fq2d&quot;,
 75      &quot;fd2q&quot;,
 76      &quot;bdeq&quot;,
 77      &quot;bdneq&quot;,
 78      &quot;bdgt&quot;,
 79      &quot;bdgteq&quot;,
 80      &quot;bdlt&quot;,
 81      &quot;bdlteq&quot;,
 82      &quot;bdequn&quot;,
 83      &quot;bdnequn&quot;,
 84      &quot;bdgtun&quot;,
 85      &quot;bdgtequn&quot;,
 86      &quot;bdltun&quot;,
 87      &quot;bdltequn&quot;,







 88      &quot;btd2i&quot;,
 89      &quot;td2i&quot;,
 90      &quot;bcd2i&quot;,
 91      &quot;movdz&quot;,
 92      &quot;pop&quot;,
 93      &quot;push&quot;,
 94      &quot;move&quot;,
 95      &quot;sxi2q&quot;,
 96      &quot;zxi2q&quot;,
 97      &quot;nop&quot;,
 98      &quot;bieq&quot;,
 99      &quot;bineq&quot;,
100      &quot;bia&quot;,
101      &quot;biaeq&quot;,
102      &quot;bib&quot;,
103      &quot;bibeq&quot;,
104      &quot;bigt&quot;,
105      &quot;bigteq&quot;,
106      &quot;bilt&quot;,
107      &quot;bilteq&quot;,
</pre>
<hr />
<pre>
239      &quot;cqlteq&quot;,
240      &quot;storeq&quot;,
241      &quot;btqs&quot;,
242      &quot;btqz&quot;,
243      &quot;btqnz&quot;,
244      &quot;baddqo&quot;,
245      &quot;baddqs&quot;,
246      &quot;baddqz&quot;,
247      &quot;baddqnz&quot;,
248      &quot;bo&quot;,
249      &quot;bs&quot;,
250      &quot;bz&quot;,
251      &quot;bnz&quot;,
252      &quot;leai&quot;,
253      &quot;leap&quot;,
254      &quot;memfence&quot;,
255      &quot;tagReturnAddress&quot;,
256      &quot;untagReturnAddress&quot;,
257      &quot;removeCodePtrTag&quot;,
258      &quot;untagArrayPtr&quot;,    




























259     ]
260 
261 X86_INSTRUCTIONS =
262     [
263      &quot;cdqi&quot;,
<span class="line-modified">264      &quot;idivi&quot;</span>




265     ]
266 
267 ARM_INSTRUCTIONS =
268     [
269      &quot;clrbp&quot;,
270      &quot;mvlbl&quot;,
271      &quot;globaladdr&quot;
272     ]
273 
274 ARM64_INSTRUCTIONS =
275     [
276      &quot;bfiq&quot;, # Bit field insert &lt;source reg&gt; &lt;last bit written&gt; &lt;width immediate&gt; &lt;dest reg&gt;
277      &quot;pcrtoaddr&quot;,   # Address from PC relative offset - adr instruction
278      &quot;nopFixCortexA53Err835769&quot;, # nop on Cortex-A53 (nothing otherwise)
<span class="line-modified">279      &quot;globaladdr&quot;</span>




280     ]
281 
282 RISC_INSTRUCTIONS =
283     [
284      &quot;smulli&quot;,  # Multiply two 32-bit words and produce a 64-bit word
285      &quot;addis&quot;,   # Add integers and set a flag.
286      &quot;subis&quot;,   # Same, but for subtraction.
287      &quot;oris&quot;,    # Same, but for bitwise or.
288      &quot;addps&quot;    # addis but for pointers.
289     ]
290 
291 MIPS_INSTRUCTIONS =
292     [
293     &quot;la&quot;,
294     &quot;movz&quot;,
295     &quot;movn&quot;,
296     &quot;setcallreg&quot;,
297     &quot;slt&quot;,
298     &quot;sltu&quot;,
299     &quot;pichdr&quot;
</pre>
</td>
<td>
<hr />
<pre>
 16 # BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 17 # CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 18 # SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 19 # INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 20 # CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 21 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 22 # THE POSSIBILITY OF SUCH DAMAGE.
 23 
 24 require &quot;config&quot;
 25 require &quot;set&quot;
 26 
 27 # Interesting invariant, which we take advantage of: branching instructions
 28 # always begin with &quot;b&quot;, and no non-branching instructions begin with &quot;b&quot;.
 29 # Terminal instructions are &quot;jmp&quot; and &quot;ret&quot;.
 30 
 31 MACRO_INSTRUCTIONS =
 32     [
 33      &quot;emit&quot;,
 34      &quot;addi&quot;,
 35      &quot;andi&quot;,
<span class="line-added"> 36      &quot;andf&quot;,</span>
<span class="line-added"> 37      &quot;andd&quot;,</span>
 38      &quot;lshifti&quot;,
 39      &quot;lshiftp&quot;,
 40      &quot;lshiftq&quot;,
 41      &quot;muli&quot;,
 42      &quot;negi&quot;,
 43      &quot;negp&quot;,
 44      &quot;negq&quot;,
 45      &quot;noti&quot;,
 46      &quot;ori&quot;,
<span class="line-added"> 47      &quot;orf&quot;,</span>
<span class="line-added"> 48      &quot;ord&quot;,</span>
<span class="line-added"> 49      &quot;orh&quot;,</span>
 50      &quot;rshifti&quot;,
 51      &quot;urshifti&quot;,
 52      &quot;rshiftp&quot;,
 53      &quot;urshiftp&quot;,
 54      &quot;rshiftq&quot;,
 55      &quot;urshiftq&quot;,
<span class="line-added"> 56      &quot;lrotatei&quot;,</span>
<span class="line-added"> 57      &quot;lrotateq&quot;,</span>
<span class="line-added"> 58      &quot;rrotatei&quot;,</span>
<span class="line-added"> 59      &quot;rrotateq&quot;,</span>
 60      &quot;subi&quot;,
 61      &quot;xori&quot;,
 62      &quot;loadi&quot;,
 63      &quot;loadis&quot;,
 64      &quot;loadb&quot;,
 65      &quot;loadbsi&quot;,
 66      &quot;loadbsq&quot;,
 67      &quot;loadh&quot;,
 68      &quot;loadhsi&quot;,
 69      &quot;loadhsq&quot;,
 70      &quot;storei&quot;,
<span class="line-added"> 71      &quot;storeh&quot;,</span>
 72      &quot;storeb&quot;,
<span class="line-added"> 73      &quot;loadf&quot;,</span>
 74      &quot;loadd&quot;,
 75      &quot;moved&quot;,
<span class="line-added"> 76      &quot;storef&quot;,</span>
 77      &quot;stored&quot;,
<span class="line-added"> 78      &quot;addf&quot;,</span>
 79      &quot;addd&quot;,
<span class="line-added"> 80      &quot;divf&quot;,</span>
 81      &quot;divd&quot;,
<span class="line-added"> 82      &quot;subf&quot;,</span>
 83      &quot;subd&quot;,
<span class="line-added"> 84      &quot;mulf&quot;,</span>
 85      &quot;muld&quot;,
<span class="line-added"> 86      &quot;sqrtf&quot;,</span>
 87      &quot;sqrtd&quot;,
<span class="line-added"> 88      &quot;floorf&quot;,</span>
<span class="line-added"> 89      &quot;floord&quot;,</span>
<span class="line-added"> 90      &quot;roundf&quot;,</span>
<span class="line-added"> 91      &quot;roundd&quot;,</span>
<span class="line-added"> 92      &quot;truncatef&quot;,</span>
<span class="line-added"> 93      &quot;truncated&quot;,</span>
<span class="line-added"> 94      &quot;truncatef2i&quot;,</span>
<span class="line-added"> 95      &quot;truncatef2q&quot;,</span>
<span class="line-added"> 96      &quot;truncated2q&quot;,</span>
<span class="line-added"> 97      &quot;truncated2i&quot;,</span>
<span class="line-added"> 98      &quot;truncatef2is&quot;,</span>
<span class="line-added"> 99      &quot;truncated2is&quot;,</span>
<span class="line-added">100      &quot;truncatef2qs&quot;,</span>
<span class="line-added">101      &quot;truncated2qs&quot;,</span>
102      &quot;ci2d&quot;,
<span class="line-added">103      &quot;ci2ds&quot;,</span>
<span class="line-added">104      &quot;ci2f&quot;,</span>
<span class="line-added">105      &quot;ci2fs&quot;,</span>
<span class="line-added">106      &quot;cq2f&quot;,</span>
<span class="line-added">107      &quot;cq2fs&quot;,</span>
<span class="line-added">108      &quot;cq2d&quot;,</span>
<span class="line-added">109      &quot;cq2ds&quot;,</span>
<span class="line-added">110      &quot;cd2f&quot;,</span>
<span class="line-added">111      &quot;cf2d&quot;,</span>
112      &quot;fii2d&quot;, # usage: fii2d &lt;gpr with least significant bits&gt;, &lt;gpr with most significant bits&gt;, &lt;fpr&gt;
113      &quot;fd2ii&quot;, # usage: fd2ii &lt;fpr&gt;, &lt;gpr with least significant bits&gt;, &lt;gpr with most significant bits&gt;
114      &quot;fq2d&quot;,
115      &quot;fd2q&quot;,
116      &quot;bdeq&quot;,
117      &quot;bdneq&quot;,
118      &quot;bdgt&quot;,
119      &quot;bdgteq&quot;,
120      &quot;bdlt&quot;,
121      &quot;bdlteq&quot;,
122      &quot;bdequn&quot;,
123      &quot;bdnequn&quot;,
124      &quot;bdgtun&quot;,
125      &quot;bdgtequn&quot;,
126      &quot;bdltun&quot;,
127      &quot;bdltequn&quot;,
<span class="line-added">128      &quot;bfeq&quot;,</span>
<span class="line-added">129      &quot;bfgt&quot;,</span>
<span class="line-added">130      &quot;bflt&quot;,</span>
<span class="line-added">131      &quot;bfgtun&quot;,</span>
<span class="line-added">132      &quot;bfgtequn&quot;,</span>
<span class="line-added">133      &quot;bfltun&quot;,</span>
<span class="line-added">134      &quot;bfltequn&quot;,</span>
135      &quot;btd2i&quot;,
136      &quot;td2i&quot;,
137      &quot;bcd2i&quot;,
138      &quot;movdz&quot;,
139      &quot;pop&quot;,
140      &quot;push&quot;,
141      &quot;move&quot;,
142      &quot;sxi2q&quot;,
143      &quot;zxi2q&quot;,
144      &quot;nop&quot;,
145      &quot;bieq&quot;,
146      &quot;bineq&quot;,
147      &quot;bia&quot;,
148      &quot;biaeq&quot;,
149      &quot;bib&quot;,
150      &quot;bibeq&quot;,
151      &quot;bigt&quot;,
152      &quot;bigteq&quot;,
153      &quot;bilt&quot;,
154      &quot;bilteq&quot;,
</pre>
<hr />
<pre>
286      &quot;cqlteq&quot;,
287      &quot;storeq&quot;,
288      &quot;btqs&quot;,
289      &quot;btqz&quot;,
290      &quot;btqnz&quot;,
291      &quot;baddqo&quot;,
292      &quot;baddqs&quot;,
293      &quot;baddqz&quot;,
294      &quot;baddqnz&quot;,
295      &quot;bo&quot;,
296      &quot;bs&quot;,
297      &quot;bz&quot;,
298      &quot;bnz&quot;,
299      &quot;leai&quot;,
300      &quot;leap&quot;,
301      &quot;memfence&quot;,
302      &quot;tagReturnAddress&quot;,
303      &quot;untagReturnAddress&quot;,
304      &quot;removeCodePtrTag&quot;,
305      &quot;untagArrayPtr&quot;,    
<span class="line-added">306      &quot;tzcnti&quot;,</span>
<span class="line-added">307      &quot;tzcntq&quot;,</span>
<span class="line-added">308      &quot;lzcnti&quot;,</span>
<span class="line-added">309      &quot;lzcntq&quot;,</span>
<span class="line-added">310      &quot;absf&quot;,</span>
<span class="line-added">311      &quot;absd&quot;,</span>
<span class="line-added">312      &quot;negf&quot;,</span>
<span class="line-added">313      &quot;negd&quot;,</span>
<span class="line-added">314      &quot;ceilf&quot;,</span>
<span class="line-added">315      &quot;ceild&quot;,</span>
<span class="line-added">316      &quot;cfeq&quot;,</span>
<span class="line-added">317      &quot;cdeq&quot;,</span>
<span class="line-added">318      &quot;cfneq&quot;,</span>
<span class="line-added">319      &quot;cfnequn&quot;,</span>
<span class="line-added">320      &quot;cdneq&quot;,</span>
<span class="line-added">321      &quot;cdnequn&quot;,</span>
<span class="line-added">322      &quot;cflt&quot;,</span>
<span class="line-added">323      &quot;cdlt&quot;,</span>
<span class="line-added">324      &quot;cflteq&quot;,</span>
<span class="line-added">325      &quot;cdlteq&quot;,</span>
<span class="line-added">326      &quot;cfgt&quot;,</span>
<span class="line-added">327      &quot;cdgt&quot;,</span>
<span class="line-added">328      &quot;cfgteq&quot;,</span>
<span class="line-added">329      &quot;cdgteq&quot;,</span>
<span class="line-added">330      &quot;fi2f&quot;,</span>
<span class="line-added">331      &quot;ff2i&quot;,</span>
<span class="line-added">332      &quot;tls_loadp&quot;,</span>
<span class="line-added">333      &quot;tls_storep&quot;,</span>
334     ]
335 
336 X86_INSTRUCTIONS =
337     [
338      &quot;cdqi&quot;,
<span class="line-modified">339      &quot;idivi&quot;,</span>
<span class="line-added">340      &quot;udivi&quot;,</span>
<span class="line-added">341      &quot;cqoq&quot;,</span>
<span class="line-added">342      &quot;idivq&quot;,</span>
<span class="line-added">343      &quot;udivq&quot;,</span>
344     ]
345 
346 ARM_INSTRUCTIONS =
347     [
348      &quot;clrbp&quot;,
349      &quot;mvlbl&quot;,
350      &quot;globaladdr&quot;
351     ]
352 
353 ARM64_INSTRUCTIONS =
354     [
355      &quot;bfiq&quot;, # Bit field insert &lt;source reg&gt; &lt;last bit written&gt; &lt;width immediate&gt; &lt;dest reg&gt;
356      &quot;pcrtoaddr&quot;,   # Address from PC relative offset - adr instruction
357      &quot;nopFixCortexA53Err835769&quot;, # nop on Cortex-A53 (nothing otherwise)
<span class="line-modified">358      &quot;globaladdr&quot;,</span>
<span class="line-added">359      &quot;divi&quot;,</span>
<span class="line-added">360      &quot;divis&quot;,</span>
<span class="line-added">361      &quot;divq&quot;,</span>
<span class="line-added">362      &quot;divqs&quot;,</span>
363     ]
364 
365 RISC_INSTRUCTIONS =
366     [
367      &quot;smulli&quot;,  # Multiply two 32-bit words and produce a 64-bit word
368      &quot;addis&quot;,   # Add integers and set a flag.
369      &quot;subis&quot;,   # Same, but for subtraction.
370      &quot;oris&quot;,    # Same, but for bitwise or.
371      &quot;addps&quot;    # addis but for pointers.
372     ]
373 
374 MIPS_INSTRUCTIONS =
375     [
376     &quot;la&quot;,
377     &quot;movz&quot;,
378     &quot;movn&quot;,
379     &quot;setcallreg&quot;,
380     &quot;slt&quot;,
381     &quot;sltu&quot;,
382     &quot;pichdr&quot;
</pre>
</td>
</tr>
</table>
<center><a href="cloop.rb.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="mips.rb.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>