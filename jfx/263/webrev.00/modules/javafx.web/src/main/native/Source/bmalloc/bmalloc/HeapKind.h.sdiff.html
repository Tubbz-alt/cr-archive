<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/bmalloc/bmalloc/HeapKind.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Heap.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="IsoAllocator.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/bmalloc/bmalloc/HeapKind.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 53 }
 54 
 55 BINLINE Gigacage::Kind gigacageKind(HeapKind kind)
 56 {
 57     switch (kind) {
 58     case HeapKind::Primary:
 59         BCRASH();
 60         return Gigacage::Primitive;
 61     case HeapKind::PrimitiveGigacage:
 62         return Gigacage::Primitive;
 63     case HeapKind::JSValueGigacage:
 64         return Gigacage::JSValue;
 65     }
 66     BCRASH();
 67     return Gigacage::Primitive;
 68 }
 69 
 70 BINLINE HeapKind heapKind(Gigacage::Kind kind)
 71 {
 72     switch (kind) {
<span class="line-removed"> 73     case Gigacage::ReservedForFlagsAndNotABasePtr:</span>
<span class="line-removed"> 74         RELEASE_BASSERT_NOT_REACHED();</span>
 75     case Gigacage::Primitive:
 76         return HeapKind::PrimitiveGigacage;
 77     case Gigacage::JSValue:
 78         return HeapKind::JSValueGigacage;


 79     }
 80     BCRASH();
 81     return HeapKind::Primary;
 82 }
 83 
 84 BINLINE bool isActiveHeapKindAfterEnsuringGigacage(HeapKind kind)
 85 {
 86     switch (kind) {
 87     case HeapKind::PrimitiveGigacage:
 88     case HeapKind::JSValueGigacage:
<span class="line-modified"> 89         if (Gigacage::wasEnabled())</span>
 90             return true;
 91         return false;
 92     default:
 93         return true;
 94     }
 95 }
 96 
 97 BEXPORT bool isActiveHeapKind(HeapKind);
 98 
 99 BINLINE HeapKind mapToActiveHeapKindAfterEnsuringGigacage(HeapKind kind)
100 {
101     switch (kind) {
102     case HeapKind::PrimitiveGigacage:
103     case HeapKind::JSValueGigacage:
<span class="line-modified">104         if (Gigacage::wasEnabled())</span>
105             return kind;
106         return HeapKind::Primary;
107     default:
108         return kind;
109     }
110 }
111 
112 BEXPORT HeapKind mapToActiveHeapKind(HeapKind);
113 
114 } // namespace bmalloc
115 
</pre>
</td>
<td>
<hr />
<pre>
 53 }
 54 
 55 BINLINE Gigacage::Kind gigacageKind(HeapKind kind)
 56 {
 57     switch (kind) {
 58     case HeapKind::Primary:
 59         BCRASH();
 60         return Gigacage::Primitive;
 61     case HeapKind::PrimitiveGigacage:
 62         return Gigacage::Primitive;
 63     case HeapKind::JSValueGigacage:
 64         return Gigacage::JSValue;
 65     }
 66     BCRASH();
 67     return Gigacage::Primitive;
 68 }
 69 
 70 BINLINE HeapKind heapKind(Gigacage::Kind kind)
 71 {
 72     switch (kind) {


 73     case Gigacage::Primitive:
 74         return HeapKind::PrimitiveGigacage;
 75     case Gigacage::JSValue:
 76         return HeapKind::JSValueGigacage;
<span class="line-added"> 77     case Gigacage::NumberOfKinds:</span>
<span class="line-added"> 78         break;</span>
 79     }
 80     BCRASH();
 81     return HeapKind::Primary;
 82 }
 83 
 84 BINLINE bool isActiveHeapKindAfterEnsuringGigacage(HeapKind kind)
 85 {
 86     switch (kind) {
 87     case HeapKind::PrimitiveGigacage:
 88     case HeapKind::JSValueGigacage:
<span class="line-modified"> 89         if (Gigacage::isEnabled())</span>
 90             return true;
 91         return false;
 92     default:
 93         return true;
 94     }
 95 }
 96 
 97 BEXPORT bool isActiveHeapKind(HeapKind);
 98 
 99 BINLINE HeapKind mapToActiveHeapKindAfterEnsuringGigacage(HeapKind kind)
100 {
101     switch (kind) {
102     case HeapKind::PrimitiveGigacage:
103     case HeapKind::JSValueGigacage:
<span class="line-modified">104         if (Gigacage::isEnabled())</span>
105             return kind;
106         return HeapKind::Primary;
107     default:
108         return kind;
109     }
110 }
111 
112 BEXPORT HeapKind mapToActiveHeapKind(HeapKind);
113 
114 } // namespace bmalloc
115 
</pre>
</td>
</tr>
</table>
<center><a href="Heap.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="IsoAllocator.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>