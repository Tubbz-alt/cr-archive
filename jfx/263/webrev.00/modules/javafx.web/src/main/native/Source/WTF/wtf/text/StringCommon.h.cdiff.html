<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WTF/wtf/text/StringCommon.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="StringBuilder.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="StringHash.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/text/StringCommon.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 170,11 ***</span>
      if (length &amp; 1 &amp;&amp; *reinterpret_cast&lt;const UChar*&gt;(a) != *reinterpret_cast&lt;const UChar*&gt;(b))
          return false;
  
      return true;
  }
<span class="line-modified">! #elif PLATFORM(IOS_FAMILY) &amp;&amp; WTF_ARM_ARCH_AT_LEAST(7) &amp;&amp; !ASAN_ENABLED</span>
  ALWAYS_INLINE bool equal(const LChar* a, const LChar* b, unsigned length)
  {
      bool isEqual = false;
      uint32_t aValue;
      uint32_t bValue;
<span class="line-new-header">--- 170,11 ---</span>
      if (length &amp; 1 &amp;&amp; *reinterpret_cast&lt;const UChar*&gt;(a) != *reinterpret_cast&lt;const UChar*&gt;(b))
          return false;
  
      return true;
  }
<span class="line-modified">! #elif OS(DARWIN) &amp;&amp; WTF_ARM_ARCH_AT_LEAST(7) &amp;&amp; !ASAN_ENABLED</span>
  ALWAYS_INLINE bool equal(const LChar* a, const LChar* b, unsigned length)
  {
      bool isEqual = false;
      uint32_t aValue;
      uint32_t bValue;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 568,15 ***</span>
          if (haystack.is8Bit())
              return WTF::find(haystack.characters8(), haystack.length(), needle[0], start);
          return WTF::find(haystack.characters16(), haystack.length(), needle[0], start);
      }
  
<span class="line-removed">-     if (!needleLength)</span>
<span class="line-removed">-         return std::min(start, haystack.length());</span>
<span class="line-removed">- </span>
      if (start &gt; haystack.length())
          return notFound;
      unsigned searchLength = haystack.length() - start;
      if (needleLength &gt; searchLength)
          return notFound;
  
      if (haystack.is8Bit()) {
<span class="line-new-header">--- 568,16 ---</span>
          if (haystack.is8Bit())
              return WTF::find(haystack.characters8(), haystack.length(), needle[0], start);
          return WTF::find(haystack.characters16(), haystack.length(), needle[0], start);
      }
  
      if (start &gt; haystack.length())
          return notFound;
<span class="line-added">+ </span>
<span class="line-added">+     if (!needleLength)</span>
<span class="line-added">+         return start;</span>
<span class="line-added">+ </span>
      unsigned searchLength = haystack.length() - start;
      if (needleLength &gt; searchLength)
          return notFound;
  
      if (haystack.is8Bit()) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 609,11 ***</span>
      return charactersLength == lowercaseLettersStringLength &amp;&amp; equalLettersIgnoringASCIICase(characters, lowercaseLetters, lowercaseLettersStringLength);
  }
  
  template&lt;typename StringClass&gt; bool inline hasPrefixWithLettersIgnoringASCIICaseCommon(const StringClass&amp; string, const char* lowercaseLetters, unsigned length)
  {
<span class="line-modified">! #if !ASSERT_DISABLED</span>
      ASSERT(*lowercaseLetters);
      for (const char* letter = lowercaseLetters; *letter; ++letter)
          ASSERT(toASCIILowerUnchecked(*letter) == *letter);
  #endif
      ASSERT(string.length() &gt;= length);
<span class="line-new-header">--- 610,11 ---</span>
      return charactersLength == lowercaseLettersStringLength &amp;&amp; equalLettersIgnoringASCIICase(characters, lowercaseLetters, lowercaseLettersStringLength);
  }
  
  template&lt;typename StringClass&gt; bool inline hasPrefixWithLettersIgnoringASCIICaseCommon(const StringClass&amp; string, const char* lowercaseLetters, unsigned length)
  {
<span class="line-modified">! #if ASSERT_ENABLED</span>
      ASSERT(*lowercaseLetters);
      for (const char* letter = lowercaseLetters; *letter; ++letter)
          ASSERT(toASCIILowerUnchecked(*letter) == *letter);
  #endif
      ASSERT(string.length() &gt;= length);
</pre>
<center><a href="StringBuilder.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="StringHash.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>