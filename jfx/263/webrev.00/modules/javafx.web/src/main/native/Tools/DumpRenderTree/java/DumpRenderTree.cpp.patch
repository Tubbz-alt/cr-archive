diff a/modules/javafx.web/src/main/native/Tools/DumpRenderTree/java/DumpRenderTree.cpp b/modules/javafx.web/src/main/native/Tools/DumpRenderTree/java/DumpRenderTree.cpp
--- a/modules/javafx.web/src/main/native/Tools/DumpRenderTree/java/DumpRenderTree.cpp
+++ b/modules/javafx.web/src/main/native/Tools/DumpRenderTree/java/DumpRenderTree.cpp
@@ -33,21 +33,28 @@
 #include "WorkQueue.h"
 #include "WebCore/testing/js/WebCoreTestSupport.h"
 
 #include <wtf/RefPtr.h>
 #include <JavaScriptCore/JavaScript.h>
+#include <JavaScriptCore/JSCConfig.h>
 #include <JavaScriptCore/TestRunnerUtils.h>
 
 RefPtr<TestRunner> gTestRunner;
 std::unique_ptr<GCController> gGCController;
 JSGlobalContextRef gContext;
 
 #ifdef __cplusplus
 extern "C" {
 #endif
 
-JNIEXPORT void JNICALL Java_com_sun_javafx_webkit_drt_DumpRenderTree_init
+JNIEXPORT void JNICALL Java_com_sun_javafx_webkit_drt_DumpRenderTree_initDRT
+    (JNIEnv* env, jclass cls)
+{
+    JSC::Config::configureForTesting();
+}
+
+JNIEXPORT void JNICALL Java_com_sun_javafx_webkit_drt_DumpRenderTree_initTest
     (JNIEnv* env, jclass cls, jstring testPath, jstring pixelsHash)
 {
     const char* testPathChars = env->GetStringUTFChars(testPath, NULL);
     const char* pixelsHashChars = env->GetStringUTFChars(pixelsHash, NULL);
 
@@ -83,11 +90,10 @@
 
     JLObject jlEventSender(eventSender, true);
     makeEventSender(gContext, windowObject, jlEventSender, &exception);
     ASSERT(!exception);
     WebCoreTestSupport::injectInternalsObject(gContext);
-
     gGCController->makeWindowObject(gContext, windowObject, &exception);
     ASSERT(!exception);
 }
 
 JNIEXPORT void JNICALL Java_com_sun_javafx_webkit_drt_DumpRenderTree_dispose
