diff a/modules/javafx.web/src/main/native/Source/WebCore/layout/FormattingState.cpp b/modules/javafx.web/src/main/native/Source/WebCore/layout/FormattingState.cpp
--- a/modules/javafx.web/src/main/native/Source/WebCore/layout/FormattingState.cpp
+++ b/modules/javafx.web/src/main/native/Source/WebCore/layout/FormattingState.cpp
@@ -26,10 +26,12 @@
 #include "config.h"
 #include "FormattingState.h"
 
 #if ENABLE(LAYOUT_FORMATTING_CONTEXT)
 
+#include "DisplayBox.h"
+#include "FloatingState.h"
 #include <wtf/IsoMallocInlines.h>
 
 namespace WebCore {
 namespace Layout {
 
@@ -44,8 +46,15 @@
 
 FormattingState::~FormattingState()
 {
 }
 
+Display::Box& FormattingState::displayBox(const Box& layoutBox)
+{
+    // Should never need to mutate a display box outside of the formatting context.
+    ASSERT(&layoutState().establishedFormattingState(layoutBox.formattingContextRoot()) == this);
+    return layoutState().ensureDisplayBoxForLayoutBox(layoutBox);
+}
+
 }
 }
 #endif
