<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old modules/javafx.web/src/main/native/Source/JavaScriptCore/builtins/ArrayIteratorPrototype.js</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (C) 2015 Yusuke Suzuki &lt;utatane.tea@gmail.com&gt;.
  3  * Copyright (C) 2016 Apple Inc. All rights reserved.
  4  *
  5  * Redistribution and use in source and binary forms, with or without
  6  * modification, are permitted provided that the following conditions
  7  * are met:
  8  * 1. Redistributions of source code must retain the above copyright
  9  *    notice, this list of conditions and the following disclaimer.
 10  * 2. Redistributions in binary form must reproduce the above copyright
 11  *    notice, this list of conditions and the following disclaimer in the
 12  *    documentation and/or other materials provided with the distribution.
 13  *
 14  * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS&#39;&#39; AND ANY
 15  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 16  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 17  * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR
 18  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 19  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 20  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 21  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 22  * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 23  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 24  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 25  */
 26 
 27 function next()
 28 {
 29     &quot;use strict&quot;;
 30 
 31     if (@isUndefinedOrNull(this))
 32         @throwTypeError(&quot;%ArrayIteratorPrototype%.next requires that |this| not be null or undefined&quot;);
 33 
 34     let next = @getByIdDirectPrivate(this, &quot;arrayIteratorNext&quot;);
 35     if (next === @undefined)
 36         @throwTypeError(&quot;%ArrayIteratorPrototype%.next requires that |this| be an Array Iterator instance&quot;);
 37 
 38     return next.@call(this);
 39 }
 40 
 41 @globalPrivate
 42 function arrayIteratorValueNext()
 43 {
 44     &quot;use strict&quot;;
 45     var done = true;
 46     var value;
 47 
 48     var array = @getByIdDirectPrivate(this, &quot;iteratedObject&quot;);
 49     if (!@getByIdDirectPrivate(this, &quot;arrayIteratorIsDone&quot;)) {
 50         var index = @getByIdDirectPrivate(this, &quot;arrayIteratorNextIndex&quot;);
 51         var length = array.length &gt;&gt;&gt; 0;
 52         if (index &gt;= length)
 53             @putByIdDirectPrivate(this, &quot;arrayIteratorIsDone&quot;, true);
 54         else {
 55             @putByIdDirectPrivate(this, &quot;arrayIteratorNextIndex&quot;, index + 1);
 56             done = false;
 57             value = array[index];
 58         }
 59     }
 60 
 61     return { value, done };
 62 }
 63 
 64 @globalPrivate
 65 function arrayIteratorKeyNext()
 66 {
 67     &quot;use strict&quot;;
 68     var done = true;
 69     var value;
 70 
 71     var array = @getByIdDirectPrivate(this, &quot;iteratedObject&quot;);
 72     if (!@getByIdDirectPrivate(this, &quot;arrayIteratorIsDone&quot;)) {
 73         var index = @getByIdDirectPrivate(this, &quot;arrayIteratorNextIndex&quot;);
 74         var length = array.length &gt;&gt;&gt; 0;
 75         if (index &gt;= length)
 76             @putByIdDirectPrivate(this, &quot;arrayIteratorIsDone&quot;, true);
 77         else {
 78             @putByIdDirectPrivate(this, &quot;arrayIteratorNextIndex&quot;, index + 1);
 79             done = false;
 80             value = index;
 81         }
 82     }
 83 
 84     return { value, done };
 85 }
 86 
 87 @globalPrivate
 88 function arrayIteratorKeyValueNext()
 89 {
 90     &quot;use strict&quot;;
 91     var done = true;
 92     var value;
 93 
 94     var array = @getByIdDirectPrivate(this, &quot;iteratedObject&quot;);
 95     if (!@getByIdDirectPrivate(this, &quot;arrayIteratorIsDone&quot;)) {
 96         var index = @getByIdDirectPrivate(this, &quot;arrayIteratorNextIndex&quot;);
 97         var length = array.length &gt;&gt;&gt; 0;
 98         if (index &gt;= length)
 99             @putByIdDirectPrivate(this, &quot;arrayIteratorIsDone&quot;, true);
100         else {
101             @putByIdDirectPrivate(this, &quot;arrayIteratorNextIndex&quot;, index + 1);
102             done = false;
103             value = [ index, array[index] ];
104         }
105     }
106 
107     return { value, done };
108 }
    </pre>
  </body>
</html>