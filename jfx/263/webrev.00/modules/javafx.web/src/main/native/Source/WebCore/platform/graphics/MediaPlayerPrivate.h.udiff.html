<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/MediaPlayerPrivate.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="MediaPlayerEnums.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="NativeImage.h.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/MediaPlayerPrivate.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -36,21 +36,32 @@</span>
      WTF_MAKE_NONCOPYABLE(MediaPlayerPrivateInterface); WTF_MAKE_FAST_ALLOCATED;
  public:
      MediaPlayerPrivateInterface() = default;
      virtual ~MediaPlayerPrivateInterface() = default;
  
<span class="udiff-line-modified-removed">-     virtual void load(const String&amp; url) = 0;</span>
<span class="udiff-line-modified-added">+     virtual void load(const String&amp;) { }</span>
<span class="udiff-line-added">+     virtual void load(const URL&amp; url, const ContentType&amp;, const String&amp;) { load(url.string()); }</span>
<span class="udiff-line-added">+ </span>
  #if ENABLE(MEDIA_SOURCE)
      virtual void load(const String&amp; url, MediaSourcePrivateClient*) = 0;
  #endif
  #if ENABLE(MEDIA_STREAM)
      virtual void load(MediaStreamPrivate&amp;) = 0;
  #endif
      virtual void cancelLoad() = 0;
  
<span class="udiff-line-added">+     virtual void prepareForPlayback(bool privateMode, MediaPlayer::Preload preload, bool preservesPitch, bool prepare)</span>
<span class="udiff-line-added">+     {</span>
<span class="udiff-line-added">+         setPrivateBrowsingMode(privateMode);</span>
<span class="udiff-line-added">+         setPreload(preload);</span>
<span class="udiff-line-added">+         setPreservesPitch(preservesPitch);</span>
<span class="udiff-line-added">+         if (prepare)</span>
<span class="udiff-line-added">+             prepareForRendering();</span>
<span class="udiff-line-added">+     }</span>
<span class="udiff-line-added">+ </span>
      virtual void prepareToPlay() { }
<span class="udiff-line-modified-removed">-     virtual PlatformLayer* platformLayer() const { return 0; }</span>
<span class="udiff-line-modified-added">+     virtual PlatformLayer* platformLayer() const { return nullptr; }</span>
  
  #if PLATFORM(IOS_FAMILY) || (PLATFORM(MAC) &amp;&amp; ENABLE(VIDEO_PRESENTATION_MODE))
      virtual void setVideoFullscreenLayer(PlatformLayer*, WTF::Function&lt;void()&gt;&amp;&amp; completionHandler) { completionHandler(); }
      virtual void updateVideoFullscreenInlineImage() { }
      virtual void setVideoFullscreenFrame(FloatRect) { }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -58,11 +69,11 @@</span>
      virtual void setVideoFullscreenMode(MediaPlayer::VideoFullscreenMode) { }
      virtual void videoFullscreenStandbyChanged() { }
  #endif
  
  #if PLATFORM(IOS_FAMILY)
<span class="udiff-line-modified-removed">-     virtual NSArray *timedMetadata() const { return 0; }</span>
<span class="udiff-line-modified-added">+     virtual NSArray *timedMetadata() const { return nil; }</span>
      virtual String accessLog() const { return emptyString(); }
      virtual String errorLog() const { return emptyString(); }
  #endif
      virtual long platformErrorCode() const { return 0; }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -139,24 +150,21 @@</span>
      virtual double liveUpdateInterval() const { return 0; }
  
      virtual unsigned long long totalBytes() const { return 0; }
      virtual bool didLoadingProgress() const = 0;
  
<span class="udiff-line-modified-removed">-     virtual void setSize(const IntSize&amp;) = 0;</span>
<span class="udiff-line-modified-added">+     virtual void setSize(const IntSize&amp;) { }</span>
  
      virtual void paint(GraphicsContext&amp;, const FloatRect&amp;) = 0;
  
      virtual void paintCurrentFrameInContext(GraphicsContext&amp; c, const FloatRect&amp; r) { paint(c, r); }
<span class="udiff-line-modified-removed">-     virtual bool copyVideoTextureToPlatformTexture(GraphicsContext3D*, Platform3DObject, GC3Denum, GC3Dint, GC3Denum, GC3Denum, GC3Denum, bool, bool) { return false; }</span>
<span class="udiff-line-modified-added">+     virtual bool copyVideoTextureToPlatformTexture(GraphicsContextGLOpenGL*, PlatformGLObject, GCGLenum, GCGLint, GCGLenum, GCGLenum, GCGLenum, bool, bool) { return false; }</span>
      virtual NativeImagePtr nativeImageForCurrentTime() { return nullptr; }
  
      virtual void setPreload(MediaPlayer::Preload) { }
  
<span class="udiff-line-modified-removed">-     virtual bool hasAvailableVideoFrame() const { return readyState() &gt;= MediaPlayer::HaveCurrentData; }</span>
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">-     virtual bool canLoadPoster() const { return false; }</span>
<span class="udiff-line-removed">-     virtual void setPoster(const String&amp;) { }</span>
<span class="udiff-line-modified-added">+     virtual bool hasAvailableVideoFrame() const { return readyState() &gt;= MediaPlayer::ReadyState::HaveCurrentData; }</span>
  
  #if USE(NATIVE_FULLSCREEN_VIDEO)
      virtual void enterFullscreen() { }
      virtual void exitFullscreen() { }
  #endif
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -190,11 +198,11 @@</span>
  
      virtual bool hasSingleSecurityOrigin() const { return false; }
      virtual bool didPassCORSAccessCheck() const { return false; }
      virtual Optional&lt;bool&gt; wouldTaintOrigin(const SecurityOrigin&amp;) const { return WTF::nullopt; }
  
<span class="udiff-line-modified-removed">-     virtual MediaPlayer::MovieLoadType movieLoadType() const { return MediaPlayer::Unknown; }</span>
<span class="udiff-line-modified-added">+     virtual MediaPlayer::MovieLoadType movieLoadType() const { return MediaPlayer::MovieLoadType::Unknown; }</span>
  
      virtual void prepareForRendering() { }
  
      // Time value in the movie&#39;s time scale. It is only necessary to override this if the media
      // engine uses rational numbers to represent media time.
</pre>
<center><a href="MediaPlayerEnums.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="NativeImage.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>