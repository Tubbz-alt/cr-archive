<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/inspector/InspectorStyleSheet.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="InspectorStyleSheet.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="InstrumentingAgents.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/inspector/InspectorStyleSheet.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
118     bool hasSource;
119     bool disabled;
120     String rawText;
121 };
122 
123 class InspectorStyle final : public RefCounted&lt;InspectorStyle&gt; {
124 public:
125     static Ref&lt;InspectorStyle&gt; create(const InspectorCSSId&amp; styleId, Ref&lt;CSSStyleDeclaration&gt;&amp;&amp;, InspectorStyleSheet* parentStyleSheet);
126     ~InspectorStyle();
127 
128     CSSStyleDeclaration&amp; cssStyle() const { return m_style.get(); }
129     RefPtr&lt;Inspector::Protocol::CSS::CSSStyle&gt; buildObjectForStyle() const;
130     Ref&lt;JSON::ArrayOf&lt;Inspector::Protocol::CSS::CSSComputedStyleProperty&gt;&gt; buildArrayForComputedStyle() const;
131 
132     ExceptionOr&lt;String&gt; text() const;
133     ExceptionOr&lt;void&gt; setText(const String&amp;);
134 
135 private:
136     InspectorStyle(const InspectorCSSId&amp; styleId, Ref&lt;CSSStyleDeclaration&gt;&amp;&amp;, InspectorStyleSheet* parentStyleSheet);
137 
<span class="line-modified">138     void populateAllProperties(Vector&lt;InspectorStyleProperty&gt;* result) const;</span>
139     Ref&lt;Inspector::Protocol::CSS::CSSStyle&gt; styleWithProperties() const;
140     RefPtr&lt;CSSRuleSourceData&gt; extractSourceData() const;
141     String shorthandValue(const String&amp; shorthandProperty) const;
142     String shorthandPriority(const String&amp; shorthandProperty) const;
143     Vector&lt;String&gt; longhandProperties(const String&amp; shorthandProperty) const;
144 
145     InspectorCSSId m_styleId;
146     Ref&lt;CSSStyleDeclaration&gt; m_style;
147     InspectorStyleSheet* m_parentStyleSheet;
148 };
149 
150 class InspectorStyleSheet : public RefCounted&lt;InspectorStyleSheet&gt; {
151 public:
152     class Listener {
153     public:
154         Listener() = default;
155         virtual ~Listener() = default;
156         virtual void styleSheetChanged(InspectorStyleSheet*) = 0;
157     };
158 
</pre>
<hr />
<pre>
196     virtual bool ensureParsedDataReady();
197     virtual RefPtr&lt;InspectorStyle&gt; inspectorStyleForId(const InspectorCSSId&amp;);
198 
199     // Also accessed by friend class InspectorStyle.
200     virtual ExceptionOr&lt;void&gt; setStyleText(CSSStyleDeclaration*, const String&amp;);
201     virtual Vector&lt;size_t&gt; lineEndings() const;
202 
203 private:
204     typedef Vector&lt;RefPtr&lt;CSSStyleRule&gt;&gt; CSSStyleRuleVector;
205     friend class InspectorStyle;
206 
207     static void collectFlatRules(RefPtr&lt;CSSRuleList&gt;&amp;&amp;, CSSStyleRuleVector* result);
208     bool styleSheetMutated() const;
209     bool ensureText() const;
210     bool ensureSourceData();
211     void ensureFlatRules() const;
212     bool styleSheetTextWithChangedStyle(CSSStyleDeclaration*, const String&amp; newStyleText, String* result);
213     bool originalStyleSheetText(String* result) const;
214     bool resourceStyleSheetText(String* result) const;
215     bool inlineStyleSheetText(String* result) const;

216     Ref&lt;JSON::ArrayOf&lt;Inspector::Protocol::CSS::CSSRule&gt;&gt; buildArrayForRuleList(CSSRuleList*);
217     Ref&lt;Inspector::Protocol::CSS::CSSSelector&gt; buildObjectForSelector(const CSSSelector*, Element*);
218     Ref&lt;Inspector::Protocol::CSS::SelectorList&gt; buildObjectForSelectorList(CSSStyleRule*, Element*, int&amp; endingLine);
219 
220     InspectorPageAgent* m_pageAgent;
221     String m_id;
222     RefPtr&lt;CSSStyleSheet&gt; m_pageStyleSheet;
223     Inspector::Protocol::CSS::StyleSheetOrigin m_origin;
224     String m_documentURL;
225     ParsedStyleSheet* m_parsedStyleSheet;
226     mutable CSSStyleRuleVector m_flatRules;
227     Listener* m_listener;
228 };
229 
230 class InspectorStyleSheetForInlineStyle final : public InspectorStyleSheet {
231 public:
232     static Ref&lt;InspectorStyleSheetForInlineStyle&gt; create(InspectorPageAgent*, const String&amp; id, Ref&lt;StyledElement&gt;&amp;&amp;, Inspector::Protocol::CSS::StyleSheetOrigin, Listener*);
233 
234     void didModifyElementAttribute();
235     ExceptionOr&lt;String&gt; text() const final;
</pre>
</td>
<td>
<hr />
<pre>
118     bool hasSource;
119     bool disabled;
120     String rawText;
121 };
122 
123 class InspectorStyle final : public RefCounted&lt;InspectorStyle&gt; {
124 public:
125     static Ref&lt;InspectorStyle&gt; create(const InspectorCSSId&amp; styleId, Ref&lt;CSSStyleDeclaration&gt;&amp;&amp;, InspectorStyleSheet* parentStyleSheet);
126     ~InspectorStyle();
127 
128     CSSStyleDeclaration&amp; cssStyle() const { return m_style.get(); }
129     RefPtr&lt;Inspector::Protocol::CSS::CSSStyle&gt; buildObjectForStyle() const;
130     Ref&lt;JSON::ArrayOf&lt;Inspector::Protocol::CSS::CSSComputedStyleProperty&gt;&gt; buildArrayForComputedStyle() const;
131 
132     ExceptionOr&lt;String&gt; text() const;
133     ExceptionOr&lt;void&gt; setText(const String&amp;);
134 
135 private:
136     InspectorStyle(const InspectorCSSId&amp; styleId, Ref&lt;CSSStyleDeclaration&gt;&amp;&amp;, InspectorStyleSheet* parentStyleSheet);
137 
<span class="line-modified">138     Vector&lt;InspectorStyleProperty&gt; collectProperties(bool includeAll) const;</span>
139     Ref&lt;Inspector::Protocol::CSS::CSSStyle&gt; styleWithProperties() const;
140     RefPtr&lt;CSSRuleSourceData&gt; extractSourceData() const;
141     String shorthandValue(const String&amp; shorthandProperty) const;
142     String shorthandPriority(const String&amp; shorthandProperty) const;
143     Vector&lt;String&gt; longhandProperties(const String&amp; shorthandProperty) const;
144 
145     InspectorCSSId m_styleId;
146     Ref&lt;CSSStyleDeclaration&gt; m_style;
147     InspectorStyleSheet* m_parentStyleSheet;
148 };
149 
150 class InspectorStyleSheet : public RefCounted&lt;InspectorStyleSheet&gt; {
151 public:
152     class Listener {
153     public:
154         Listener() = default;
155         virtual ~Listener() = default;
156         virtual void styleSheetChanged(InspectorStyleSheet*) = 0;
157     };
158 
</pre>
<hr />
<pre>
196     virtual bool ensureParsedDataReady();
197     virtual RefPtr&lt;InspectorStyle&gt; inspectorStyleForId(const InspectorCSSId&amp;);
198 
199     // Also accessed by friend class InspectorStyle.
200     virtual ExceptionOr&lt;void&gt; setStyleText(CSSStyleDeclaration*, const String&amp;);
201     virtual Vector&lt;size_t&gt; lineEndings() const;
202 
203 private:
204     typedef Vector&lt;RefPtr&lt;CSSStyleRule&gt;&gt; CSSStyleRuleVector;
205     friend class InspectorStyle;
206 
207     static void collectFlatRules(RefPtr&lt;CSSRuleList&gt;&amp;&amp;, CSSStyleRuleVector* result);
208     bool styleSheetMutated() const;
209     bool ensureText() const;
210     bool ensureSourceData();
211     void ensureFlatRules() const;
212     bool styleSheetTextWithChangedStyle(CSSStyleDeclaration*, const String&amp; newStyleText, String* result);
213     bool originalStyleSheetText(String* result) const;
214     bool resourceStyleSheetText(String* result) const;
215     bool inlineStyleSheetText(String* result) const;
<span class="line-added">216     bool extensionStyleSheetText(String* result) const;</span>
217     Ref&lt;JSON::ArrayOf&lt;Inspector::Protocol::CSS::CSSRule&gt;&gt; buildArrayForRuleList(CSSRuleList*);
218     Ref&lt;Inspector::Protocol::CSS::CSSSelector&gt; buildObjectForSelector(const CSSSelector*, Element*);
219     Ref&lt;Inspector::Protocol::CSS::SelectorList&gt; buildObjectForSelectorList(CSSStyleRule*, Element*, int&amp; endingLine);
220 
221     InspectorPageAgent* m_pageAgent;
222     String m_id;
223     RefPtr&lt;CSSStyleSheet&gt; m_pageStyleSheet;
224     Inspector::Protocol::CSS::StyleSheetOrigin m_origin;
225     String m_documentURL;
226     ParsedStyleSheet* m_parsedStyleSheet;
227     mutable CSSStyleRuleVector m_flatRules;
228     Listener* m_listener;
229 };
230 
231 class InspectorStyleSheetForInlineStyle final : public InspectorStyleSheet {
232 public:
233     static Ref&lt;InspectorStyleSheetForInlineStyle&gt; create(InspectorPageAgent*, const String&amp; id, Ref&lt;StyledElement&gt;&amp;&amp;, Inspector::Protocol::CSS::StyleSheetOrigin, Listener*);
234 
235     void didModifyElementAttribute();
236     ExceptionOr&lt;String&gt; text() const final;
</pre>
</td>
</tr>
</table>
<center><a href="InspectorStyleSheet.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="InstrumentingAgents.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>