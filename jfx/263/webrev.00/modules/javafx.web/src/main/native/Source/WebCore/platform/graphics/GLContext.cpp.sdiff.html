<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/GLContext.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="FormatConverter.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="GLContext.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/GLContext.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
  2  * Copyright (C) 2011, 2012 Igalia, S.L.
  3  *
  4  *  This library is free software; you can redistribute it and/or
  5  *  modify it under the terms of the GNU Lesser General Public
  6  *  License as published by the Free Software Foundation; either
  7  *  version 2 of the License, or (at your option) any later version.
  8  *
  9  *  This library is distributed in the hope that it will be useful,
 10  *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 11  *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 12  *  Lesser General Public License for more details.
 13  *
 14  *  You should have received a copy of the GNU Lesser General Public
 15  *  License along with this library; if not, write to the Free Software
 16  *  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
 17  */
 18 
 19 #include &quot;config.h&quot;
 20 
<span class="line-modified"> 21 #if ENABLE(GRAPHICS_CONTEXT_3D)</span>
 22 #include &quot;GLContext.h&quot;
 23 #include &lt;wtf/ThreadSpecific.h&gt;
 24 
 25 #if USE(EGL)
 26 #include &quot;GLContextEGL.h&quot;
 27 #endif
 28 
<span class="line-removed"> 29 #if USE(LIBEPOXY)</span>
<span class="line-removed"> 30 #include &lt;epoxy/gl.h&gt;</span>
<span class="line-removed"> 31 #elif USE(OPENGL_ES)</span>
<span class="line-removed"> 32 #include &lt;GLES2/gl2.h&gt;</span>
<span class="line-removed"> 33 #endif</span>
<span class="line-removed"> 34 </span>
 35 #if USE(GLX)
 36 #include &quot;GLContextGLX.h&quot;

 37 #endif
 38 
 39 using WTF::ThreadSpecific;
 40 
 41 namespace WebCore {
 42 
 43 class ThreadGlobalGLContext {
 44 public:
 45     static ThreadSpecific&lt;ThreadGlobalGLContext&gt;* staticGLContext;
 46 
 47     void setContext(GLContext* context) { m_context = context; }
 48     GLContext* context() { return m_context; }
 49 
 50 private:
 51     GLContext* m_context { nullptr };
 52 };
 53 
 54 ThreadSpecific&lt;ThreadGlobalGLContext&gt;* ThreadGlobalGLContext::staticGLContext;
 55 
 56 inline ThreadGlobalGLContext* currentContext()
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
  2  * Copyright (C) 2011, 2012 Igalia, S.L.
  3  *
  4  *  This library is free software; you can redistribute it and/or
  5  *  modify it under the terms of the GNU Lesser General Public
  6  *  License as published by the Free Software Foundation; either
  7  *  version 2 of the License, or (at your option) any later version.
  8  *
  9  *  This library is distributed in the hope that it will be useful,
 10  *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 11  *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 12  *  Lesser General Public License for more details.
 13  *
 14  *  You should have received a copy of the GNU Lesser General Public
 15  *  License along with this library; if not, write to the Free Software
 16  *  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
 17  */
 18 
 19 #include &quot;config.h&quot;
 20 
<span class="line-modified"> 21 #if ENABLE(GRAPHICS_CONTEXT_GL)</span>
 22 #include &quot;GLContext.h&quot;
 23 #include &lt;wtf/ThreadSpecific.h&gt;
 24 
 25 #if USE(EGL)
 26 #include &quot;GLContextEGL.h&quot;
 27 #endif
 28 






 29 #if USE(GLX)
 30 #include &quot;GLContextGLX.h&quot;
<span class="line-added"> 31 #include &quot;OpenGLShims.h&quot;</span>
 32 #endif
 33 
 34 using WTF::ThreadSpecific;
 35 
 36 namespace WebCore {
 37 
 38 class ThreadGlobalGLContext {
 39 public:
 40     static ThreadSpecific&lt;ThreadGlobalGLContext&gt;* staticGLContext;
 41 
 42     void setContext(GLContext* context) { m_context = context; }
 43     GLContext* context() { return m_context; }
 44 
 45 private:
 46     GLContext* m_context { nullptr };
 47 };
 48 
 49 ThreadSpecific&lt;ThreadGlobalGLContext&gt;* ThreadGlobalGLContext::staticGLContext;
 50 
 51 inline ThreadGlobalGLContext* currentContext()
</pre>
</td>
</tr>
</table>
<center><a href="FormatConverter.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="GLContext.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>