<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/runtime/LazyClassStructure.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="LazyClassStructure.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="LiteralParser.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/runtime/LazyClassStructure.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 32 
 33 class JSGlobalObject;
 34 class VM;
 35 
 36 class LazyClassStructure {
 37     typedef LazyProperty&lt;JSGlobalObject, Structure&gt;::Initializer StructureInitializer;
 38 
 39 public:
 40     struct Initializer {
 41         Initializer(VM&amp;, JSGlobalObject*, LazyClassStructure&amp;, const StructureInitializer&amp;);
 42 
 43         // This should be called first or not at all.
 44         void setPrototype(JSObject* prototype);
 45 
 46         // If this is called after setPrototype() then it just sets the structure. If this is
 47         // called first then it sets the prototype by extracting it from the structure.
 48         void setStructure(Structure*);
 49 
 50         // Call this last. It&#39;s expected that the constructor is initialized to point to the
 51         // prototype already. This will automatically set prototype.constructor=constructor.
<span class="line-removed"> 52         // This will also stuff the constructor into the global object at the given property.</span>
<span class="line-removed"> 53         // Note that the variant that does not take a property name attempts to deduce it by</span>
<span class="line-removed"> 54         // casting constructor to either JSFunction or InternalFunction. Also, you can pass</span>
<span class="line-removed"> 55         // nullptr for the property name, in which case we don&#39;t assign the property to the</span>
<span class="line-removed"> 56         // global object.</span>
<span class="line-removed"> 57         void setConstructor(PropertyName, JSObject* constructor);</span>
 58         void setConstructor(JSObject* constructor);
 59 
 60         VM&amp; vm;
 61         JSGlobalObject* global;
 62         LazyClassStructure&amp; classStructure;
 63         const StructureInitializer&amp; structureInit;
 64 
 65         // It&#39;s expected that you set these using the set methods above.
 66         JSObject* prototype { nullptr };
 67         Structure* structure { nullptr };
 68         JSObject* constructor { nullptr };
 69     };
 70 
 71     LazyClassStructure()
 72     {
 73     }
 74 
 75     template&lt;typename Callback&gt;
 76     void initLater(const Callback&amp;);
 77 
</pre>
</td>
<td>
<hr />
<pre>
 32 
 33 class JSGlobalObject;
 34 class VM;
 35 
 36 class LazyClassStructure {
 37     typedef LazyProperty&lt;JSGlobalObject, Structure&gt;::Initializer StructureInitializer;
 38 
 39 public:
 40     struct Initializer {
 41         Initializer(VM&amp;, JSGlobalObject*, LazyClassStructure&amp;, const StructureInitializer&amp;);
 42 
 43         // This should be called first or not at all.
 44         void setPrototype(JSObject* prototype);
 45 
 46         // If this is called after setPrototype() then it just sets the structure. If this is
 47         // called first then it sets the prototype by extracting it from the structure.
 48         void setStructure(Structure*);
 49 
 50         // Call this last. It&#39;s expected that the constructor is initialized to point to the
 51         // prototype already. This will automatically set prototype.constructor=constructor.






 52         void setConstructor(JSObject* constructor);
 53 
 54         VM&amp; vm;
 55         JSGlobalObject* global;
 56         LazyClassStructure&amp; classStructure;
 57         const StructureInitializer&amp; structureInit;
 58 
 59         // It&#39;s expected that you set these using the set methods above.
 60         JSObject* prototype { nullptr };
 61         Structure* structure { nullptr };
 62         JSObject* constructor { nullptr };
 63     };
 64 
 65     LazyClassStructure()
 66     {
 67     }
 68 
 69     template&lt;typename Callback&gt;
 70     void initLater(const Callback&amp;);
 71 
</pre>
</td>
</tr>
</table>
<center><a href="LazyClassStructure.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="LiteralParser.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>