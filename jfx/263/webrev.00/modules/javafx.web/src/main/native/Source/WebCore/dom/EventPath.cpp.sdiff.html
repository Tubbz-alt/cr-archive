<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/dom/EventPath.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="EventNames.in.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="EventPath.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/dom/EventPath.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
421         ASSERT(&amp;newTreeScope == &amp;m_retargetedRelatedNode-&gt;treeScope());
422     }
423 }
424 
425 inline Node* RelatedNodeRetargeter::nodeInLowestCommonAncestor()
426 {
427     if (!m_lowestCommonAncestorIndex)
428         return &amp;m_relatedNode;
429     auto&amp; rootNode = m_ancestorTreeScopes[m_lowestCommonAncestorIndex - 1]-&gt;rootNode();
430     return downcast&lt;ShadowRoot&gt;(rootNode).host();
431 }
432 
433 void RelatedNodeRetargeter::collectTreeScopes()
434 {
435     ASSERT(m_ancestorTreeScopes.isEmpty());
436     for (TreeScope* currentTreeScope = &amp;m_relatedNode.treeScope(); currentTreeScope; currentTreeScope = currentTreeScope-&gt;parentTreeScope())
437         m_ancestorTreeScopes.append(currentTreeScope);
438     ASSERT_WITH_SECURITY_IMPLICATION(!m_ancestorTreeScopes.isEmpty());
439 }
440 
<span class="line-modified">441 #if ASSERT_DISABLED</span>
442 
443 inline void RelatedNodeRetargeter::checkConsistency(Node&amp;)
444 {
445 }
446 
<span class="line-modified">447 #else</span>
448 
449 void RelatedNodeRetargeter::checkConsistency(Node&amp; currentTarget)
450 {
451     if (!m_retargetedRelatedNode)
452         return;
453     ASSERT(!currentTarget.isClosedShadowHidden(*m_retargetedRelatedNode));
454     ASSERT(m_retargetedRelatedNode == &amp;currentTarget.treeScope().retargetToScope(m_relatedNode));
455 }
456 
<span class="line-modified">457 #endif</span>
458 
459 }
</pre>
</td>
<td>
<hr />
<pre>
421         ASSERT(&amp;newTreeScope == &amp;m_retargetedRelatedNode-&gt;treeScope());
422     }
423 }
424 
425 inline Node* RelatedNodeRetargeter::nodeInLowestCommonAncestor()
426 {
427     if (!m_lowestCommonAncestorIndex)
428         return &amp;m_relatedNode;
429     auto&amp; rootNode = m_ancestorTreeScopes[m_lowestCommonAncestorIndex - 1]-&gt;rootNode();
430     return downcast&lt;ShadowRoot&gt;(rootNode).host();
431 }
432 
433 void RelatedNodeRetargeter::collectTreeScopes()
434 {
435     ASSERT(m_ancestorTreeScopes.isEmpty());
436     for (TreeScope* currentTreeScope = &amp;m_relatedNode.treeScope(); currentTreeScope; currentTreeScope = currentTreeScope-&gt;parentTreeScope())
437         m_ancestorTreeScopes.append(currentTreeScope);
438     ASSERT_WITH_SECURITY_IMPLICATION(!m_ancestorTreeScopes.isEmpty());
439 }
440 
<span class="line-modified">441 #if !ASSERT_ENABLED</span>
442 
443 inline void RelatedNodeRetargeter::checkConsistency(Node&amp;)
444 {
445 }
446 
<span class="line-modified">447 #else // ASSERT_ENABLED</span>
448 
449 void RelatedNodeRetargeter::checkConsistency(Node&amp; currentTarget)
450 {
451     if (!m_retargetedRelatedNode)
452         return;
453     ASSERT(!currentTarget.isClosedShadowHidden(*m_retargetedRelatedNode));
454     ASSERT(m_retargetedRelatedNode == &amp;currentTarget.treeScope().retargetToScope(m_relatedNode));
455 }
456 
<span class="line-modified">457 #endif // ASSERT_ENABLED</span>
458 
459 }
</pre>
</td>
</tr>
</table>
<center><a href="EventNames.in.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="EventPath.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>