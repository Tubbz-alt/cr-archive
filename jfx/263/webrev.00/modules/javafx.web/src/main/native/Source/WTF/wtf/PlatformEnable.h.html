<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New modules/javafx.web/src/main/native/Source/WTF/wtf/PlatformEnable.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (C) 2006-2020 Apple Inc. All rights reserved.
  3  * Copyright (C) 2007-2009 Torch Mobile, Inc.
  4  * Copyright (C) 2010, 2011 Research In Motion Limited. All rights reserved.
  5  * Copyright (C) 2013 Samsung Electronics. All rights reserved.
  6  *
  7  * Redistribution and use in source and binary forms, with or without
  8  * modification, are permitted provided that the following conditions
  9  * are met:
 10  * 1. Redistributions of source code must retain the above copyright
 11  *    notice, this list of conditions and the following disclaimer.
 12  * 2. Redistributions in binary form must reproduce the above copyright
 13  *    notice, this list of conditions and the following disclaimer in the
 14  *    documentation and/or other materials provided with the distribution.
 15  *
 16  * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS&#39;&#39; AND ANY
 17  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 18  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 19  * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR
 20  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 21  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 22  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 23  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 24  * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 25  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 26  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 27  */
 28 
 29 #pragma once
 30 
 31 #ifndef WTF_PLATFORM_GUARD_AGAINST_INDIRECT_INCLUSION
 32 #error &quot;Please #include &lt;wtf/Platform.h&gt; instead of this file directly.&quot;
 33 #endif
 34 
 35 
 36 #define ENABLE(WTF_FEATURE) (defined ENABLE_##WTF_FEATURE &amp;&amp; ENABLE_##WTF_FEATURE)
 37 
 38 /* Use this file to list _all_ ENABLE() macros. Define the macros to be one of the following values:
 39  *  - &quot;0&quot; disables the feature by default. The feature can still be enabled for a specific port or environment.
 40  *  - &quot;1&quot; enables the feature by default. The feature can still be disabled for a specific port or environment.
 41  *
 42  * The feature defaults in this file are only taken into account if the (port specific) build system
 43  * has not enabled or disabled a particular feature.
 44  *
 45  * Use this file to define ENABLE() macros only. Do not use this file to define USE() or macros !
 46  *
 47  * Only define a macro if it was not defined before - always check for !defined first.
 48  *
 49  * Keep the file sorted by the name of the defines. As an exception you can change the order
 50  * to allow interdependencies between the default values.
 51  *
 52  * Below are a few potential commands to take advantage of this file running from the Source/WTF directory
 53  *
 54  * Get the list of feature defines: grep -o &quot;ENABLE_\(\w\+\)&quot; wtf/PlatformEnable.h | sort | uniq
 55  * Get the list of features enabled by default for a PLATFORM(XXX): gcc -E -dM -I. -DWTF_PLATFORM_XXX &quot;wtf/Platform.h&quot; | grep &quot;ENABLE_\w\+ 1&quot; | cut -d&#39; &#39; -f2 | sort
 56  */
 57 
 58 
 59 /* FIXME: This should be renamed to ENABLE_ASSERTS for consistency and so it can be used as ENABLE(ASSERTS). */
 60 /* ASSERT_ENABLED should be true if we want the current compilation unit to
 61    do debug assertion checks unconditionally (e.g. treat a debug ASSERT
 62    like a RELEASE_ASSERT.
 63 */
 64 #ifndef ASSERT_ENABLED
 65 #ifdef NDEBUG
 66 #define ASSERT_ENABLED 0
 67 #else
 68 #define ASSERT_ENABLED 1
 69 #endif
 70 #endif
 71 
 72 
 73 /* ==== Platform additions: additions to PlatformEnable.h from outside the main repository ==== */
 74 
 75 #if USE(APPLE_INTERNAL_SDK) &amp;&amp; __has_include(&lt;WebKitAdditions/AdditionalFeatureDefines.h&gt;)
 76 #include &lt;WebKitAdditions/AdditionalFeatureDefines.h&gt;
 77 #endif
 78 
 79 
 80 
 81 /* ==== Platform specific defaults ==== */
 82 
 83 /* --------- Apple Cocoa platforms --------- */
 84 #if PLATFORM(COCOA)
 85 #include &lt;wtf/PlatformEnableCocoa.h&gt;
 86 #endif
 87 
 88 /* --------- Apple Windows port --------- */
 89 #if PLATFORM(WIN) &amp;&amp; !PLATFORM(WIN_CAIRO)
 90 #include &lt;wtf/PlatformEnableWinApple.h&gt;
 91 #endif
 92 
 93 /* --------- Windows CAIRO port --------- */
 94 #if PLATFORM(WIN_CAIRO)
 95 #include &lt;wtf/PlatformEnableWinCairo.h&gt;
 96 #endif
 97 
 98 
 99 
100 /* ---------  ENABLE macro defaults --------- */
101 
102 /* Do not use PLATFORM() tests in this section ! */
103 
104 #if !defined(ENABLE_WEBPROCESS_NSRUNLOOP)
105 #define ENABLE_WEBPROCESS_NSRUNLOOP 0
106 #endif
107 
108 #if !defined(ENABLE_WEBPROCESS_WINDOWSERVER_BLOCKING)
109 #define ENABLE_WEBPROCESS_WINDOWSERVER_BLOCKING 0
110 #endif
111 
112 #if !defined(ENABLE_MAC_GESTURE_EVENTS)
113 #define ENABLE_MAC_GESTURE_EVENTS 0
114 #endif
115 
116 #if !defined(ENABLE_CURSOR_VISIBILITY)
117 #define ENABLE_CURSOR_VISIBILITY 0
118 #endif
119 
120 #if !defined(ENABLE_AIRPLAY_PICKER)
121 #define ENABLE_AIRPLAY_PICKER 0
122 #endif
123 
124 #if !defined(ENABLE_APPLE_PAY_REMOTE_UI)
125 #define ENABLE_APPLE_PAY_REMOTE_UI 0
126 #endif
127 
128 #if !defined(ENABLE_AUTOCORRECT)
129 #define ENABLE_AUTOCORRECT 0
130 #endif
131 
132 #if !defined(ENABLE_AUTOCAPITALIZE)
133 #define ENABLE_AUTOCAPITALIZE 0
134 #endif
135 
136 #if !defined(ENABLE_TEXT_AUTOSIZING)
137 #define ENABLE_TEXT_AUTOSIZING 0
138 #endif
139 
140 #if !defined(ENABLE_IOS_GESTURE_EVENTS)
141 #define ENABLE_IOS_GESTURE_EVENTS 0
142 #endif
143 
144 #if !defined(ENABLE_IOS_TOUCH_EVENTS)
145 #define ENABLE_IOS_TOUCH_EVENTS 0
146 #endif
147 
148 #if !defined(ENABLE_PRIMARY_SNAPSHOTTED_PLUGIN_HEURISTIC)
149 #define ENABLE_PRIMARY_SNAPSHOTTED_PLUGIN_HEURISTIC 0
150 #endif
151 
152 #if !defined(ENABLE_WKPDFVIEW)
153 #define ENABLE_WKPDFVIEW 0
154 #endif
155 
156 #if !defined(ENABLE_PREVIEW_CONVERTER)
157 #define ENABLE_PREVIEW_CONVERTER 0
158 #endif
159 
160 #if !defined(ENABLE_META_VIEWPORT)
161 #define ENABLE_META_VIEWPORT 0
162 #endif
163 
164 
165 #if !defined(ENABLE_FILE_REPLACEMENT)
166 #define ENABLE_FILE_REPLACEMENT 0
167 #endif
168 
169 #if !defined(ENABLE_UI_SIDE_COMPOSITING)
170 #define ENABLE_UI_SIDE_COMPOSITING 0
171 #endif
172 
173 #if !defined(ENABLE_3D_TRANSFORMS)
174 #define ENABLE_3D_TRANSFORMS 0
175 #endif
176 
177 #if !defined(ENABLE_ACCESSIBILITY)
178 #define ENABLE_ACCESSIBILITY 1
179 #endif
180 
181 #if !defined(ENABLE_ACCELERATED_2D_CANVAS)
182 #define ENABLE_ACCELERATED_2D_CANVAS 0
183 #endif
184 
185 #if !defined(ENABLE_OVERFLOW_SCROLLING_TOUCH)
186 #define ENABLE_OVERFLOW_SCROLLING_TOUCH 0
187 #endif
188 
189 #if !defined(ENABLE_APNG)
190 #define ENABLE_APNG 1
191 #endif
192 
193 #if !defined(ENABLE_CHANNEL_MESSAGING)
194 #define ENABLE_CHANNEL_MESSAGING 1
195 #endif
196 
197 #if !defined(ENABLE_CONTENT_EXTENSIONS)
198 #define ENABLE_CONTENT_EXTENSIONS 0
199 #endif
200 
201 #if !defined(ENABLE_CONTEXT_MENUS)
202 #define ENABLE_CONTEXT_MENUS 1
203 #endif
204 
205 #if !defined(ENABLE_CONTEXT_MENU_EVENT)
206 #define ENABLE_CONTEXT_MENU_EVENT 1
207 #endif
208 
209 #if !defined(ENABLE_CSS3_TEXT)
210 #define ENABLE_CSS3_TEXT 0
211 #endif
212 
213 #if !defined(ENABLE_CSS_BOX_DECORATION_BREAK)
214 #define ENABLE_CSS_BOX_DECORATION_BREAK 1
215 #endif
216 
217 #if !defined(ENABLE_CSS_DEVICE_ADAPTATION)
218 #define ENABLE_CSS_DEVICE_ADAPTATION 0
219 #endif
220 
221 #if !defined(ENABLE_CSS_COMPOSITING)
222 #define ENABLE_CSS_COMPOSITING 0
223 #endif
224 
225 #if !defined(ENABLE_CSS_IMAGE_RESOLUTION)
226 #define ENABLE_CSS_IMAGE_RESOLUTION 0
227 #endif
228 
229 #if !defined(ENABLE_CSS_CONIC_GRADIENTS)
230 #define ENABLE_CSS_CONIC_GRADIENTS 0
231 #endif
232 
233 #if !defined(ENABLE_CUSTOM_CURSOR_SUPPORT)
234 #define ENABLE_CUSTOM_CURSOR_SUPPORT 1
235 #endif
236 
237 #if !defined(ENABLE_CUSTOM_SCHEME_HANDLER)
238 #define ENABLE_CUSTOM_SCHEME_HANDLER 0
239 #endif
240 
241 #if !defined(ENABLE_DARK_MODE_CSS)
242 #define ENABLE_DARK_MODE_CSS 0
243 #endif
244 
245 #if !defined(ENABLE_DATALIST_ELEMENT)
246 #define ENABLE_DATALIST_ELEMENT 0
247 #endif
248 
249 #if !defined(ENABLE_DEVICE_ORIENTATION)
250 #define ENABLE_DEVICE_ORIENTATION 0
251 #endif
252 
253 #if !defined(ENABLE_DOWNLOAD_ATTRIBUTE)
254 #define ENABLE_DOWNLOAD_ATTRIBUTE 1
255 #endif
256 
257 #if !defined(ENABLE_DRAG_SUPPORT)
258 #define ENABLE_DRAG_SUPPORT 1
259 #endif
260 
261 #if !defined(ENABLE_ENCRYPTED_MEDIA)
262 #define ENABLE_ENCRYPTED_MEDIA 0
263 #endif
264 
265 #if !defined(ENABLE_FILTERS_LEVEL_2)
266 #define ENABLE_FILTERS_LEVEL_2 0
267 #endif
268 
269 #if !defined(ENABLE_FTPDIR)
270 #define ENABLE_FTPDIR 1
271 #endif
272 
273 #if !defined(ENABLE_FULLSCREEN_API)
274 #define ENABLE_FULLSCREEN_API 0
275 #endif
276 
277 #if !defined(ENABLE_GAMEPAD)
278 #define ENABLE_GAMEPAD 0
279 #endif
280 
281 #if !defined(ENABLE_GEOLOCATION)
282 #define ENABLE_GEOLOCATION 0
283 #endif
284 
285 #if !defined(ENABLE_INDEXED_DATABASE)
286 #define ENABLE_INDEXED_DATABASE 0
287 #endif
288 
289 #if !defined(ENABLE_INDEXED_DATABASE_IN_WORKERS)
290 #define ENABLE_INDEXED_DATABASE_IN_WORKERS 0
291 #endif
292 
293 #if !defined(ENABLE_INPUT_TYPE_COLOR)
294 #define ENABLE_INPUT_TYPE_COLOR 1
295 #endif
296 
297 #if !defined(ENABLE_INPUT_TYPE_DATE)
298 #define ENABLE_INPUT_TYPE_DATE 0
299 #endif
300 
301 #if !defined(ENABLE_INPUT_TYPE_DATETIME_INCOMPLETE)
302 #define ENABLE_INPUT_TYPE_DATETIME_INCOMPLETE 0
303 #endif
304 
305 #if !defined(ENABLE_INPUT_TYPE_DATETIMELOCAL)
306 #define ENABLE_INPUT_TYPE_DATETIMELOCAL 0
307 #endif
308 
309 #if !defined(ENABLE_INPUT_TYPE_MONTH)
310 #define ENABLE_INPUT_TYPE_MONTH 0
311 #endif
312 
313 #if !defined(ENABLE_INPUT_TYPE_TIME)
314 #define ENABLE_INPUT_TYPE_TIME 0
315 #endif
316 
317 #if !defined(ENABLE_INPUT_TYPE_WEEK)
318 #define ENABLE_INPUT_TYPE_WEEK 0
319 #endif
320 
321 #if ENABLE(INPUT_TYPE_DATE) || ENABLE(INPUT_TYPE_DATETIME_INCOMPLETE) || ENABLE(INPUT_TYPE_DATETIMELOCAL) || ENABLE(INPUT_TYPE_MONTH) || ENABLE(INPUT_TYPE_TIME) || ENABLE(INPUT_TYPE_WEEK)
322 #if !defined(ENABLE_DATE_AND_TIME_INPUT_TYPES)
323 #define ENABLE_DATE_AND_TIME_INPUT_TYPES 1
324 #endif
325 #endif
326 
327 #if !defined(ENABLE_INSPECTOR_ALTERNATE_DISPATCHERS)
328 #define ENABLE_INSPECTOR_ALTERNATE_DISPATCHERS 0
329 #endif
330 
331 #if !defined(ENABLE_INSPECTOR_TELEMETRY)
332 #define ENABLE_INSPECTOR_TELEMETRY 0
333 #endif
334 
335 #if !defined(ENABLE_INTL)
336 #define ENABLE_INTL 0
337 #endif
338 
339 #if !defined(ENABLE_LAYOUT_FORMATTING_CONTEXT)
340 #define ENABLE_LAYOUT_FORMATTING_CONTEXT 0
341 #endif
342 
343 #if !defined(ENABLE_LEGACY_CSS_VENDOR_PREFIXES)
344 #define ENABLE_LEGACY_CSS_VENDOR_PREFIXES 0
345 #endif
346 
347 #if !defined(ENABLE_LETTERPRESS)
348 #define ENABLE_LETTERPRESS 0
349 #endif
350 
351 #if !defined(ENABLE_MATHML)
352 #define ENABLE_MATHML 1
353 #endif
354 
355 #if !defined(ENABLE_MEDIA_CAPTURE)
356 #define ENABLE_MEDIA_CAPTURE 0
357 #endif
358 
359 #if !defined(ENABLE_MEDIA_CONTROLS_SCRIPT)
360 #define ENABLE_MEDIA_CONTROLS_SCRIPT 0
361 #endif
362 
363 #if !defined(ENABLE_MEDIA_SOURCE)
364 #define ENABLE_MEDIA_SOURCE 0
365 #endif
366 
367 #if !defined(ENABLE_MEDIA_STATISTICS)
368 #define ENABLE_MEDIA_STATISTICS 0
369 #endif
370 
371 #if !defined(ENABLE_MEDIA_STREAM)
372 #define ENABLE_MEDIA_STREAM 0
373 #endif
374 
375 #if !defined(ENABLE_METER_ELEMENT)
376 #define ENABLE_METER_ELEMENT 1
377 #endif
378 
379 #if !defined(ENABLE_MHTML)
380 #define ENABLE_MHTML 0
381 #endif
382 
383 #if !defined(ENABLE_MOUSE_CURSOR_SCALE)
384 #define ENABLE_MOUSE_CURSOR_SCALE 0
385 #endif
386 
387 #if !defined(ENABLE_MOUSE_FORCE_EVENTS)
388 #define ENABLE_MOUSE_FORCE_EVENTS 1
389 #endif
390 
391 #if !defined(ENABLE_NETSCAPE_PLUGIN_API)
392 #define ENABLE_NETSCAPE_PLUGIN_API 1
393 #endif
394 
395 #if !defined(ENABLE_NETSCAPE_PLUGIN_METADATA_CACHE)
396 #define ENABLE_NETSCAPE_PLUGIN_METADATA_CACHE 0
397 #endif
398 
399 #if !defined(ENABLE_NOTIFICATIONS)
400 #define ENABLE_NOTIFICATIONS 0
401 #endif
402 
403 #if !defined(ENABLE_OFFSCREEN_CANVAS)
404 #define ENABLE_OFFSCREEN_CANVAS 0
405 #endif
406 
407 #if !defined(ENABLE_ORIENTATION_EVENTS)
408 #define ENABLE_ORIENTATION_EVENTS 0
409 #endif
410 
411 #if OS(WINDOWS)
412 #if !defined(ENABLE_PAN_SCROLLING)
413 #define ENABLE_PAN_SCROLLING 1
414 #endif
415 #endif
416 
417 #if !defined(ENABLE_PAYMENT_REQUEST)
418 #define ENABLE_PAYMENT_REQUEST 0
419 #endif
420 
421 #if !defined(ENABLE_POINTER_LOCK)
422 #define ENABLE_POINTER_LOCK 1
423 #endif
424 
425 #if !defined(ENABLE_QUOTA)
426 #define ENABLE_QUOTA 0
427 #endif
428 
429 #if !defined(ENABLE_REMOTE_INSPECTOR)
430 #define ENABLE_REMOTE_INSPECTOR 0
431 #endif
432 
433 #if !defined(ENABLE_RUBBER_BANDING)
434 #define ENABLE_RUBBER_BANDING 0
435 #endif
436 
437 #if !defined(ENABLE_SECURITY_ASSERTIONS)
438 /* Enable security assertions on all ASAN builds and debug builds. */
439 #if ASAN_ENABLED || !defined(NDEBUG)
440 #define ENABLE_SECURITY_ASSERTIONS 1
441 #endif
442 #endif
443 
444 #if !defined(ENABLE_SMOOTH_SCROLLING)
445 #define ENABLE_SMOOTH_SCROLLING 0
446 #endif
447 
448 #if !defined(ENABLE_SPEECH_SYNTHESIS)
449 #define ENABLE_SPEECH_SYNTHESIS 0
450 #endif
451 
452 #if !defined(ENABLE_SPELLCHECK)
453 #define ENABLE_SPELLCHECK 0
454 #endif
455 
456 #if !defined(ENABLE_STREAMS_API)
457 #define ENABLE_STREAMS_API 1
458 #endif
459 
460 #if !defined(ENABLE_SVG_FONTS)
461 #define ENABLE_SVG_FONTS 1
462 #endif
463 
464 #if !defined(ENABLE_TEXT_CARET)
465 #define ENABLE_TEXT_CARET 1
466 #endif
467 
468 #if !defined(ENABLE_TEXT_SELECTION)
469 #define ENABLE_TEXT_SELECTION 1
470 #endif
471 
472 #if !defined(ENABLE_ASYNC_SCROLLING)
473 #define ENABLE_ASYNC_SCROLLING 0
474 #endif
475 
476 #if !defined(ENABLE_TOUCH_EVENTS)
477 #define ENABLE_TOUCH_EVENTS 0
478 #endif
479 
480 #if !defined(ENABLE_VIDEO)
481 #define ENABLE_VIDEO 0
482 #endif
483 
484 #if !defined(ENABLE_VIDEO_TRACK)
485 #define ENABLE_VIDEO_TRACK 0
486 #endif
487 
488 #if !defined(ENABLE_DATACUE_VALUE)
489 #define ENABLE_DATACUE_VALUE 0
490 #endif
491 
492 #if !defined(ENABLE_WEBGL)
493 #define ENABLE_WEBGL 0
494 #endif
495 
496 #if !defined(ENABLE_GRAPHICS_CONTEXT_GL)
497 #define ENABLE_GRAPHICS_CONTEXT_GL ENABLE_WEBGL
498 #endif
499 
500 #if !defined(ENABLE_WEB_ARCHIVE)
501 #define ENABLE_WEB_ARCHIVE 0
502 #endif
503 
504 #if !defined(ENABLE_WEB_AUDIO)
505 #define ENABLE_WEB_AUDIO 0
506 #endif
507 
508 #if !defined(ENABLE_XSLT)
509 #define ENABLE_XSLT 1
510 #endif
511 
512 #if !defined(ENABLE_DATA_INTERACTION)
513 #define ENABLE_DATA_INTERACTION 0
514 #endif
515 
516 #if !defined(ENABLE_SERVICE_WORKER)
517 #define ENABLE_SERVICE_WORKER 1
518 #endif
519 
520 #if !defined(ENABLE_MONOSPACE_FONT_EXCEPTION)
521 #define ENABLE_MONOSPACE_FONT_EXCEPTION 0
522 #endif
523 
524 #if !defined(ENABLE_FULL_KEYBOARD_ACCESS)
525 #define ENABLE_FULL_KEYBOARD_ACCESS 0
526 #endif
527 
528 #if !defined(ENABLE_PLATFORM_DRIVEN_TEXT_CHECKING)
529 #define ENABLE_PLATFORM_DRIVEN_TEXT_CHECKING 0
530 #endif
531 
532 #if !defined(ENABLE_WEB_PLAYBACK_CONTROLS_MANAGER)
533 #define ENABLE_WEB_PLAYBACK_CONTROLS_MANAGER 0
534 #endif
535 
536 #if !defined(ENABLE_RESOURCE_USAGE)
537 #define ENABLE_RESOURCE_USAGE 0
538 #endif
539 
540 #if !defined(ENABLE_SEC_ITEM_SHIM)
541 #define ENABLE_SEC_ITEM_SHIM 0
542 #endif
543 
544 #if !defined(ENABLE_DATA_DETECTION)
545 #define ENABLE_DATA_DETECTION 0
546 #endif
547 
548 /*
549  * Enable this to put each IsoHeap and other allocation categories into their own malloc heaps, so that tools like vmmap can show how big each heap is.
550  * Turn BENABLE_MALLOC_HEAP_BREAKDOWN on in bmalloc together when using this.
551  */
552 #if !defined(ENABLE_MALLOC_HEAP_BREAKDOWN)
553 #define ENABLE_MALLOC_HEAP_BREAKDOWN 0
554 #endif
555 
556 
557 
558 
559 /* FIXME: This section of the file has not been cleaned up yet and needs major work. */
560 
561 /* FIXME: JSC_OBJC_API_ENABLED does not match the normal ENABLE naming convention. */
562 #if !PLATFORM(COCOA)
563 #if !defined(JSC_OBJC_API_ENABLED)
564 #define JSC_OBJC_API_ENABLED 0
565 #endif
566 #endif
567 
568 /* The JIT is enabled by default on all x86-64 &amp; ARM64 platforms. */
569 #if !defined(ENABLE_JIT) &amp;&amp; (CPU(X86_64) || CPU(ARM64)) &amp;&amp; !CPU(APPLE_ARMV7K)
570 #define ENABLE_JIT 1
571 #endif
572 
573 #if USE(JSVALUE32_64)
574 #if (CPU(ARM_THUMB2) || CPU(MIPS)) &amp;&amp; OS(LINUX)
575 /* On ARMv7 and MIPS on Linux the JIT is enabled unless explicitly disabled. */
576 #if !defined(ENABLE_JIT)
577 #define ENABLE_JIT 1
578 #endif
579 #else
580 /* Disable JIT and force C_LOOP on all other 32bit architectures. */
581 #undef ENABLE_JIT
582 #define ENABLE_JIT 0
583 #undef ENABLE_C_LOOP
584 #define ENABLE_C_LOOP 1
585 #endif
586 #endif
587 
588 /* Disable the JIT for 32-bit Windows builds. */
589 #if USE(JSVALUE32_64) &amp;&amp; OS(WINDOWS)
590 #undef ENABLE_JIT
591 #define ENABLE_JIT 0
592 #endif
593 
594 #if !defined(ENABLE_C_LOOP)
595 #if ENABLE(JIT) || CPU(X86_64) || (CPU(ARM64) &amp;&amp; !defined(__ILP32__))
596 #define ENABLE_C_LOOP 0
597 #else
598 #define ENABLE_C_LOOP 1
599 #endif
600 #endif
601 
602 /* FIXME: This should be turned into an #error invariant */
603 /* The FTL *does not* work on 32-bit platforms. Disable it even if someone asked us to enable it. */
604 #if USE(JSVALUE32_64)
605 #undef ENABLE_FTL_JIT
606 #define ENABLE_FTL_JIT 0
607 #endif
608 
609 /* FIXME: This should be turned into an #error invariant */
610 /* The FTL is disabled on the iOS simulator, mostly for simplicity. */
611 #if PLATFORM(IOS_FAMILY_SIMULATOR)
612 #undef ENABLE_FTL_JIT
613 #define ENABLE_FTL_JIT 0
614 #endif
615 
616 /* If possible, try to enable a disassembler. This is optional. We proceed in two
617    steps: first we try to find some disassembler that we can use, and then we
618    decide if the high-level disassembler API can be enabled. */
619 #if !defined(ENABLE_UDIS86) &amp;&amp; ENABLE(JIT) &amp;&amp; CPU(X86_64) &amp;&amp; !USE(CAPSTONE)
620 #define ENABLE_UDIS86 1
621 #endif
622 
623 #if !defined(ENABLE_ARM64_DISASSEMBLER) &amp;&amp; ENABLE(JIT) &amp;&amp; CPU(ARM64) &amp;&amp; !USE(CAPSTONE)
624 #define ENABLE_ARM64_DISASSEMBLER 1
625 #endif
626 
627 #if !defined(ENABLE_DISASSEMBLER) &amp;&amp; (ENABLE(UDIS86) || ENABLE(ARM64_DISASSEMBLER) || (ENABLE(JIT) &amp;&amp; USE(CAPSTONE)))
628 #define ENABLE_DISASSEMBLER 1
629 #endif
630 
631 #if !defined(ENABLE_DFG_JIT) &amp;&amp; ENABLE(JIT)
632 
633 /* Enable the DFG JIT on X86 and X86_64. */
634 #if CPU(X86_64) &amp;&amp; (OS(DARWIN) || OS(LINUX) || OS(FREEBSD) || OS(HURD) || OS(WINDOWS))
635 #define ENABLE_DFG_JIT 1
636 #endif
637 
638 /* Enable the DFG JIT on ARMv7.  Only tested on iOS, Linux, and FreeBSD. */
639 #if (CPU(ARM_THUMB2) || CPU(ARM64)) &amp;&amp; (OS(DARWIN) || OS(LINUX) || OS(FREEBSD))
640 #define ENABLE_DFG_JIT 1
641 #endif
642 
643 /* Enable the DFG JIT on MIPS. */
644 #if CPU(MIPS)
645 #define ENABLE_DFG_JIT 1
646 #endif
647 
648 #endif /* !defined(ENABLE_DFG_JIT) &amp;&amp; ENABLE(JIT) */
649 
650 /* Concurrent JS only works on 64-bit platforms because it requires that
651    values get stored to atomically. This is trivially true on 64-bit platforms,
652    but not true at all on 32-bit platforms where values are composed of two
653    separate sub-values. */
654 #if ENABLE(JIT) &amp;&amp; USE(JSVALUE64)
655 #define ENABLE_CONCURRENT_JS 1
656 #endif
657 
658 #if (CPU(X86_64) || CPU(ARM64)) &amp;&amp; HAVE(FAST_TLS)
659 #define ENABLE_FAST_TLS_JIT 1
660 #endif
661 
662 #if ENABLE(JIT) &amp;&amp; (CPU(X86) || CPU(X86_64) || CPU(ARM_THUMB2) || CPU(ARM64) || CPU(MIPS))
663 #define ENABLE_MASM_PROBE 1
664 #endif
665 
666 /* FIXME: This should be turned into an #error invariant */
667 /* If the baseline jit is not available, then disable upper tiers as well.
668    The MacroAssembler::probe() is also required for supporting the upper tiers. */
669 #if !ENABLE(JIT) || !ENABLE(MASM_PROBE)
670 #undef ENABLE_DFG_JIT
671 #undef ENABLE_FTL_JIT
672 #define ENABLE_DFG_JIT 0
673 #define ENABLE_FTL_JIT 0
674 #endif
675 
676 /* FIXME: This should be turned into an #error invariant */
677 /* If the DFG jit is not available, then disable upper tiers as well: */
678 #if !ENABLE(DFG_JIT)
679 #undef ENABLE_FTL_JIT
680 #define ENABLE_FTL_JIT 0
681 #endif
682 
683 /* This controls whether B3 is built. B3 is needed for FTL JIT and WebAssembly */
684 #if ENABLE(FTL_JIT)
685 #define ENABLE_B3_JIT 1
686 #endif
687 
688 #if !defined(ENABLE_WEBASSEMBLY) &amp;&amp; (ENABLE(B3_JIT) &amp;&amp; PLATFORM(COCOA) &amp;&amp; CPU(ADDRESS64))
689 #define ENABLE_WEBASSEMBLY 1
690 #endif
691 
692 /* The SamplingProfiler is the probabilistic and low-overhead profiler used by
693  * JSC to measure where time is spent inside a JavaScript program.
694  * In configurations other than Windows and Darwin, because layout of mcontext_t depends on standard libraries (like glibc),
695  * sampling profiler is enabled if WebKit uses pthreads and glibc. */
696 #if !defined(ENABLE_SAMPLING_PROFILER) &amp;&amp; (!ENABLE(C_LOOP) &amp;&amp; (OS(WINDOWS) || HAVE(MACHINE_CONTEXT)))
697 #define ENABLE_SAMPLING_PROFILER 1
698 #endif
699 
700 #if ENABLE(WEBASSEMBLY) &amp;&amp; HAVE(MACHINE_CONTEXT)
701 #define ENABLE_WEBASSEMBLY_FAST_MEMORY 1
702 #endif
703 
704 /* Counts uses of write barriers using sampling counters. Be sure to also
705    set ENABLE_SAMPLING_COUNTERS to 1. */
706 #if !defined(ENABLE_WRITE_BARRIER_PROFILING)
707 #define ENABLE_WRITE_BARRIER_PROFILING 0
708 #endif
709 
710 /* Logs all allocation-related activity that goes through fastMalloc or the
711    JSC GC (both cells and butterflies). Also logs marking. Note that this
712    isn&#39;t a completely accurate view of the heap since it doesn&#39;t include all
713    butterfly resize operations, doesn&#39;t tell you what is going on with weak
714    references (other than to tell you when they&#39;re marked), and doesn&#39;t
715    track direct mmap() allocations or things like JIT allocation. */
716 #if !defined(ENABLE_ALLOCATION_LOGGING)
717 #define ENABLE_ALLOCATION_LOGGING 0
718 #endif
719 
720 /* Enable verification that that register allocations are not made within generated control flow.
721    Turned on for debug builds. */
722 #if !defined(ENABLE_DFG_REGISTER_ALLOCATION_VALIDATION) &amp;&amp; ENABLE(DFG_JIT) &amp;&amp; !defined(NDEBUG)
723 #define ENABLE_DFG_REGISTER_ALLOCATION_VALIDATION 1
724 #endif
725 
726 #if !defined(ENABLE_SEPARATED_WX_HEAP) &amp;&amp; PLATFORM(IOS_FAMILY) &amp;&amp; CPU(ARM64) &amp;&amp; (!ENABLE(FAST_JIT_PERMISSIONS) || !CPU(ARM64E))
727 #define ENABLE_SEPARATED_WX_HEAP 1
728 #endif
729 
730 /* Determine if we need to enable Computed Goto Opcodes or not: */
731 #if HAVE(COMPUTED_GOTO) || !ENABLE(C_LOOP)
732 #define ENABLE_COMPUTED_GOTO_OPCODES 1
733 #endif
734 
735 /* Regular Expression Tracing - Set to 1 to trace RegExp&#39;s in jsc.  Results dumped at exit */
736 #if !defined(ENABLE_REGEXP_TRACING)
737 #define ENABLE_REGEXP_TRACING 0
738 #endif
739 
740 /* Yet Another Regex Runtime - turned on by default for JIT enabled ports. */
741 #if !defined(ENABLE_YARR_JIT) &amp;&amp; ENABLE(JIT)
742 #define ENABLE_YARR_JIT 1
743 #endif
744 
745 /* Setting this flag compares JIT results with interpreter results. */
746 #if !defined(ENABLE_YARR_JIT) &amp;&amp; ENABLE(JIT)
747 #define ENABLE_YARR_JIT_DEBUG 0
748 #endif
749 
750 /* Enable JIT&#39;ing Regular Expressions that have nested parenthesis . */
751 #if ENABLE(YARR_JIT) &amp;&amp; (CPU(ARM64) || (CPU(X86_64) &amp;&amp; !OS(WINDOWS)))
752 #define ENABLE_YARR_JIT_ALL_PARENS_EXPRESSIONS 1
753 #endif
754 
755 /* Enable JIT&#39;ing Regular Expressions that have nested back references. */
756 #if ENABLE(YARR_JIT) &amp;&amp; (CPU(ARM64) || (CPU(X86_64) &amp;&amp; !OS(WINDOWS)))
757 #define ENABLE_YARR_JIT_BACKREFERENCES 1
758 #endif
759 
760 /* If either the JIT or the RegExp JIT is enabled, then the Assembler must be
761    enabled as well: */
762 #if ENABLE(JIT) || ENABLE(YARR_JIT) || !ENABLE(C_LOOP)
763 #if defined(ENABLE_ASSEMBLER) &amp;&amp; !ENABLE_ASSEMBLER
764 #error &quot;Cannot enable the JIT or RegExp JIT without enabling the Assembler&quot;
765 #else
766 #undef ENABLE_ASSEMBLER
767 #define ENABLE_ASSEMBLER 1
768 #endif
769 #endif
770 
771 /* If the Disassembler is enabled, then the Assembler must be enabled as well: */
772 #if ENABLE(DISASSEMBLER)
773 #if defined(ENABLE_ASSEMBLER) &amp;&amp; !ENABLE_ASSEMBLER
774 #error &quot;Cannot enable the Disassembler without enabling the Assembler&quot;
775 #else
776 #undef ENABLE_ASSEMBLER
777 #define ENABLE_ASSEMBLER 1
778 #endif
779 #endif
780 
781 #if !defined(ENABLE_EXCEPTION_SCOPE_VERIFICATION)
782 #define ENABLE_EXCEPTION_SCOPE_VERIFICATION ASSERT_ENABLED
783 #endif
784 
785 #if ENABLE(DFG_JIT) &amp;&amp; HAVE(MACHINE_CONTEXT) &amp;&amp; (CPU(X86_64) || CPU(ARM64))
786 #define ENABLE_SIGNAL_BASED_VM_TRAPS 1
787 #endif
788 
789 /* CSS Selector JIT Compiler */
790 #if !defined(ENABLE_CSS_SELECTOR_JIT) &amp;&amp; ((CPU(X86_64) || CPU(ARM64) || (CPU(ARM_THUMB2) &amp;&amp; OS(DARWIN))) &amp;&amp; ENABLE(JIT) &amp;&amp; (OS(DARWIN) || PLATFORM(GTK) || PLATFORM(WPE)))
791 #define ENABLE_CSS_SELECTOR_JIT 1
792 #endif
793 
794 #if CPU(ARM_THUMB2) || CPU(ARM64)
795 #define ENABLE_BRANCH_COMPACTION 1
796 #endif
797 
798 #if !defined(ENABLE_THREADING_LIBDISPATCH) &amp;&amp; HAVE(DISPATCH_H)
799 #define ENABLE_THREADING_LIBDISPATCH 1
800 #elif !defined(ENABLE_THREADING_OPENMP) &amp;&amp; defined(_OPENMP)
801 #define ENABLE_THREADING_OPENMP 1
802 #elif !defined(THREADING_GENERIC)
803 #define ENABLE_THREADING_GENERIC 1
804 #endif
805 
806 #if !defined(ENABLE_GC_VALIDATION) &amp;&amp; !defined(NDEBUG)
807 #define ENABLE_GC_VALIDATION 1
808 #endif
809 
810 #if !defined(ENABLE_BINDING_INTEGRITY) &amp;&amp; !OS(WINDOWS)
811 #define ENABLE_BINDING_INTEGRITY 1
812 #endif
813 
814 #if !defined(ENABLE_TREE_DEBUGGING) &amp;&amp; !defined(NDEBUG)
815 #define ENABLE_TREE_DEBUGGING 1
816 #endif
817 
818 #if !defined(ENABLE_OPENTYPE_VERTICAL) &amp;&amp; PLATFORM(GTK) || PLATFORM(WPE)
819 #define ENABLE_OPENTYPE_VERTICAL 1
820 #endif
821 
822 #if !defined(ENABLE_OPENTYPE_MATH) &amp;&amp; (OS(DARWIN) &amp;&amp; USE(CG)) || (USE(FREETYPE) &amp;&amp; !PLATFORM(GTK)) || (PLATFORM(WIN) &amp;&amp; (USE(CG) || USE(CAIRO)))
823 #define ENABLE_OPENTYPE_MATH 1
824 #endif
825 
826 
827 /* Disable SharedArrayBuffers until Spectre security concerns are mitigated. */
828 #define ENABLE_SHARED_ARRAY_BUFFER 0
829 
830 
831 #if ((PLATFORM(COCOA) || PLATFORM(PLAYSTATION) || PLATFORM(WPE)) &amp;&amp; ENABLE(ASYNC_SCROLLING)) || PLATFORM(GTK)
832 #define ENABLE_KINETIC_SCROLLING 1
833 #endif
834 
835 /* This feature works by embedding the OpcodeID in the 32 bit just before the generated LLint code
836    that executes each opcode. It cannot be supported by the CLoop since there&#39;s no way to embed the
837    OpcodeID word in the CLoop&#39;s switch statement cases. It is also currently not implemented for MSVC.
838 */
839 #if !defined(ENABLE_LLINT_EMBEDDED_OPCODE_ID) &amp;&amp; !ENABLE(C_LOOP) &amp;&amp; !COMPILER(MSVC) &amp;&amp; (CPU(X86) || CPU(X86_64) || CPU(ARM64) || (CPU(ARM_THUMB2) &amp;&amp; OS(DARWIN)))
840 #define ENABLE_LLINT_EMBEDDED_OPCODE_ID 1
841 #endif
842 
843 
844 
845 
846 
847 /* Asserts, invariants for macro definitions */
848 
849 #if ENABLE(VIDEO_TRACK) &amp;&amp; !ENABLE(VIDEO)
850 #error &quot;ENABLE(VIDEO_TRACK) requires ENABLE(VIDEO)&quot;
851 #endif
852 
853 #if ENABLE(MEDIA_CONTROLS_SCRIPT) &amp;&amp; !ENABLE(VIDEO)
854 #error &quot;ENABLE(MEDIA_CONTROLS_SCRIPT) requires ENABLE(VIDEO)&quot;
855 #endif
856 
857 #if ENABLE(INSPECTOR_ALTERNATE_DISPATCHERS) &amp;&amp; !ENABLE(REMOTE_INSPECTOR)
858 #error &quot;ENABLE(INSPECTOR_ALTERNATE_DISPATCHERS) requires ENABLE(REMOTE_INSPECTOR)&quot;
859 #endif
860 
861 #if ENABLE(IOS_TOUCH_EVENTS) &amp;&amp; !ENABLE(TOUCH_EVENTS)
862 #error &quot;ENABLE(IOS_TOUCH_EVENTS) requires ENABLE(TOUCH_EVENTS)&quot;
863 #endif
864 
865 #if ENABLE(WEBGL) &amp;&amp; !ENABLE(GRAPHICS_CONTEXT_GL)
866 #error &quot;ENABLE(WEBGL) requires ENABLE(GRAPHICS_CONTEXT_GL)&quot;
867 #endif
868 
869 #if ENABLE(WEBGL2) &amp;&amp; !ENABLE(WEBGL)
870 #error &quot;ENABLE(WEBGL2) requires ENABLE(WEBGL)&quot;
871 #endif
    </pre>
  </body>
</html>