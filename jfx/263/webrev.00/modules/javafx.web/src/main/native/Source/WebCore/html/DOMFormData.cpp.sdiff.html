<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/html/DOMFormData.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="CustomPaintCanvas.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DOMFormData.idl.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/html/DOMFormData.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 31 #include &quot;config.h&quot;
 32 #include &quot;DOMFormData.h&quot;
 33 
 34 #include &quot;HTMLFormControlElement.h&quot;
 35 #include &quot;HTMLFormElement.h&quot;
 36 #include &lt;wtf/Optional.h&gt;
 37 
 38 namespace WebCore {
 39 
 40 DOMFormData::DOMFormData(const TextEncoding&amp; encoding)
 41     : m_encoding(encoding)
 42 {
 43 }
 44 
 45 DOMFormData::DOMFormData(HTMLFormElement* form)
 46     : m_encoding(UTF8Encoding())
 47 {
 48     if (!form)
 49         return;
 50 

 51     for (auto&amp; element : form-&gt;copyAssociatedElementsVector()) {
 52         if (!element-&gt;asHTMLElement().isDisabledFormControl())
 53             element-&gt;appendFormData(*this, true);
 54     }
 55 }
 56 
 57 // https://xhr.spec.whatwg.org/#create-an-entry
 58 auto DOMFormData::createFileEntry(const String&amp; name, Blob&amp; blob, const String&amp; filename) -&gt; Item
 59 {
 60     if (!blob.isFile())
 61         return { name, File::create(blob, filename.isNull() ? &quot;blob&quot;_s : filename) };
 62 
 63     if (!filename.isNull())
 64         return { name, File::create(downcast&lt;File&gt;(blob), filename) };
 65 
 66     return { name, RefPtr&lt;File&gt; { &amp;downcast&lt;File&gt;(blob) } };
 67 }
 68 
 69 void DOMFormData::append(const String&amp; name, const String&amp; value)
 70 {
</pre>
</td>
<td>
<hr />
<pre>
 31 #include &quot;config.h&quot;
 32 #include &quot;DOMFormData.h&quot;
 33 
 34 #include &quot;HTMLFormControlElement.h&quot;
 35 #include &quot;HTMLFormElement.h&quot;
 36 #include &lt;wtf/Optional.h&gt;
 37 
 38 namespace WebCore {
 39 
 40 DOMFormData::DOMFormData(const TextEncoding&amp; encoding)
 41     : m_encoding(encoding)
 42 {
 43 }
 44 
 45 DOMFormData::DOMFormData(HTMLFormElement* form)
 46     : m_encoding(UTF8Encoding())
 47 {
 48     if (!form)
 49         return;
 50 
<span class="line-added"> 51     ASSERT(isMainThread());</span>
 52     for (auto&amp; element : form-&gt;copyAssociatedElementsVector()) {
 53         if (!element-&gt;asHTMLElement().isDisabledFormControl())
 54             element-&gt;appendFormData(*this, true);
 55     }
 56 }
 57 
 58 // https://xhr.spec.whatwg.org/#create-an-entry
 59 auto DOMFormData::createFileEntry(const String&amp; name, Blob&amp; blob, const String&amp; filename) -&gt; Item
 60 {
 61     if (!blob.isFile())
 62         return { name, File::create(blob, filename.isNull() ? &quot;blob&quot;_s : filename) };
 63 
 64     if (!filename.isNull())
 65         return { name, File::create(downcast&lt;File&gt;(blob), filename) };
 66 
 67     return { name, RefPtr&lt;File&gt; { &amp;downcast&lt;File&gt;(blob) } };
 68 }
 69 
 70 void DOMFormData::append(const String&amp; name, const String&amp; value)
 71 {
</pre>
</td>
</tr>
</table>
<center><a href="CustomPaintCanvas.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="DOMFormData.idl.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>