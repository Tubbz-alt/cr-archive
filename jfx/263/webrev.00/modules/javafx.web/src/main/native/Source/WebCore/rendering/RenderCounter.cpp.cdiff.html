<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/rendering/RenderCounter.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="RenderBoxModelObject.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="RenderDeprecatedFlexibleBox.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/rendering/RenderCounter.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 73,21 ***</span>
      if (renderer.isPseudoElement())
          return renderer.generatingElement();
      return renderer.element() ? renderer.element()-&gt;parentElement() : nullptr;
  }
  
  // This function processes the renderer tree in the order of the DOM tree
  // including pseudo elements as defined in CSS 2.1.
  static RenderElement* previousSiblingOrParent(const RenderElement&amp; renderer)
  {
      ASSERT(renderer.element());
<span class="line-modified">!     Element* previous = ElementTraversal::pseudoAwarePreviousSibling(*renderer.element());</span>
<span class="line-modified">!     while (previous &amp;&amp; !previous-&gt;renderer())</span>
<span class="line-removed">-         previous = ElementTraversal::pseudoAwarePreviousSibling(*previous);</span>
<span class="line-removed">-     if (previous)</span>
<span class="line-removed">-         return previous-&gt;renderer();</span>
<span class="line-removed">-     previous = parentOrPseudoHostElement(renderer);</span>
      return previous ? previous-&gt;renderer() : nullptr;
  }
  
  static inline bool areRenderersElementsSiblings(const RenderElement&amp; first, const RenderElement&amp; second)
  {
<span class="line-new-header">--- 73,41 ---</span>
      if (renderer.isPseudoElement())
          return renderer.generatingElement();
      return renderer.element() ? renderer.element()-&gt;parentElement() : nullptr;
  }
  
<span class="line-added">+ static Element* previousSiblingOrParentElement(const Element&amp; element)</span>
<span class="line-added">+ {</span>
<span class="line-added">+     if (auto* previous = ElementTraversal::pseudoAwarePreviousSibling(element)) {</span>
<span class="line-added">+         while (previous &amp;&amp; !previous-&gt;renderer())</span>
<span class="line-added">+             previous = ElementTraversal::pseudoAwarePreviousSibling(*previous);</span>
<span class="line-added">+ </span>
<span class="line-added">+         if (previous)</span>
<span class="line-added">+             return previous;</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     if (is&lt;PseudoElement&gt;(element)) {</span>
<span class="line-added">+         auto* hostElement = downcast&lt;PseudoElement&gt;(element).hostElement();</span>
<span class="line-added">+         ASSERT(hostElement);</span>
<span class="line-added">+         if (hostElement-&gt;renderer())</span>
<span class="line-added">+             return hostElement;</span>
<span class="line-added">+         return previousSiblingOrParentElement(*hostElement);</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     auto* parent = element.parentElement();</span>
<span class="line-added">+     if (parent &amp;&amp; !parent-&gt;renderer())</span>
<span class="line-added">+         parent = previousSiblingOrParentElement(*parent);</span>
<span class="line-added">+     return parent;</span>
<span class="line-added">+ }</span>
<span class="line-added">+ </span>
  // This function processes the renderer tree in the order of the DOM tree
  // including pseudo elements as defined in CSS 2.1.
  static RenderElement* previousSiblingOrParent(const RenderElement&amp; renderer)
  {
      ASSERT(renderer.element());
<span class="line-modified">! </span>
<span class="line-modified">!     auto* previous = previousSiblingOrParentElement(*renderer.element());</span>
      return previous ? previous-&gt;renderer() : nullptr;
  }
  
  static inline bool areRenderersElementsSiblings(const RenderElement&amp; first, const RenderElement&amp; second)
  {
</pre>
<center><a href="RenderBoxModelObject.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="RenderDeprecatedFlexibleBox.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>