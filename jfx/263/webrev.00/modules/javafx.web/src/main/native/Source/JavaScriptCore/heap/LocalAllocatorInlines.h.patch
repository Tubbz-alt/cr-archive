diff a/modules/javafx.web/src/main/native/Source/JavaScriptCore/heap/LocalAllocatorInlines.h b/modules/javafx.web/src/main/native/Source/JavaScriptCore/heap/LocalAllocatorInlines.h
--- a/modules/javafx.web/src/main/native/Source/JavaScriptCore/heap/LocalAllocatorInlines.h
+++ b/modules/javafx.web/src/main/native/Source/JavaScriptCore/heap/LocalAllocatorInlines.h
@@ -28,18 +28,18 @@
 #include "HeapInlines.h"
 #include "LocalAllocator.h"
 
 namespace JSC {
 
-ALWAYS_INLINE void* LocalAllocator::allocate(GCDeferralContext* deferralContext, AllocationFailureMode failureMode)
+ALWAYS_INLINE void* LocalAllocator::allocate(Heap& heap, GCDeferralContext* deferralContext, AllocationFailureMode failureMode)
 {
     if (validateDFGDoesGC)
-        RELEASE_ASSERT(m_directory->heap()->expectDoesGC());
+        RELEASE_ASSERT(heap.expectDoesGC());
     return m_freeList.allocate(
         [&] () -> HeapCell* {
-            sanitizeStackForVM(m_directory->heap()->vm());
-            return static_cast<HeapCell*>(allocateSlowCase(deferralContext, failureMode));
+            sanitizeStackForVM(heap.vm());
+            return static_cast<HeapCell*>(allocateSlowCase(heap, deferralContext, failureMode));
         });
 }
 
 } // namespace JSC
 
