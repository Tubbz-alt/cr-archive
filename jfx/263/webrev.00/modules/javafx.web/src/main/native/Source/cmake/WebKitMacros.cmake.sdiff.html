<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/cmake/WebKitMacros.cmake</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="WebKitFeatures.cmake.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="tools/scripts/COPYRIGHT-END-YEAR.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/cmake/WebKitMacros.cmake</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
151 # split into _target_logical_name, which is used for variable expansion, and _target_cmake_name.
152 # This is done to support WEBKIT_WRAP_EXECUTABLE which uses the _target_logical_name variables
153 # but requires a different _target_cmake_name.
154 macro(_WEBKIT_TARGET _target_logical_name _target_cmake_name)
155     target_sources(${_target_cmake_name} PRIVATE
156         ${${_target_logical_name}_HEADERS}
157         ${${_target_logical_name}_SOURCES}
158     )
159     target_include_directories(${_target_cmake_name} PUBLIC &quot;$&lt;BUILD_INTERFACE:${${_target_logical_name}_INCLUDE_DIRECTORIES}&gt;&quot;)
160     target_include_directories(${_target_cmake_name} SYSTEM PRIVATE &quot;$&lt;BUILD_INTERFACE:${${_target_logical_name}_SYSTEM_INCLUDE_DIRECTORIES}&gt;&quot;)
161     target_include_directories(${_target_cmake_name} PRIVATE &quot;$&lt;BUILD_INTERFACE:${${_target_logical_name}_PRIVATE_INCLUDE_DIRECTORIES}&gt;&quot;)
162 
163     target_compile_definitions(${_target_cmake_name} PRIVATE &quot;BUILDING_${_target_logical_name}&quot;)
164     if (${_target_logical_name}_DEFINITIONS)
165         target_compile_definitions(${_target_cmake_name} PUBLIC ${${_target_logical_name}_DEFINITIONS})
166     endif ()
167     if (${_target_logical_name}_PRIVATE_DEFINITIONS)
168         target_compile_definitions(${_target_cmake_name} PRIVATE ${${_target_logical_name}_PRIVATE_DEFINITIONS})
169     endif ()
170 
<span class="line-modified">171     target_link_libraries(${_target_cmake_name} ${${_target_logical_name}_LIBRARIES})</span>





172 
173     if (${_target_logical_name}_DEPENDENCIES)
174         add_dependencies(${_target_cmake_name} ${${_target_logical_name}_DEPENDENCIES})
175     endif ()
176 endmacro()
177 
178 macro(WEBKIT_FRAMEWORK _target)
179     _WEBKIT_TARGET(${_target} ${_target})
180 
181     if (${_target}_OUTPUT_NAME)
182         set_target_properties(${_target} PROPERTIES OUTPUT_NAME ${${_target}_OUTPUT_NAME})
183     endif ()
184 
185     if (${_target}_PRE_BUILD_COMMAND)
186         add_custom_target(_${_target}_PreBuild COMMAND ${${_target}_PRE_BUILD_COMMAND} VERBATIM)
187         add_dependencies(${_target} _${_target}_PreBuild)
188     endif ()
189 
190     if (${_target}_POST_BUILD_COMMAND)
191         add_custom_command(TARGET ${_target} POST_BUILD COMMAND ${${_target}_POST_BUILD_COMMAND} VERBATIM)
</pre>
<hr />
<pre>
353         if (IS_ABSOLUTE ${file})
354             set(src_file ${file})
355         else ()
356             set(src_file ${CMAKE_CURRENT_SOURCE_DIR}/${file})
357         endif ()
358         if (opt_FLATTENED)
359             get_filename_component(filename ${file} NAME)
360             set(dst_file ${opt_DESTINATION}/${filename})
361         else ()
362             get_filename_component(file_dir ${file} DIRECTORY)
363             file(MAKE_DIRECTORY ${opt_DESTINATION}/${file_dir})
364             set(dst_file ${opt_DESTINATION}/${file})
365         endif ()
366         add_custom_command(OUTPUT ${dst_file}
367             COMMAND ${CMAKE_COMMAND} -E copy ${src_file} ${dst_file}
368             MAIN_DEPENDENCY ${file}
369             VERBATIM
370         )
371         list(APPEND dst_files ${dst_file})
372     endforeach ()
<span class="line-modified">373     add_custom_target(${target_name} DEPENDS ${dst_files})</span>
374 endfunction()
375 
376 # Helper macros for debugging CMake problems.
377 macro(WEBKIT_DEBUG_DUMP_COMMANDS)
378     set(CMAKE_VERBOSE_MAKEFILE ON)
379 endmacro()
380 
381 macro(WEBKIT_DEBUG_DUMP_VARIABLES)
382     set_cmake_property(_variableNames VARIABLES)
383     foreach (_variableName ${_variableNames})
384        message(STATUS &quot;${_variableName}=${${_variableName}}&quot;)
385     endforeach ()
386 endmacro()
387 
388 # Append the given flag to the target property.
389 # Builds on top of get_target_property() and set_target_properties()
390 macro(WEBKIT_ADD_TARGET_PROPERTIES _target _property _flags)
391     get_target_property(_tmp ${_target} ${_property})
392     if (NOT _tmp)
393         set(_tmp &quot;&quot;)
</pre>
</td>
<td>
<hr />
<pre>
151 # split into _target_logical_name, which is used for variable expansion, and _target_cmake_name.
152 # This is done to support WEBKIT_WRAP_EXECUTABLE which uses the _target_logical_name variables
153 # but requires a different _target_cmake_name.
154 macro(_WEBKIT_TARGET _target_logical_name _target_cmake_name)
155     target_sources(${_target_cmake_name} PRIVATE
156         ${${_target_logical_name}_HEADERS}
157         ${${_target_logical_name}_SOURCES}
158     )
159     target_include_directories(${_target_cmake_name} PUBLIC &quot;$&lt;BUILD_INTERFACE:${${_target_logical_name}_INCLUDE_DIRECTORIES}&gt;&quot;)
160     target_include_directories(${_target_cmake_name} SYSTEM PRIVATE &quot;$&lt;BUILD_INTERFACE:${${_target_logical_name}_SYSTEM_INCLUDE_DIRECTORIES}&gt;&quot;)
161     target_include_directories(${_target_cmake_name} PRIVATE &quot;$&lt;BUILD_INTERFACE:${${_target_logical_name}_PRIVATE_INCLUDE_DIRECTORIES}&gt;&quot;)
162 
163     target_compile_definitions(${_target_cmake_name} PRIVATE &quot;BUILDING_${_target_logical_name}&quot;)
164     if (${_target_logical_name}_DEFINITIONS)
165         target_compile_definitions(${_target_cmake_name} PUBLIC ${${_target_logical_name}_DEFINITIONS})
166     endif ()
167     if (${_target_logical_name}_PRIVATE_DEFINITIONS)
168         target_compile_definitions(${_target_cmake_name} PRIVATE ${${_target_logical_name}_PRIVATE_DEFINITIONS})
169     endif ()
170 
<span class="line-modified">171     if (${_target_logical_name}_LIBRARIES)</span>
<span class="line-added">172         target_link_libraries(${_target_cmake_name} PUBLIC ${${_target_logical_name}_LIBRARIES})</span>
<span class="line-added">173     endif ()</span>
<span class="line-added">174     if (${_target_logical_name}_PRIVATE_LIBRARIES)</span>
<span class="line-added">175         target_link_libraries(${_target_cmake_name} PRIVATE ${${_target_logical_name}_PRIVATE_LIBRARIES})</span>
<span class="line-added">176     endif ()</span>
177 
178     if (${_target_logical_name}_DEPENDENCIES)
179         add_dependencies(${_target_cmake_name} ${${_target_logical_name}_DEPENDENCIES})
180     endif ()
181 endmacro()
182 
183 macro(WEBKIT_FRAMEWORK _target)
184     _WEBKIT_TARGET(${_target} ${_target})
185 
186     if (${_target}_OUTPUT_NAME)
187         set_target_properties(${_target} PROPERTIES OUTPUT_NAME ${${_target}_OUTPUT_NAME})
188     endif ()
189 
190     if (${_target}_PRE_BUILD_COMMAND)
191         add_custom_target(_${_target}_PreBuild COMMAND ${${_target}_PRE_BUILD_COMMAND} VERBATIM)
192         add_dependencies(${_target} _${_target}_PreBuild)
193     endif ()
194 
195     if (${_target}_POST_BUILD_COMMAND)
196         add_custom_command(TARGET ${_target} POST_BUILD COMMAND ${${_target}_POST_BUILD_COMMAND} VERBATIM)
</pre>
<hr />
<pre>
358         if (IS_ABSOLUTE ${file})
359             set(src_file ${file})
360         else ()
361             set(src_file ${CMAKE_CURRENT_SOURCE_DIR}/${file})
362         endif ()
363         if (opt_FLATTENED)
364             get_filename_component(filename ${file} NAME)
365             set(dst_file ${opt_DESTINATION}/${filename})
366         else ()
367             get_filename_component(file_dir ${file} DIRECTORY)
368             file(MAKE_DIRECTORY ${opt_DESTINATION}/${file_dir})
369             set(dst_file ${opt_DESTINATION}/${file})
370         endif ()
371         add_custom_command(OUTPUT ${dst_file}
372             COMMAND ${CMAKE_COMMAND} -E copy ${src_file} ${dst_file}
373             MAIN_DEPENDENCY ${file}
374             VERBATIM
375         )
376         list(APPEND dst_files ${dst_file})
377     endforeach ()
<span class="line-modified">378     add_custom_target(${target_name} ALL DEPENDS ${dst_files})</span>
379 endfunction()
380 
381 # Helper macros for debugging CMake problems.
382 macro(WEBKIT_DEBUG_DUMP_COMMANDS)
383     set(CMAKE_VERBOSE_MAKEFILE ON)
384 endmacro()
385 
386 macro(WEBKIT_DEBUG_DUMP_VARIABLES)
387     set_cmake_property(_variableNames VARIABLES)
388     foreach (_variableName ${_variableNames})
389        message(STATUS &quot;${_variableName}=${${_variableName}}&quot;)
390     endforeach ()
391 endmacro()
392 
393 # Append the given flag to the target property.
394 # Builds on top of get_target_property() and set_target_properties()
395 macro(WEBKIT_ADD_TARGET_PROPERTIES _target _property _flags)
396     get_target_property(_tmp ${_target} ${_property})
397     if (NOT _tmp)
398         set(_tmp &quot;&quot;)
</pre>
</td>
</tr>
</table>
<center><a href="WebKitFeatures.cmake.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="tools/scripts/COPYRIGHT-END-YEAR.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>