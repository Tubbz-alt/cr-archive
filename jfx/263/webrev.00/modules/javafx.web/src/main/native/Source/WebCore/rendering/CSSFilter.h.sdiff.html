<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/rendering/CSSFilter.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="CSSFilter.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ComplexLineLayout.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/rendering/CSSFilter.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 44 
 45 class CSSFilter final : public Filter {
 46     WTF_MAKE_FAST_ALLOCATED;
 47     friend class RenderLayerFilters;
 48 public:
 49     static Ref&lt;CSSFilter&gt; create();
 50 
 51     void setSourceImageRect(const FloatRect&amp;);
 52     void setFilterRegion(const FloatRect&amp; filterRegion) { m_filterRegion = filterRegion; }
 53 
 54     ImageBuffer* output() const;
 55 
 56     bool build(RenderElement&amp;, const FilterOperations&amp;, FilterConsumer);
 57     void clearIntermediateResults();
 58     void apply();
 59 
 60     bool hasFilterThatMovesPixels() const { return m_hasFilterThatMovesPixels; }
 61     bool hasFilterThatShouldBeRestrictedBySecurityOrigin() const { return m_hasFilterThatShouldBeRestrictedBySecurityOrigin; }
 62 
 63     void determineFilterPrimitiveSubregion();

 64 
 65 private:
 66     CSSFilter();
 67     virtual ~CSSFilter();
 68 
 69     bool isCSSFilter() const final { return true; }
 70 
 71     FloatRect sourceImageRect() const final { return m_sourceDrawingRegion; }
 72 
 73     FloatRect filterRegion() const final { return m_filterRegion; }
 74     FloatRect filterRegionInUserSpace() const final { return m_filterRegion; }
 75 
 76     RefPtr&lt;FilterEffect&gt; buildReferenceFilter(RenderElement&amp;, FilterEffect&amp; previousEffect, ReferenceFilterOperation&amp;);
 77 
 78     void setMaxEffectRects(const FloatRect&amp;);
 79 
 80     GraphicsContext* inputContext();
 81 
 82     bool updateBackingStoreRect(const FloatRect&amp; filterRect);
 83     void allocateBackingStoreIfNeeded(const GraphicsContext&amp;);
 84 
 85     IntRect outputRect() const;
 86 
 87     LayoutRect computeSourceImageRectForDirtyRect(const LayoutRect&amp; filterBoxRect, const LayoutRect&amp; dirtyRect);
 88 
 89     FloatRect m_sourceDrawingRegion;
 90     FloatRect m_filterRegion;
 91 
 92     Vector&lt;Ref&lt;FilterEffect&gt;&gt; m_effects;
 93     Ref&lt;SourceGraphic&gt; m_sourceGraphic;
 94     RefPtr&lt;FilterEffect&gt; m_sourceAlpha;
 95 
<span class="line-modified"> 96     IntRectExtent m_outsets;</span>
 97 
 98     bool m_graphicsBufferAttached { false };
 99     bool m_hasFilterThatMovesPixels { false };
100     bool m_hasFilterThatShouldBeRestrictedBySecurityOrigin { false };
101 };
102 
103 } // namespace WebCore
104 
105 SPECIALIZE_TYPE_TRAITS_BEGIN(WebCore::CSSFilter)
106     static bool isType(const WebCore::Filter&amp; filter) { return filter.isCSSFilter(); }
107 SPECIALIZE_TYPE_TRAITS_END()
</pre>
</td>
<td>
<hr />
<pre>
 44 
 45 class CSSFilter final : public Filter {
 46     WTF_MAKE_FAST_ALLOCATED;
 47     friend class RenderLayerFilters;
 48 public:
 49     static Ref&lt;CSSFilter&gt; create();
 50 
 51     void setSourceImageRect(const FloatRect&amp;);
 52     void setFilterRegion(const FloatRect&amp; filterRegion) { m_filterRegion = filterRegion; }
 53 
 54     ImageBuffer* output() const;
 55 
 56     bool build(RenderElement&amp;, const FilterOperations&amp;, FilterConsumer);
 57     void clearIntermediateResults();
 58     void apply();
 59 
 60     bool hasFilterThatMovesPixels() const { return m_hasFilterThatMovesPixels; }
 61     bool hasFilterThatShouldBeRestrictedBySecurityOrigin() const { return m_hasFilterThatShouldBeRestrictedBySecurityOrigin; }
 62 
 63     void determineFilterPrimitiveSubregion();
<span class="line-added"> 64     IntOutsets outsets() const;</span>
 65 
 66 private:
 67     CSSFilter();
 68     virtual ~CSSFilter();
 69 
 70     bool isCSSFilter() const final { return true; }
 71 
 72     FloatRect sourceImageRect() const final { return m_sourceDrawingRegion; }
 73 
 74     FloatRect filterRegion() const final { return m_filterRegion; }
 75     FloatRect filterRegionInUserSpace() const final { return m_filterRegion; }
 76 
 77     RefPtr&lt;FilterEffect&gt; buildReferenceFilter(RenderElement&amp;, FilterEffect&amp; previousEffect, ReferenceFilterOperation&amp;);
 78 
 79     void setMaxEffectRects(const FloatRect&amp;);
 80 
 81     GraphicsContext* inputContext();
 82 
 83     bool updateBackingStoreRect(const FloatRect&amp; filterRect);
 84     void allocateBackingStoreIfNeeded(const GraphicsContext&amp;);
 85 
 86     IntRect outputRect() const;
 87 
 88     LayoutRect computeSourceImageRectForDirtyRect(const LayoutRect&amp; filterBoxRect, const LayoutRect&amp; dirtyRect);
 89 
 90     FloatRect m_sourceDrawingRegion;
 91     FloatRect m_filterRegion;
 92 
 93     Vector&lt;Ref&lt;FilterEffect&gt;&gt; m_effects;
 94     Ref&lt;SourceGraphic&gt; m_sourceGraphic;
 95     RefPtr&lt;FilterEffect&gt; m_sourceAlpha;
 96 
<span class="line-modified"> 97     mutable IntOutsets m_outsets;</span>
 98 
 99     bool m_graphicsBufferAttached { false };
100     bool m_hasFilterThatMovesPixels { false };
101     bool m_hasFilterThatShouldBeRestrictedBySecurityOrigin { false };
102 };
103 
104 } // namespace WebCore
105 
106 SPECIALIZE_TYPE_TRAITS_BEGIN(WebCore::CSSFilter)
107     static bool isType(const WebCore::Filter&amp; filter) { return filter.isCSSFilter(); }
108 SPECIALIZE_TYPE_TRAITS_END()
</pre>
</td>
</tr>
</table>
<center><a href="CSSFilter.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ComplexLineLayout.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>