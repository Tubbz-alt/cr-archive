<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.web/src/main/native/Source/WTF/wtf/Platform.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>   1 /*
<a name="1" id="anc1"></a><span class="line-modified">   2  * Copyright (C) 2006-2019 Apple Inc. All rights reserved.</span>
   3  * Copyright (C) 2007-2009 Torch Mobile, Inc.
   4  * Copyright (C) 2010, 2011 Research In Motion Limited. All rights reserved.
   5  *
   6  * Redistribution and use in source and binary forms, with or without
   7  * modification, are permitted provided that the following conditions
   8  * are met:
   9  * 1. Redistributions of source code must retain the above copyright
  10  *    notice, this list of conditions and the following disclaimer.
  11  * 2. Redistributions in binary form must reproduce the above copyright
  12  *    notice, this list of conditions and the following disclaimer in the
  13  *    documentation and/or other materials provided with the distribution.
  14  *
  15  * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS&#39;&#39; AND ANY
  16  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  17  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  18  * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR
  19  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  20  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  21  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  22  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
  23  * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  24  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  25  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  26  */
  27 
  28 #pragma once
  29 
  30 /* Include compiler specific macros */
  31 #include &lt;wtf/Compiler.h&gt;
  32 
<a name="2" id="anc2"></a><span class="line-modified">  33 /* ==== PLATFORM handles OS, operating environment, graphics API, and</span>
<span class="line-modified">  34    CPU. This macro will be phased out in favor of platform adaptation</span>
<span class="line-removed">  35    macros, policy decision macros, and top-level port definitions. ==== */</span>
<span class="line-removed">  36 #define PLATFORM(WTF_FEATURE) (defined WTF_PLATFORM_##WTF_FEATURE  &amp;&amp; WTF_PLATFORM_##WTF_FEATURE)</span>
  37 
  38 
  39 /* ==== Platform adaptation macros: these describe properties of the target environment. ==== */
  40 
  41 /* CPU() - the target CPU architecture */
<a name="3" id="anc3"></a><span class="line-modified">  42 #define CPU(WTF_FEATURE) (defined WTF_CPU_##WTF_FEATURE  &amp;&amp; WTF_CPU_##WTF_FEATURE)</span>
<span class="line-modified">  43 /* HAVE() - specific system features (headers, functions or similar) that are present or not */</span>
<span class="line-removed">  44 #define HAVE(WTF_FEATURE) (defined HAVE_##WTF_FEATURE  &amp;&amp; HAVE_##WTF_FEATURE)</span>
  45 /* OS() - underlying operating system; only to be used for mandated low-level services like
  46    virtual memory, not to choose a GUI toolkit */
<a name="4" id="anc4"></a><span class="line-modified">  47 #define OS(WTF_FEATURE) (defined WTF_OS_##WTF_FEATURE  &amp;&amp; WTF_OS_##WTF_FEATURE)</span>
<span class="line-removed">  48 </span>
<span class="line-removed">  49 </span>
<span class="line-removed">  50 /* ==== Policy decision macros: these define policy choices for a particular port. ==== */</span>
<span class="line-removed">  51 </span>
<span class="line-removed">  52 /* USE() - use a particular third-party library or optional OS service */</span>
<span class="line-removed">  53 #define USE(WTF_FEATURE) (defined USE_##WTF_FEATURE  &amp;&amp; USE_##WTF_FEATURE)</span>
<span class="line-removed">  54 /* ENABLE() - turn on a specific feature of WebKit */</span>
<span class="line-removed">  55 #define ENABLE(WTF_FEATURE) (defined ENABLE_##WTF_FEATURE  &amp;&amp; ENABLE_##WTF_FEATURE)</span>
<span class="line-removed">  56 </span>
<span class="line-removed">  57 </span>
<span class="line-removed">  58 /* ==== CPU() - the target CPU architecture ==== */</span>
<span class="line-removed">  59 /* CPU(KNOWN) becomes true if we explicitly support a target CPU. */</span>
<span class="line-removed">  60 </span>
<span class="line-removed">  61 /* CPU(MIPS) - MIPS 32-bit and 64-bit */</span>
<span class="line-removed">  62 #if (defined(mips) || defined(__mips__) || defined(MIPS) || defined(_MIPS_) || defined(__mips64))</span>
<span class="line-removed">  63 #if defined(_ABI64) &amp;&amp; (_MIPS_SIM == _ABI64)</span>
<span class="line-removed">  64 #define WTF_CPU_MIPS64 1</span>
<span class="line-removed">  65 #define WTF_MIPS_ARCH __mips64</span>
<span class="line-removed">  66 #else</span>
<span class="line-removed">  67 #define WTF_CPU_MIPS 1</span>
<span class="line-removed">  68 #define WTF_MIPS_ARCH __mips</span>
<span class="line-removed">  69 #endif</span>
<span class="line-removed">  70 #define WTF_CPU_KNOWN 1</span>
<span class="line-removed">  71 #define WTF_MIPS_PIC (defined __PIC__)</span>
<span class="line-removed">  72 #define WTF_MIPS_ISA(v) (defined WTF_MIPS_ARCH &amp;&amp; WTF_MIPS_ARCH == v)</span>
<span class="line-removed">  73 #define WTF_MIPS_ISA_AT_LEAST(v) (defined WTF_MIPS_ARCH &amp;&amp; WTF_MIPS_ARCH &gt;= v)</span>
<span class="line-removed">  74 #define WTF_MIPS_ARCH_REV __mips_isa_rev</span>
<span class="line-removed">  75 #define WTF_MIPS_ISA_REV(v) (defined WTF_MIPS_ARCH_REV &amp;&amp; WTF_MIPS_ARCH_REV == v)</span>
<span class="line-removed">  76 #define WTF_MIPS_ISA_REV_AT_LEAST(v) (defined WTF_MIPS_ARCH_REV &amp;&amp; WTF_MIPS_ARCH_REV &gt;= v)</span>
<span class="line-removed">  77 #define WTF_MIPS_DOUBLE_FLOAT (defined __mips_hard_float &amp;&amp; !defined __mips_single_float)</span>
<span class="line-removed">  78 #define WTF_MIPS_FP64 (defined __mips_fpr &amp;&amp; __mips_fpr == 64)</span>
<span class="line-removed">  79 /* MIPS requires allocators to use aligned memory */</span>
<span class="line-removed">  80 #define USE_ARENA_ALLOC_ALIGNMENT_INTEGER 1</span>
<span class="line-removed">  81 #endif /* MIPS */</span>
<span class="line-removed">  82 </span>
<span class="line-removed">  83 /* CPU(PPC64) - PowerPC 64-bit Big Endian */</span>
<span class="line-removed">  84 #if (  defined(__ppc64__)      \</span>
<span class="line-removed">  85     || defined(__PPC64__))     \</span>
<span class="line-removed">  86     &amp;&amp; defined(__BYTE_ORDER__) \</span>
<span class="line-removed">  87     &amp;&amp; (__BYTE_ORDER__ == __ORDER_BIG_ENDIAN__)</span>
<span class="line-removed">  88 #define WTF_CPU_PPC64 1</span>
<span class="line-removed">  89 #define WTF_CPU_KNOWN 1</span>
<span class="line-removed">  90 #endif</span>
<span class="line-removed">  91 </span>
<span class="line-removed">  92 /* CPU(PPC64LE) - PowerPC 64-bit Little Endian */</span>
<span class="line-removed">  93 #if (   defined(__ppc64__)     \</span>
<span class="line-removed">  94     || defined(__PPC64__)      \</span>
<span class="line-removed">  95     || defined(__ppc64le__)    \</span>
<span class="line-removed">  96     || defined(__PPC64LE__))   \</span>
<span class="line-removed">  97     &amp;&amp; defined(__BYTE_ORDER__) \</span>
<span class="line-removed">  98     &amp;&amp; (__BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__)</span>
<span class="line-removed">  99 #define WTF_CPU_PPC64LE 1</span>
<span class="line-removed"> 100 #define WTF_CPU_KNOWN 1</span>
<span class="line-removed"> 101 #endif</span>
<span class="line-removed"> 102 </span>
<span class="line-removed"> 103 /* CPU(PPC) - PowerPC 32-bit */</span>
<span class="line-removed"> 104 #if (  defined(__ppc__)        \</span>
<span class="line-removed"> 105     || defined(__PPC__)        \</span>
<span class="line-removed"> 106     || defined(__powerpc__)    \</span>
<span class="line-removed"> 107     || defined(__powerpc)      \</span>
<span class="line-removed"> 108     || defined(__POWERPC__)    \</span>
<span class="line-removed"> 109     || defined(_M_PPC)         \</span>
<span class="line-removed"> 110     || defined(__PPC))         \</span>
<span class="line-removed"> 111     &amp;&amp; !CPU(PPC64)             \</span>
<span class="line-removed"> 112     &amp;&amp; CPU(BIG_ENDIAN)</span>
<span class="line-removed"> 113 #define WTF_CPU_PPC 1</span>
<span class="line-removed"> 114 #define WTF_CPU_KNOWN 1</span>
<span class="line-removed"> 115 #endif</span>
<span class="line-removed"> 116 </span>
<span class="line-removed"> 117 /* CPU(X86) - i386 / x86 32-bit */</span>
<span class="line-removed"> 118 #if   defined(__i386__) \</span>
<span class="line-removed"> 119     || defined(i386)     \</span>
<span class="line-removed"> 120     || defined(_M_IX86)  \</span>
<span class="line-removed"> 121     || defined(_X86_)    \</span>
<span class="line-removed"> 122     || defined(__THW_INTEL)</span>
<span class="line-removed"> 123 #define WTF_CPU_X86 1</span>
<span class="line-removed"> 124 #define WTF_CPU_KNOWN 1</span>
<span class="line-removed"> 125 </span>
<span class="line-removed"> 126 #if defined(__SSE2__) || (defined(_M_IX86_FP) &amp;&amp; _M_IX86_FP &gt;= 2)</span>
<span class="line-removed"> 127 #define WTF_CPU_X86_SSE2 1</span>
<span class="line-removed"> 128 #endif</span>
<span class="line-removed"> 129 </span>
<span class="line-removed"> 130 #endif</span>
<span class="line-removed"> 131 </span>
<span class="line-removed"> 132 /* CPU(X86_64) - AMD64 / Intel64 / x86_64 64-bit */</span>
<span class="line-removed"> 133 #if   defined(__x86_64__) \</span>
<span class="line-removed"> 134     || defined(_M_X64)</span>
<span class="line-removed"> 135 #define WTF_CPU_X86_64 1</span>
<span class="line-removed"> 136 #define WTF_CPU_X86_SSE2 1</span>
<span class="line-removed"> 137 #define WTF_CPU_KNOWN 1</span>
<span class="line-removed"> 138 #endif</span>
<span class="line-removed"> 139 </span>
<span class="line-removed"> 140 /* CPU(ARM64) - Apple */</span>
<span class="line-removed"> 141 #if (defined(__arm64__) &amp;&amp; defined(__APPLE__)) || defined(__aarch64__)</span>
<span class="line-removed"> 142 #define WTF_CPU_ARM64 1</span>
<span class="line-removed"> 143 #define WTF_CPU_KNOWN 1</span>
<span class="line-removed"> 144 </span>
<span class="line-removed"> 145 #if defined(__arm64e__)</span>
<span class="line-removed"> 146 #define WTF_CPU_ARM64E 1</span>
<span class="line-removed"> 147 #endif</span>
<span class="line-removed"> 148 #endif</span>
<span class="line-removed"> 149 </span>
<span class="line-removed"> 150 /* CPU(ARM) - ARM, any version*/</span>
<span class="line-removed"> 151 #define WTF_ARM_ARCH_AT_LEAST(N) (CPU(ARM) &amp;&amp; WTF_ARM_ARCH_VERSION &gt;= N)</span>
<span class="line-removed"> 152 </span>
<span class="line-removed"> 153 #if   defined(arm) \</span>
<span class="line-removed"> 154     || defined(__arm__) \</span>
<span class="line-removed"> 155     || defined(ARM) \</span>
<span class="line-removed"> 156     || defined(_ARM_)</span>
<span class="line-removed"> 157 #define WTF_CPU_ARM 1</span>
<span class="line-removed"> 158 #define WTF_CPU_KNOWN 1</span>
<span class="line-removed"> 159 </span>
<span class="line-removed"> 160 #if defined(__ARM_PCS_VFP)</span>
<span class="line-removed"> 161 #define WTF_CPU_ARM_HARDFP 1</span>
<span class="line-removed"> 162 #endif</span>
<span class="line-removed"> 163 </span>
<span class="line-removed"> 164 /* Set WTF_ARM_ARCH_VERSION */</span>
<span class="line-removed"> 165 #if   defined(__ARM_ARCH_4__) \</span>
<span class="line-removed"> 166     || defined(__ARM_ARCH_4T__) \</span>
<span class="line-removed"> 167     || defined(__MARM_ARMV4__)</span>
<span class="line-removed"> 168 #define WTF_ARM_ARCH_VERSION 4</span>
<span class="line-removed"> 169 </span>
<span class="line-removed"> 170 #elif defined(__ARM_ARCH_5__) \</span>
<span class="line-removed"> 171     || defined(__ARM_ARCH_5T__) \</span>
<span class="line-removed"> 172     || defined(__MARM_ARMV5__)</span>
<span class="line-removed"> 173 #define WTF_ARM_ARCH_VERSION 5</span>
<span class="line-removed"> 174 </span>
<span class="line-removed"> 175 #elif defined(__ARM_ARCH_5E__) \</span>
<span class="line-removed"> 176     || defined(__ARM_ARCH_5TE__) \</span>
<span class="line-removed"> 177     || defined(__ARM_ARCH_5TEJ__)</span>
<span class="line-removed"> 178 #define WTF_ARM_ARCH_VERSION 5</span>
<span class="line-removed"> 179 /*ARMv5TE requires allocators to use aligned memory*/</span>
<span class="line-removed"> 180 #define USE_ARENA_ALLOC_ALIGNMENT_INTEGER 1</span>
<span class="line-removed"> 181 </span>
<span class="line-removed"> 182 #elif defined(__ARM_ARCH_6__) \</span>
<span class="line-removed"> 183     || defined(__ARM_ARCH_6J__) \</span>
<span class="line-removed"> 184     || defined(__ARM_ARCH_6K__) \</span>
<span class="line-removed"> 185     || defined(__ARM_ARCH_6Z__) \</span>
<span class="line-removed"> 186     || defined(__ARM_ARCH_6ZK__) \</span>
<span class="line-removed"> 187     || defined(__ARM_ARCH_6T2__) \</span>
<span class="line-removed"> 188     || defined(__ARMV6__)</span>
<span class="line-removed"> 189 #define WTF_ARM_ARCH_VERSION 6</span>
<span class="line-removed"> 190 </span>
<span class="line-removed"> 191 #elif defined(__ARM_ARCH_7A__) \</span>
<span class="line-removed"> 192     || defined(__ARM_ARCH_7K__) \</span>
<span class="line-removed"> 193     || defined(__ARM_ARCH_7R__) \</span>
<span class="line-removed"> 194     || defined(__ARM_ARCH_7S__)</span>
<span class="line-removed"> 195 #define WTF_ARM_ARCH_VERSION 7</span>
<span class="line-removed"> 196 </span>
<span class="line-removed"> 197 #elif defined(__ARM_ARCH_8__) \</span>
<span class="line-removed"> 198     || defined(__ARM_ARCH_8A__)</span>
<span class="line-removed"> 199 #define WTF_ARM_ARCH_VERSION 8</span>
<span class="line-removed"> 200 </span>
<span class="line-removed"> 201 /* MSVC sets _M_ARM */</span>
<span class="line-removed"> 202 #elif defined(_M_ARM)</span>
<span class="line-removed"> 203 #define WTF_ARM_ARCH_VERSION _M_ARM</span>
<span class="line-removed"> 204 </span>
<span class="line-removed"> 205 /* RVCT sets _TARGET_ARCH_ARM */</span>
<span class="line-removed"> 206 #elif defined(__TARGET_ARCH_ARM)</span>
<span class="line-removed"> 207 #define WTF_ARM_ARCH_VERSION __TARGET_ARCH_ARM</span>
<span class="line-removed"> 208 </span>
<span class="line-removed"> 209 #if defined(__TARGET_ARCH_5E) \</span>
<span class="line-removed"> 210     || defined(__TARGET_ARCH_5TE) \</span>
<span class="line-removed"> 211     || defined(__TARGET_ARCH_5TEJ)</span>
<span class="line-removed"> 212 /*ARMv5TE requires allocators to use aligned memory*/</span>
<span class="line-removed"> 213 #define USE_ARENA_ALLOC_ALIGNMENT_INTEGER 1</span>
<span class="line-removed"> 214 #endif</span>
<span class="line-removed"> 215 </span>
<span class="line-removed"> 216 #else</span>
<span class="line-removed"> 217 #define WTF_ARM_ARCH_VERSION 0</span>
<span class="line-removed"> 218 </span>
<span class="line-removed"> 219 #endif</span>
<span class="line-removed"> 220 </span>
<span class="line-removed"> 221 /* Set WTF_THUMB_ARCH_VERSION */</span>
<span class="line-removed"> 222 #if   defined(__ARM_ARCH_4T__)</span>
<span class="line-removed"> 223 #define WTF_THUMB_ARCH_VERSION 1</span>
<span class="line-removed"> 224 </span>
<span class="line-removed"> 225 #elif defined(__ARM_ARCH_5T__) \</span>
<span class="line-removed"> 226     || defined(__ARM_ARCH_5TE__) \</span>
<span class="line-removed"> 227     || defined(__ARM_ARCH_5TEJ__)</span>
<span class="line-removed"> 228 #define WTF_THUMB_ARCH_VERSION 2</span>
<span class="line-removed"> 229 </span>
<span class="line-removed"> 230 #elif defined(__ARM_ARCH_6J__) \</span>
<span class="line-removed"> 231     || defined(__ARM_ARCH_6K__) \</span>
<span class="line-removed"> 232     || defined(__ARM_ARCH_6Z__) \</span>
<span class="line-removed"> 233     || defined(__ARM_ARCH_6ZK__) \</span>
<span class="line-removed"> 234     || defined(__ARM_ARCH_6M__)</span>
<span class="line-removed"> 235 #define WTF_THUMB_ARCH_VERSION 3</span>
<span class="line-removed"> 236 </span>
<span class="line-removed"> 237 #elif defined(__ARM_ARCH_6T2__) \</span>
<span class="line-removed"> 238     || defined(__ARM_ARCH_7__) \</span>
<span class="line-removed"> 239     || defined(__ARM_ARCH_7A__) \</span>
<span class="line-removed"> 240     || defined(__ARM_ARCH_7K__) \</span>
<span class="line-removed"> 241     || defined(__ARM_ARCH_7M__) \</span>
<span class="line-removed"> 242     || defined(__ARM_ARCH_7R__) \</span>
<span class="line-removed"> 243     || defined(__ARM_ARCH_7S__)</span>
<span class="line-removed"> 244 #define WTF_THUMB_ARCH_VERSION 4</span>
<span class="line-removed"> 245 </span>
<span class="line-removed"> 246 /* RVCT sets __TARGET_ARCH_THUMB */</span>
<span class="line-removed"> 247 #elif defined(__TARGET_ARCH_THUMB)</span>
<span class="line-removed"> 248 #define WTF_THUMB_ARCH_VERSION __TARGET_ARCH_THUMB</span>
<span class="line-removed"> 249 </span>
<span class="line-removed"> 250 #else</span>
<span class="line-removed"> 251 #define WTF_THUMB_ARCH_VERSION 0</span>
<span class="line-removed"> 252 #endif</span>
<span class="line-removed"> 253 </span>
<span class="line-removed"> 254 </span>
<span class="line-removed"> 255 /* CPU(ARMV5_OR_LOWER) - ARM instruction set v5 or earlier */</span>
<span class="line-removed"> 256 /* On ARMv5 and below the natural alignment is required.</span>
<span class="line-removed"> 257    And there are some other differences for v5 or earlier. */</span>
<span class="line-removed"> 258 #if !defined(ARMV5_OR_LOWER) &amp;&amp; !WTF_ARM_ARCH_AT_LEAST(6)</span>
<span class="line-removed"> 259 #define WTF_CPU_ARMV5_OR_LOWER 1</span>
<span class="line-removed"> 260 #endif</span>
<span class="line-removed"> 261 </span>
<span class="line-removed"> 262 </span>
<span class="line-removed"> 263 /* CPU(ARM_TRADITIONAL) - Thumb2 is not available, only traditional ARM (v4 or greater) */</span>
<span class="line-removed"> 264 /* CPU(ARM_THUMB2) - Thumb2 instruction set is available */</span>
<span class="line-removed"> 265 /* Only one of these will be defined. */</span>
<span class="line-removed"> 266 #if !defined(WTF_CPU_ARM_TRADITIONAL) &amp;&amp; !defined(WTF_CPU_ARM_THUMB2)</span>
<span class="line-removed"> 267 #  if defined(thumb2) || defined(__thumb2__) \</span>
<span class="line-removed"> 268     || ((defined(__thumb) || defined(__thumb__)) &amp;&amp; WTF_THUMB_ARCH_VERSION == 4)</span>
<span class="line-removed"> 269 #    define WTF_CPU_ARM_TRADITIONAL 0</span>
<span class="line-removed"> 270 #    define WTF_CPU_ARM_THUMB2 1</span>
<span class="line-removed"> 271 #  elif WTF_ARM_ARCH_AT_LEAST(4)</span>
<span class="line-removed"> 272 #    define WTF_CPU_ARM_TRADITIONAL 1</span>
<span class="line-removed"> 273 #    define WTF_CPU_ARM_THUMB2 0</span>
<span class="line-removed"> 274 #  else</span>
<span class="line-removed"> 275 #    error &quot;Not supported ARM architecture&quot;</span>
<span class="line-removed"> 276 #  endif</span>
<span class="line-removed"> 277 #elif CPU(ARM_TRADITIONAL) &amp;&amp; CPU(ARM_THUMB2) /* Sanity Check */</span>
<span class="line-removed"> 278 #  error &quot;Cannot use both of WTF_CPU_ARM_TRADITIONAL and WTF_CPU_ARM_THUMB2 platforms&quot;</span>
<span class="line-removed"> 279 #endif /* !defined(WTF_CPU_ARM_TRADITIONAL) &amp;&amp; !defined(WTF_CPU_ARM_THUMB2) */</span>
<span class="line-removed"> 280 </span>
<span class="line-removed"> 281 #if defined(__ARM_NEON__) &amp;&amp; !defined(WTF_CPU_ARM_NEON)</span>
<span class="line-removed"> 282 #define WTF_CPU_ARM_NEON 1</span>
<span class="line-removed"> 283 #endif</span>
 284 
<a name="5" id="anc5"></a><span class="line-modified"> 285 #if CPU(ARM_NEON)</span>
<span class="line-modified"> 286 /* All NEON intrinsics usage can be disabled by this macro. */</span>
<span class="line-modified"> 287 #define HAVE_ARM_NEON_INTRINSICS 1</span>
<span class="line-modified"> 288 #endif</span>
<span class="line-removed"> 289 </span>
<span class="line-removed"> 290 #if (defined(__VFP_FP__) &amp;&amp; !defined(__SOFTFP__))</span>
<span class="line-removed"> 291 #define WTF_CPU_ARM_VFP 1</span>
<span class="line-removed"> 292 #endif</span>
<span class="line-removed"> 293 </span>
<span class="line-removed"> 294 /* If CPU(ARM_NEON) is not enabled, we&#39;ll conservatively assume only VFP2 or VFPv3D16</span>
<span class="line-removed"> 295    support is available. Hence, only the first 16 64-bit floating point registers</span>
<span class="line-removed"> 296    are available. See:</span>
<span class="line-removed"> 297    NEON registers: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0473c/CJACABEJ.html</span>
<span class="line-removed"> 298    VFP2 and VFP3 registers: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0473c/CIHDIBDG.html</span>
<span class="line-removed"> 299    NEON to VFP register mapping: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0473c/CJAIJHFC.html</span>
<span class="line-removed"> 300 */</span>
<span class="line-removed"> 301 #if CPU(ARM_NEON)</span>
<span class="line-removed"> 302 #define WTF_CPU_ARM_VFP_V3_D32 1</span>
<span class="line-removed"> 303 #else</span>
<span class="line-removed"> 304 #define WTF_CPU_ARM_VFP_V2 1</span>
<span class="line-removed"> 305 #endif</span>
<span class="line-removed"> 306 </span>
<span class="line-removed"> 307 #if defined(__ARM_ARCH_7K__)</span>
<span class="line-removed"> 308 #define WTF_CPU_APPLE_ARMV7K 1</span>
<span class="line-removed"> 309 #endif</span>
<span class="line-removed"> 310 </span>
<span class="line-removed"> 311 #if defined(__ARM_ARCH_7S__)</span>
<span class="line-removed"> 312 #define WTF_CPU_APPLE_ARMV7S 1</span>
<span class="line-removed"> 313 #endif</span>
<span class="line-removed"> 314 </span>
<span class="line-removed"> 315 #if defined(__ARM_ARCH_EXT_IDIV__) || CPU(APPLE_ARMV7S)</span>
<span class="line-removed"> 316 #define HAVE_ARM_IDIV_INSTRUCTIONS 1</span>
<span class="line-removed"> 317 #endif</span>
<span class="line-removed"> 318 </span>
<span class="line-removed"> 319 #endif /* ARM */</span>
<span class="line-removed"> 320 </span>
<span class="line-removed"> 321 #if !CPU(KNOWN)</span>
<span class="line-removed"> 322 #define WTF_CPU_UNKNOWN 1</span>
<span class="line-removed"> 323 #endif</span>
<span class="line-removed"> 324 </span>
<span class="line-removed"> 325 #if CPU(ARM) || CPU(MIPS) || CPU(UNKNOWN)</span>
<span class="line-removed"> 326 #define WTF_CPU_NEEDS_ALIGNED_ACCESS 1</span>
<span class="line-removed"> 327 #endif</span>
<span class="line-removed"> 328 </span>
<span class="line-removed"> 329 #if COMPILER(GCC_COMPATIBLE)</span>
<span class="line-removed"> 330 /* __LP64__ is not defined on 64bit Windows since it uses LLP64. Using __SIZEOF_POINTER__ is simpler. */</span>
<span class="line-removed"> 331 #if __SIZEOF_POINTER__ == 8</span>
<span class="line-removed"> 332 #define WTF_CPU_ADDRESS64 1</span>
<span class="line-removed"> 333 #elif __SIZEOF_POINTER__ == 4</span>
<span class="line-removed"> 334 #define WTF_CPU_ADDRESS32 1</span>
<span class="line-removed"> 335 #else</span>
<span class="line-removed"> 336 #error &quot;Unsupported pointer width&quot;</span>
<span class="line-removed"> 337 #endif</span>
<span class="line-removed"> 338 #elif COMPILER(MSVC)</span>
<span class="line-removed"> 339 #if defined(_WIN64)</span>
<span class="line-removed"> 340 #define WTF_CPU_ADDRESS64 1</span>
<span class="line-removed"> 341 #else</span>
<span class="line-removed"> 342 #define WTF_CPU_ADDRESS32 1</span>
<span class="line-removed"> 343 #endif</span>
<span class="line-removed"> 344 #else</span>
<span class="line-removed"> 345 /* This is the most generic way. But in OS(DARWIN), Platform.h can be included by sandbox definition file (.sb).</span>
<span class="line-removed"> 346  * At that time, we cannot include &quot;stdint.h&quot; header. So in the case of known compilers, we use predefined constants instead. */</span>
<span class="line-removed"> 347 #include &lt;stdint.h&gt;</span>
<span class="line-removed"> 348 #if UINTPTR_MAX &gt; UINT32_MAX</span>
<span class="line-removed"> 349 #define WTF_CPU_ADDRESS64 1</span>
<span class="line-removed"> 350 #else</span>
<span class="line-removed"> 351 #define WTF_CPU_ADDRESS32 1</span>
<span class="line-removed"> 352 #endif</span>
<span class="line-removed"> 353 #endif</span>
<span class="line-removed"> 354 </span>
<span class="line-removed"> 355 /* ==== OS() - underlying operating system; only to be used for mandated low-level services like</span>
<span class="line-removed"> 356    virtual memory, not to choose a GUI toolkit ==== */</span>
<span class="line-removed"> 357 </span>
<span class="line-removed"> 358 /* OS(AIX) - AIX */</span>
<span class="line-removed"> 359 #ifdef _AIX</span>
<span class="line-removed"> 360 #define WTF_OS_AIX 1</span>
<span class="line-removed"> 361 #endif</span>
<span class="line-removed"> 362 </span>
<span class="line-removed"> 363 /* OS(DARWIN) - Any Darwin-based OS, including Mac OS X and iPhone OS */</span>
<span class="line-removed"> 364 #ifdef __APPLE__</span>
<span class="line-removed"> 365 #define WTF_OS_DARWIN 1</span>
<span class="line-removed"> 366 </span>
<span class="line-removed"> 367 #include &lt;Availability.h&gt;</span>
<span class="line-removed"> 368 #include &lt;AvailabilityMacros.h&gt;</span>
<span class="line-removed"> 369 #include &lt;TargetConditionals.h&gt;</span>
<span class="line-removed"> 370 #endif</span>
<span class="line-removed"> 371 </span>
<span class="line-removed"> 372 /* OS(IOS_FAMILY) - iOS family, including iOS, macCatalyst, tvOS, watchOS */</span>
<span class="line-removed"> 373 /* OS(IOS) - iOS only, not including macCatalyst */</span>
<span class="line-removed"> 374 /* OS(MAC_OS_X) - macOS (not including iOS family) */</span>
<span class="line-removed"> 375 #if OS(DARWIN)</span>
<span class="line-removed"> 376 #if TARGET_OS_IOS &amp;&amp; !(defined(TARGET_OS_IOSMAC) &amp;&amp; TARGET_OS_IOSMAC)</span>
<span class="line-removed"> 377 #define WTF_OS_IOS 1</span>
<span class="line-removed"> 378 #endif</span>
<span class="line-removed"> 379 #if TARGET_OS_IPHONE</span>
<span class="line-removed"> 380 #define WTF_OS_IOS_FAMILY 1</span>
<span class="line-removed"> 381 #elif TARGET_OS_MAC</span>
<span class="line-removed"> 382 #define WTF_OS_MAC_OS_X 1</span>
<span class="line-removed"> 383 #endif</span>
<span class="line-removed"> 384 #endif</span>
<span class="line-removed"> 385 </span>
<span class="line-removed"> 386 /* OS(FREEBSD) - FreeBSD */</span>
<span class="line-removed"> 387 #if defined(__FreeBSD__) || defined(__DragonFly__) || defined(__FreeBSD_kernel__)</span>
<span class="line-removed"> 388 #define WTF_OS_FREEBSD 1</span>
<span class="line-removed"> 389 #endif</span>
<span class="line-removed"> 390 </span>
<span class="line-removed"> 391 /* OS(FUCHSIA) - Fuchsia */</span>
<span class="line-removed"> 392 #ifdef __Fuchsia__</span>
<span class="line-removed"> 393 #define WTF_OS_FUCHSIA 1</span>
<span class="line-removed"> 394 #endif</span>
<span class="line-removed"> 395 </span>
<span class="line-removed"> 396 /* OS(HURD) - GNU/Hurd */</span>
<span class="line-removed"> 397 #ifdef __GNU__</span>
<span class="line-removed"> 398 #define WTF_OS_HURD 1</span>
<span class="line-removed"> 399 #endif</span>
<span class="line-removed"> 400 </span>
<span class="line-removed"> 401 /* OS(LINUX) - Linux */</span>
<span class="line-removed"> 402 #ifdef __linux__</span>
<span class="line-removed"> 403 #define WTF_OS_LINUX 1</span>
<span class="line-removed"> 404 #endif</span>
<span class="line-removed"> 405 </span>
<span class="line-removed"> 406 /* OS(NETBSD) - NetBSD */</span>
<span class="line-removed"> 407 #if defined(__NetBSD__)</span>
<span class="line-removed"> 408 #define WTF_OS_NETBSD 1</span>
<span class="line-removed"> 409 #endif</span>
<span class="line-removed"> 410 </span>
<span class="line-removed"> 411 /* OS(OPENBSD) - OpenBSD */</span>
<span class="line-removed"> 412 #ifdef __OpenBSD__</span>
<span class="line-removed"> 413 #define WTF_OS_OPENBSD 1</span>
<span class="line-removed"> 414 #endif</span>
<span class="line-removed"> 415 </span>
<span class="line-removed"> 416 /* OS(WINDOWS) - Any version of Windows */</span>
<span class="line-removed"> 417 #if defined(WIN32) || defined(_WIN32)</span>
<span class="line-removed"> 418 #define WTF_OS_WINDOWS 1</span>
<span class="line-removed"> 419 #endif</span>
 420 
<a name="6" id="anc6"></a><span class="line-modified"> 421 #define WTF_OS_WIN ERROR &quot;USE WINDOWS WITH OS NOT WIN&quot;</span>
<span class="line-modified"> 422 #define WTF_OS_MAC ERROR &quot;USE MAC_OS_X WITH OS NOT MAC&quot;</span>
 423 
<a name="7" id="anc7"></a><span class="line-removed"> 424 /* OS(UNIX) - Any Unix-like system */</span>
<span class="line-removed"> 425 #if    OS(AIX)              \</span>
<span class="line-removed"> 426     || OS(DARWIN)           \</span>
<span class="line-removed"> 427     || OS(FREEBSD)          \</span>
<span class="line-removed"> 428     || OS(FUCHSIA)          \</span>
<span class="line-removed"> 429     || OS(HURD)             \</span>
<span class="line-removed"> 430     || OS(LINUX)            \</span>
<span class="line-removed"> 431     || OS(NETBSD)           \</span>
<span class="line-removed"> 432     || OS(OPENBSD)          \</span>
<span class="line-removed"> 433     || defined(unix)        \</span>
<span class="line-removed"> 434     || defined(__unix)      \</span>
<span class="line-removed"> 435     || defined(__unix__)</span>
<span class="line-removed"> 436 #define WTF_OS_UNIX 1</span>
<span class="line-removed"> 437 #endif</span>
 438 
<a name="8" id="anc8"></a><span class="line-modified"> 439 /* Operating environments */</span>
 440 
<a name="9" id="anc9"></a><span class="line-modified"> 441 /* CPU(BIG_ENDIAN) or CPU(MIDDLE_ENDIAN) or neither, as appropriate. */</span>

 442 
<a name="10" id="anc10"></a><span class="line-modified"> 443 #if COMPILER(GCC_COMPATIBLE)</span>
<span class="line-modified"> 444 #if __BYTE_ORDER__ == __ORDER_BIG_ENDIAN__</span>
<span class="line-removed"> 445 #define WTF_CPU_BIG_ENDIAN 1</span>
<span class="line-removed"> 446 #elif __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__</span>
<span class="line-removed"> 447 #define WTF_CPU_LITTLE_ENDIAN 1</span>
<span class="line-removed"> 448 #elif __BYTE_ORDER__ == __ORDER_PDP_ENDIAN__</span>
<span class="line-removed"> 449 #define WTF_CPU_MIDDLE_ENDIAN 1</span>
<span class="line-removed"> 450 #else</span>
<span class="line-removed"> 451 #error &quot;Unknown endian&quot;</span>
<span class="line-removed"> 452 #endif</span>
<span class="line-removed"> 453 #else</span>
<span class="line-removed"> 454 #if OS(WINDOWS)</span>
<span class="line-removed"> 455 /* Windows only have little endian architecture. */</span>
<span class="line-removed"> 456 #define WTF_CPU_LITTLE_ENDIAN 1</span>
<span class="line-removed"> 457 #else</span>
<span class="line-removed"> 458 #include &lt;sys/types.h&gt;</span>
<span class="line-removed"> 459 #if __has_include(&lt;endian.h&gt;)</span>
<span class="line-removed"> 460 #include &lt;endian.h&gt;</span>
<span class="line-removed"> 461 #if __BYTE_ORDER == __BIG_ENDIAN</span>
<span class="line-removed"> 462 #define WTF_CPU_BIG_ENDIAN 1</span>
<span class="line-removed"> 463 #elif __BYTE_ORDER == __LITTLE_ENDIAN</span>
<span class="line-removed"> 464 #define WTF_CPU_LITTLE_ENDIAN 1</span>
<span class="line-removed"> 465 #elif __BYTE_ORDER == __PDP_ENDIAN</span>
<span class="line-removed"> 466 #define WTF_CPU_MIDDLE_ENDIAN 1</span>
<span class="line-removed"> 467 #else</span>
<span class="line-removed"> 468 #error &quot;Unknown endian&quot;</span>
<span class="line-removed"> 469 #endif</span>
<span class="line-removed"> 470 #else</span>
<span class="line-removed"> 471 #if __has_include(&lt;machine/endian.h&gt;)</span>
<span class="line-removed"> 472 #include &lt;machine/endian.h&gt;</span>
<span class="line-removed"> 473 #else</span>
<span class="line-removed"> 474 #include &lt;sys/endian.h&gt;</span>
<span class="line-removed"> 475 #endif</span>
<span class="line-removed"> 476 #if BYTE_ORDER == BIG_ENDIAN</span>
<span class="line-removed"> 477 #define WTF_CPU_BIG_ENDIAN 1</span>
<span class="line-removed"> 478 #elif BYTE_ORDER == LITTLE_ENDIAN</span>
<span class="line-removed"> 479 #define WTF_CPU_LITTLE_ENDIAN 1</span>
<span class="line-removed"> 480 #elif BYTE_ORDER == PDP_ENDIAN</span>
<span class="line-removed"> 481 #define WTF_CPU_MIDDLE_ENDIAN 1</span>
<span class="line-removed"> 482 #else</span>
<span class="line-removed"> 483 #error &quot;Unknown endian&quot;</span>
<span class="line-removed"> 484 #endif</span>
<span class="line-removed"> 485 #endif</span>
<span class="line-removed"> 486 #endif</span>
<span class="line-removed"> 487 #endif</span>
 488 
<a name="11" id="anc11"></a><span class="line-removed"> 489 #if !CPU(LITTLE_ENDIAN) &amp;&amp; !CPU(BIG_ENDIAN)</span>
<span class="line-removed"> 490 #error &quot;Unsupported endian&quot;</span>
<span class="line-removed"> 491 #endif</span>
 492 
<a name="12" id="anc12"></a><span class="line-modified"> 493 /* Export macro support. Detects the attributes available for shared library symbol export</span>
<span class="line-removed"> 494    decorations. */</span>
<span class="line-removed"> 495 #if OS(WINDOWS) || (COMPILER_HAS_CLANG_DECLSPEC(dllimport) &amp;&amp; COMPILER_HAS_CLANG_DECLSPEC(dllexport))</span>
<span class="line-removed"> 496 #define USE_DECLSPEC_ATTRIBUTE 1</span>
<span class="line-removed"> 497 #define USE_VISIBILITY_ATTRIBUTE 0</span>
<span class="line-removed"> 498 #elif defined(__GNUC__)</span>
<span class="line-removed"> 499 #define USE_DECLSPEC_ATTRIBUTE 0</span>
<span class="line-removed"> 500 #define USE_VISIBILITY_ATTRIBUTE 1</span>
<span class="line-removed"> 501 #else</span>
<span class="line-removed"> 502 #define USE_DECLSPEC_ATTRIBUTE 0</span>
<span class="line-removed"> 503 #define USE_VISIBILITY_ATTRIBUTE 0</span>
<span class="line-removed"> 504 #endif</span>
 505 
<a name="13" id="anc13"></a><span class="line-modified"> 506 /* Standard libraries */</span>
<span class="line-modified"> 507 #if defined(HAVE_FEATURES_H) &amp;&amp; HAVE_FEATURES_H</span>
<span class="line-removed"> 508 /* If the included features.h is glibc&#39;s one, __GLIBC__ is defined. */</span>
<span class="line-removed"> 509 #include &lt;features.h&gt;</span>
<span class="line-removed"> 510 #endif</span>
 511 
<a name="14" id="anc14"></a><span class="line-removed"> 512 /* FIXME: these are all mixes of OS, operating environment and policy choices. */</span>
<span class="line-removed"> 513 /* PLATFORM(GTK) */</span>
<span class="line-removed"> 514 /* PLATFORM(MAC) */</span>
<span class="line-removed"> 515 /* PLATFORM(IOS) */</span>
<span class="line-removed"> 516 /* PLATFORM(IOS_FAMILY) */</span>
<span class="line-removed"> 517 /* PLATFORM(IOS_SIMULATOR) */</span>
<span class="line-removed"> 518 /* PLATFORM(IOS_FAMILY_SIMULATOR) */</span>
<span class="line-removed"> 519 /* PLATFORM(WIN) */</span>
<span class="line-removed"> 520 #if defined(BUILDING_GTK__)</span>
<span class="line-removed"> 521 #define WTF_PLATFORM_GTK 1</span>
<span class="line-removed"> 522 #elif defined(BUILDING_JAVA__)</span>
<span class="line-removed"> 523 #define WTF_PLATFORM_JAVA 1</span>
<span class="line-removed"> 524 #elif defined(BUILDING_WPE__)</span>
<span class="line-removed"> 525 #define WTF_PLATFORM_WPE 1</span>
<span class="line-removed"> 526 #elif defined(BUILDING_JSCONLY__)</span>
<span class="line-removed"> 527 /* JSCOnly does not provide PLATFORM() macro */</span>
<span class="line-removed"> 528 #elif OS(MAC_OS_X)</span>
<span class="line-removed"> 529 #define WTF_PLATFORM_MAC 1</span>
<span class="line-removed"> 530 #elif OS(IOS_FAMILY)</span>
<span class="line-removed"> 531 #if OS(IOS)</span>
<span class="line-removed"> 532 #define WTF_PLATFORM_IOS 1</span>
<span class="line-removed"> 533 #endif</span>
<span class="line-removed"> 534 #define WTF_PLATFORM_IOS_FAMILY 1</span>
<span class="line-removed"> 535 #if TARGET_OS_SIMULATOR</span>
<span class="line-removed"> 536 #if OS(IOS)</span>
<span class="line-removed"> 537 #define WTF_PLATFORM_IOS_SIMULATOR 1</span>
<span class="line-removed"> 538 #endif</span>
<span class="line-removed"> 539 #define WTF_PLATFORM_IOS_FAMILY_SIMULATOR 1</span>
<span class="line-removed"> 540 #endif</span>
<span class="line-removed"> 541 #if defined(TARGET_OS_IOSMAC) &amp;&amp; TARGET_OS_IOSMAC</span>
<span class="line-removed"> 542 #define WTF_PLATFORM_MACCATALYST 1</span>
<span class="line-removed"> 543 #endif</span>
<span class="line-removed"> 544 #elif OS(WINDOWS)</span>
<span class="line-removed"> 545 #define WTF_PLATFORM_WIN 1</span>
<span class="line-removed"> 546 #endif</span>
 547 
<a name="15" id="anc15"></a><span class="line-modified"> 548 /* PLATFORM(COCOA) */</span>
<span class="line-removed"> 549 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
<span class="line-removed"> 550 #define WTF_PLATFORM_COCOA 1</span>
<span class="line-removed"> 551 #endif</span>
 552 
<a name="16" id="anc16"></a><span class="line-modified"> 553 #if PLATFORM(COCOA)</span>
<span class="line-modified"> 554 #if defined __has_include &amp;&amp; __has_include(&lt;CoreFoundation/CFPriv.h&gt;)</span>
<span class="line-removed"> 555 #define USE_APPLE_INTERNAL_SDK 1</span>
<span class="line-removed"> 556 #endif</span>
 557 #endif
 558 
<a name="17" id="anc17"></a><span class="line-removed"> 559 /* PLATFORM(APPLETV) */</span>
<span class="line-removed"> 560 #if defined(TARGET_OS_TV) &amp;&amp; TARGET_OS_TV</span>
<span class="line-removed"> 561 #define WTF_PLATFORM_APPLETV 1</span>
<span class="line-removed"> 562 #endif</span>
 563 
<a name="18" id="anc18"></a><span class="line-modified"> 564 /* PLATFORM(WATCHOS) */</span>
<span class="line-removed"> 565 #if defined(TARGET_OS_WATCH) &amp;&amp; TARGET_OS_WATCH</span>
<span class="line-removed"> 566 #define WTF_PLATFORM_WATCHOS 1</span>
<span class="line-removed"> 567 #endif</span>
 568 
<a name="19" id="anc19"></a><span class="line-removed"> 569 /* Graphics engines */</span>
 570 
<a name="20" id="anc20"></a><span class="line-modified"> 571 /* USE(CG) and PLATFORM(CI) */</span>
<span class="line-modified"> 572 #if PLATFORM(COCOA)</span>
<span class="line-modified"> 573 #define USE_CG 1</span>
<span class="line-removed"> 574 #define USE_CA 1</span>
<span class="line-removed"> 575 #endif</span>
 576 
<a name="21" id="anc21"></a><span class="line-removed"> 577 #if PLATFORM(GTK) || PLATFORM(WPE)</span>
<span class="line-removed"> 578 #define USE_GLIB 1</span>
<span class="line-removed"> 579 #define USE_FREETYPE 1</span>
<span class="line-removed"> 580 #define USE_HARFBUZZ 1</span>
<span class="line-removed"> 581 #define USE_SOUP 1</span>
<span class="line-removed"> 582 #define USE_WEBP 1</span>
<span class="line-removed"> 583 #define USE_FILE_LOCK 1</span>
<span class="line-removed"> 584 #endif</span>
 585 
 586 #if PLATFORM(GTK)
 587 #define GLIB_VERSION_MIN_REQUIRED GLIB_VERSION_2_36
 588 #define GDK_VERSION_MIN_REQUIRED GDK_VERSION_3_6
 589 #endif
 590 
 591 #if PLATFORM(WPE)
 592 #define GLIB_VERSION_MIN_REQUIRED GLIB_VERSION_2_40
 593 #endif
 594 
 595 #if USE(SOUP)
 596 #define SOUP_VERSION_MIN_REQUIRED SOUP_VERSION_2_42
 597 #endif
 598 
<a name="22" id="anc22"></a><span class="line-removed"> 599 /* On Windows, use QueryPerformanceCounter by default */</span>
<span class="line-removed"> 600 #if OS(WINDOWS)</span>
<span class="line-removed"> 601 #define USE_QUERY_PERFORMANCE_COUNTER  1</span>
<span class="line-removed"> 602 #endif</span>
<span class="line-removed"> 603 </span>
 604 #if PLATFORM(COCOA)
<a name="23" id="anc23"></a><span class="line-removed"> 605 </span>
<span class="line-removed"> 606 #define HAVE_OUT_OF_PROCESS_LAYER_HOSTING 1</span>
<span class="line-removed"> 607 #define USE_CF 1</span>
<span class="line-removed"> 608 #define USE_FILE_LOCK 1</span>
<span class="line-removed"> 609 #define USE_FOUNDATION 1</span>
<span class="line-removed"> 610 #define USE_NETWORK_CFDATA_ARRAY_CALLBACK 1</span>
<span class="line-removed"> 611 </span>
 612 /* Cocoa defines a series of platform macros for debugging. */
 613 /* Some of them are really annoying because they use common names (e.g. check()). */
 614 /* Disable those macros so that we are not limited in how we name methods and functions. */
 615 #undef __ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORES
 616 #define __ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORES 0
<a name="24" id="anc24"></a><span class="line-removed"> 617 </span>
<span class="line-removed"> 618 #endif</span>
<span class="line-removed"> 619 </span>
<span class="line-removed"> 620 #if PLATFORM(MAC)</span>
<span class="line-removed"> 621 </span>
<span class="line-removed"> 622 #define HAVE_RUNLOOP_TIMER 1</span>
<span class="line-removed"> 623 #define HAVE_SEC_KEYCHAIN 1</span>
<span class="line-removed"> 624 #define USE_APPKIT 1</span>
<span class="line-removed"> 625 #define USE_PASSKIT 1</span>
<span class="line-removed"> 626 </span>
<span class="line-removed"> 627 #if CPU(X86_64)</span>
<span class="line-removed"> 628 #define HAVE_NETWORK_EXTENSION 1</span>
<span class="line-removed"> 629 #define USE_PLUGIN_HOST_PROCESS 1</span>
<span class="line-removed"> 630 #endif</span>
<span class="line-removed"> 631 #endif /* PLATFORM(MAC) */</span>
<span class="line-removed"> 632 </span>
<span class="line-removed"> 633 #if PLATFORM(IOS_FAMILY)</span>
<span class="line-removed"> 634 </span>
<span class="line-removed"> 635 #define HAVE_NETWORK_EXTENSION 1</span>
<span class="line-removed"> 636 #define HAVE_READLINE 1</span>
<span class="line-removed"> 637 #define USE_UIKIT_EDITING 1</span>
<span class="line-removed"> 638 #define USE_WEB_THREAD 1</span>
<span class="line-removed"> 639 </span>
<span class="line-removed"> 640 #if CPU(ARM64)</span>
<span class="line-removed"> 641 #define ENABLE_JIT_CONSTANT_BLINDING 0</span>
<span class="line-removed"> 642 #endif</span>
<span class="line-removed"> 643 </span>
<span class="line-removed"> 644 #if CPU(ARM_NEON)</span>
<span class="line-removed"> 645 #undef HAVE_ARM_NEON_INTRINSICS</span>
<span class="line-removed"> 646 #define HAVE_ARM_NEON_INTRINSICS 0</span>
<span class="line-removed"> 647 #endif</span>
<span class="line-removed"> 648 </span>
<span class="line-removed"> 649 #endif /* PLATFORM(IOS_FAMILY) */</span>
<span class="line-removed"> 650 </span>
<span class="line-removed"> 651 #if !defined(HAVE_ACCESSIBILITY)</span>
<span class="line-removed"> 652 #if PLATFORM(COCOA) || PLATFORM(WIN) || PLATFORM(GTK) || PLATFORM(WPE)</span>
<span class="line-removed"> 653 #define HAVE_ACCESSIBILITY 1</span>
<span class="line-removed"> 654 #endif</span>
<span class="line-removed"> 655 #endif /* !defined(HAVE_ACCESSIBILITY) */</span>
<span class="line-removed"> 656 </span>
<span class="line-removed"> 657 /* FIXME: Remove after CMake build enabled on Darwin */</span>
<span class="line-removed"> 658 #if OS(DARWIN)</span>
<span class="line-removed"> 659 #define HAVE_ERRNO_H 1</span>
<span class="line-removed"> 660 #define HAVE_LANGINFO_H 1</span>
<span class="line-removed"> 661 #define HAVE_LOCALTIME_R 1</span>
<span class="line-removed"> 662 #define HAVE_MMAP 1</span>
<span class="line-removed"> 663 #define HAVE_REGEX_H 1</span>
<span class="line-removed"> 664 #define HAVE_SIGNAL_H 1</span>
<span class="line-removed"> 665 #define HAVE_STAT_BIRTHTIME 1</span>
<span class="line-removed"> 666 #define HAVE_STRINGS_H 1</span>
<span class="line-removed"> 667 #define HAVE_STRNSTR 1</span>
<span class="line-removed"> 668 #define HAVE_SYS_PARAM_H 1</span>
<span class="line-removed"> 669 #define HAVE_SYS_TIME_H 1</span>
<span class="line-removed"> 670 #define HAVE_TM_GMTOFF 1</span>
<span class="line-removed"> 671 #define HAVE_TM_ZONE 1</span>
<span class="line-removed"> 672 #define HAVE_TIMEGM 1</span>
<span class="line-removed"> 673 #define HAVE_PTHREAD_MAIN_NP 1</span>
<span class="line-removed"> 674 </span>
<span class="line-removed"> 675 #if CPU(X86_64) || CPU(ARM64)</span>
<span class="line-removed"> 676 #define HAVE_INT128_T 1</span>
<span class="line-removed"> 677 #endif</span>
<span class="line-removed"> 678 #endif /* OS(DARWIN) */</span>
<span class="line-removed"> 679 </span>
<span class="line-removed"> 680 #if OS(UNIX)</span>
<span class="line-removed"> 681 #define USE_PTHREADS 1</span>
<span class="line-removed"> 682 #endif /* OS(UNIX) */</span>
<span class="line-removed"> 683 </span>
<span class="line-removed"> 684 #if OS(UNIX) &amp;&amp; !OS(FUCHSIA)</span>
<span class="line-removed"> 685 #define HAVE_RESOURCE_H 1</span>
<span class="line-removed"> 686 #define HAVE_PTHREAD_SETSCHEDPARAM 1</span>
<span class="line-removed"> 687 #endif</span>
<span class="line-removed"> 688 </span>
<span class="line-removed"> 689 #if OS(DARWIN)</span>
<span class="line-removed"> 690 #define HAVE_DISPATCH_H 1</span>
<span class="line-removed"> 691 #define HAVE_MADV_FREE 1</span>
<span class="line-removed"> 692 #define HAVE_MADV_FREE_REUSE 1</span>
<span class="line-removed"> 693 #define HAVE_MADV_DONTNEED 1</span>
<span class="line-removed"> 694 #define HAVE_MERGESORT 1</span>
<span class="line-removed"> 695 #define HAVE_PTHREAD_SETNAME_NP 1</span>
<span class="line-removed"> 696 #define HAVE_READLINE 1</span>
<span class="line-removed"> 697 #define HAVE_SYS_TIMEB_H 1</span>
<span class="line-removed"> 698 </span>
<span class="line-removed"> 699 #if __has_include(&lt;mach/mach_exc.defs&gt;) &amp;&amp; !PLATFORM(GTK)</span>
<span class="line-removed"> 700 #define HAVE_MACH_EXCEPTIONS 1</span>
<span class="line-removed"> 701 #endif</span>
<span class="line-removed"> 702 </span>
<span class="line-removed"> 703 #if !PLATFORM(GTK)</span>
<span class="line-removed"> 704 #define USE_ACCELERATE 1</span>
<span class="line-removed"> 705 #endif</span>
<span class="line-removed"> 706 #if !PLATFORM(IOS_FAMILY)</span>
<span class="line-removed"> 707 #define HAVE_HOSTED_CORE_ANIMATION 1</span>
<span class="line-removed"> 708 #endif</span>
<span class="line-removed"> 709 </span>
<span class="line-removed"> 710 #endif /* OS(DARWIN) */</span>
<span class="line-removed"> 711 </span>
<span class="line-removed"> 712 #if OS(DARWIN) || OS(FUCHSIA) || ((OS(FREEBSD) || defined(__GLIBC__) || defined(__BIONIC__)) &amp;&amp; (CPU(X86) || CPU(X86_64) || CPU(ARM) || CPU(ARM64) || CPU(MIPS)))</span>
<span class="line-removed"> 713 #define HAVE_MACHINE_CONTEXT 1</span>
<span class="line-removed"> 714 #endif</span>
<span class="line-removed"> 715 </span>
<span class="line-removed"> 716 #if OS(DARWIN) || (OS(LINUX) &amp;&amp; defined(__GLIBC__) &amp;&amp; !defined(__UCLIBC__))</span>
<span class="line-removed"> 717 #define HAVE_BACKTRACE 1</span>
 718 #endif
 719 
<a name="25" id="anc25"></a><span class="line-modified"> 720 #if OS(DARWIN) || OS(LINUX)</span>
<span class="line-modified"> 721 #if PLATFORM(GTK)</span>
<span class="line-modified"> 722 #if defined(__GLIBC__) &amp;&amp; !defined(__UCLIBC__)</span>
<span class="line-modified"> 723 #define HAVE_BACKTRACE_SYMBOLS 1</span>

 724 #endif
<a name="26" id="anc26"></a><span class="line-removed"> 725 #endif /* PLATFORM(GTK) */</span>
<span class="line-removed"> 726 #define HAVE_DLADDR 1</span>
<span class="line-removed"> 727 #endif /* OS(DARWIN) || OS(LINUX) */</span>
<span class="line-removed"> 728 </span>
<span class="line-removed"> 729 </span>
<span class="line-removed"> 730 /* ENABLE macro defaults */</span>
 731 
<a name="27" id="anc27"></a><span class="line-modified"> 732 /* FIXME: move out all ENABLE() defines from here to FeatureDefines.h */</span>
<span class="line-modified"> 733 </span>
<span class="line-modified"> 734 #if USE(APPLE_INTERNAL_SDK) &amp;&amp; __has_include(&lt;WebKitAdditions/AdditionalPlatform.h&gt;)</span>
<span class="line-modified"> 735 #include &lt;WebKitAdditions/AdditionalPlatform.h&gt;</span>

 736 #endif
 737 
<a name="28" id="anc28"></a><span class="line-modified"> 738 #if USE(APPLE_INTERNAL_SDK) &amp;&amp; __has_include(&lt;WebKitAdditions/AdditionalFeatureDefines.h&gt;)</span>
<span class="line-modified"> 739 #include &lt;WebKitAdditions/AdditionalFeatureDefines.h&gt;</span>


 740 #endif
 741 
<a name="29" id="anc29"></a><span class="line-modified"> 742 /* Include feature macros */</span>
<span class="line-modified"> 743 #include &lt;wtf/FeatureDefines.h&gt;</span>
<span class="line-modified"> 744 </span>
<span class="line-removed"> 745 #if OS(WINDOWS)</span>
<span class="line-removed"> 746 #define USE_SYSTEM_MALLOC 1</span>
 747 #endif
 748 
<a name="30" id="anc30"></a><span class="line-modified"> 749 #if CPU(ADDRESS64)</span>
<span class="line-modified"> 750 #if OS(DARWIN) &amp;&amp; CPU(ARM64)</span>
<span class="line-modified"> 751 #define WTF_CPU_EFFECTIVE_ADDRESS_WIDTH 36</span>
<span class="line-removed"> 752 #else</span>
<span class="line-removed"> 753 /* We strongly assume that effective address width is &lt;= 48 in 64bit architectures (e.g. NaN boxing). */</span>
<span class="line-removed"> 754 #define WTF_CPU_EFFECTIVE_ADDRESS_WIDTH 48</span>
<span class="line-removed"> 755 #endif</span>
<span class="line-removed"> 756 #else</span>
<span class="line-removed"> 757 #define WTF_CPU_EFFECTIVE_ADDRESS_WIDTH 32</span>
 758 #endif
 759 
<a name="31" id="anc31"></a><span class="line-modified"> 760 #if !defined(USE_JSVALUE64) &amp;&amp; !defined(USE_JSVALUE32_64)</span>
<span class="line-modified"> 761 #if CPU(ADDRESS64) || CPU(ARM64)</span>
<span class="line-modified"> 762 #define USE_JSVALUE64 1</span>
<span class="line-removed"> 763 #else</span>
<span class="line-removed"> 764 #define USE_JSVALUE32_64 1</span>
 765 #endif
<a name="32" id="anc32"></a><span class="line-removed"> 766 #endif /* !defined(USE_JSVALUE64) &amp;&amp; !defined(USE_JSVALUE32_64) */</span>
 767 
<a name="33" id="anc33"></a><span class="line-removed"> 768 /* The JIT is enabled by default on all x86-64 &amp; ARM64 platforms. */</span>
<span class="line-removed"> 769 #if !defined(ENABLE_JIT) \</span>
<span class="line-removed"> 770     &amp;&amp; (CPU(X86_64) || CPU(ARM64)) \</span>
<span class="line-removed"> 771     &amp;&amp; !CPU(APPLE_ARMV7K)</span>
<span class="line-removed"> 772 #define ENABLE_JIT 1</span>
<span class="line-removed"> 773 #endif</span>
 774 
<a name="34" id="anc34"></a><span class="line-modified"> 775 #if USE(JSVALUE32_64)</span>
<span class="line-modified"> 776 #if (CPU(ARM_THUMB2) || CPU(MIPS)) &amp;&amp; OS(LINUX)</span>
<span class="line-removed"> 777 /* On ARMv7 and MIPS on Linux the JIT is enabled unless explicitly disabled. */</span>
<span class="line-removed"> 778 #if !defined(ENABLE_JIT)</span>
<span class="line-removed"> 779 #define ENABLE_JIT 1</span>
<span class="line-removed"> 780 #endif</span>
<span class="line-removed"> 781 #else</span>
<span class="line-removed"> 782 /* Disable JIT and force C_LOOP on all other 32bit architectures. */</span>
<span class="line-removed"> 783 #undef ENABLE_JIT</span>
<span class="line-removed"> 784 #define ENABLE_JIT 0</span>
<span class="line-removed"> 785 #undef ENABLE_C_LOOP</span>
<span class="line-removed"> 786 #define ENABLE_C_LOOP 1</span>
<span class="line-removed"> 787 #endif</span>
<span class="line-removed"> 788 #endif</span>
 789 
<a name="35" id="anc35"></a><span class="line-modified"> 790 #if !defined(ENABLE_C_LOOP)</span>
<span class="line-modified"> 791 #if ENABLE(JIT) \</span>
<span class="line-modified"> 792     || CPU(X86_64) || (CPU(ARM64) &amp;&amp; !defined(__ILP32__))</span>
<span class="line-modified"> 793 #define ENABLE_C_LOOP 0</span>


 794 #else
<a name="36" id="anc36"></a><span class="line-modified"> 795 #define ENABLE_C_LOOP 1</span>
<span class="line-modified"> 796 #endif</span>
<span class="line-modified"> 797 #endif</span>
<span class="line-removed"> 798 </span>
<span class="line-removed"> 799 /* The FTL *does not* work on 32-bit platforms. Disable it even if someone asked us to enable it. */</span>
<span class="line-removed"> 800 #if USE(JSVALUE32_64)</span>
<span class="line-removed"> 801 #undef ENABLE_FTL_JIT</span>
<span class="line-removed"> 802 #define ENABLE_FTL_JIT 0</span>
<span class="line-removed"> 803 #endif</span>
<span class="line-removed"> 804 </span>
<span class="line-removed"> 805 /* The FTL is disabled on the iOS simulator, mostly for simplicity. */</span>
<span class="line-removed"> 806 #if PLATFORM(IOS_FAMILY_SIMULATOR)</span>
<span class="line-removed"> 807 #undef ENABLE_FTL_JIT</span>
<span class="line-removed"> 808 #define ENABLE_FTL_JIT 0</span>
<span class="line-removed"> 809 #endif</span>
<span class="line-removed"> 810 </span>
<span class="line-removed"> 811 /* If possible, try to enable a disassembler. This is optional. We proceed in two</span>
<span class="line-removed"> 812    steps: first we try to find some disassembler that we can use, and then we</span>
<span class="line-removed"> 813    decide if the high-level disassembler API can be enabled. */</span>
<span class="line-removed"> 814 #if !defined(USE_UDIS86) &amp;&amp; ENABLE(JIT) &amp;&amp; (CPU(X86) || CPU(X86_64)) &amp;&amp; !USE(CAPSTONE)</span>
<span class="line-removed"> 815 #define USE_UDIS86 1</span>
<span class="line-removed"> 816 #endif</span>
<span class="line-removed"> 817 </span>
<span class="line-removed"> 818 #if !defined(USE_ARM64_DISASSEMBLER) &amp;&amp; ENABLE(JIT) &amp;&amp; CPU(ARM64) &amp;&amp; !USE(CAPSTONE)</span>
<span class="line-removed"> 819 #define USE_ARM64_DISASSEMBLER 1</span>
<span class="line-removed"> 820 #endif</span>
<span class="line-removed"> 821 </span>
<span class="line-removed"> 822 #if !defined(ENABLE_DISASSEMBLER) &amp;&amp; (USE(UDIS86) || USE(ARM64_DISASSEMBLER) || (ENABLE(JIT) &amp;&amp; USE(CAPSTONE)))</span>
<span class="line-removed"> 823 #define ENABLE_DISASSEMBLER 1</span>
 824 #endif
 825 
<a name="37" id="anc37"></a><span class="line-modified"> 826 #if !defined(ENABLE_DFG_JIT) &amp;&amp; ENABLE(JIT)</span>
<span class="line-modified"> 827 /* Enable the DFG JIT on X86 and X86_64. */</span>
<span class="line-removed"> 828 #if (CPU(X86) || CPU(X86_64)) &amp;&amp; (OS(DARWIN) || OS(LINUX) || OS(FREEBSD) || OS(HURD) || OS(WINDOWS))</span>
<span class="line-removed"> 829 #define ENABLE_DFG_JIT 1</span>
<span class="line-removed"> 830 #endif</span>
<span class="line-removed"> 831 /* Enable the DFG JIT on ARMv7.  Only tested on iOS, Linux, and FreeBSD. */</span>
<span class="line-removed"> 832 #if (CPU(ARM_THUMB2) || CPU(ARM64)) &amp;&amp; (PLATFORM(IOS_FAMILY) || OS(LINUX) || OS(FREEBSD))</span>
<span class="line-removed"> 833 #define ENABLE_DFG_JIT 1</span>
<span class="line-removed"> 834 #endif</span>
<span class="line-removed"> 835 /* Enable the DFG JIT on MIPS. */</span>
<span class="line-removed"> 836 #if CPU(MIPS)</span>
<span class="line-removed"> 837 #define ENABLE_DFG_JIT 1</span>
<span class="line-removed"> 838 #endif</span>
 839 #endif
 840 
<a name="38" id="anc38"></a><span class="line-modified"> 841 /* Concurrent JS only works on 64-bit platforms because it requires that</span>
<span class="line-modified"> 842    values get stored to atomically. This is trivially true on 64-bit platforms,</span>
<span class="line-removed"> 843    but not true at all on 32-bit platforms where values are composed of two</span>
<span class="line-removed"> 844    separate sub-values. */</span>
<span class="line-removed"> 845 #if ENABLE(DFG_JIT) &amp;&amp; USE(JSVALUE64)</span>
<span class="line-removed"> 846 #define ENABLE_CONCURRENT_JS 1</span>
 847 #endif
 848 
<a name="39" id="anc39"></a><span class="line-modified"> 849 #if __has_include(&lt;System/pthread_machdep.h&gt;)</span>
<span class="line-modified"> 850 #define HAVE_FAST_TLS 1</span>
 851 #endif
 852 
<a name="40" id="anc40"></a><span class="line-modified"> 853 #if (CPU(X86_64) || CPU(ARM64)) &amp;&amp; HAVE(FAST_TLS)</span>
<span class="line-modified"> 854 #define ENABLE_FAST_TLS_JIT 1</span>
 855 #endif
 856 
<a name="41" id="anc41"></a><span class="line-modified"> 857 #if CPU(X86) || CPU(X86_64) || CPU(ARM_THUMB2) || CPU(ARM64) || CPU(MIPS)</span>
<span class="line-modified"> 858 #define ENABLE_MASM_PROBE 1</span>
<span class="line-removed"> 859 #else</span>
<span class="line-removed"> 860 #define ENABLE_MASM_PROBE 0</span>
<span class="line-removed"> 861 #endif</span>
 862 
<a name="42" id="anc42"></a><span class="line-modified"> 863 #if !ENABLE(JIT)</span>
<span class="line-modified"> 864 #undef ENABLE_MASM_PROBE</span>
<span class="line-modified"> 865 #define ENABLE_MASM_PROBE 0</span>
 866 #endif
 867 
<a name="43" id="anc43"></a><span class="line-modified"> 868 /* If the baseline jit is not available, then disable upper tiers as well.</span>
<span class="line-modified"> 869    The MacroAssembler::probe() is also required for supporting the upper tiers. */</span>
<span class="line-removed"> 870 #if !ENABLE(JIT) || !ENABLE(MASM_PROBE)</span>
<span class="line-removed"> 871 #undef ENABLE_DFG_JIT</span>
<span class="line-removed"> 872 #undef ENABLE_FTL_JIT</span>
<span class="line-removed"> 873 #define ENABLE_DFG_JIT 0</span>
<span class="line-removed"> 874 #define ENABLE_FTL_JIT 0</span>
 875 #endif
<a name="44" id="anc44"></a><span class="line-removed"> 876 </span>
<span class="line-removed"> 877 /* If the DFG jit is not available, then disable upper tiers as well: */</span>
<span class="line-removed"> 878 #if !ENABLE(DFG_JIT)</span>
<span class="line-removed"> 879 #undef ENABLE_FTL_JIT</span>
<span class="line-removed"> 880 #define ENABLE_FTL_JIT 0</span>
 881 #endif
 882 
<a name="45" id="anc45"></a><span class="line-modified"> 883 /* This controls whether B3 is built. B3 is needed for FTL JIT and WebAssembly */</span>
<span class="line-modified"> 884 #if ENABLE(FTL_JIT)</span>
<span class="line-removed"> 885 #define ENABLE_B3_JIT 1</span>
 886 #endif
 887 
<a name="46" id="anc46"></a><span class="line-modified"> 888 #if !defined(ENABLE_WEBASSEMBLY)</span>
<span class="line-modified"> 889 #if ENABLE(B3_JIT) &amp;&amp; PLATFORM(COCOA) &amp;&amp; CPU(ADDRESS64)</span>
<span class="line-removed"> 890 #define ENABLE_WEBASSEMBLY 1</span>
<span class="line-removed"> 891 #else</span>
<span class="line-removed"> 892 #define ENABLE_WEBASSEMBLY 0</span>
<span class="line-removed"> 893 #endif</span>
<span class="line-removed"> 894 #endif</span>
<span class="line-removed"> 895 </span>
<span class="line-removed"> 896 /* The SamplingProfiler is the probabilistic and low-overhead profiler used by</span>
<span class="line-removed"> 897  * JSC to measure where time is spent inside a JavaScript program.</span>
<span class="line-removed"> 898  * In configurations other than Windows and Darwin, because layout of mcontext_t depends on standard libraries (like glibc),</span>
<span class="line-removed"> 899  * sampling profiler is enabled if WebKit uses pthreads and glibc. */</span>
<span class="line-removed"> 900 #if !defined(ENABLE_SAMPLING_PROFILER)</span>
<span class="line-removed"> 901 #if !ENABLE(C_LOOP) &amp;&amp; (OS(WINDOWS) || HAVE(MACHINE_CONTEXT))</span>
<span class="line-removed"> 902 #define ENABLE_SAMPLING_PROFILER 1</span>
<span class="line-removed"> 903 #else</span>
<span class="line-removed"> 904 #define ENABLE_SAMPLING_PROFILER 0</span>
<span class="line-removed"> 905 #endif</span>
<span class="line-removed"> 906 #endif</span>
<span class="line-removed"> 907 </span>
<span class="line-removed"> 908 #if ENABLE(WEBASSEMBLY) &amp;&amp; HAVE(MACHINE_CONTEXT)</span>
<span class="line-removed"> 909 #define ENABLE_WEBASSEMBLY_FAST_MEMORY 1</span>
<span class="line-removed"> 910 #endif</span>
<span class="line-removed"> 911 </span>
<span class="line-removed"> 912 /* Counts uses of write barriers using sampling counters. Be sure to also</span>
<span class="line-removed"> 913    set ENABLE_SAMPLING_COUNTERS to 1. */</span>
<span class="line-removed"> 914 #if !defined(ENABLE_WRITE_BARRIER_PROFILING)</span>
<span class="line-removed"> 915 #define ENABLE_WRITE_BARRIER_PROFILING 0</span>
<span class="line-removed"> 916 #endif</span>
<span class="line-removed"> 917 </span>
<span class="line-removed"> 918 /* Logs all allocation-related activity that goes through fastMalloc or the</span>
<span class="line-removed"> 919    JSC GC (both cells and butterflies). Also logs marking. Note that this</span>
<span class="line-removed"> 920    isn&#39;t a completely accurate view of the heap since it doesn&#39;t include all</span>
<span class="line-removed"> 921    butterfly resize operations, doesn&#39;t tell you what is going on with weak</span>
<span class="line-removed"> 922    references (other than to tell you when they&#39;re marked), and doesn&#39;t</span>
<span class="line-removed"> 923    track direct mmap() allocations or things like JIT allocation. */</span>
<span class="line-removed"> 924 #if !defined(ENABLE_ALLOCATION_LOGGING)</span>
<span class="line-removed"> 925 #define ENABLE_ALLOCATION_LOGGING 0</span>
<span class="line-removed"> 926 #endif</span>
<span class="line-removed"> 927 </span>
<span class="line-removed"> 928 /* Enable verification that that register allocations are not made within generated control flow.</span>
<span class="line-removed"> 929    Turned on for debug builds. */</span>
<span class="line-removed"> 930 #if !defined(ENABLE_DFG_REGISTER_ALLOCATION_VALIDATION) &amp;&amp; ENABLE(DFG_JIT)</span>
<span class="line-removed"> 931 #if !defined(NDEBUG)</span>
<span class="line-removed"> 932 #define ENABLE_DFG_REGISTER_ALLOCATION_VALIDATION 1</span>
<span class="line-removed"> 933 #else</span>
<span class="line-removed"> 934 #define ENABLE_DFG_REGISTER_ALLOCATION_VALIDATION 0</span>
<span class="line-removed"> 935 #endif</span>
<span class="line-removed"> 936 #endif</span>
<span class="line-removed"> 937 </span>
<span class="line-removed"> 938 /* Configure the JIT */</span>
<span class="line-removed"> 939 #if CPU(X86) &amp;&amp; COMPILER(MSVC)</span>
<span class="line-removed"> 940 #define JSC_HOST_CALL __fastcall</span>
<span class="line-removed"> 941 #elif CPU(X86) &amp;&amp; COMPILER(GCC_COMPATIBLE)</span>
<span class="line-removed"> 942 #define JSC_HOST_CALL __attribute__ ((fastcall))</span>
<span class="line-removed"> 943 #else</span>
<span class="line-removed"> 944 #define JSC_HOST_CALL</span>
<span class="line-removed"> 945 #endif</span>
<span class="line-removed"> 946 </span>
<span class="line-removed"> 947 #if CPU(X86) &amp;&amp; OS(WINDOWS)</span>
<span class="line-removed"> 948 #define CALLING_CONVENTION_IS_STDCALL 1</span>
<span class="line-removed"> 949 #ifndef CDECL</span>
<span class="line-removed"> 950 #if COMPILER(MSVC)</span>
<span class="line-removed"> 951 #define CDECL __cdecl</span>
<span class="line-removed"> 952 #else</span>
<span class="line-removed"> 953 #define CDECL __attribute__ ((__cdecl))</span>
<span class="line-removed"> 954 #endif</span>
<span class="line-removed"> 955 #endif</span>
<span class="line-removed"> 956 #else</span>
<span class="line-removed"> 957 #define CALLING_CONVENTION_IS_STDCALL 0</span>
<span class="line-removed"> 958 #endif</span>
<span class="line-removed"> 959 </span>
<span class="line-removed"> 960 #if CPU(X86)</span>
<span class="line-removed"> 961 #define WTF_COMPILER_SUPPORTS_FASTCALL_CALLING_CONVENTION 1</span>
<span class="line-removed"> 962 #ifndef FASTCALL</span>
<span class="line-removed"> 963 #if COMPILER(MSVC)</span>
<span class="line-removed"> 964 #define FASTCALL __fastcall</span>
<span class="line-removed"> 965 #else</span>
<span class="line-removed"> 966 #define FASTCALL  __attribute__ ((fastcall))</span>
<span class="line-removed"> 967 #endif</span>
<span class="line-removed"> 968 #endif</span>
<span class="line-removed"> 969 #else</span>
<span class="line-removed"> 970 #define WTF_COMPILER_SUPPORTS_FASTCALL_CALLING_CONVENTION 0</span>
<span class="line-removed"> 971 #endif</span>
<span class="line-removed"> 972 </span>
<span class="line-removed"> 973 #if ENABLE(JIT) &amp;&amp; CALLING_CONVENTION_IS_STDCALL</span>
<span class="line-removed"> 974 #define JIT_OPERATION CDECL</span>
<span class="line-removed"> 975 #else</span>
<span class="line-removed"> 976 #define JIT_OPERATION</span>
<span class="line-removed"> 977 #endif</span>
<span class="line-removed"> 978 </span>
<span class="line-removed"> 979 #if PLATFORM(IOS_FAMILY) &amp;&amp; CPU(ARM64) &amp;&amp; (!ENABLE(FAST_JIT_PERMISSIONS) || !CPU(ARM64E))</span>
<span class="line-removed"> 980 #define ENABLE_SEPARATED_WX_HEAP 1</span>
<span class="line-removed"> 981 #else</span>
<span class="line-removed"> 982 #define ENABLE_SEPARATED_WX_HEAP 0</span>
<span class="line-removed"> 983 #endif</span>
<span class="line-removed"> 984 </span>
<span class="line-removed"> 985 /* Configure the interpreter */</span>
<span class="line-removed"> 986 #if COMPILER(GCC_COMPATIBLE)</span>
<span class="line-removed"> 987 #define HAVE_COMPUTED_GOTO 1</span>
<span class="line-removed"> 988 #endif</span>
<span class="line-removed"> 989 </span>
<span class="line-removed"> 990 /* Determine if we need to enable Computed Goto Opcodes or not: */</span>
<span class="line-removed"> 991 #if HAVE(COMPUTED_GOTO) || !ENABLE(C_LOOP)</span>
<span class="line-removed"> 992 #define ENABLE_COMPUTED_GOTO_OPCODES 1</span>
<span class="line-removed"> 993 #endif</span>
<span class="line-removed"> 994 </span>
<span class="line-removed"> 995 #if !defined(USE_LLINT_EMBEDDED_OPCODE_ID) &amp;&amp; !ENABLE(C_LOOP) &amp;&amp; !COMPILER(MSVC) &amp;&amp; \</span>
<span class="line-removed"> 996     (CPU(X86) || CPU(X86_64) || CPU(ARM64) || (CPU(ARM_THUMB2) &amp;&amp; OS(DARWIN)))</span>
<span class="line-removed"> 997 /* This feature works by embedding the OpcodeID in the 32 bit just before the generated LLint code</span>
<span class="line-removed"> 998    that executes each opcode. It cannot be supported by the CLoop since there&#39;s no way to embed the</span>
<span class="line-removed"> 999    OpcodeID word in the CLoop&#39;s switch statement cases. It is also currently not implemented for MSVC.</span>
<span class="line-removed">1000 */</span>
<span class="line-removed">1001 #define USE_LLINT_EMBEDDED_OPCODE_ID 1</span>
<span class="line-removed">1002 #endif</span>
<span class="line-removed">1003 </span>
<span class="line-removed">1004 /* Regular Expression Tracing - Set to 1 to trace RegExp&#39;s in jsc.  Results dumped at exit */</span>
<span class="line-removed">1005 #define ENABLE_REGEXP_TRACING 0</span>
<span class="line-removed">1006 </span>
<span class="line-removed">1007 /* Yet Another Regex Runtime - turned on by default for JIT enabled ports. */</span>
<span class="line-removed">1008 #if !defined(ENABLE_YARR_JIT) &amp;&amp; ENABLE(JIT)</span>
<span class="line-removed">1009 #define ENABLE_YARR_JIT 1</span>
<span class="line-removed">1010 </span>
<span class="line-removed">1011 /* Setting this flag compares JIT results with interpreter results. */</span>
<span class="line-removed">1012 #define ENABLE_YARR_JIT_DEBUG 0</span>
<span class="line-removed">1013 #endif</span>
<span class="line-removed">1014 </span>
<span class="line-removed">1015 #if ENABLE(YARR_JIT)</span>
<span class="line-removed">1016 #if CPU(ARM64) || (CPU(X86_64) &amp;&amp; !OS(WINDOWS))</span>
<span class="line-removed">1017 /* Enable JIT&#39;ing Regular Expressions that have nested parenthesis and back references. */</span>
<span class="line-removed">1018 #define ENABLE_YARR_JIT_ALL_PARENS_EXPRESSIONS 1</span>
<span class="line-removed">1019 #define ENABLE_YARR_JIT_BACKREFERENCES 1</span>
<span class="line-removed">1020 #endif</span>
<span class="line-removed">1021 #endif</span>
<span class="line-removed">1022 </span>
<span class="line-removed">1023 /* If either the JIT or the RegExp JIT is enabled, then the Assembler must be</span>
<span class="line-removed">1024    enabled as well: */</span>
<span class="line-removed">1025 #if ENABLE(JIT) || ENABLE(YARR_JIT) || !ENABLE(C_LOOP)</span>
<span class="line-removed">1026 #if defined(ENABLE_ASSEMBLER) &amp;&amp; !ENABLE_ASSEMBLER</span>
<span class="line-removed">1027 #error &quot;Cannot enable the JIT or RegExp JIT without enabling the Assembler&quot;</span>
<span class="line-removed">1028 #else</span>
<span class="line-removed">1029 #undef ENABLE_ASSEMBLER</span>
<span class="line-removed">1030 #define ENABLE_ASSEMBLER 1</span>
<span class="line-removed">1031 #endif</span>
<span class="line-removed">1032 #endif</span>
<span class="line-removed">1033 </span>
<span class="line-removed">1034 /* If the Disassembler is enabled, then the Assembler must be enabled as well: */</span>
<span class="line-removed">1035 #if ENABLE(DISASSEMBLER)</span>
<span class="line-removed">1036 #if defined(ENABLE_ASSEMBLER) &amp;&amp; !ENABLE_ASSEMBLER</span>
<span class="line-removed">1037 #error &quot;Cannot enable the Disassembler without enabling the Assembler&quot;</span>
<span class="line-removed">1038 #else</span>
<span class="line-removed">1039 #undef ENABLE_ASSEMBLER</span>
<span class="line-removed">1040 #define ENABLE_ASSEMBLER 1</span>
<span class="line-removed">1041 #endif</span>
<span class="line-removed">1042 #endif</span>
<span class="line-removed">1043 </span>
<span class="line-removed">1044 #ifndef ENABLE_EXCEPTION_SCOPE_VERIFICATION</span>
<span class="line-removed">1045 #ifdef NDEBUG</span>
<span class="line-removed">1046 #define ENABLE_EXCEPTION_SCOPE_VERIFICATION 0</span>
<span class="line-removed">1047 #else</span>
<span class="line-removed">1048 #define ENABLE_EXCEPTION_SCOPE_VERIFICATION 1</span>
<span class="line-removed">1049 #endif</span>
<span class="line-removed">1050 #endif</span>
<span class="line-removed">1051 </span>
<span class="line-removed">1052 #if ENABLE(DFG_JIT) &amp;&amp; HAVE(MACHINE_CONTEXT) &amp;&amp; (CPU(X86) || CPU(X86_64) || CPU(ARM64))</span>
<span class="line-removed">1053 #define ENABLE_SIGNAL_BASED_VM_TRAPS 1</span>
<span class="line-removed">1054 #endif</span>
<span class="line-removed">1055 </span>
<span class="line-removed">1056 /* CSS Selector JIT Compiler */</span>
<span class="line-removed">1057 #if !defined(ENABLE_CSS_SELECTOR_JIT)</span>
<span class="line-removed">1058 #if (CPU(X86_64) || CPU(ARM64) || (CPU(ARM_THUMB2) &amp;&amp; PLATFORM(IOS_FAMILY))) &amp;&amp; ENABLE(JIT) &amp;&amp; (OS(DARWIN) || PLATFORM(GTK) || PLATFORM(WPE))</span>
<span class="line-removed">1059 #define ENABLE_CSS_SELECTOR_JIT 1</span>
<span class="line-removed">1060 #else</span>
<span class="line-removed">1061 #define ENABLE_CSS_SELECTOR_JIT 0</span>
<span class="line-removed">1062 #endif</span>
<span class="line-removed">1063 #endif</span>
<span class="line-removed">1064 </span>
<span class="line-removed">1065 #if CPU(ARM64E) &amp;&amp; OS(DARWIN)</span>
<span class="line-removed">1066 #define HAVE_FJCVTZS_INSTRUCTION 1</span>
<span class="line-removed">1067 #endif</span>
<span class="line-removed">1068 </span>
<span class="line-removed">1069 #if PLATFORM(IOS)</span>
<span class="line-removed">1070 #define HAVE_APP_LINKS 1</span>
<span class="line-removed">1071 #define USE_PASSKIT 1</span>
<span class="line-removed">1072 #define USE_QUICK_LOOK 1</span>
<span class="line-removed">1073 #define USE_SYSTEM_PREVIEW 1</span>
<span class="line-removed">1074 #endif</span>
<span class="line-removed">1075 </span>
<span class="line-removed">1076 #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(MACCATALYST)</span>
<span class="line-removed">1077 #define HAVE_CELESTIAL 1</span>
<span class="line-removed">1078 #define HAVE_CORE_ANIMATION_RENDER_SERVER 1</span>
<span class="line-removed">1079 #endif</span>
<span class="line-removed">1080 </span>
<span class="line-removed">1081 #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(MACCATALYST) &amp;&amp; !PLATFORM(APPLETV)</span>
<span class="line-removed">1082 #define HAVE_PARENTAL_CONTROLS_WITH_UNBLOCK_HANDLER 1</span>
<span class="line-removed">1083 #endif</span>
<span class="line-removed">1084 </span>
<span class="line-removed">1085 #if PLATFORM(COCOA)</span>
<span class="line-removed">1086 </span>
<span class="line-removed">1087 #define USE_AVFOUNDATION 1</span>
<span class="line-removed">1088 #define USE_PROTECTION_SPACE_AUTH_CALLBACK 1</span>
<span class="line-removed">1089 </span>
<span class="line-removed">1090 #if !PLATFORM(WATCHOS) &amp;&amp; !PLATFORM(APPLETV) &amp;&amp; !PLATFORM(MACCATALYST)</span>
<span class="line-removed">1091 #define ENABLE_DATA_DETECTION 1</span>
<span class="line-removed">1092 #endif</span>
<span class="line-removed">1093 </span>
<span class="line-removed">1094 /* FIXME: Enable HAVE_PARENTAL_CONTROLS for watchOS Simulator once rdar://problem/54608386 is resolved */</span>
<span class="line-removed">1095 #if !PLATFORM(APPLETV) &amp;&amp; (!PLATFORM(WATCHOS) || !PLATFORM(IOS_FAMILY_SIMULATOR))</span>
<span class="line-removed">1096 #define HAVE_PARENTAL_CONTROLS 1</span>
<span class="line-removed">1097 #endif</span>
<span class="line-removed">1098 </span>
<span class="line-removed">1099 #if !PLATFORM(APPLETV)</span>
<span class="line-removed">1100 #define HAVE_AVKIT 1</span>
<span class="line-removed">1101 #endif</span>
<span class="line-removed">1102 </span>
<span class="line-removed">1103 #if ENABLE(WEBGL)</span>
<span class="line-removed">1104 /* USE_ANGLE=1 uses ANGLE for the WebGL backend.</span>
<span class="line-removed">1105    It replaces USE_OPENGL, USE_OPENGL_ES and USE_EGL. */</span>
<span class="line-removed">1106 #if PLATFORM(MAC)</span>
<span class="line-removed">1107 #define USE_OPENGL 1</span>
<span class="line-removed">1108 #define USE_OPENGL_ES 0</span>
<span class="line-removed">1109 #define USE_ANGLE 0</span>
<span class="line-removed">1110 #elif PLATFORM(MACCATALYST) &amp;&amp; __has_include(&lt;OpenGL/OpenGL.h&gt;)</span>
<span class="line-removed">1111 #define USE_OPENGL 1</span>
<span class="line-removed">1112 #define USE_OPENGL_ES 0</span>
<span class="line-removed">1113 #define USE_ANGLE 0</span>
<span class="line-removed">1114 #else</span>
<span class="line-removed">1115 #define USE_OPENGL 0</span>
<span class="line-removed">1116 #define USE_OPENGL_ES 1</span>
<span class="line-removed">1117 #define USE_ANGLE 0</span>
<span class="line-removed">1118 #endif</span>
<span class="line-removed">1119 #if PLATFORM(COCOA)</span>
<span class="line-removed">1120 #ifndef GL_SILENCE_DEPRECATION</span>
<span class="line-removed">1121 #define GL_SILENCE_DEPRECATION 1</span>
<span class="line-removed">1122 #endif</span>
<span class="line-removed">1123 #endif</span>
<span class="line-removed">1124 #endif</span>
<span class="line-removed">1125 </span>
<span class="line-removed">1126 #define USE_METAL 1</span>
<span class="line-removed">1127 </span>
<span class="line-removed">1128 #if ENABLE(ACCESSIBILITY)</span>
1129 #define USE_ACCESSIBILITY_CONTEXT_MENUS 1
1130 #endif
<a name="47" id="anc47"></a><span class="line-removed">1131 </span>
<span class="line-removed">1132 #endif</span>
<span class="line-removed">1133 </span>
<span class="line-removed">1134 #if ENABLE(WEBGL) &amp;&amp; PLATFORM(WIN)</span>
<span class="line-removed">1135 #define USE_OPENGL 1</span>
<span class="line-removed">1136 #define USE_OPENGL_ES 1</span>
<span class="line-removed">1137 #define USE_EGL 1</span>
<span class="line-removed">1138 #endif</span>
<span class="line-removed">1139 </span>
<span class="line-removed">1140 #if ENABLE(WEBGL)</span>
<span class="line-removed">1141 #if !defined(USE_ANGLE)</span>
<span class="line-removed">1142 #define USE_ANGLE 0</span>
<span class="line-removed">1143 #endif</span>
<span class="line-removed">1144 </span>
<span class="line-removed">1145 #if (USE_ANGLE &amp;&amp; (USE_OPENGL || USE_OPENGL_ES || (defined(USE_EGL) &amp;&amp; USE_EGL)))</span>
<span class="line-removed">1146 #error USE_ANGLE is incompatible with USE_OPENGL, USE_OPENGL_ES and USE_EGL</span>
<span class="line-removed">1147 #endif</span>
<span class="line-removed">1148 #endif</span>
<span class="line-removed">1149 </span>
<span class="line-removed">1150 #if USE(TEXTURE_MAPPER) &amp;&amp; ENABLE(GRAPHICS_CONTEXT_3D) &amp;&amp; !defined(USE_TEXTURE_MAPPER_GL)</span>
<span class="line-removed">1151 #define USE_TEXTURE_MAPPER_GL 1</span>
<span class="line-removed">1152 #endif</span>
<span class="line-removed">1153 </span>
<span class="line-removed">1154 #if CPU(ARM_THUMB2) || CPU(ARM64)</span>
<span class="line-removed">1155 #define ENABLE_BRANCH_COMPACTION 1</span>
<span class="line-removed">1156 #endif</span>
<span class="line-removed">1157 </span>
<span class="line-removed">1158 #if !defined(ENABLE_THREADING_LIBDISPATCH) &amp;&amp; HAVE(DISPATCH_H)</span>
<span class="line-removed">1159 #define ENABLE_THREADING_LIBDISPATCH 1</span>
<span class="line-removed">1160 #elif !defined(ENABLE_THREADING_OPENMP) &amp;&amp; defined(_OPENMP)</span>
<span class="line-removed">1161 #define ENABLE_THREADING_OPENMP 1</span>
<span class="line-removed">1162 #elif !defined(THREADING_GENERIC)</span>
<span class="line-removed">1163 #define ENABLE_THREADING_GENERIC 1</span>
<span class="line-removed">1164 #endif</span>
<span class="line-removed">1165 </span>
<span class="line-removed">1166 #if USE(GLIB)</span>
<span class="line-removed">1167 #include &lt;wtf/glib/GTypedefs.h&gt;</span>
<span class="line-removed">1168 #endif</span>
<span class="line-removed">1169 </span>
<span class="line-removed">1170 #if !defined(USE_EXPORT_MACROS) &amp;&amp; (PLATFORM(COCOA) || OS(WINDOWS))</span>
<span class="line-removed">1171 #define USE_EXPORT_MACROS 1</span>
<span class="line-removed">1172 #endif</span>
<span class="line-removed">1173 </span>
<span class="line-removed">1174 #if PLATFORM(GTK) || PLATFORM(WPE)</span>
<span class="line-removed">1175 #define USE_UNIX_DOMAIN_SOCKETS 1</span>
<span class="line-removed">1176 #endif</span>
<span class="line-removed">1177 </span>
<span class="line-removed">1178 #if !defined(USE_IMLANG_FONT_LINK2)</span>
<span class="line-removed">1179 #define USE_IMLANG_FONT_LINK2 1</span>
<span class="line-removed">1180 #endif</span>
<span class="line-removed">1181 </span>
<span class="line-removed">1182 #if !defined(ENABLE_GC_VALIDATION) &amp;&amp; !defined(NDEBUG)</span>
<span class="line-removed">1183 #define ENABLE_GC_VALIDATION 1</span>
<span class="line-removed">1184 #endif</span>
<span class="line-removed">1185 </span>
<span class="line-removed">1186 #if !defined(ENABLE_BINDING_INTEGRITY) &amp;&amp; !OS(WINDOWS)</span>
<span class="line-removed">1187 #define ENABLE_BINDING_INTEGRITY 1</span>
<span class="line-removed">1188 #endif</span>
<span class="line-removed">1189 </span>
<span class="line-removed">1190 #if !defined(ENABLE_TREE_DEBUGGING)</span>
<span class="line-removed">1191 #if !defined(NDEBUG)</span>
<span class="line-removed">1192 #define ENABLE_TREE_DEBUGGING 1</span>
<span class="line-removed">1193 #else</span>
<span class="line-removed">1194 #define ENABLE_TREE_DEBUGGING 0</span>
<span class="line-removed">1195 #endif</span>
<span class="line-removed">1196 #endif</span>
<span class="line-removed">1197 </span>
<span class="line-removed">1198 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)</span>
<span class="line-removed">1199 #define USE_COREMEDIA 1</span>
<span class="line-removed">1200 #define USE_VIDEOTOOLBOX 1</span>
<span class="line-removed">1201 #define HAVE_AVFOUNDATION_VIDEO_OUTPUT 1</span>
<span class="line-removed">1202 #define HAVE_CORE_VIDEO 1</span>
<span class="line-removed">1203 #define HAVE_MEDIA_PLAYER 1</span>
<span class="line-removed">1204 #endif</span>
<span class="line-removed">1205 </span>
<span class="line-removed">1206 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)</span>
<span class="line-removed">1207 #define HAVE_AVFOUNDATION_MEDIA_SELECTION_GROUP 1</span>
<span class="line-removed">1208 #endif</span>
<span class="line-removed">1209 </span>
<span class="line-removed">1210 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)</span>
<span class="line-removed">1211 #define HAVE_AVFOUNDATION_LEGIBLE_OUTPUT_SUPPORT 1</span>
<span class="line-removed">1212 #define HAVE_MEDIA_ACCESSIBILITY_FRAMEWORK 1</span>
<span class="line-removed">1213 #endif</span>
<span class="line-removed">1214 </span>
<span class="line-removed">1215 #if PLATFORM(IOS_FAMILY) || PLATFORM(MAC)</span>
<span class="line-removed">1216 #define HAVE_AVFOUNDATION_LOADER_DELEGATE 1</span>
<span class="line-removed">1217 #endif</span>
<span class="line-removed">1218 </span>
<span class="line-removed">1219 #if !PLATFORM(WIN) &amp;&amp; !PLATFORM(JAVA)</span>
<span class="line-removed">1220 #define USE_REQUEST_ANIMATION_FRAME_DISPLAY_MONITOR 1</span>
<span class="line-removed">1221 #endif</span>
<span class="line-removed">1222 </span>
<span class="line-removed">1223 #if PLATFORM(MAC) || PLATFORM(MACCATALYST)</span>
<span class="line-removed">1224 #define HAVE_APPLE_GRAPHICS_CONTROL 1</span>
<span class="line-removed">1225 #endif</span>
<span class="line-removed">1226 </span>
<span class="line-removed">1227 #if PLATFORM(MAC)</span>
<span class="line-removed">1228 #define USE_COREAUDIO 1</span>
<span class="line-removed">1229 #endif</span>
<span class="line-removed">1230 </span>
<span class="line-removed">1231 #if !defined(USE_ZLIB) &amp;&amp; !PLATFORM(JAVA)</span>
<span class="line-removed">1232 #define USE_ZLIB 1</span>
<span class="line-removed">1233 #endif</span>
<span class="line-removed">1234 </span>
<span class="line-removed">1235 #ifndef HAVE_QOS_CLASSES</span>
<span class="line-removed">1236 #if PLATFORM(COCOA)</span>
<span class="line-removed">1237 #define HAVE_QOS_CLASSES 1</span>
<span class="line-removed">1238 #endif</span>
<span class="line-removed">1239 #endif</span>
<span class="line-removed">1240 </span>
<span class="line-removed">1241 #ifndef HAVE_VOUCHERS</span>
<span class="line-removed">1242 #if PLATFORM(COCOA)</span>
<span class="line-removed">1243 #define HAVE_VOUCHERS 1</span>
<span class="line-removed">1244 #endif</span>
<span class="line-removed">1245 #endif</span>
<span class="line-removed">1246 </span>
<span class="line-removed">1247 #define USE_GRAMMAR_CHECKING 1</span>
<span class="line-removed">1248 </span>
<span class="line-removed">1249 #if PLATFORM(COCOA) || PLATFORM(GTK)</span>
<span class="line-removed">1250 #define USE_UNIFIED_TEXT_CHECKING 1</span>
<span class="line-removed">1251 #endif</span>
<span class="line-removed">1252 #if PLATFORM(MAC)</span>
<span class="line-removed">1253 #define USE_AUTOMATIC_TEXT_REPLACEMENT 1</span>
<span class="line-removed">1254 #endif</span>
<span class="line-removed">1255 </span>
<span class="line-removed">1256 #if PLATFORM(MAC)</span>
<span class="line-removed">1257 /* Some platforms provide UI for suggesting autocorrection. */</span>
<span class="line-removed">1258 #define USE_AUTOCORRECTION_PANEL 1</span>
<span class="line-removed">1259 #endif</span>
<span class="line-removed">1260 </span>
<span class="line-removed">1261 #if PLATFORM(COCOA)</span>
<span class="line-removed">1262 /* Some platforms use spelling and autocorrection markers to provide visual cue. On such platform, if word with marker is edited, we need to remove the marker. */</span>
<span class="line-removed">1263 #define USE_MARKER_REMOVAL_UPON_EDITING 1</span>
<span class="line-removed">1264 #endif</span>
<span class="line-removed">1265 </span>
<span class="line-removed">1266 #if PLATFORM(MAC)</span>
<span class="line-removed">1267 #define USE_INSERTION_UNDO_GROUPING 1</span>
<span class="line-removed">1268 #endif</span>
<span class="line-removed">1269 </span>
<span class="line-removed">1270 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
<span class="line-removed">1271 #define HAVE_AVASSETREADER 1</span>
<span class="line-removed">1272 #endif</span>
<span class="line-removed">1273 </span>
<span class="line-removed">1274 #if PLATFORM(COCOA)</span>
<span class="line-removed">1275 #define HAVE_TIMINGDATAOPTIONS 1</span>
<span class="line-removed">1276 #endif</span>
<span class="line-removed">1277 </span>
<span class="line-removed">1278 #if PLATFORM(COCOA)</span>
<span class="line-removed">1279 #define USE_AUDIO_SESSION 1</span>
<span class="line-removed">1280 #endif</span>
<span class="line-removed">1281 </span>
<span class="line-removed">1282 #if PLATFORM(COCOA) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR)</span>
<span class="line-removed">1283 #define HAVE_IOSURFACE 1</span>
<span class="line-removed">1284 #endif</span>
<span class="line-removed">1285 </span>
<span class="line-removed">1286 #if PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR) &amp;&amp; !PLATFORM(MACCATALYST)</span>
<span class="line-removed">1287 #define HAVE_IOSURFACE_ACCELERATOR 1</span>
<span class="line-removed">1288 #endif</span>
<span class="line-removed">1289 </span>
<span class="line-removed">1290 #if PLATFORM(COCOA)</span>
<span class="line-removed">1291 #define ENABLE_RESOURCE_USAGE 1</span>
<span class="line-removed">1292 #endif</span>
<span class="line-removed">1293 </span>
<span class="line-removed">1294 #if PLATFORM(GTK) || PLATFORM(WPE)</span>
<span class="line-removed">1295 #undef ENABLE_OPENTYPE_VERTICAL</span>
<span class="line-removed">1296 #define ENABLE_OPENTYPE_VERTICAL 1</span>
<span class="line-removed">1297 #endif</span>
<span class="line-removed">1298 </span>
<span class="line-removed">1299 #if COMPILER(MSVC)</span>
<span class="line-removed">1300 #undef __STDC_FORMAT_MACROS</span>
<span class="line-removed">1301 #define __STDC_FORMAT_MACROS</span>
<span class="line-removed">1302 #undef __STDC_LIMIT_MACROS</span>
<span class="line-removed">1303 #define __STDC_LIMIT_MACROS</span>
<span class="line-removed">1304 #endif</span>
<span class="line-removed">1305 </span>
<span class="line-removed">1306 #if PLATFORM(MAC)</span>
<span class="line-removed">1307 #define HAVE_NS_ACTIVITY 1</span>
<span class="line-removed">1308 #endif</span>
<span class="line-removed">1309 </span>
<span class="line-removed">1310 /* Disable SharedArrayBuffers until Spectre security concerns are mitigated. */</span>
<span class="line-removed">1311 #define ENABLE_SHARED_ARRAY_BUFFER 0</span>
<span class="line-removed">1312 </span>
<span class="line-removed">1313 #if (OS(DARWIN) &amp;&amp; USE(CG)) || (USE(FREETYPE) &amp;&amp; !PLATFORM(GTK)) || (PLATFORM(WIN) &amp;&amp; (USE(CG) || USE(CAIRO)))</span>
<span class="line-removed">1314 #undef ENABLE_OPENTYPE_MATH</span>
<span class="line-removed">1315 #define ENABLE_OPENTYPE_MATH 1</span>
<span class="line-removed">1316 #endif</span>
<span class="line-removed">1317 </span>
<span class="line-removed">1318 /* Set TARGET_OS_IPHONE to 0 by default to allow using it as a guard</span>
<span class="line-removed">1319  * in cross-platform the same way as it is used in OS(DARWIN) code. */</span>
<span class="line-removed">1320 #if !defined(TARGET_OS_IPHONE) &amp;&amp; !OS(DARWIN)</span>
<span class="line-removed">1321 #define TARGET_OS_IPHONE 0</span>
<span class="line-removed">1322 #endif</span>
<span class="line-removed">1323 </span>
<span class="line-removed">1324 #if PLATFORM(COCOA)</span>
<span class="line-removed">1325 #define USE_MEDIATOOLBOX 1</span>
<span class="line-removed">1326 #endif</span>
<span class="line-removed">1327 </span>
<span class="line-removed">1328 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
<span class="line-removed">1329 #define USE_OS_LOG 1</span>
<span class="line-removed">1330 #if USE(APPLE_INTERNAL_SDK)</span>
<span class="line-removed">1331 #define USE_OS_STATE 1</span>
<span class="line-removed">1332 #endif</span>
<span class="line-removed">1333 #endif</span>
<span class="line-removed">1334 </span>
<span class="line-removed">1335 #if PLATFORM(COCOA)</span>
<span class="line-removed">1336 #define HAVE_SEC_TRUST_SERIALIZATION 1</span>
<span class="line-removed">1337 #endif</span>
<span class="line-removed">1338 </span>
<span class="line-removed">1339 #if !defined(WTF_DEFAULT_EVENT_LOOP)</span>
<span class="line-removed">1340 #define WTF_DEFAULT_EVENT_LOOP 1</span>
<span class="line-removed">1341 #endif</span>
<span class="line-removed">1342 </span>
<span class="line-removed">1343 #if WTF_DEFAULT_EVENT_LOOP</span>
<span class="line-removed">1344 #if USE(GLIB)</span>
<span class="line-removed">1345 /* Use GLib&#39;s event loop abstraction. Primarily GTK port uses it. */</span>
<span class="line-removed">1346 #define USE_GLIB_EVENT_LOOP 1</span>
<span class="line-removed">1347 #elif OS(WINDOWS)</span>
<span class="line-removed">1348 /* Use Windows message pump abstraction.</span>
<span class="line-removed">1349  * Even if the port is AppleWin, we use the Windows message pump system for the event loop,</span>
<span class="line-removed">1350  * so that USE(WINDOWS_EVENT_LOOP) &amp;&amp; USE(CF) can be true.</span>
<span class="line-removed">1351  * And PLATFORM(WIN) and PLATFORM(GTK) are exclusive. If the port is GTK,</span>
<span class="line-removed">1352  * PLATFORM(WIN) should be false. And in that case, GLib&#39;s event loop is used.</span>
<span class="line-removed">1353  */</span>
<span class="line-removed">1354 #define USE_WINDOWS_EVENT_LOOP 1</span>
<span class="line-removed">1355 #elif PLATFORM(COCOA)</span>
<span class="line-removed">1356 /* OS X and IOS. Use CoreFoundation &amp; GCD abstraction. */</span>
<span class="line-removed">1357 #define USE_COCOA_EVENT_LOOP 1</span>
<span class="line-removed">1358 #else</span>
<span class="line-removed">1359 #define USE_GENERIC_EVENT_LOOP 1</span>
<span class="line-removed">1360 #endif</span>
<span class="line-removed">1361 #endif</span>
<span class="line-removed">1362 </span>
<span class="line-removed">1363 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
<span class="line-removed">1364 #define USE_MEDIAREMOTE 1</span>
<span class="line-removed">1365 #endif</span>
<span class="line-removed">1366 </span>
<span class="line-removed">1367 #if COMPILER(MSVC)</span>
<span class="line-removed">1368 /* Enable strict runtime stack buffer checks. */</span>
<span class="line-removed">1369 #pragma strict_gs_check(on)</span>
<span class="line-removed">1370 #endif</span>
<span class="line-removed">1371 </span>
<span class="line-removed">1372 #if PLATFORM(MAC)</span>
<span class="line-removed">1373 #define HAVE_TOUCH_BAR 1</span>
<span class="line-removed">1374 #define USE_DICTATION_ALTERNATIVES 1</span>
<span class="line-removed">1375 </span>
<span class="line-removed">1376 #if defined(__LP64__)</span>
<span class="line-removed">1377 #define ENABLE_WEB_PLAYBACK_CONTROLS_MANAGER 1</span>
<span class="line-removed">1378 #endif</span>
<span class="line-removed">1379 #endif /* PLATFORM(MAC) */</span>
<span class="line-removed">1380 </span>
<span class="line-removed">1381 #if PLATFORM(COCOA) &amp;&amp; ENABLE(WEB_RTC)</span>
<span class="line-removed">1382 #define USE_LIBWEBRTC 1</span>
<span class="line-removed">1383 #endif</span>
<span class="line-removed">1384 </span>
<span class="line-removed">1385 #if PLATFORM(MAC) || PLATFORM(IOS) || PLATFORM(MACCATALYST) || USE(GCRYPT)</span>
<span class="line-removed">1386 #define HAVE_RSA_PSS 1</span>
<span class="line-removed">1387 #endif</span>
<span class="line-removed">1388 </span>
<span class="line-removed">1389 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || PLATFORM(IOS_FAMILY)</span>
<span class="line-removed">1390 #define USE_SOURCE_APPLICATION_AUDIT_DATA 1</span>
<span class="line-removed">1391 #endif</span>
<span class="line-removed">1392 </span>
<span class="line-removed">1393 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-removed">1394 #define HAVE_HSTS_STORAGE_PATH 1</span>
<span class="line-removed">1395 #endif</span>
<span class="line-removed">1396 </span>
<span class="line-removed">1397 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS) || PLATFORM(MACCATALYST)</span>
<span class="line-removed">1398 #define HAVE_URL_FORMATTING 1</span>
<span class="line-removed">1399 #endif</span>
<span class="line-removed">1400 </span>
<span class="line-removed">1401 #if !OS(WINDOWS)</span>
<span class="line-removed">1402 #define HAVE_STACK_BOUNDS_FOR_NEW_THREAD 1</span>
<span class="line-removed">1403 #endif</span>
<span class="line-removed">1404 </span>
<span class="line-removed">1405 #if PLATFORM(MAC) || PLATFORM(IOS) || PLATFORM(MACCATALYST)</span>
<span class="line-removed">1406 #define HAVE_AVCONTENTKEYSESSION 1</span>
<span class="line-removed">1407 #endif</span>
<span class="line-removed">1408 </span>
<span class="line-removed">1409 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS) || PLATFORM(MACCATALYST)</span>
<span class="line-removed">1410 #define HAVE_SEC_KEY_PROXY 1</span>
<span class="line-removed">1411 #endif</span>
<span class="line-removed">1412 </span>
<span class="line-removed">1413 #if PLATFORM(COCOA) &amp;&amp; USE(CA) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR)</span>
<span class="line-removed">1414 #define USE_IOSURFACE_CANVAS_BACKING_STORE 1</span>
<span class="line-removed">1415 #endif</span>
<span class="line-removed">1416 </span>
<span class="line-removed">1417 /* FIXME: Should this be enabled or IOS_FAMILY, not just IOS? */</span>
<span class="line-removed">1418 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS)</span>
<span class="line-removed">1419 #define HAVE_FOUNDATION_WITH_SAVE_COOKIES_WITH_COMPLETION_HANDLER 1</span>
<span class="line-removed">1420 #endif</span>
<span class="line-removed">1421 </span>
<span class="line-removed">1422 /* FIXME: Should this be enabled for IOS_FAMILY, not just IOS? */</span>
<span class="line-removed">1423 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS)</span>
<span class="line-removed">1424 #define HAVE_FOUNDATION_WITH_SAME_SITE_COOKIE_SUPPORT 1</span>
<span class="line-removed">1425 #endif</span>
<span class="line-removed">1426 </span>
<span class="line-removed">1427 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &lt; 101400</span>
<span class="line-removed">1428 #define HAVE_NSHTTPCOOKIESTORAGE__INITWITHIDENTIFIER_WITH_INACCURATE_NULLABILITY 1</span>
<span class="line-removed">1429 #endif</span>
<span class="line-removed">1430 </span>
<span class="line-removed">1431 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
<span class="line-removed">1432 #define HAVE_CFNETWORK_WITH_CONTENT_ENCODING_SNIFFING_OVERRIDE 1</span>
<span class="line-removed">1433 /* The override isn&#39;t needed on iOS family, as the default behavior is to not sniff. */</span>
<span class="line-removed">1434 /* FIXME: This should probably be enabled on 10.13.2 and newer, not just 10.14 and newer. */</span>
<span class="line-removed">1435 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400</span>
<span class="line-removed">1436 #define USE_CFNETWORK_CONTENT_ENCODING_SNIFFING_OVERRIDE 1</span>
<span class="line-removed">1437 #endif</span>
<span class="line-removed">1438 #endif</span>
<span class="line-removed">1439 </span>
<span class="line-removed">1440 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
<span class="line-removed">1441 #define HAVE_CFNETWORK_WITH_IGNORE_HSTS 1</span>
<span class="line-removed">1442 #endif</span>
<span class="line-removed">1443 </span>
<span class="line-removed">1444 #if PLATFORM(MAC) || PLATFORM(IOS_FAMILY)</span>
<span class="line-removed">1445 #define HAVE_CFNETWORK_WITH_AUTO_ADDED_HTTP_HEADER_SUPPRESSION_SUPPORT 1</span>
<span class="line-removed">1446 /* FIXME: Does this work, and is this needed on other iOS family platforms? */</span>
<span class="line-removed">1447 #if PLATFORM(MAC) || PLATFORM(IOS)</span>
<span class="line-removed">1448 #define USE_CFNETWORK_AUTO_ADDED_HTTP_HEADER_SUPPRESSION 1</span>
<span class="line-removed">1449 #endif</span>
<span class="line-removed">1450 #endif</span>
<span class="line-removed">1451 </span>
<span class="line-removed">1452 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-removed">1453 #define HAVE_OS_DARK_MODE_SUPPORT 1</span>
<span class="line-removed">1454 #endif</span>
<span class="line-removed">1455 </span>
<span class="line-removed">1456 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400</span>
<span class="line-removed">1457 #define HAVE_CG_FONT_RENDERING_GET_FONT_SMOOTHING_DISABLED 1</span>
<span class="line-removed">1458 #endif</span>
<span class="line-removed">1459 </span>
<span class="line-removed">1460 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-removed">1461 #define HAVE_CA_WHERE_ADDITIVE_TRANSFORMS_ARE_REVERSED 1</span>
<span class="line-removed">1462 #endif</span>
<span class="line-removed">1463 </span>
<span class="line-removed">1464 #ifdef __APPLE__</span>
<span class="line-removed">1465 #define HAVE_FUNC_USLEEP 1</span>
<span class="line-removed">1466 #endif</span>
<span class="line-removed">1467 </span>
<span class="line-removed">1468 #if PLATFORM(MAC) || PLATFORM(WPE)</span>
<span class="line-removed">1469 /* FIXME: This really needs a descriptive name, this &quot;new theme&quot; was added in 2008. */</span>
<span class="line-removed">1470 #define USE_NEW_THEME 1</span>
<span class="line-removed">1471 #endif</span>
<span class="line-removed">1472 </span>
<span class="line-removed">1473 #if PLATFORM(MAC)</span>
<span class="line-removed">1474 #define HAVE_WINDOW_SERVER_OCCLUSION_NOTIFICATIONS 1</span>
<span class="line-removed">1475 #endif</span>
<span class="line-removed">1476 </span>
<span class="line-removed">1477 #if PLATFORM(COCOA)</span>
<span class="line-removed">1478 #define HAVE_SEC_ACCESS_CONTROL 1</span>
<span class="line-removed">1479 #endif</span>
<span class="line-removed">1480 </span>
<span class="line-removed">1481 #if PLATFORM(IOS)</span>
<span class="line-removed">1482 /* FIXME: SafariServices.framework exists on macOS. It is only used by WebKit on iOS, so the behavior is correct, but the name is misleading. */</span>
<span class="line-removed">1483 #define HAVE_SAFARI_SERVICES_FRAMEWORK 1</span>
<span class="line-removed">1484 #endif</span>
<span class="line-removed">1485 </span>
<span class="line-removed">1486 #if (PLATFORM(MAC) &amp;&amp; !defined(__i386__)) || PLATFORM(IOS) || PLATFORM(WATCHOS)</span>
<span class="line-removed">1487 #define HAVE_SAFE_BROWSING 1</span>
<span class="line-removed">1488 #endif</span>
<span class="line-removed">1489 </span>
<span class="line-removed">1490 #if PLATFORM(IOS)</span>
<span class="line-removed">1491 #define HAVE_LINK_PREVIEW 1</span>
<span class="line-removed">1492 #endif</span>
<span class="line-removed">1493 </span>
<span class="line-removed">1494 #if PLATFORM(COCOA)</span>
<span class="line-removed">1495 /* FIXME: This is a USE style macro, as it triggers the use of CFURLConnection framework stubs. */</span>
<span class="line-removed">1496 /* FIXME: Is this still necessary? CFURLConnection isn&#39;t used on Cocoa platforms any more. */</span>
<span class="line-removed">1497 #define ENABLE_SEC_ITEM_SHIM 1</span>
<span class="line-removed">1498 #endif</span>
<span class="line-removed">1499 </span>
<span class="line-removed">1500 #if (PLATFORM(IOS_FAMILY) || (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400))</span>
<span class="line-removed">1501 #define HAVE_ACCESSIBILITY_SUPPORT 1</span>
<span class="line-removed">1502 #endif</span>
<span class="line-removed">1503 </span>
<span class="line-removed">1504 #if PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000</span>
<span class="line-removed">1505 #define HAVE_ACCESSIBILITY_BUNDLES_PATH 1</span>
<span class="line-removed">1506 #endif</span>
<span class="line-removed">1507 </span>
<span class="line-removed">1508 #if PLATFORM(MAC)</span>
<span class="line-removed">1509 #define ENABLE_FULL_KEYBOARD_ACCESS 1</span>
<span class="line-removed">1510 #endif</span>
<span class="line-removed">1511 </span>
<span class="line-removed">1512 #if (PLATFORM(COCOA) &amp;&amp; ENABLE(ASYNC_SCROLLING)) || PLATFORM(GTK)</span>
<span class="line-removed">1513 #define ENABLE_KINETIC_SCROLLING 1</span>
<span class="line-removed">1514 #endif</span>
<span class="line-removed">1515 </span>
<span class="line-removed">1516 #if PLATFORM(IOS_FAMILY) || (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400)</span>
<span class="line-removed">1517 #define HAVE_AUTHORIZATION_STATUS_FOR_MEDIA_TYPE 1</span>
<span class="line-removed">1518 #endif</span>
<span class="line-removed">1519 </span>
<span class="line-removed">1520 #if (PLATFORM(MAC) &amp;&amp; (__MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400 &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &gt;= 101404)) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 120000 &amp;&amp; __IPHONE_OS_VERSION_MAX_ALLOWED &gt;= 120200) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-removed">1521 #define HAVE_CFNETWORK_OVERRIDE_SESSION_COOKIE_ACCEPT_POLICY 1</span>
<span class="line-removed">1522 #endif</span>
<span class="line-removed">1523 </span>
<span class="line-removed">1524 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-removed">1525 #define HAVE_CFNETWORK_NSURLSESSION_STRICTRUSTEVALUATE 1</span>
<span class="line-removed">1526 #endif</span>
<span class="line-removed">1527 </span>
<span class="line-removed">1528 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-removed">1529 #define HAVE_CFNETWORK_NEGOTIATED_SSL_PROTOCOL_CIPHER 1</span>
<span class="line-removed">1530 #endif</span>
<span class="line-removed">1531 </span>
<span class="line-removed">1532 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500</span>
<span class="line-removed">1533 #define HAVE_CSCHECKFIXDISABLE 1</span>
<span class="line-removed">1534 #endif</span>
<span class="line-removed">1535 </span>
<span class="line-removed">1536 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-removed">1537 #define HAVE_SANDBOX_ISSUE_MACH_EXTENSION_TO_PROCESS_BY_PID 1</span>
<span class="line-removed">1538 #endif</span>
<span class="line-removed">1539 </span>
<span class="line-removed">1540 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500)</span>
<span class="line-removed">1541 #define HAVE_SANDBOX_ISSUE_READ_EXTENSION_TO_PROCESS_BY_PID 1</span>
<span class="line-removed">1542 #endif</span>
<span class="line-removed">1543 </span>
<span class="line-removed">1544 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-removed">1545 #define HAVE_MDNS_FAST_REGISTRATION 1</span>
<span class="line-removed">1546 #endif</span>
<span class="line-removed">1547 </span>
<span class="line-removed">1548 #if PLATFORM(MAC)</span>
<span class="line-removed">1549 #define ENABLE_MONOSPACE_FONT_EXCEPTION (__MAC_OS_X_VERSION_MIN_REQUIRED &lt; 101500)</span>
<span class="line-removed">1550 #elif PLATFORM(IOS_FAMILY)</span>
<span class="line-removed">1551 #define ENABLE_MONOSPACE_FONT_EXCEPTION (__IPHONE_OS_VERSION_MIN_REQUIRED &lt; 130000)</span>
<span class="line-removed">1552 #endif</span>
<span class="line-removed">1553 </span>
<span class="line-removed">1554 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || PLATFORM(IOS_FAMILY)</span>
<span class="line-removed">1555 #define HAVE_DISALLOWABLE_USER_INSTALLED_FONTS 1</span>
<span class="line-removed">1556 #endif</span>
<span class="line-removed">1557 </span>
<span class="line-removed">1558 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-removed">1559 #define HAVE_CTFONTCREATEFORCHARACTERSWITHLANGUAGEANDOPTION 1</span>
<span class="line-removed">1560 #endif</span>
<span class="line-removed">1561 </span>
<span class="line-removed">1562 #if PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000</span>
<span class="line-removed">1563 #define HAVE_ARKIT_QUICK_LOOK_PREVIEW_ITEM 1</span>
<span class="line-removed">1564 #endif</span>
<span class="line-removed">1565 </span>
<span class="line-removed">1566 #if PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000</span>
<span class="line-removed">1567 #define HAVE_UI_WK_DOCUMENT_CONTEXT 1</span>
<span class="line-removed">1568 #endif</span>
<span class="line-removed">1569 </span>
<span class="line-removed">1570 #if PLATFORM(MACCATALYST)</span>
<span class="line-removed">1571 #define ENABLE_PLATFORM_DRIVEN_TEXT_CHECKING 1</span>
<span class="line-removed">1572 #endif</span>
<span class="line-removed">1573 </span>
<span class="line-removed">1574 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-removed">1575 #define HAVE_ALLOWS_SENSITIVE_LOGGING 1</span>
<span class="line-removed">1576 #define HAVE_FAIRPLAYSTREAMING_CENC_INITDATA 1</span>
<span class="line-removed">1577 #endif</span>
<span class="line-removed">1578 </span>
<span class="line-removed">1579 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-removed">1580 #define HAVE_UI_SCROLL_VIEW_INDICATOR_FLASHING_SPI 1</span>
<span class="line-removed">1581 #endif</span>
<span class="line-removed">1582 </span>
<span class="line-removed">1583 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-removed">1584 #define HAVE_APP_LINKS_WITH_ISENABLED 1</span>
<span class="line-removed">1585 #endif</span>
<span class="line-removed">1586 </span>
<span class="line-removed">1587 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-removed">1588 #define HAVE_ROUTE_SHARING_POLICY_LONG_FORM_VIDEO 1</span>
<span class="line-removed">1589 #endif</span>
<span class="line-removed">1590 </span>
<span class="line-removed">1591 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 120000 &amp;&amp; !PLATFORM(IOS_SIMULATOR))</span>
<span class="line-removed">1592 #define HAVE_DEVICE_MANAGEMENT 1</span>
<span class="line-removed">1593 #endif</span>
<span class="line-removed">1594 </span>
<span class="line-removed">1595 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MAX_ALLOWED &lt; 101500</span>
<span class="line-removed">1596 #define USE_REALPATH_FOR_DLOPEN_PREFLIGHT 1</span>
<span class="line-removed">1597 #endif</span>
<span class="line-removed">1598 </span>
<span class="line-removed">1599 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-removed">1600 #define HAVE_NSURLSESSION_WEBSOCKET 1</span>
<span class="line-removed">1601 #endif</span>
<span class="line-removed">1602 </span>
<span class="line-removed">1603 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-removed">1604 #define HAVE_AVPLAYER_RESOURCE_CONSERVATION_LEVEL 1</span>
<span class="line-removed">1605 #endif</span>
<span class="line-removed">1606 </span>
<span class="line-removed">1607 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 120000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-removed">1608 #define HAVE_CORETEXT_AUTO_OPTICAL_SIZING 1</span>
<span class="line-removed">1609 #endif</span>
<span class="line-removed">1610 </span>
<span class="line-removed">1611 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000 || PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500)</span>
<span class="line-removed">1612 #define HAVE_APP_SSO 1</span>
<span class="line-removed">1613 #endif</span>
<span class="line-removed">1614 </span>
<span class="line-removed">1615 #if (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000 || PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500)</span>
<span class="line-removed">1616 #define HAVE_TLS_PROTOCOL_VERSION_T 1</span>
<span class="line-removed">1617 #endif</span>
<span class="line-removed">1618 </span>
<span class="line-removed">1619 #if PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000</span>
<span class="line-removed">1620 #define USE_UICONTEXTMENU 1</span>
<span class="line-removed">1621 #endif</span>
<span class="line-removed">1622 </span>
<span class="line-removed">1623 #if PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500</span>
<span class="line-removed">1624 #define HAVE_SUBVIEWS_IVAR_SPI 1</span>
<span class="line-removed">1625 #endif</span>
<span class="line-removed">1626 </span>
<span class="line-removed">1627 #if PLATFORM(MAC) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 110000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-removed">1628 #define USE_PLATFORM_SYSTEM_FALLBACK_LIST 1</span>
<span class="line-removed">1629 #endif</span>
<span class="line-removed">1630 </span>
<span class="line-removed">1631 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-removed">1632 #define HAVE_DESIGN_SYSTEM_UI_FONTS 1</span>
<span class="line-removed">1633 #endif</span>
<span class="line-removed">1634 </span>
<span class="line-removed">1635 #if (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000) || PLATFORM(WATCHOS) || PLATFORM(APPLETV)</span>
<span class="line-removed">1636 #define USE_HIRAGINO_SANS_WORKAROUND 1</span>
<span class="line-removed">1637 #endif</span>
<span class="line-removed">1638 </span>
<span class="line-removed">1639 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101400) || (PLATFORM(IOS) &amp;&amp; !PLATFORM(IOS_SIMULATOR))</span>
<span class="line-removed">1640 #define HAVE_DEVICE_IDENTITY 1</span>
<span class="line-removed">1641 #endif</span>
<span class="line-removed">1642 </span>
<span class="line-removed">1643 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-removed">1644 #define HAVE_DATA_PROTECTION_KEYCHAIN 1</span>
<span class="line-removed">1645 #endif</span>
<span class="line-removed">1646 </span>
<span class="line-removed">1647 #if (PLATFORM(MAC) &amp;&amp; __MAC_OS_X_VERSION_MIN_REQUIRED &gt;= 101500) || (PLATFORM(IOS_FAMILY) &amp;&amp; !PLATFORM(IOS_FAMILY_SIMULATOR) &amp;&amp; __IPHONE_OS_VERSION_MIN_REQUIRED &gt;= 130000)</span>
<span class="line-removed">1648 #define HAVE_NEAR_FIELD 1</span>
<span class="line-removed">1649 #endif</span>
<a name="48" id="anc48"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="48" type="hidden" />
</body>
</html>