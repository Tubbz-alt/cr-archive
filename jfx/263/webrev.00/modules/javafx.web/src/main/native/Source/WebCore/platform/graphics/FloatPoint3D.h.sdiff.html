<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/FloatPoint3D.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="FloatPoint.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="FloatPolygon.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/FloatPoint3D.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  8     modify it under the terms of the GNU Library General Public
  9     License as published by the Free Software Foundation; either
 10     version 2 of the License, or (at your option) any later version.
 11 
 12     This library is distributed in the hope that it will be useful,
 13     but WITHOUT ANY WARRANTY; without even the implied warranty of
 14     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 15     Library General Public License for more details.
 16 
 17     You should have received a copy of the GNU Library General Public License
 18     aint with this library; see the file COPYING.LIB.  If not, write to
 19     the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 20     Boston, MA 02110-1301, USA.
 21 */
 22 
 23 #ifndef FloatPoint3D_h
 24 #define FloatPoint3D_h
 25 
 26 #include &quot;FloatPoint.h&quot;
 27 




 28 namespace WebCore {
 29 
 30 class FloatPoint3D {
 31 public:
 32     FloatPoint3D()
 33         : m_x(0)
 34         , m_y(0)
 35         , m_z(0)
 36     {
 37     }
 38 
 39     FloatPoint3D(float x, float y, float z)
 40         : m_x(x)
 41         , m_y(y)
 42         , m_z(z)
 43     {
 44     }
 45 
 46     FloatPoint3D(const FloatPoint&amp; p)
 47         : m_x(p.x())
</pre>
<hr />
<pre>
102     void cross(const FloatPoint3D&amp; a, const FloatPoint3D&amp; b)
103     {
104         float x = a.y() * b.z() - a.z() * b.y();
105         float y = a.z() * b.x() - a.x() * b.z();
106         float z = a.x() * b.y() - a.y() * b.x();
107         m_x = x;
108         m_y = y;
109         m_z = z;
110     }
111 
112     // Convenience function returning &quot;this cross point&quot; as a
113     // stack-allocated result.
114     FloatPoint3D cross(const FloatPoint3D&amp; point) const
115     {
116         FloatPoint3D result;
117         result.cross(*this, point);
118         return result;
119     }
120 
121     float lengthSquared() const { return this-&gt;dot(*this); }
<span class="line-modified">122     float length() const { return sqrtf(lengthSquared()); }</span>







123 
124     float distanceTo(const FloatPoint3D&amp; a) const;
125 
126 private:
127     float m_x;
128     float m_y;
129     float m_z;
130 };
131 
132 inline FloatPoint3D&amp; operator +=(FloatPoint3D&amp; a, const FloatPoint3D&amp; b)
133 {
134     a.move(b.x(), b.y(), b.z());
135     return a;
136 }
137 
138 inline FloatPoint3D&amp; operator -=(FloatPoint3D&amp; a, const FloatPoint3D&amp; b)
139 {
140     a.move(-b.x(), -b.y(), -b.z());
141     return a;
142 }
</pre>
</td>
<td>
<hr />
<pre>
  8     modify it under the terms of the GNU Library General Public
  9     License as published by the Free Software Foundation; either
 10     version 2 of the License, or (at your option) any later version.
 11 
 12     This library is distributed in the hope that it will be useful,
 13     but WITHOUT ANY WARRANTY; without even the implied warranty of
 14     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 15     Library General Public License for more details.
 16 
 17     You should have received a copy of the GNU Library General Public License
 18     aint with this library; see the file COPYING.LIB.  If not, write to
 19     the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 20     Boston, MA 02110-1301, USA.
 21 */
 22 
 23 #ifndef FloatPoint3D_h
 24 #define FloatPoint3D_h
 25 
 26 #include &quot;FloatPoint.h&quot;
 27 
<span class="line-added"> 28 #if PLATFORM(JAVA)</span>
<span class="line-added"> 29 #include &lt;wtf/java/JavaMath.h&gt;</span>
<span class="line-added"> 30 #endif</span>
<span class="line-added"> 31 </span>
 32 namespace WebCore {
 33 
 34 class FloatPoint3D {
 35 public:
 36     FloatPoint3D()
 37         : m_x(0)
 38         , m_y(0)
 39         , m_z(0)
 40     {
 41     }
 42 
 43     FloatPoint3D(float x, float y, float z)
 44         : m_x(x)
 45         , m_y(y)
 46         , m_z(z)
 47     {
 48     }
 49 
 50     FloatPoint3D(const FloatPoint&amp; p)
 51         : m_x(p.x())
</pre>
<hr />
<pre>
106     void cross(const FloatPoint3D&amp; a, const FloatPoint3D&amp; b)
107     {
108         float x = a.y() * b.z() - a.z() * b.y();
109         float y = a.z() * b.x() - a.x() * b.z();
110         float z = a.x() * b.y() - a.y() * b.x();
111         m_x = x;
112         m_y = y;
113         m_z = z;
114     }
115 
116     // Convenience function returning &quot;this cross point&quot; as a
117     // stack-allocated result.
118     FloatPoint3D cross(const FloatPoint3D&amp; point) const
119     {
120         FloatPoint3D result;
121         result.cross(*this, point);
122         return result;
123     }
124 
125     float lengthSquared() const { return this-&gt;dot(*this); }
<span class="line-modified">126     float length() const</span>
<span class="line-added">127     {</span>
<span class="line-added">128 #if PLATFORM(JAVA)</span>
<span class="line-added">129         return javamath::hypot(m_x, m_y, m_z);</span>
<span class="line-added">130 #else</span>
<span class="line-added">131         return std::hypot(m_x, m_y, m_z);</span>
<span class="line-added">132 #endif</span>
<span class="line-added">133     }</span>
134 
135     float distanceTo(const FloatPoint3D&amp; a) const;
136 
137 private:
138     float m_x;
139     float m_y;
140     float m_z;
141 };
142 
143 inline FloatPoint3D&amp; operator +=(FloatPoint3D&amp; a, const FloatPoint3D&amp; b)
144 {
145     a.move(b.x(), b.y(), b.z());
146     return a;
147 }
148 
149 inline FloatPoint3D&amp; operator -=(FloatPoint3D&amp; a, const FloatPoint3D&amp; b)
150 {
151     a.move(-b.x(), -b.y(), -b.z());
152     return a;
153 }
</pre>
</td>
</tr>
</table>
<center><a href="FloatPoint.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="FloatPolygon.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>