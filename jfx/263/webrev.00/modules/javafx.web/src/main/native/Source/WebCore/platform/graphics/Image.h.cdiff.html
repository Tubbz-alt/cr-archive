<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/Image.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Image.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="ImageBackingStore.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/Image.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 109,15 ***</span>
      virtual bool usesContainerSize() const { return false; }
      virtual bool hasRelativeWidth() const { return false; }
      virtual bool hasRelativeHeight() const { return false; }
      virtual void computeIntrinsicDimensions(Length&amp; intrinsicWidth, Length&amp; intrinsicHeight, FloatSize&amp; intrinsicRatio);
  
<span class="line-modified">!     virtual FloatSize size() const = 0;</span>
      FloatRect rect() const { return FloatRect(FloatPoint(), size()); }
      float width() const { return size().width(); }
      float height() const { return size().height(); }
      virtual Optional&lt;IntPoint&gt; hotSpot() const { return WTF::nullopt; }
  
      WEBCORE_EXPORT EncodedDataStatus setData(RefPtr&lt;SharedBuffer&gt;&amp;&amp; data, bool allDataReceived);
      virtual EncodedDataStatus dataChanged(bool /*allDataReceived*/) { return EncodedDataStatus::Unknown; }
  
      virtual String uti() const { return String(); } // null string if unknown
<span class="line-new-header">--- 109,16 ---</span>
      virtual bool usesContainerSize() const { return false; }
      virtual bool hasRelativeWidth() const { return false; }
      virtual bool hasRelativeHeight() const { return false; }
      virtual void computeIntrinsicDimensions(Length&amp; intrinsicWidth, Length&amp; intrinsicHeight, FloatSize&amp; intrinsicRatio);
  
<span class="line-modified">!     virtual FloatSize size(ImageOrientation = ImageOrientation::FromImage) const = 0;</span>
      FloatRect rect() const { return FloatRect(FloatPoint(), size()); }
      float width() const { return size().width(); }
      float height() const { return size().height(); }
      virtual Optional&lt;IntPoint&gt; hotSpot() const { return WTF::nullopt; }
<span class="line-added">+     virtual ImageOrientation orientation() const { return ImageOrientation::FromImage; }</span>
  
      WEBCORE_EXPORT EncodedDataStatus setData(RefPtr&lt;SharedBuffer&gt;&amp;&amp; data, bool allDataReceived);
      virtual EncodedDataStatus dataChanged(bool /*allDataReceived*/) { return EncodedDataStatus::Unknown; }
  
      virtual String uti() const { return String(); } // null string if unknown
</pre>
<hr />
<pre>
<span class="line-old-header">*** 145,12 ***</span>
      long long expectedContentLength() const;
  
      enum TileRule { StretchTile, RoundTile, SpaceTile, RepeatTile };
  
      virtual NativeImagePtr nativeImage(const GraphicsContext* = nullptr) { return nullptr; }
<span class="line-removed">-     virtual NativeImagePtr nativeImageOfSize(const IntSize&amp;, const GraphicsContext* = nullptr) { return nullptr; }</span>
      virtual NativeImagePtr nativeImageForCurrentFrame(const GraphicsContext* = nullptr) { return nullptr; }
  
      // Accessors for native image formats.
  
  #if USE(APPKIT)
      virtual NSImage *nsImage() { return nullptr; }
<span class="line-new-header">--- 146,13 ---</span>
      long long expectedContentLength() const;
  
      enum TileRule { StretchTile, RoundTile, SpaceTile, RepeatTile };
  
      virtual NativeImagePtr nativeImage(const GraphicsContext* = nullptr) { return nullptr; }
      virtual NativeImagePtr nativeImageForCurrentFrame(const GraphicsContext* = nullptr) { return nullptr; }
<span class="line-added">+     virtual NativeImagePtr nativeImageForCurrentFrameRespectingOrientation(const GraphicsContext* = nullptr) { return nullptr; }</span>
<span class="line-added">+     virtual NativeImagePtr nativeImageOfSize(const IntSize&amp;, const GraphicsContext* = nullptr) { return nullptr; }</span>
  
      // Accessors for native image formats.
  
  #if USE(APPKIT)
      virtual NSImage *nsImage() { return nullptr; }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 175,11 ***</span>
      virtual void drawImage(GraphicsContext&amp;, const FloatRect&amp; dstRect, const FloatRect&amp; srcRect, CompositeOperator, BlendMode);
  #endif
  
      virtual void drawPattern(GraphicsContext&amp;, const FloatRect&amp; destRect, const FloatRect&amp; srcRect, const AffineTransform&amp; patternTransform, const FloatPoint&amp; phase, const FloatSize&amp; spacing, const ImagePaintingOptions&amp; = { });
  
<span class="line-modified">! #if !ASSERT_DISABLED</span>
      virtual bool notSolidColor() { return true; }
  #endif
  
      virtual void dump(WTF::TextStream&amp;) const;
  
<span class="line-new-header">--- 177,11 ---</span>
      virtual void drawImage(GraphicsContext&amp;, const FloatRect&amp; dstRect, const FloatRect&amp; srcRect, CompositeOperator, BlendMode);
  #endif
  
      virtual void drawPattern(GraphicsContext&amp;, const FloatRect&amp; destRect, const FloatRect&amp; srcRect, const AffineTransform&amp; patternTransform, const FloatPoint&amp; phase, const FloatSize&amp; spacing, const ImagePaintingOptions&amp; = { });
  
<span class="line-modified">! #if ASSERT_ENABLED</span>
      virtual bool notSolidColor() { return true; }
  #endif
  
      virtual void dump(WTF::TextStream&amp;) const;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 202,10 ***</span>
<span class="line-new-header">--- 204,15 ---</span>
      RefPtr&lt;SharedBuffer&gt; m_encodedImageData;
      ImageObserver* m_imageObserver;
      std::unique_ptr&lt;Timer&gt; m_animationStartTimer;
  };
  
<span class="line-added">+ class ImageHandle {</span>
<span class="line-added">+ public:</span>
<span class="line-added">+     RefPtr&lt;Image&gt; image;</span>
<span class="line-added">+ };</span>
<span class="line-added">+ </span>
  WTF::TextStream&amp; operator&lt;&lt;(WTF::TextStream&amp;, const Image&amp;);
  
  } // namespace WebCore
  
  #define SPECIALIZE_TYPE_TRAITS_IMAGE(ToClassName) \
</pre>
<center><a href="Image.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="ImageBackingStore.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>