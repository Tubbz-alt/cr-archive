<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.web/src/main/native/Source/WebCore/css/parser/CSSPropertyParserHelpers.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 // Copyright 2016 The Chromium Authors. All rights reserved.
  2 // Copyright (C) 2016 Apple Inc. All rights reserved.
  3 //
  4 // Redistribution and use in source and binary forms, with or without
  5 // modification, are permitted provided that the following conditions are
  6 // met:
  7 //
  8 //    * Redistributions of source code must retain the above copyright
  9 // notice, this list of conditions and the following disclaimer.
 10 //    * Redistributions in binary form must reproduce the above
 11 // copyright notice, this list of conditions and the following disclaimer
 12 // in the documentation and/or other materials provided with the
 13 // distribution.
 14 //    * Neither the name of Google Inc. nor the names of its
 15 // contributors may be used to endorse or promote products derived from
 16 // this software without specific prior written permission.
 17 //
 18 // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 19 // &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 20 // LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 21 // A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 22 // OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 23 // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 24 // LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 25 // DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 26 // THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 27 // (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 28 // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 29 
 30 #pragma once
 31 
 32 #include &quot;CSSFunctionValue.h&quot;
 33 #include &quot;CSSParserContext.h&quot;
 34 #include &quot;CSSParserTokenRange.h&quot;
 35 #include &quot;CSSPrimitiveValue.h&quot;
 36 #include &quot;CSSShadowValue.h&quot;
 37 #include &quot;CSSValuePool.h&quot;
 38 #include &quot;Length.h&quot; // For ValueRange
<a name="1" id="anc1"></a>
 39 
 40 namespace WebCore {
 41 
 42 // When these functions are successful, they will consume all the relevant
 43 // tokens from the range and also consume any whitespace which follows. When
 44 // the start of the range doesn&#39;t match the type we&#39;re looking for, the range
 45 // will not be modified.
 46 namespace CSSPropertyParserHelpers {
 47 
 48 // FIXME: These should probably just be consumeComma and consumeSlash.
 49 bool consumeCommaIncludingWhitespace(CSSParserTokenRange&amp;);
 50 bool consumeSlashIncludingWhitespace(CSSParserTokenRange&amp;);
 51 // consumeFunction expects the range starts with a FunctionToken.
 52 CSSParserTokenRange consumeFunction(CSSParserTokenRange&amp;);
 53 
<a name="2" id="anc2"></a><span class="line-modified"> 54 enum class UnitlessQuirk {</span>
<span class="line-modified"> 55     Allow,</span>
<span class="line-removed"> 56     Forbid</span>
<span class="line-removed"> 57 };</span>
 58 
 59 RefPtr&lt;CSSPrimitiveValue&gt; consumeInteger(CSSParserTokenRange&amp;, double minimumValue = -std::numeric_limits&lt;double&gt;::max());
<a name="3" id="anc3"></a><span class="line-removed"> 60 bool consumePositiveIntegerRaw(CSSParserTokenRange&amp;, int&amp; result);</span>
 61 RefPtr&lt;CSSPrimitiveValue&gt; consumePositiveInteger(CSSParserTokenRange&amp;);
 62 bool consumeNumberRaw(CSSParserTokenRange&amp;, double&amp; result);
 63 RefPtr&lt;CSSPrimitiveValue&gt; consumeNumber(CSSParserTokenRange&amp;, ValueRange);
 64 RefPtr&lt;CSSPrimitiveValue&gt; consumeFontWeightNumber(CSSParserTokenRange&amp;);
 65 RefPtr&lt;CSSPrimitiveValue&gt; consumeLength(CSSParserTokenRange&amp;, CSSParserMode, ValueRange, UnitlessQuirk = UnitlessQuirk::Forbid);
 66 RefPtr&lt;CSSPrimitiveValue&gt; consumePercent(CSSParserTokenRange&amp;, ValueRange);
 67 RefPtr&lt;CSSPrimitiveValue&gt; consumeLengthOrPercent(CSSParserTokenRange&amp;, CSSParserMode, ValueRange, UnitlessQuirk = UnitlessQuirk::Forbid);
 68 RefPtr&lt;CSSPrimitiveValue&gt; consumeAngle(CSSParserTokenRange&amp;, CSSParserMode, UnitlessQuirk = UnitlessQuirk::Forbid);
 69 RefPtr&lt;CSSPrimitiveValue&gt; consumeTime(CSSParserTokenRange&amp;, CSSParserMode, ValueRange, UnitlessQuirk = UnitlessQuirk::Forbid);
<a name="4" id="anc4"></a><span class="line-modified"> 70 RefPtr&lt;CSSPrimitiveValue&gt; consumeResolution(CSSParserTokenRange&amp;);</span>
 71 
 72 RefPtr&lt;CSSPrimitiveValue&gt; consumeIdent(CSSParserTokenRange&amp;);
 73 RefPtr&lt;CSSPrimitiveValue&gt; consumeIdentRange(CSSParserTokenRange&amp;, CSSValueID lower, CSSValueID upper);
 74 template&lt;CSSValueID, CSSValueID...&gt; inline bool identMatches(CSSValueID id);
 75 template&lt;CSSValueID... allowedIdents&gt; RefPtr&lt;CSSPrimitiveValue&gt; consumeIdent(CSSParserTokenRange&amp;);
 76 
 77 RefPtr&lt;CSSPrimitiveValue&gt; consumeCustomIdent(CSSParserTokenRange&amp;);
 78 RefPtr&lt;CSSPrimitiveValue&gt; consumeString(CSSParserTokenRange&amp;);
 79 StringView consumeUrlAsStringView(CSSParserTokenRange&amp;);
 80 RefPtr&lt;CSSPrimitiveValue&gt; consumeUrl(CSSParserTokenRange&amp;);
 81 
 82 RefPtr&lt;CSSPrimitiveValue&gt; consumeColor(CSSParserTokenRange&amp;, CSSParserMode, bool acceptQuirkyColors = false);
 83 
<a name="5" id="anc5"></a><span class="line-modified"> 84 RefPtr&lt;CSSPrimitiveValue&gt; consumePosition(CSSParserTokenRange&amp;, CSSParserMode, UnitlessQuirk);</span>
<span class="line-modified"> 85 bool consumePosition(CSSParserTokenRange&amp;, CSSParserMode, UnitlessQuirk, RefPtr&lt;CSSPrimitiveValue&gt;&amp; resultX, RefPtr&lt;CSSPrimitiveValue&gt;&amp; resultY);</span>





 86 bool consumeOneOrTwoValuedPosition(CSSParserTokenRange&amp;, CSSParserMode, UnitlessQuirk, RefPtr&lt;CSSPrimitiveValue&gt;&amp; resultX, RefPtr&lt;CSSPrimitiveValue&gt;&amp; resultY);
 87 
<a name="6" id="anc6"></a><span class="line-modified"> 88 enum class ConsumeGeneratedImage {</span>
<span class="line-modified"> 89     Allow,</span>
<span class="line-modified"> 90     Forbid</span>


 91 };
 92 
<a name="7" id="anc7"></a><span class="line-modified"> 93 RefPtr&lt;CSSValue&gt; consumeImage(CSSParserTokenRange&amp;, CSSParserContext, ConsumeGeneratedImage = ConsumeGeneratedImage::Allow);</span>

 94 RefPtr&lt;CSSValue&gt; consumeImageOrNone(CSSParserTokenRange&amp;, CSSParserContext);
 95 
 96 enum class AllowedFilterFunctions {
 97     PixelFilters,
 98     ColorFilters
 99 };
100 
101 RefPtr&lt;CSSValue&gt; consumeFilter(CSSParserTokenRange&amp;, const CSSParserContext&amp;, AllowedFilterFunctions);
102 RefPtr&lt;CSSShadowValue&gt; consumeSingleShadow(CSSParserTokenRange&amp;, CSSParserMode, bool allowInset, bool allowSpread);
103 
104 // Template implementations are at the bottom of the file for readability.
105 
106 template&lt;typename... emptyBaseCase&gt; inline bool identMatches(CSSValueID) { return false; }
107 template&lt;CSSValueID head, CSSValueID... tail&gt; inline bool identMatches(CSSValueID id)
108 {
109     return id == head || identMatches&lt;tail...&gt;(id);
110 }
111 
112 // FIXME-NEWPARSER - converted to a RefPtr return type from a raw ptr.
113 template&lt;CSSValueID... names&gt; RefPtr&lt;CSSPrimitiveValue&gt; consumeIdent(CSSParserTokenRange&amp; range)
114 {
115     if (range.peek().type() != IdentToken || !identMatches&lt;names...&gt;(range.peek().id()))
116         return nullptr;
117     return CSSValuePool::singleton().createIdentifierValue(range.consumeIncludingWhitespace().id());
118 }
119 
120 static inline bool isCSSWideKeyword(const CSSValueID&amp; id)
121 {
122     return id == CSSValueInitial || id == CSSValueInherit || id == CSSValueUnset || id == CSSValueRevert || id == CSSValueDefault;
123 }
124 
125 } // namespace CSSPropertyParserHelpers
126 
127 } // namespace WebCore
<a name="8" id="anc8"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="8" type="hidden" />
</body>
</html>