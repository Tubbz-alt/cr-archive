<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old modules/javafx.web/src/main/native/Source/WebCore/testing/js/WebCoreTestSupportPrefix.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (C) 2015 Apple Inc.
  3  *
  4  * This library is free software; you can redistribute it and/or
  5  * modify it under the terms of the GNU Library General Public
  6  * License as published by the Free Software Foundation; either
  7  * version 2 of the License, or (at your option) any later version.
  8  *
  9  * This library is distributed in the hope that it will be useful,
 10  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 11  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 12  * Library General Public License for more details.
 13  *
 14  * You should have received a copy of the GNU Library General Public License
 15  * along with this library; see the file COPYING.LIB.  If not, write to
 16  * the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 17  * Boston, MA 02110-1301, USA.
 18  *
 19  */
 20 
 21 /* This prefix file should contain only:
 22  *    1) files to precompile for faster builds
 23  *    2) in one case at least: OS-X-specific performance bug workarounds
 24  *    3) the special trick to catch us using new or delete without including &quot;config.h&quot;
 25  * The project should be able to build without this header, although we rarely test that.
 26  */
 27 
 28 /* Things that need to be defined globally should go into &quot;config.h&quot;. */
 29 
 30 #if defined(HAVE_CONFIG_H) &amp;&amp; HAVE_CONFIG_H &amp;&amp; defined(BUILDING_WITH_CMAKE)
 31 #include &quot;cmakeconfig.h&quot;
 32 #endif
 33 
 34 #include &lt;wtf/Platform.h&gt;
 35 
 36 #if defined(__APPLE__)
 37 #ifdef __cplusplus
 38 #define NULL __null
 39 #else
 40 #define NULL ((void *)0)
 41 #endif
 42 #endif
 43 
 44 #if OS(WINDOWS)
 45 #undef WEBCORE_EXPORT
 46 #if PLATFORM(JAVA)
 47 #undef WEBCORE_TESTSUPPORT_EXPORT
 48 #define WEBCORE_EXPORT
 49 #define WEBCORE_TESTSUPPORT_EXPORT
 50 #else
 51 #define WEBCORE_EXPORT WTF_IMPORT_DECLARATION
 52 #define WEBCORE_TESTSUPPORT_EXPORT WTF_EXPORT_DECLARATION
 53 #endif
 54 
 55 #else
 56 
 57 #include &lt;pthread.h&gt;
 58 
 59 #define WEBCORE_TESTSUPPORT_EXPORT WEBCORE_EXPORT
 60 
 61 #endif // OS(WINDOWS)
 62 
 63 #include &lt;fcntl.h&gt;
 64 #include &lt;sys/types.h&gt;
 65 #if HAVE(REGEX_H)
 66 #include &lt;regex.h&gt;
 67 #endif
 68 
 69 #include &lt;setjmp.h&gt;
 70 
 71 #include &lt;signal.h&gt;
 72 #include &lt;stdarg.h&gt;
 73 #include &lt;stddef.h&gt;
 74 #include &lt;stdio.h&gt;
 75 #include &lt;stdlib.h&gt;
 76 #include &lt;string.h&gt;
 77 #include &lt;time.h&gt;
 78 #if defined(__APPLE__)
 79 #include &lt;unistd.h&gt;
 80 #endif
 81 
 82 #ifdef __cplusplus
 83 #include &lt;algorithm&gt;
 84 #include &lt;cstddef&gt;
 85 #include &lt;new&gt;
 86 #endif
 87 
 88 #if defined(__APPLE__)
 89 #include &lt;sys/param.h&gt;
 90 #endif
 91 #include &lt;sys/stat.h&gt;
 92 #if defined(__APPLE__)
 93 #include &lt;sys/resource.h&gt;
 94 #include &lt;sys/time.h&gt;
 95 #endif
 96 
 97 #if USE(CF)
 98 #include &lt;CoreFoundation/CoreFoundation.h&gt;
 99 #endif
100 
101 #if PLATFORM(WIN_CAIRO)
102 #include &lt;windows.h&gt;
103 #else
104 
105 #if OS(WINDOWS)
106 #if USE(CG)
107 
108 // FIXME &lt;rdar://problem/8208868&gt; Remove support for obsolete ColorSync API, CoreServices header in CoreGraphics
109 // We can remove this once the new ColorSync APIs are available in an internal Safari SDK.
110 #include &lt;ColorSync/ColorSync.h&gt;
111 #ifdef __COLORSYNCDEPRECATED__
112 #define COREGRAPHICS_INCLUDES_CORESERVICES_HEADER
113 #define OBSOLETE_COLORSYNC_API
114 #endif
115 #endif
116 #if USE(CFURLCONNECTION)
117 #include &lt;CFNetwork/CFNetwork.h&gt;
118 // On Windows, dispatch.h needs to be included before certain CFNetwork headers.
119 #include &lt;dispatch/dispatch.h&gt;
120 #endif
121 #include &lt;windows.h&gt;
122 #else
123 #if !PLATFORM(IOS_FAMILY)
124 #include &lt;CoreServices/CoreServices.h&gt;
125 #endif // !PLATFORM(IOS_FAMILY)
126 #endif // OS(WINDOWS)
127 
128 #endif
129 
130 #ifdef __OBJC__
131 #if PLATFORM(IOS_FAMILY)
132 #import &lt;Foundation/Foundation.h&gt;
133 #else
134 #import &lt;Cocoa/Cocoa.h&gt;
135 #endif // PLATFORM(IOS_FAMILY)
136 #endif
137 
138 #ifdef __cplusplus
139 #define new (&quot;if you use new/delete make sure to include config.h at the top of the file&quot;())
140 #define delete (&quot;if you use new/delete make sure to include config.h at the top of the file&quot;())
141 #endif
142 
143 /* When C++ exceptions are disabled, the C++ library defines |try| and |catch|
144  * to allow C++ code that expects exceptions to build. These definitions
145  * interfere with Objective-C++ uses of Objective-C exception handlers, which
146  * use |@try| and |@catch|. As a workaround, undefine these macros. */
147 #ifdef __OBJC__
148 #undef try
149 #undef catch
150 #endif
151 
    </pre>
  </body>
</html>