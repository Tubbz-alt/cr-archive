<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/network/ResourceHandle.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ParsedContentType.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="ResourceHandle.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/network/ResourceHandle.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 26 #include &quot;config.h&quot;
 27 #include &quot;ResourceHandle.h&quot;
 28 #include &quot;ResourceHandleInternal.h&quot;
 29 
 30 #include &quot;Logging.h&quot;
 31 #include &quot;NetworkingContext.h&quot;
 32 #include &quot;NotImplemented.h&quot;
 33 #include &quot;ResourceHandleClient.h&quot;
 34 #include &quot;Timer.h&quot;
 35 #include &lt;algorithm&gt;
 36 #include &lt;wtf/CompletionHandler.h&gt;
 37 #include &lt;wtf/MainThread.h&gt;
 38 #include &lt;wtf/NeverDestroyed.h&gt;
 39 #include &lt;wtf/text/AtomStringHash.h&gt;
 40 #include &lt;wtf/text/CString.h&gt;
 41 
 42 namespace WebCore {
 43 
 44 static bool shouldForceContentSniffing;
 45 


 46 typedef HashMap&lt;AtomString, ResourceHandle::BuiltinConstructor&gt; BuiltinResourceHandleConstructorMap;
 47 static BuiltinResourceHandleConstructorMap&amp; builtinResourceHandleConstructorMap()
 48 {
 49 #if PLATFORM(IOS_FAMILY)
 50     ASSERT(WebThreadIsLockedOrDisabled());
 51 #else
 52     ASSERT(isMainThread());
 53 #endif
 54     static NeverDestroyed&lt;BuiltinResourceHandleConstructorMap&gt; map;
 55     return map;
 56 }
 57 
 58 void ResourceHandle::registerBuiltinConstructor(const AtomString&amp; protocol, ResourceHandle::BuiltinConstructor constructor)
 59 {
 60     builtinResourceHandleConstructorMap().add(protocol, constructor);
 61 }
 62 
 63 typedef HashMap&lt;AtomString, ResourceHandle::BuiltinSynchronousLoader&gt; BuiltinResourceHandleSynchronousLoaderMap;
 64 static BuiltinResourceHandleSynchronousLoaderMap&amp; builtinResourceHandleSynchronousLoaderMap()
 65 {
</pre>
</td>
<td>
<hr />
<pre>
 26 #include &quot;config.h&quot;
 27 #include &quot;ResourceHandle.h&quot;
 28 #include &quot;ResourceHandleInternal.h&quot;
 29 
 30 #include &quot;Logging.h&quot;
 31 #include &quot;NetworkingContext.h&quot;
 32 #include &quot;NotImplemented.h&quot;
 33 #include &quot;ResourceHandleClient.h&quot;
 34 #include &quot;Timer.h&quot;
 35 #include &lt;algorithm&gt;
 36 #include &lt;wtf/CompletionHandler.h&gt;
 37 #include &lt;wtf/MainThread.h&gt;
 38 #include &lt;wtf/NeverDestroyed.h&gt;
 39 #include &lt;wtf/text/AtomStringHash.h&gt;
 40 #include &lt;wtf/text/CString.h&gt;
 41 
 42 namespace WebCore {
 43 
 44 static bool shouldForceContentSniffing;
 45 
<span class="line-added"> 46 DEFINE_ALLOCATOR_WITH_HEAP_IDENTIFIER(ResourceHandleInternal);</span>
<span class="line-added"> 47 </span>
 48 typedef HashMap&lt;AtomString, ResourceHandle::BuiltinConstructor&gt; BuiltinResourceHandleConstructorMap;
 49 static BuiltinResourceHandleConstructorMap&amp; builtinResourceHandleConstructorMap()
 50 {
 51 #if PLATFORM(IOS_FAMILY)
 52     ASSERT(WebThreadIsLockedOrDisabled());
 53 #else
 54     ASSERT(isMainThread());
 55 #endif
 56     static NeverDestroyed&lt;BuiltinResourceHandleConstructorMap&gt; map;
 57     return map;
 58 }
 59 
 60 void ResourceHandle::registerBuiltinConstructor(const AtomString&amp; protocol, ResourceHandle::BuiltinConstructor constructor)
 61 {
 62     builtinResourceHandleConstructorMap().add(protocol, constructor);
 63 }
 64 
 65 typedef HashMap&lt;AtomString, ResourceHandle::BuiltinSynchronousLoader&gt; BuiltinResourceHandleSynchronousLoaderMap;
 66 static BuiltinResourceHandleSynchronousLoaderMap&amp; builtinResourceHandleSynchronousLoaderMap()
 67 {
</pre>
</td>
</tr>
</table>
<center><a href="ParsedContentType.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="ResourceHandle.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>