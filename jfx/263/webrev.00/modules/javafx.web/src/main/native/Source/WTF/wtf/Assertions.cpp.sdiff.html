<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WTF/wtf/Assertions.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="AggregateLogger.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Assertions.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/Assertions.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
265     printCallSite(file, line, function);
266 }
267 
268 void WTFReportArgumentAssertionFailure(const char* file, int line, const char* function, const char* argName, const char* assertion)
269 {
270     printf_stderr_common(&quot;ARGUMENT BAD: %s, %s\n&quot;, argName, assertion);
271     printCallSite(file, line, function);
272 }
273 
274 class CrashLogPrintStream : public PrintStream {
275 public:
276     WTF_ATTRIBUTE_PRINTF(2, 0)
277     void vprintf(const char* format, va_list argList) override
278     {
279         vprintf_stderr_common(format, argList);
280     }
281 };
282 
283 void WTFReportBacktrace()
284 {
<span class="line-modified">285     static const int framesToShow = 31;</span>
<span class="line-modified">286     static const int framesToSkip = 2;</span>
287     void* samples[framesToShow + framesToSkip];
288     int frames = framesToShow + framesToSkip;
289 
290     WTFGetBacktrace(samples, &amp;frames);
291     WTFPrintBacktrace(samples + framesToSkip, frames - framesToSkip);
292 }
293 
294 void WTFPrintBacktrace(void** stack, int size)
295 {
296     CrashLogPrintStream out;
297     StackTrace stackTrace(stack, size);
298     out.print(stackTrace);
299 }
300 
301 #if !defined(NDEBUG) || !(OS(DARWIN) || PLATFORM(PLAYSTATION))
302 void WTFCrash()
303 {
304     WTFReportBacktrace();
305 #if OS(WINDOWS) &amp;&amp; PLATFORM(JAVA) &amp;&amp; defined(_DEBUG)
306     ::MessageBoxW(NULL, L&quot;Assert&quot;, L&quot;Webnode&quot;, MB_OK | MB_TASKMODAL);
</pre>
</td>
<td>
<hr />
<pre>
265     printCallSite(file, line, function);
266 }
267 
268 void WTFReportArgumentAssertionFailure(const char* file, int line, const char* function, const char* argName, const char* assertion)
269 {
270     printf_stderr_common(&quot;ARGUMENT BAD: %s, %s\n&quot;, argName, assertion);
271     printCallSite(file, line, function);
272 }
273 
274 class CrashLogPrintStream : public PrintStream {
275 public:
276     WTF_ATTRIBUTE_PRINTF(2, 0)
277     void vprintf(const char* format, va_list argList) override
278     {
279         vprintf_stderr_common(format, argList);
280     }
281 };
282 
283 void WTFReportBacktrace()
284 {
<span class="line-modified">285     static constexpr int framesToShow = 31;</span>
<span class="line-modified">286     static constexpr int framesToSkip = 2;</span>
287     void* samples[framesToShow + framesToSkip];
288     int frames = framesToShow + framesToSkip;
289 
290     WTFGetBacktrace(samples, &amp;frames);
291     WTFPrintBacktrace(samples + framesToSkip, frames - framesToSkip);
292 }
293 
294 void WTFPrintBacktrace(void** stack, int size)
295 {
296     CrashLogPrintStream out;
297     StackTrace stackTrace(stack, size);
298     out.print(stackTrace);
299 }
300 
301 #if !defined(NDEBUG) || !(OS(DARWIN) || PLATFORM(PLAYSTATION))
302 void WTFCrash()
303 {
304     WTFReportBacktrace();
305 #if OS(WINDOWS) &amp;&amp; PLATFORM(JAVA) &amp;&amp; defined(_DEBUG)
306     ::MessageBoxW(NULL, L&quot;Assert&quot;, L&quot;Webnode&quot;, MB_OK | MB_TASKMODAL);
</pre>
</td>
</tr>
</table>
<center><a href="AggregateLogger.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Assertions.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>