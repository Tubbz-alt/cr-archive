diff a/modules/javafx.web/src/main/native/Source/WebKitLegacy/java/DOM/JavaDocument.cpp b/modules/javafx.web/src/main/native/Source/WebKitLegacy/java/DOM/JavaDocument.cpp
--- a/modules/javafx.web/src/main/native/Source/WebKitLegacy/java/DOM/JavaDocument.cpp
+++ b/modules/javafx.web/src/main/native/Source/WebKitLegacy/java/DOM/JavaDocument.cpp
@@ -48,10 +48,11 @@
 #include <WebCore/NodeFilter.h>
 #include <WebCore/NodeIterator.h>
 #include <WebCore/NodeList.h>
 #include <WebCore/ProcessingInstruction.h>
 #include <WebCore/Range.h>
+#include <WebCore/SecurityOrigin.h>
 #include <WebCore/ScrollIntoViewOptions.h>
 #include <WebCore/StyleSheetList.h>
 #include <WebCore/Text.h>
 #include <WebCore/TreeWalker.h>
 #include <WebCore/XPathExpression.h>
@@ -385,11 +386,11 @@
 }
 
 JNIEXPORT jstring JNICALL Java_com_sun_webkit_dom_DocumentImpl_getOriginImpl(JNIEnv* env, jclass, jlong peer)
 {
     WebCore::JSMainThreadNullState state;
-    return JavaReturn<String>(env, IMPL->origin());
+    return JavaReturn<String>(env, IMPL->securityOrigin().toString());
 }
 
 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_getScrollingElementImpl(JNIEnv* env, jclass, jlong peer)
 {
     WebCore::JSMainThreadNullState state;
@@ -1414,11 +1415,14 @@
 
 JNIEXPORT jlong JNICALL Java_com_sun_webkit_dom_DocumentImpl_createNSResolverImpl(JNIEnv* env, jclass, jlong peer
     , jlong nodeResolver)
 {
     WebCore::JSMainThreadNullState state;
-    return JavaReturn<XPathNSResolver>(env, WTF::getPtr(IMPL->createNSResolver(static_cast<Node*>(jlong_to_ptr(nodeResolver)))));
+    if (!nodeResolver)
+        return 0;
+
+    return JavaReturn<XPathNSResolver>(env, WTF::getPtr(IMPL->createNSResolver(*static_cast<Node*>(jlong_to_ptr(nodeResolver)))));
 }
 
 // - (DOMXPathResult *)evaluate:(NSString *)expression
 // contextNode:(DOMNode *)contextNode
 // resolver:(id <DOMXPathNSResolver>)resolver
@@ -1432,11 +1436,11 @@
     , jshort type
     , jlong inResult)
 {
     WebCore::JSMainThreadNullState state;
     return JavaReturn<XPathResult>(env, WTF::getPtr(raiseOnDOMError(env, IMPL->evaluate(String(env, expression)
-            , static_cast<Node*>(jlong_to_ptr(contextNode))
+            , *static_cast<Node*>(jlong_to_ptr(contextNode))
             , static_cast<XPathNSResolver*>(jlong_to_ptr(resolver))
             , type
             , static_cast<XPathResult*>(jlong_to_ptr(inResult))))));
 }
 
