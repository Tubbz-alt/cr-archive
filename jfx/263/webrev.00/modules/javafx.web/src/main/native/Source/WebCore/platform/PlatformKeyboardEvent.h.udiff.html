<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WebCore/platform/PlatformKeyboardEvent.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="PasteboardStrategy.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="PlatformPasteboard.h.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/PlatformKeyboardEvent.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -24,10 +24,11 @@</span>
   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   */
  
  #pragma once
  
<span class="udiff-line-added">+ #include &quot;CompositionUnderline.h&quot;</span>
  #include &quot;KeypressCommand.h&quot;
  #include &quot;PlatformEvent.h&quot;
  #include &lt;wtf/WindowsExtras.h&gt;
  #include &lt;wtf/text/WTFString.h&gt;
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -38,15 +39,10 @@</span>
  
  #if PLATFORM(IOS_FAMILY)
  OBJC_CLASS WebEvent;
  #endif
  
<span class="udiff-line-removed">- #if PLATFORM(GTK)</span>
<span class="udiff-line-removed">- typedef struct _GdkEventKey GdkEventKey;</span>
<span class="udiff-line-removed">- #include &quot;CompositionResults.h&quot;</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
  #if PLATFORM(JAVA)
  #include &lt;jni.h&gt;
  #endif
  
  namespace WebCore {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -58,33 +54,20 @@</span>
              : PlatformEvent(PlatformEvent::KeyDown)
              , m_windowsVirtualKeyCode(0)
              , m_autoRepeat(false)
              , m_isKeypad(false)
              , m_isSystemKey(false)
<span class="udiff-line-removed">- #if PLATFORM(GTK)</span>
<span class="udiff-line-removed">-             , m_gdkEventKey(0)</span>
<span class="udiff-line-removed">- #endif</span>
          {
          }
  
<span class="udiff-line-modified-removed">-         PlatformKeyboardEvent(Type type, const String&amp; text, const String&amp; unmodifiedText,</span>
<span class="udiff-line-removed">- #if ENABLE(KEYBOARD_KEY_ATTRIBUTE)</span>
<span class="udiff-line-removed">-         const String&amp; key,</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #if ENABLE(KEYBOARD_CODE_ATTRIBUTE)</span>
<span class="udiff-line-removed">-         const String&amp; code,</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-modified-added">+         PlatformKeyboardEvent(Type type, const String&amp; text, const String&amp; unmodifiedText, const String&amp; key, const String&amp; code,</span>
          const String&amp; keyIdentifier, int windowsVirtualKeyCode, bool isAutoRepeat, bool isKeypad, bool isSystemKey, OptionSet&lt;Modifier&gt; modifiers, WallTime timestamp)
              : PlatformEvent(type, modifiers, timestamp)
              , m_text(text)
              , m_unmodifiedText(unmodifiedText)
<span class="udiff-line-removed">- #if ENABLE(KEYBOARD_KEY_ATTRIBUTE)</span>
              , m_key(key)
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #if ENABLE(KEYBOARD_CODE_ATTRIBUTE)</span>
              , m_code(code)
<span class="udiff-line-removed">- #endif</span>
              , m_keyIdentifier(keyIdentifier)
              , m_windowsVirtualKeyCode(windowsVirtualKeyCode)
              , m_autoRepeat(isAutoRepeat)
              , m_isKeypad(isKeypad)
              , m_isSystemKey(isSystemKey)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -105,26 +88,26 @@</span>
          // (except for Shift); useful for shortcut (accelerator) key handling.
          // Otherwise, same as text().
          String unmodifiedText() const { return m_unmodifiedText; }
  
          String keyIdentifier() const { return m_keyIdentifier; }
<span class="udiff-line-removed">- </span>
<span class="udiff-line-removed">- #if ENABLE(KEYBOARD_KEY_ATTRIBUTE)</span>
          const String&amp; key() const { return m_key; }
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #if ENABLE(KEYBOARD_CODE_ATTRIBUTE)</span>
          const String&amp; code() const { return m_code; }
<span class="udiff-line-removed">- #endif</span>
  
          // Most compatible Windows virtual key code associated with the event.
          // Zero for Char events.
          int windowsVirtualKeyCode() const { return m_windowsVirtualKeyCode; }
          void setWindowsVirtualKeyCode(int code) { m_windowsVirtualKeyCode = code; }
  
<span class="udiff-line-modified-removed">- #if USE(APPKIT) || USE(UIKIT_KEYBOARD_ADDITIONS) || PLATFORM(GTK)</span>
<span class="udiff-line-modified-added">+ #if USE(APPKIT) || USE(UIKIT_KEYBOARD_ADDITIONS) || PLATFORM(GTK) || USE(LIBWPE)</span>
          bool handledByInputMethod() const { return m_handledByInputMethod; }
  #endif
<span class="udiff-line-added">+ #if PLATFORM(GTK) || USE(LIBWPE)</span>
<span class="udiff-line-added">+         const Optional&lt;Vector&lt;WebCore::CompositionUnderline&gt;&gt;&amp; preeditUnderlines() const { return m_preeditUnderlines; }</span>
<span class="udiff-line-added">+         const Optional&lt;uint64_t&gt;&amp; preeditSelectionRangeStart() const { return m_preeditSelectionRangeStart; }</span>
<span class="udiff-line-added">+         const Optional&lt;uint64_t&gt;&amp; preeditSelectionRangeLength() const { return m_preeditSelectionRangeLength; }</span>
<span class="udiff-line-added">+ #endif</span>
  #if USE(APPKIT)
          const Vector&lt;KeypressCommand&gt;&amp; commands() const { return m_commands; }
  #elif PLATFORM(GTK)
          const Vector&lt;String&gt;&amp; commands() const { return m_commands; }
  #endif
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -152,14 +135,10 @@</span>
  #if PLATFORM(WIN)
          PlatformKeyboardEvent(HWND, WPARAM, LPARAM, Type, bool);
  #endif
  
  #if PLATFORM(GTK)
<span class="udiff-line-removed">-         PlatformKeyboardEvent(GdkEventKey*, const CompositionResults&amp;);</span>
<span class="udiff-line-removed">-         GdkEventKey* gdkEventKey() const { return m_gdkEventKey; }</span>
<span class="udiff-line-removed">-         const CompositionResults&amp; compositionResults() const { return m_compositionResults; }</span>
<span class="udiff-line-removed">- </span>
          // Used by WebKit2
          static String keyValueForGdkKeyCode(unsigned);
          static String keyCodeForHardwareKeyCode(unsigned);
          static String keyIdentifierForGdkKeyCode(unsigned);
          static int windowsKeyCodeForGdkKeyCode(unsigned);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -182,21 +161,22 @@</span>
  #endif
  
      protected:
          String m_text;
          String m_unmodifiedText;
<span class="udiff-line-removed">- #if ENABLE(KEYBOARD_KEY_ATTRIBUTE)</span>
          String m_key;
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- #if ENABLE(KEYBOARD_CODE_ATTRIBUTE)</span>
          String m_code;
<span class="udiff-line-removed">- #endif</span>
          String m_keyIdentifier;
          int m_windowsVirtualKeyCode;
<span class="udiff-line-modified-removed">- #if USE(APPKIT) || USE(UIKIT_KEYBOARD_ADDITIONS) || PLATFORM(GTK)</span>
<span class="udiff-line-modified-added">+ #if USE(APPKIT) || USE(UIKIT_KEYBOARD_ADDITIONS) || PLATFORM(GTK) || USE(LIBWPE)</span>
          bool m_handledByInputMethod { false };
  #endif
<span class="udiff-line-added">+ #if PLATFORM(GTK) || USE(LIBWPE)</span>
<span class="udiff-line-added">+         Optional&lt;Vector&lt;WebCore::CompositionUnderline&gt;&gt; m_preeditUnderlines;</span>
<span class="udiff-line-added">+         Optional&lt;uint64_t&gt; m_preeditSelectionRangeStart;</span>
<span class="udiff-line-added">+         Optional&lt;uint64_t&gt; m_preeditSelectionRangeLength;</span>
<span class="udiff-line-added">+ #endif</span>
  #if USE(APPKIT)
          Vector&lt;KeypressCommand&gt; m_commands;
  #elif PLATFORM(GTK)
          Vector&lt;String&gt; m_commands;
  #endif
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -211,15 +191,10 @@</span>
          RetainPtr&lt;NSEvent&gt; m_macEvent;
  #else
          RetainPtr&lt;::WebEvent&gt; m_Event;
  #endif
  #endif
<span class="udiff-line-removed">- #if PLATFORM(GTK)</span>
<span class="udiff-line-removed">-         GdkEventKey* m_gdkEventKey;</span>
<span class="udiff-line-removed">-         CompositionResults m_compositionResults;</span>
<span class="udiff-line-removed">- #endif</span>
<span class="udiff-line-removed">- </span>
          // The modifier state is optional, since it is not needed in the UI process or in legacy WebKit.
          static Optional&lt;OptionSet&lt;Modifier&gt;&gt; s_currentModifiers;
      };
  
  } // namespace WebCore
</pre>
<center><a href="PasteboardStrategy.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="PlatformPasteboard.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>