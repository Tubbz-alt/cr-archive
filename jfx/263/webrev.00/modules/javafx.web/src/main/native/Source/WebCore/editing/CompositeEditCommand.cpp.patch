diff a/modules/javafx.web/src/main/native/Source/WebCore/editing/CompositeEditCommand.cpp b/modules/javafx.web/src/main/native/Source/WebCore/editing/CompositeEditCommand.cpp
--- a/modules/javafx.web/src/main/native/Source/WebCore/editing/CompositeEditCommand.cpp
+++ b/modules/javafx.web/src/main/native/Source/WebCore/editing/CompositeEditCommand.cpp
@@ -1000,10 +1000,11 @@
         return;
 
     Vector<InlineTextBox*> sortedTextBoxes;
     size_t sortedTextBoxesPosition = 0;
 
+    textRenderer->ensureLineBoxes();
     for (InlineTextBox* textBox = textRenderer->firstTextBox(); textBox; textBox = textBox->nextTextBox())
         sortedTextBoxes.append(textBox);
 
     // If there is mixed directionality text, the boxes can be out of order,
     // (like Arabic with embedded LTR), so sort them first.
