<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WebCore/html/canvas/WebGLFramebuffer.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="WebGLFramebuffer.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="WebGLObject.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/html/canvas/WebGLFramebuffer.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -27,11 +27,13 @@</span>
  
  #if ENABLE(WEBGL)
  
  #include &quot;WebGLContextObject.h&quot;
  #include &quot;WebGLSharedObject.h&quot;
<span class="udiff-line-added">+ #include &lt;wtf/HashMap.h&gt;</span>
  #include &lt;wtf/RefCounted.h&gt;
<span class="udiff-line-added">+ #include &lt;wtf/Vector.h&gt;</span>
  
  namespace WebCore {
  
  class WebGLRenderbuffer;
  class WebGLTexture;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -40,95 +42,95 @@</span>
  public:
      class WebGLAttachment : public RefCounted&lt;WebGLAttachment&gt; {
      public:
          virtual ~WebGLAttachment();
  
<span class="udiff-line-modified-removed">-         virtual GC3Dsizei getWidth() const = 0;</span>
<span class="udiff-line-modified-removed">-         virtual GC3Dsizei getHeight() const = 0;</span>
<span class="udiff-line-modified-removed">-         virtual GC3Denum getFormat() const = 0;</span>
<span class="udiff-line-modified-added">+         virtual GCGLsizei getWidth() const = 0;</span>
<span class="udiff-line-modified-added">+         virtual GCGLsizei getHeight() const = 0;</span>
<span class="udiff-line-modified-added">+         virtual GCGLenum getFormat() const = 0;</span>
          virtual WebGLSharedObject* getObject() const = 0;
          virtual bool isSharedObject(WebGLSharedObject*) const = 0;
          virtual bool isValid() const = 0;
          virtual bool isInitialized() const = 0;
          virtual void setInitialized() = 0;
<span class="udiff-line-modified-removed">-         virtual void onDetached(GraphicsContext3D*) = 0;</span>
<span class="udiff-line-modified-removed">-         virtual void attach(GraphicsContext3D*, GC3Denum attachment) = 0;</span>
<span class="udiff-line-modified-removed">-         virtual void unattach(GraphicsContext3D*, GC3Denum attachment) = 0;</span>
<span class="udiff-line-modified-added">+         virtual void onDetached(GraphicsContextGLOpenGL*) = 0;</span>
<span class="udiff-line-modified-added">+         virtual void attach(GraphicsContextGLOpenGL*, GCGLenum attachment) = 0;</span>
<span class="udiff-line-modified-added">+         virtual void unattach(GraphicsContextGLOpenGL*, GCGLenum attachment) = 0;</span>
  
      protected:
          WebGLAttachment();
      };
  
      virtual ~WebGLFramebuffer();
  
      static Ref&lt;WebGLFramebuffer&gt; create(WebGLRenderingContextBase&amp;);
  
<span class="udiff-line-modified-removed">-     void setAttachmentForBoundFramebuffer(GC3Denum attachment, GC3Denum texTarget, WebGLTexture*, GC3Dint level);</span>
<span class="udiff-line-modified-removed">-     void setAttachmentForBoundFramebuffer(GC3Denum attachment, WebGLRenderbuffer*);</span>
<span class="udiff-line-modified-added">+     void setAttachmentForBoundFramebuffer(GCGLenum attachment, GCGLenum texTarget, WebGLTexture*, GCGLint level);</span>
<span class="udiff-line-modified-added">+     void setAttachmentForBoundFramebuffer(GCGLenum attachment, WebGLRenderbuffer*);</span>
      // If an object is attached to the currently bound framebuffer, remove it.
      void removeAttachmentFromBoundFramebuffer(WebGLSharedObject*);
      // If a given attachment point for the currently bound framebuffer is not null, remove the attached object.
<span class="udiff-line-modified-removed">-     void removeAttachmentFromBoundFramebuffer(GC3Denum);</span>
<span class="udiff-line-modified-removed">-     WebGLSharedObject* getAttachmentObject(GC3Denum) const;</span>
<span class="udiff-line-modified-added">+     void removeAttachmentFromBoundFramebuffer(GCGLenum);</span>
<span class="udiff-line-modified-added">+     WebGLSharedObject* getAttachmentObject(GCGLenum) const;</span>
  
<span class="udiff-line-modified-removed">-     GC3Denum getColorBufferFormat() const;</span>
<span class="udiff-line-modified-removed">-     GC3Dsizei getColorBufferWidth() const;</span>
<span class="udiff-line-modified-removed">-     GC3Dsizei getColorBufferHeight() const;</span>
<span class="udiff-line-modified-added">+     GCGLenum getColorBufferFormat() const;</span>
<span class="udiff-line-modified-added">+     GCGLsizei getColorBufferWidth() const;</span>
<span class="udiff-line-modified-added">+     GCGLsizei getColorBufferHeight() const;</span>
  
      // This should always be called before drawArray, drawElements, clear,
      // readPixels, copyTexImage2D, copyTexSubImage2D if this framebuffer is
      // currently bound.
      // Return false if the framebuffer is incomplete; otherwise initialize
      // the buffers if they haven&#39;t been initialized and
      // needToInitializeAttachments is true.
<span class="udiff-line-modified-removed">-     bool onAccess(GraphicsContext3D*, const char** reason);</span>
<span class="udiff-line-modified-added">+     bool onAccess(GraphicsContextGLOpenGL*, const char** reason);</span>
  
      // Software version of glCheckFramebufferStatus(), except that when
      // FRAMEBUFFER_COMPLETE is returned, it is still possible for
      // glCheckFramebufferStatus() to return FRAMEBUFFER_UNSUPPORTED,
      // depending on hardware implementation.
<span class="udiff-line-modified-removed">-     GC3Denum checkStatus(const char** reason) const;</span>
<span class="udiff-line-modified-added">+     GCGLenum checkStatus(const char** reason) const;</span>
  
      bool hasEverBeenBound() const { return object() &amp;&amp; m_hasEverBeenBound; }
  
      void setHasEverBeenBound() { m_hasEverBeenBound = true; }
  
      bool hasStencilBuffer() const;
  
      // Wrapper for drawBuffersEXT/drawBuffersARB to work around a driver bug.
<span class="udiff-line-modified-removed">-     void drawBuffers(const Vector&lt;GC3Denum&gt;&amp; bufs);</span>
<span class="udiff-line-modified-added">+     void drawBuffers(const Vector&lt;GCGLenum&gt;&amp; bufs);</span>
  
<span class="udiff-line-modified-removed">-     GC3Denum getDrawBuffer(GC3Denum);</span>
<span class="udiff-line-modified-added">+     GCGLenum getDrawBuffer(GCGLenum);</span>
  
  protected:
      WebGLFramebuffer(WebGLRenderingContextBase&amp;);
  
<span class="udiff-line-modified-removed">-     void deleteObjectImpl(GraphicsContext3D*, Platform3DObject) override;</span>
<span class="udiff-line-modified-added">+     void deleteObjectImpl(GraphicsContextGLOpenGL*, PlatformGLObject) override;</span>
  
  private:
<span class="udiff-line-modified-removed">-     WebGLAttachment* getAttachment(GC3Denum) const;</span>
<span class="udiff-line-modified-added">+     WebGLAttachment* getAttachment(GCGLenum) const;</span>
  
      // Return false if framebuffer is incomplete.
<span class="udiff-line-modified-removed">-     bool initializeAttachments(GraphicsContext3D*, const char** reason);</span>
<span class="udiff-line-modified-added">+     bool initializeAttachments(GraphicsContextGLOpenGL*, const char** reason);</span>
  
      // Check if the framebuffer is currently bound.
      bool isBound() const;
  
      // attach &#39;attachment&#39; at &#39;attachmentPoint&#39;.
<span class="udiff-line-modified-removed">-     void attach(GC3Denum attachment, GC3Denum attachmentPoint);</span>
<span class="udiff-line-modified-added">+     void attach(GCGLenum attachment, GCGLenum attachmentPoint);</span>
  
      // Check if a new drawBuffers call should be issued. This is called when we add or remove an attachment.
      void drawBuffersIfNecessary(bool force);
  
<span class="udiff-line-modified-removed">-     typedef WTF::HashMap&lt;GC3Denum, RefPtr&lt;WebGLAttachment&gt;&gt; AttachmentMap;</span>
<span class="udiff-line-modified-added">+     typedef WTF::HashMap&lt;GCGLenum, RefPtr&lt;WebGLAttachment&gt;&gt; AttachmentMap;</span>
  
      AttachmentMap m_attachments;
  
      bool m_hasEverBeenBound;
  
<span class="udiff-line-modified-removed">-     Vector&lt;GC3Denum&gt; m_drawBuffers;</span>
<span class="udiff-line-modified-removed">-     Vector&lt;GC3Denum&gt; m_filteredDrawBuffers;</span>
<span class="udiff-line-modified-added">+     Vector&lt;GCGLenum&gt; m_drawBuffers;</span>
<span class="udiff-line-modified-added">+     Vector&lt;GCGLenum&gt; m_filteredDrawBuffers;</span>
  };
  
  } // namespace WebCore
  
  #endif
</pre>
<center><a href="WebGLFramebuffer.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="WebGLObject.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>