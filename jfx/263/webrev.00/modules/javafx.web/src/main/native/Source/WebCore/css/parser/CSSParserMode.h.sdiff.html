<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/css/parser/CSSParserMode.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="CSSParserImpl.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="CSSParserObserver.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/css/parser/CSSParserMode.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 1 /*
 2  * Copyright (C) 2012 Adobe Systems Incorporated. All rights reserved.
<span class="line-modified"> 3  * Copyright (C) 2012 Apple Inc. All rights reserved.</span>
 4  *
 5  * Redistribution and use in source and binary forms, with or without
 6  * modification, are permitted provided that the following conditions
 7  * are met:
 8  *
 9  * 1. Redistributions of source code must retain the above
10  *    copyright notice, this list of conditions and the following
11  *    disclaimer.
12  * 2. Redistributions in binary form must reproduce the above
13  *    copyright notice, this list of conditions and the following
14  *    disclaimer in the documentation and/or other materials
15  *    provided with the distribution.
16  *
17  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
18  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
19  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
20  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
21  * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
22  * OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
23  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
24  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
25  * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
26  * TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
27  * THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
28  * SUCH DAMAGE.
29  */
30 
31 #pragma once
32 
33 namespace WebCore {
34 
35 // Must not grow beyond 3 bits, due to packing in StyleProperties.
36 enum CSSParserMode {
37     HTMLStandardMode,
38     HTMLQuirksMode,
<span class="line-removed">39     // HTML attributes are parsed in quirks mode but also allows internal properties and values.</span>
<span class="line-removed">40     HTMLAttributeMode,</span>
41     // SVG attributes are parsed in quirks mode but rules differ slightly.
42     SVGAttributeMode,
43     // @viewport rules are parsed in standards mode but CSSOM modifications (via StylePropertySet)
44     // must call parseViewportProperties so needs a special mode.
45     CSSViewportRuleMode,
46     // User agent stylesheets are parsed in standards mode but also allows internal properties and values.
<span class="line-modified">47     UASheetMode</span>


48 };
49 
50 inline bool isQuirksModeBehavior(CSSParserMode mode)
51 {
<span class="line-modified">52     return mode == HTMLQuirksMode || mode == HTMLAttributeMode;</span>
53 }
54 
55 inline bool isUASheetBehavior(CSSParserMode mode)
56 {
57     return mode == UASheetMode;
58 }
59 
60 inline bool isUnitLessValueParsingEnabledForMode(CSSParserMode mode)
61 {
<span class="line-modified">62     return mode == HTMLAttributeMode || mode == SVGAttributeMode;</span>
63 }
64 
65 inline bool isCSSViewportParsingEnabledForMode(CSSParserMode mode)
66 {
67     return mode == CSSViewportRuleMode;
68 }
69 
70 // FIXME-NEWPARSER: Next two functions should be removed eventually.
71 inline CSSParserMode strictToCSSParserMode(bool inStrictMode)
72 {
73     return inStrictMode ? HTMLStandardMode : HTMLQuirksMode;
74 }
75 
76 inline bool isStrictParserMode(CSSParserMode cssParserMode)
77 {
<span class="line-modified">78     return cssParserMode == UASheetMode || cssParserMode == HTMLStandardMode || cssParserMode == SVGAttributeMode;</span>











79 }
80 
81 } // namespace WebCore
</pre>
</td>
<td>
<hr />
<pre>
 1 /*
 2  * Copyright (C) 2012 Adobe Systems Incorporated. All rights reserved.
<span class="line-modified"> 3  * Copyright (C) 2012-2020 Apple Inc. All rights reserved.</span>
 4  *
 5  * Redistribution and use in source and binary forms, with or without
 6  * modification, are permitted provided that the following conditions
 7  * are met:
 8  *
 9  * 1. Redistributions of source code must retain the above
10  *    copyright notice, this list of conditions and the following
11  *    disclaimer.
12  * 2. Redistributions in binary form must reproduce the above
13  *    copyright notice, this list of conditions and the following
14  *    disclaimer in the documentation and/or other materials
15  *    provided with the distribution.
16  *
17  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
18  * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
19  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
20  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
21  * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
22  * OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
23  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
24  * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
25  * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
26  * TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
27  * THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
28  * SUCH DAMAGE.
29  */
30 
31 #pragma once
32 
33 namespace WebCore {
34 
35 // Must not grow beyond 3 bits, due to packing in StyleProperties.
36 enum CSSParserMode {
37     HTMLStandardMode,
38     HTMLQuirksMode,


39     // SVG attributes are parsed in quirks mode but rules differ slightly.
40     SVGAttributeMode,
41     // @viewport rules are parsed in standards mode but CSSOM modifications (via StylePropertySet)
42     // must call parseViewportProperties so needs a special mode.
43     CSSViewportRuleMode,
44     // User agent stylesheets are parsed in standards mode but also allows internal properties and values.
<span class="line-modified">45     UASheetMode,</span>
<span class="line-added">46     // WebVTT places limitations on external resources.</span>
<span class="line-added">47     WebVTTMode</span>
48 };
49 
50 inline bool isQuirksModeBehavior(CSSParserMode mode)
51 {
<span class="line-modified">52     return mode == HTMLQuirksMode;</span>
53 }
54 
55 inline bool isUASheetBehavior(CSSParserMode mode)
56 {
57     return mode == UASheetMode;
58 }
59 
60 inline bool isUnitLessValueParsingEnabledForMode(CSSParserMode mode)
61 {
<span class="line-modified">62     return mode == SVGAttributeMode;</span>
63 }
64 
65 inline bool isCSSViewportParsingEnabledForMode(CSSParserMode mode)
66 {
67     return mode == CSSViewportRuleMode;
68 }
69 
70 // FIXME-NEWPARSER: Next two functions should be removed eventually.
71 inline CSSParserMode strictToCSSParserMode(bool inStrictMode)
72 {
73     return inStrictMode ? HTMLStandardMode : HTMLQuirksMode;
74 }
75 
76 inline bool isStrictParserMode(CSSParserMode cssParserMode)
77 {
<span class="line-modified">78     switch (cssParserMode) {</span>
<span class="line-added">79     case UASheetMode:</span>
<span class="line-added">80     case HTMLStandardMode:</span>
<span class="line-added">81     case SVGAttributeMode:</span>
<span class="line-added">82     case WebVTTMode:</span>
<span class="line-added">83         return true;</span>
<span class="line-added">84     case HTMLQuirksMode:</span>
<span class="line-added">85     case CSSViewportRuleMode:</span>
<span class="line-added">86         return false;</span>
<span class="line-added">87     }</span>
<span class="line-added">88     ASSERT_NOT_REACHED();</span>
<span class="line-added">89     return false;</span>
90 }
91 
92 } // namespace WebCore
</pre>
</td>
</tr>
</table>
<center><a href="CSSParserImpl.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="CSSParserObserver.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>