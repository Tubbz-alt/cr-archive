<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/testing/InternalSettings.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../svg/properties/SVGValuePropertyListAnimatorImpl.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="InternalSettings.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/testing/InternalSettings.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  81     , m_shouldConvertPositionStyleOnCopy(settings.shouldConvertPositionStyleOnCopy())
  82     , m_fontFallbackPrefersPictographs(settings.fontFallbackPrefersPictographs())
  83     , m_shouldIgnoreFontLoadCompletions(settings.shouldIgnoreFontLoadCompletions())
  84     , m_backgroundShouldExtendBeyondPage(settings.backgroundShouldExtendBeyondPage())
  85     , m_storageBlockingPolicy(settings.storageBlockingPolicy())
  86     , m_scrollingTreeIncludesFrames(settings.scrollingTreeIncludesFrames())
  87 #if ENABLE(TOUCH_EVENTS)
  88     , m_touchEventEmulationEnabled(settings.isTouchEventEmulationEnabled())
  89 #endif
  90 #if ENABLE(WIRELESS_PLAYBACK_TARGET)
  91     , m_allowsAirPlayForMediaPlayback(settings.allowsAirPlayForMediaPlayback())
  92 #endif
  93     , m_allowsInlineMediaPlayback(settings.allowsInlineMediaPlayback())
  94     , m_allowsInlineMediaPlaybackAfterFullscreen(settings.allowsInlineMediaPlaybackAfterFullscreen())
  95     , m_inlineMediaPlaybackRequiresPlaysInlineAttribute(settings.inlineMediaPlaybackRequiresPlaysInlineAttribute())
  96     , m_deferredCSSParserEnabled(settings.deferredCSSParserEnabled())
  97     , m_inputEventsEnabled(settings.inputEventsEnabled())
  98     , m_incompleteImageBorderEnabled(settings.incompleteImageBorderEnabled())
  99     , m_shouldDispatchSyntheticMouseEventsWhenModifyingSelection(settings.shouldDispatchSyntheticMouseEventsWhenModifyingSelection())
 100     , m_shouldDispatchSyntheticMouseOutAfterSyntheticClick(settings.shouldDispatchSyntheticMouseOutAfterSyntheticClick())

 101     , m_shouldDeactivateAudioSession(PlatformMediaSessionManager::shouldDeactivateAudioSession())

 102     , m_animatedImageDebugCanvasDrawingEnabled(settings.animatedImageDebugCanvasDrawingEnabled())
 103     , m_userInterfaceDirectionPolicy(settings.userInterfaceDirectionPolicy())
 104     , m_systemLayoutDirection(settings.systemLayoutDirection())
 105     , m_pdfImageCachingPolicy(settings.pdfImageCachingPolicy())
 106     , m_forcedColorsAreInvertedAccessibilityValue(settings.forcedColorsAreInvertedAccessibilityValue())
 107     , m_forcedDisplayIsMonochromeAccessibilityValue(settings.forcedDisplayIsMonochromeAccessibilityValue())
 108     , m_forcedPrefersReducedMotionAccessibilityValue(settings.forcedPrefersReducedMotionAccessibilityValue())
 109     , m_fontLoadTimingOverride(settings.fontLoadTimingOverride())
 110     , m_frameFlattening(settings.frameFlattening())
 111 #if ENABLE(INDEXED_DATABASE_IN_WORKERS)
 112     , m_indexedDBWorkersEnabled(RuntimeEnabledFeatures::sharedFeatures().indexedDBWorkersEnabled())
 113 #endif
 114 #if ENABLE(WEBGL2)
 115     , m_webGL2Enabled(RuntimeEnabledFeatures::sharedFeatures().webGL2Enabled())
 116 #endif
<span class="line-removed"> 117     , m_webVREnabled(RuntimeEnabledFeatures::sharedFeatures().webVREnabled())</span>
 118 #if ENABLE(MEDIA_STREAM)
 119     , m_setScreenCaptureEnabled(RuntimeEnabledFeatures::sharedFeatures().screenCaptureEnabled())
 120 #endif
 121     , m_shouldMockBoldSystemFontForAccessibility(RenderTheme::singleton().shouldMockBoldSystemFontForAccessibility())
 122 #if USE(AUDIO_SESSION)
 123     , m_shouldManageAudioSessionCategory(DeprecatedGlobalSettings::shouldManageAudioSessionCategory())
 124 #endif
 125     , m_customPasteboardDataEnabled(RuntimeEnabledFeatures::sharedFeatures().customPasteboardDataEnabled())
 126 {
 127 }
 128 
 129 void InternalSettings::Backup::restoreTo(Settings&amp; settings)
 130 {
 131     settings.setEditingBehaviorType(m_originalEditingBehavior);
 132 
 133     for (const auto&amp; standardFont : m_standardFontFamilies)
 134         settings.setStandardFontFamily(standardFont.value, static_cast&lt;UScriptCode&gt;(standardFont.key));
 135     m_standardFontFamilies.clear();
 136 
 137     for (const auto&amp; fixedFont : m_fixedFontFamilies)
</pre>
<hr />
<pre>
 184     settings.setBackgroundShouldExtendBeyondPage(m_backgroundShouldExtendBeyondPage);
 185     settings.setStorageBlockingPolicy(m_storageBlockingPolicy);
 186     settings.setScrollingTreeIncludesFrames(m_scrollingTreeIncludesFrames);
 187 #if ENABLE(TOUCH_EVENTS)
 188     settings.setTouchEventEmulationEnabled(m_touchEventEmulationEnabled);
 189 #endif
 190     settings.setAllowsInlineMediaPlayback(m_allowsInlineMediaPlayback);
 191     settings.setAllowsInlineMediaPlaybackAfterFullscreen(m_allowsInlineMediaPlaybackAfterFullscreen);
 192     settings.setInlineMediaPlaybackRequiresPlaysInlineAttribute(m_inlineMediaPlaybackRequiresPlaysInlineAttribute);
 193     settings.setQuickTimePluginReplacementEnabled(m_quickTimePluginReplacementEnabled);
 194     settings.setYouTubeFlashPluginReplacementEnabled(m_youTubeFlashPluginReplacementEnabled);
 195     settings.setDeferredCSSParserEnabled(m_deferredCSSParserEnabled);
 196     settings.setInputEventsEnabled(m_inputEventsEnabled);
 197     settings.setUserInterfaceDirectionPolicy(m_userInterfaceDirectionPolicy);
 198     settings.setSystemLayoutDirection(m_systemLayoutDirection);
 199     settings.setPdfImageCachingPolicy(m_pdfImageCachingPolicy);
 200     settings.setForcedColorsAreInvertedAccessibilityValue(m_forcedColorsAreInvertedAccessibilityValue);
 201     settings.setForcedDisplayIsMonochromeAccessibilityValue(m_forcedDisplayIsMonochromeAccessibilityValue);
 202     settings.setForcedPrefersReducedMotionAccessibilityValue(m_forcedPrefersReducedMotionAccessibilityValue);
 203     settings.setFontLoadTimingOverride(m_fontLoadTimingOverride);
<span class="line-removed"> 204     DeprecatedGlobalSettings::setAllowsAnySSLCertificate(false);</span>
 205     RenderTheme::singleton().setShouldMockBoldSystemFontForAccessibility(m_shouldMockBoldSystemFontForAccessibility);
 206     FontCache::singleton().setShouldMockBoldSystemFontForAccessibility(m_shouldMockBoldSystemFontForAccessibility);
 207     settings.setFrameFlattening(m_frameFlattening);
 208     settings.setIncompleteImageBorderEnabled(m_incompleteImageBorderEnabled);
 209     settings.setShouldDispatchSyntheticMouseEventsWhenModifyingSelection(m_shouldDispatchSyntheticMouseEventsWhenModifyingSelection);
 210     settings.setShouldDispatchSyntheticMouseOutAfterSyntheticClick(m_shouldDispatchSyntheticMouseOutAfterSyntheticClick);

 211     PlatformMediaSessionManager::setShouldDeactivateAudioSession(m_shouldDeactivateAudioSession);

 212     settings.setAnimatedImageDebugCanvasDrawingEnabled(m_animatedImageDebugCanvasDrawingEnabled);
 213 
 214 #if ENABLE(INDEXED_DATABASE_IN_WORKERS)
 215     RuntimeEnabledFeatures::sharedFeatures().setIndexedDBWorkersEnabled(m_indexedDBWorkersEnabled);
 216 #endif
 217 #if ENABLE(WEBGL2)
 218     RuntimeEnabledFeatures::sharedFeatures().setWebGL2Enabled(m_webGL2Enabled);
 219 #endif
<span class="line-removed"> 220     RuntimeEnabledFeatures::sharedFeatures().setWebVREnabled(m_webVREnabled);</span>
 221 #if ENABLE(MEDIA_STREAM)
 222     RuntimeEnabledFeatures::sharedFeatures().setScreenCaptureEnabled(m_setScreenCaptureEnabled);
 223 #endif
 224     RuntimeEnabledFeatures::sharedFeatures().setCustomPasteboardDataEnabled(m_customPasteboardDataEnabled);
 225 
 226 #if USE(AUDIO_SESSION)
 227     DeprecatedGlobalSettings::setShouldManageAudioSessionCategory(m_shouldManageAudioSessionCategory);
 228 #endif
 229 }
 230 
 231 class InternalSettingsWrapper : public Supplement&lt;Page&gt; {
 232     WTF_MAKE_FAST_ALLOCATED;
 233 public:
 234     explicit InternalSettingsWrapper(Page* page)
 235         : m_internalSettings(InternalSettings::create(page)) { }
 236     virtual ~InternalSettingsWrapper() { m_internalSettings-&gt;hostDestroyed(); }
<span class="line-modified"> 237 #if !ASSERT_DISABLED</span>
 238     bool isRefCountedWrapper() const override { return true; }
 239 #endif
 240     InternalSettings* internalSettings() const { return m_internalSettings.get(); }
 241 
 242 private:
 243     RefPtr&lt;InternalSettings&gt; m_internalSettings;
 244 };
 245 
 246 const char* InternalSettings::supplementName()
 247 {
 248     return &quot;InternalSettings&quot;;
 249 }
 250 
 251 InternalSettings* InternalSettings::from(Page* page)
 252 {
 253     if (!Supplement&lt;Page&gt;::from(page, supplementName()))
 254         Supplement&lt;Page&gt;::provideTo(page, supplementName(), makeUnique&lt;InternalSettingsWrapper&gt;(page));
 255     return static_cast&lt;InternalSettingsWrapper*&gt;(Supplement&lt;Page&gt;::from(page, supplementName()))-&gt;internalSettings();
 256 }
 257 
</pre>
<hr />
<pre>
 782 }
 783 
 784 void InternalSettings::setWebGL2Enabled(bool enabled)
 785 {
 786 #if ENABLE(WEBGL2)
 787     RuntimeEnabledFeatures::sharedFeatures().setWebGL2Enabled(enabled);
 788 #else
 789     UNUSED_PARAM(enabled);
 790 #endif
 791 }
 792 
 793 void InternalSettings::setWebGPUEnabled(bool enabled)
 794 {
 795 #if ENABLE(WEBGPU)
 796     RuntimeEnabledFeatures::sharedFeatures().setWebGPUEnabled(enabled);
 797 #else
 798     UNUSED_PARAM(enabled);
 799 #endif
 800 }
 801 
<span class="line-removed"> 802 void InternalSettings::setWebVREnabled(bool enabled)</span>
<span class="line-removed"> 803 {</span>
<span class="line-removed"> 804     RuntimeEnabledFeatures::sharedFeatures().setWebVREnabled(enabled);</span>
<span class="line-removed"> 805 }</span>
<span class="line-removed"> 806 </span>
 807 void InternalSettings::setScreenCaptureEnabled(bool enabled)
 808 {
 809 #if ENABLE(MEDIA_STREAM)
 810     RuntimeEnabledFeatures::sharedFeatures().setScreenCaptureEnabled(enabled);
 811 #else
 812     UNUSED_PARAM(enabled);
 813 #endif
 814 }
 815 
 816 ExceptionOr&lt;String&gt; InternalSettings::userInterfaceDirectionPolicy()
 817 {
 818     if (!m_page)
 819         return Exception { InvalidAccessError };
 820     switch (settings().userInterfaceDirectionPolicy()) {
 821     case UserInterfaceDirectionPolicy::Content:
 822         return &quot;Content&quot;_str;
 823     case UserInterfaceDirectionPolicy::System:
 824         return &quot;View&quot;_str;
 825     }
 826     ASSERT_NOT_REACHED();
</pre>
<hr />
<pre>
 986 InternalSettings::ForcedAccessibilityValue InternalSettings::forcedDisplayIsMonochromeAccessibilityValue() const
 987 {
 988     return settingsToInternalSettingsValue(settings().forcedDisplayIsMonochromeAccessibilityValue());
 989 }
 990 
 991 void InternalSettings::setForcedDisplayIsMonochromeAccessibilityValue(InternalSettings::ForcedAccessibilityValue value)
 992 {
 993     settings().setForcedDisplayIsMonochromeAccessibilityValue(internalSettingsToSettingsValue(value));
 994 }
 995 
 996 InternalSettings::ForcedAccessibilityValue InternalSettings::forcedPrefersReducedMotionAccessibilityValue() const
 997 {
 998     return settingsToInternalSettingsValue(settings().forcedPrefersReducedMotionAccessibilityValue());
 999 }
1000 
1001 void InternalSettings::setForcedPrefersReducedMotionAccessibilityValue(InternalSettings::ForcedAccessibilityValue value)
1002 {
1003     settings().setForcedPrefersReducedMotionAccessibilityValue(internalSettingsToSettingsValue(value));
1004 }
1005 










1006 bool InternalSettings::webAnimationsCSSIntegrationEnabled()
1007 {
1008     return RuntimeEnabledFeatures::sharedFeatures().webAnimationsCSSIntegrationEnabled();
1009 }
1010 
1011 void InternalSettings::setShouldDeactivateAudioSession(bool should)
1012 {

1013     PlatformMediaSessionManager::setShouldDeactivateAudioSession(should);

1014 }
1015 
1016 // If you add to this class, make sure that you update the Backup class for test reproducability!
1017 
1018 }
</pre>
</td>
<td>
<hr />
<pre>
  81     , m_shouldConvertPositionStyleOnCopy(settings.shouldConvertPositionStyleOnCopy())
  82     , m_fontFallbackPrefersPictographs(settings.fontFallbackPrefersPictographs())
  83     , m_shouldIgnoreFontLoadCompletions(settings.shouldIgnoreFontLoadCompletions())
  84     , m_backgroundShouldExtendBeyondPage(settings.backgroundShouldExtendBeyondPage())
  85     , m_storageBlockingPolicy(settings.storageBlockingPolicy())
  86     , m_scrollingTreeIncludesFrames(settings.scrollingTreeIncludesFrames())
  87 #if ENABLE(TOUCH_EVENTS)
  88     , m_touchEventEmulationEnabled(settings.isTouchEventEmulationEnabled())
  89 #endif
  90 #if ENABLE(WIRELESS_PLAYBACK_TARGET)
  91     , m_allowsAirPlayForMediaPlayback(settings.allowsAirPlayForMediaPlayback())
  92 #endif
  93     , m_allowsInlineMediaPlayback(settings.allowsInlineMediaPlayback())
  94     , m_allowsInlineMediaPlaybackAfterFullscreen(settings.allowsInlineMediaPlaybackAfterFullscreen())
  95     , m_inlineMediaPlaybackRequiresPlaysInlineAttribute(settings.inlineMediaPlaybackRequiresPlaysInlineAttribute())
  96     , m_deferredCSSParserEnabled(settings.deferredCSSParserEnabled())
  97     , m_inputEventsEnabled(settings.inputEventsEnabled())
  98     , m_incompleteImageBorderEnabled(settings.incompleteImageBorderEnabled())
  99     , m_shouldDispatchSyntheticMouseEventsWhenModifyingSelection(settings.shouldDispatchSyntheticMouseEventsWhenModifyingSelection())
 100     , m_shouldDispatchSyntheticMouseOutAfterSyntheticClick(settings.shouldDispatchSyntheticMouseOutAfterSyntheticClick())
<span class="line-added"> 101 #if ENABLE(VIDEO) || ENABLE(WEB_AUDIO)</span>
 102     , m_shouldDeactivateAudioSession(PlatformMediaSessionManager::shouldDeactivateAudioSession())
<span class="line-added"> 103 #endif</span>
 104     , m_animatedImageDebugCanvasDrawingEnabled(settings.animatedImageDebugCanvasDrawingEnabled())
 105     , m_userInterfaceDirectionPolicy(settings.userInterfaceDirectionPolicy())
 106     , m_systemLayoutDirection(settings.systemLayoutDirection())
 107     , m_pdfImageCachingPolicy(settings.pdfImageCachingPolicy())
 108     , m_forcedColorsAreInvertedAccessibilityValue(settings.forcedColorsAreInvertedAccessibilityValue())
 109     , m_forcedDisplayIsMonochromeAccessibilityValue(settings.forcedDisplayIsMonochromeAccessibilityValue())
 110     , m_forcedPrefersReducedMotionAccessibilityValue(settings.forcedPrefersReducedMotionAccessibilityValue())
 111     , m_fontLoadTimingOverride(settings.fontLoadTimingOverride())
 112     , m_frameFlattening(settings.frameFlattening())
 113 #if ENABLE(INDEXED_DATABASE_IN_WORKERS)
 114     , m_indexedDBWorkersEnabled(RuntimeEnabledFeatures::sharedFeatures().indexedDBWorkersEnabled())
 115 #endif
 116 #if ENABLE(WEBGL2)
 117     , m_webGL2Enabled(RuntimeEnabledFeatures::sharedFeatures().webGL2Enabled())
 118 #endif

 119 #if ENABLE(MEDIA_STREAM)
 120     , m_setScreenCaptureEnabled(RuntimeEnabledFeatures::sharedFeatures().screenCaptureEnabled())
 121 #endif
 122     , m_shouldMockBoldSystemFontForAccessibility(RenderTheme::singleton().shouldMockBoldSystemFontForAccessibility())
 123 #if USE(AUDIO_SESSION)
 124     , m_shouldManageAudioSessionCategory(DeprecatedGlobalSettings::shouldManageAudioSessionCategory())
 125 #endif
 126     , m_customPasteboardDataEnabled(RuntimeEnabledFeatures::sharedFeatures().customPasteboardDataEnabled())
 127 {
 128 }
 129 
 130 void InternalSettings::Backup::restoreTo(Settings&amp; settings)
 131 {
 132     settings.setEditingBehaviorType(m_originalEditingBehavior);
 133 
 134     for (const auto&amp; standardFont : m_standardFontFamilies)
 135         settings.setStandardFontFamily(standardFont.value, static_cast&lt;UScriptCode&gt;(standardFont.key));
 136     m_standardFontFamilies.clear();
 137 
 138     for (const auto&amp; fixedFont : m_fixedFontFamilies)
</pre>
<hr />
<pre>
 185     settings.setBackgroundShouldExtendBeyondPage(m_backgroundShouldExtendBeyondPage);
 186     settings.setStorageBlockingPolicy(m_storageBlockingPolicy);
 187     settings.setScrollingTreeIncludesFrames(m_scrollingTreeIncludesFrames);
 188 #if ENABLE(TOUCH_EVENTS)
 189     settings.setTouchEventEmulationEnabled(m_touchEventEmulationEnabled);
 190 #endif
 191     settings.setAllowsInlineMediaPlayback(m_allowsInlineMediaPlayback);
 192     settings.setAllowsInlineMediaPlaybackAfterFullscreen(m_allowsInlineMediaPlaybackAfterFullscreen);
 193     settings.setInlineMediaPlaybackRequiresPlaysInlineAttribute(m_inlineMediaPlaybackRequiresPlaysInlineAttribute);
 194     settings.setQuickTimePluginReplacementEnabled(m_quickTimePluginReplacementEnabled);
 195     settings.setYouTubeFlashPluginReplacementEnabled(m_youTubeFlashPluginReplacementEnabled);
 196     settings.setDeferredCSSParserEnabled(m_deferredCSSParserEnabled);
 197     settings.setInputEventsEnabled(m_inputEventsEnabled);
 198     settings.setUserInterfaceDirectionPolicy(m_userInterfaceDirectionPolicy);
 199     settings.setSystemLayoutDirection(m_systemLayoutDirection);
 200     settings.setPdfImageCachingPolicy(m_pdfImageCachingPolicy);
 201     settings.setForcedColorsAreInvertedAccessibilityValue(m_forcedColorsAreInvertedAccessibilityValue);
 202     settings.setForcedDisplayIsMonochromeAccessibilityValue(m_forcedDisplayIsMonochromeAccessibilityValue);
 203     settings.setForcedPrefersReducedMotionAccessibilityValue(m_forcedPrefersReducedMotionAccessibilityValue);
 204     settings.setFontLoadTimingOverride(m_fontLoadTimingOverride);

 205     RenderTheme::singleton().setShouldMockBoldSystemFontForAccessibility(m_shouldMockBoldSystemFontForAccessibility);
 206     FontCache::singleton().setShouldMockBoldSystemFontForAccessibility(m_shouldMockBoldSystemFontForAccessibility);
 207     settings.setFrameFlattening(m_frameFlattening);
 208     settings.setIncompleteImageBorderEnabled(m_incompleteImageBorderEnabled);
 209     settings.setShouldDispatchSyntheticMouseEventsWhenModifyingSelection(m_shouldDispatchSyntheticMouseEventsWhenModifyingSelection);
 210     settings.setShouldDispatchSyntheticMouseOutAfterSyntheticClick(m_shouldDispatchSyntheticMouseOutAfterSyntheticClick);
<span class="line-added"> 211 #if ENABLE(VIDEO) || ENABLE(WEB_AUDIO)</span>
 212     PlatformMediaSessionManager::setShouldDeactivateAudioSession(m_shouldDeactivateAudioSession);
<span class="line-added"> 213 #endif</span>
 214     settings.setAnimatedImageDebugCanvasDrawingEnabled(m_animatedImageDebugCanvasDrawingEnabled);
 215 
 216 #if ENABLE(INDEXED_DATABASE_IN_WORKERS)
 217     RuntimeEnabledFeatures::sharedFeatures().setIndexedDBWorkersEnabled(m_indexedDBWorkersEnabled);
 218 #endif
 219 #if ENABLE(WEBGL2)
 220     RuntimeEnabledFeatures::sharedFeatures().setWebGL2Enabled(m_webGL2Enabled);
 221 #endif

 222 #if ENABLE(MEDIA_STREAM)
 223     RuntimeEnabledFeatures::sharedFeatures().setScreenCaptureEnabled(m_setScreenCaptureEnabled);
 224 #endif
 225     RuntimeEnabledFeatures::sharedFeatures().setCustomPasteboardDataEnabled(m_customPasteboardDataEnabled);
 226 
 227 #if USE(AUDIO_SESSION)
 228     DeprecatedGlobalSettings::setShouldManageAudioSessionCategory(m_shouldManageAudioSessionCategory);
 229 #endif
 230 }
 231 
 232 class InternalSettingsWrapper : public Supplement&lt;Page&gt; {
 233     WTF_MAKE_FAST_ALLOCATED;
 234 public:
 235     explicit InternalSettingsWrapper(Page* page)
 236         : m_internalSettings(InternalSettings::create(page)) { }
 237     virtual ~InternalSettingsWrapper() { m_internalSettings-&gt;hostDestroyed(); }
<span class="line-modified"> 238 #if ASSERT_ENABLED</span>
 239     bool isRefCountedWrapper() const override { return true; }
 240 #endif
 241     InternalSettings* internalSettings() const { return m_internalSettings.get(); }
 242 
 243 private:
 244     RefPtr&lt;InternalSettings&gt; m_internalSettings;
 245 };
 246 
 247 const char* InternalSettings::supplementName()
 248 {
 249     return &quot;InternalSettings&quot;;
 250 }
 251 
 252 InternalSettings* InternalSettings::from(Page* page)
 253 {
 254     if (!Supplement&lt;Page&gt;::from(page, supplementName()))
 255         Supplement&lt;Page&gt;::provideTo(page, supplementName(), makeUnique&lt;InternalSettingsWrapper&gt;(page));
 256     return static_cast&lt;InternalSettingsWrapper*&gt;(Supplement&lt;Page&gt;::from(page, supplementName()))-&gt;internalSettings();
 257 }
 258 
</pre>
<hr />
<pre>
 783 }
 784 
 785 void InternalSettings::setWebGL2Enabled(bool enabled)
 786 {
 787 #if ENABLE(WEBGL2)
 788     RuntimeEnabledFeatures::sharedFeatures().setWebGL2Enabled(enabled);
 789 #else
 790     UNUSED_PARAM(enabled);
 791 #endif
 792 }
 793 
 794 void InternalSettings::setWebGPUEnabled(bool enabled)
 795 {
 796 #if ENABLE(WEBGPU)
 797     RuntimeEnabledFeatures::sharedFeatures().setWebGPUEnabled(enabled);
 798 #else
 799     UNUSED_PARAM(enabled);
 800 #endif
 801 }
 802 





 803 void InternalSettings::setScreenCaptureEnabled(bool enabled)
 804 {
 805 #if ENABLE(MEDIA_STREAM)
 806     RuntimeEnabledFeatures::sharedFeatures().setScreenCaptureEnabled(enabled);
 807 #else
 808     UNUSED_PARAM(enabled);
 809 #endif
 810 }
 811 
 812 ExceptionOr&lt;String&gt; InternalSettings::userInterfaceDirectionPolicy()
 813 {
 814     if (!m_page)
 815         return Exception { InvalidAccessError };
 816     switch (settings().userInterfaceDirectionPolicy()) {
 817     case UserInterfaceDirectionPolicy::Content:
 818         return &quot;Content&quot;_str;
 819     case UserInterfaceDirectionPolicy::System:
 820         return &quot;View&quot;_str;
 821     }
 822     ASSERT_NOT_REACHED();
</pre>
<hr />
<pre>
 982 InternalSettings::ForcedAccessibilityValue InternalSettings::forcedDisplayIsMonochromeAccessibilityValue() const
 983 {
 984     return settingsToInternalSettingsValue(settings().forcedDisplayIsMonochromeAccessibilityValue());
 985 }
 986 
 987 void InternalSettings::setForcedDisplayIsMonochromeAccessibilityValue(InternalSettings::ForcedAccessibilityValue value)
 988 {
 989     settings().setForcedDisplayIsMonochromeAccessibilityValue(internalSettingsToSettingsValue(value));
 990 }
 991 
 992 InternalSettings::ForcedAccessibilityValue InternalSettings::forcedPrefersReducedMotionAccessibilityValue() const
 993 {
 994     return settingsToInternalSettingsValue(settings().forcedPrefersReducedMotionAccessibilityValue());
 995 }
 996 
 997 void InternalSettings::setForcedPrefersReducedMotionAccessibilityValue(InternalSettings::ForcedAccessibilityValue value)
 998 {
 999     settings().setForcedPrefersReducedMotionAccessibilityValue(internalSettingsToSettingsValue(value));
1000 }
1001 
<span class="line-added">1002 InternalSettings::ForcedAccessibilityValue InternalSettings::forcedSupportsHighDynamicRangeValue() const</span>
<span class="line-added">1003 {</span>
<span class="line-added">1004     return settingsToInternalSettingsValue(settings().forcedSupportsHighDynamicRangeValue());</span>
<span class="line-added">1005 }</span>
<span class="line-added">1006 </span>
<span class="line-added">1007 void InternalSettings::setForcedSupportsHighDynamicRangeValue(InternalSettings::ForcedAccessibilityValue value)</span>
<span class="line-added">1008 {</span>
<span class="line-added">1009     settings().setForcedSupportsHighDynamicRangeValue(internalSettingsToSettingsValue(value));</span>
<span class="line-added">1010 }</span>
<span class="line-added">1011 </span>
1012 bool InternalSettings::webAnimationsCSSIntegrationEnabled()
1013 {
1014     return RuntimeEnabledFeatures::sharedFeatures().webAnimationsCSSIntegrationEnabled();
1015 }
1016 
1017 void InternalSettings::setShouldDeactivateAudioSession(bool should)
1018 {
<span class="line-added">1019 #if ENABLE(VIDEO) || ENABLE(WEB_AUDIO)</span>
1020     PlatformMediaSessionManager::setShouldDeactivateAudioSession(should);
<span class="line-added">1021 #endif</span>
1022 }
1023 
1024 // If you add to this class, make sure that you update the Backup class for test reproducability!
1025 
1026 }
</pre>
</td>
</tr>
</table>
<center><a href="../svg/properties/SVGValuePropertyListAnimatorImpl.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="InternalSettings.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>