<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/editing/VisiblePosition.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="VisiblePosition.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="VisibleSelection.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/editing/VisiblePosition.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 85     Element* rootEditableElement() const { return m_deepPosition.isNotNull() ? m_deepPosition.deprecatedNode()-&gt;rootEditableElement() : 0; }
 86 
 87     void getInlineBoxAndOffset(InlineBox*&amp; inlineBox, int&amp; caretOffset) const
 88     {
 89         m_deepPosition.getInlineBoxAndOffset(m_affinity, inlineBox, caretOffset);
 90     }
 91 
 92     void getInlineBoxAndOffset(TextDirection primaryDirection, InlineBox*&amp; inlineBox, int&amp; caretOffset) const
 93     {
 94         m_deepPosition.getInlineBoxAndOffset(m_affinity, primaryDirection, inlineBox, caretOffset);
 95     }
 96 
 97     // Rect is local to the returned renderer
 98     WEBCORE_EXPORT LayoutRect localCaretRect(RenderObject*&amp;) const;
 99     // Bounds of (possibly transformed) caret in absolute coords
100     WEBCORE_EXPORT IntRect absoluteCaretBounds(bool* insideFixed = nullptr) const;
101     // Abs x/y position of the caret ignoring transforms.
102     // FIXME: navigation with transforms should be smarter.
103     WEBCORE_EXPORT int lineDirectionPointForBlockDirectionNavigation() const;
104 


105     // This is a tentative enhancement of operator== to account for affinity.
106     // FIXME: Combine this function with operator==
107     bool equals(const VisiblePosition&amp;) const;
108 
109 #if ENABLE(TREE_DEBUGGING)
110     void debugPosition(const char* msg = &quot;&quot;) const;
111     void formatForDebugger(char* buffer, unsigned length) const;
112     void showTreeForThis() const;
113 #endif
114 
115 private:
116     void init(const Position&amp;, EAffinity);
117     Position canonicalPosition(const Position&amp;);
118 
119     Position leftVisuallyDistinctCandidate() const;
120     Position rightVisuallyDistinctCandidate() const;
121 
122     Position m_deepPosition;
123     EAffinity m_affinity;
124 };
</pre>
<hr />
<pre>
148 {
149     return a.deepEquivalent() &lt;= b.deepEquivalent();
150 }
151 
152 inline bool operator&gt;=(const VisiblePosition&amp; a, const VisiblePosition&amp; b)
153 {
154     return a.deepEquivalent() &gt;= b.deepEquivalent();
155 }
156 
157 WEBCORE_EXPORT RefPtr&lt;Range&gt; makeRange(const VisiblePosition&amp;, const VisiblePosition&amp;);
158 bool setStart(Range*, const VisiblePosition&amp;);
159 bool setEnd(Range*, const VisiblePosition&amp;);
160 VisiblePosition startVisiblePosition(const Range*, EAffinity);
161 VisiblePosition endVisiblePosition(const Range*, EAffinity);
162 
163 WEBCORE_EXPORT Element* enclosingBlockFlowElement(const VisiblePosition&amp;);
164 
165 bool isFirstVisiblePositionInNode(const VisiblePosition&amp;, const Node*);
166 bool isLastVisiblePositionInNode(const VisiblePosition&amp;, const Node*);
167 


168 WTF::TextStream&amp; operator&lt;&lt;(WTF::TextStream&amp;, EAffinity);
169 WEBCORE_EXPORT WTF::TextStream&amp; operator&lt;&lt;(WTF::TextStream&amp;, const VisiblePosition&amp;);
170 
171 } // namespace WebCore
172 
173 #if ENABLE(TREE_DEBUGGING)
174 // Outside the WebCore namespace for ease of invocation from the debugger.
175 void showTree(const WebCore::VisiblePosition*);
176 void showTree(const WebCore::VisiblePosition&amp;);
177 #endif
</pre>
</td>
<td>
<hr />
<pre>
 85     Element* rootEditableElement() const { return m_deepPosition.isNotNull() ? m_deepPosition.deprecatedNode()-&gt;rootEditableElement() : 0; }
 86 
 87     void getInlineBoxAndOffset(InlineBox*&amp; inlineBox, int&amp; caretOffset) const
 88     {
 89         m_deepPosition.getInlineBoxAndOffset(m_affinity, inlineBox, caretOffset);
 90     }
 91 
 92     void getInlineBoxAndOffset(TextDirection primaryDirection, InlineBox*&amp; inlineBox, int&amp; caretOffset) const
 93     {
 94         m_deepPosition.getInlineBoxAndOffset(m_affinity, primaryDirection, inlineBox, caretOffset);
 95     }
 96 
 97     // Rect is local to the returned renderer
 98     WEBCORE_EXPORT LayoutRect localCaretRect(RenderObject*&amp;) const;
 99     // Bounds of (possibly transformed) caret in absolute coords
100     WEBCORE_EXPORT IntRect absoluteCaretBounds(bool* insideFixed = nullptr) const;
101     // Abs x/y position of the caret ignoring transforms.
102     // FIXME: navigation with transforms should be smarter.
103     WEBCORE_EXPORT int lineDirectionPointForBlockDirectionNavigation() const;
104 
<span class="line-added">105     WEBCORE_EXPORT FloatRect absoluteSelectionBoundsForLine() const;</span>
<span class="line-added">106 </span>
107     // This is a tentative enhancement of operator== to account for affinity.
108     // FIXME: Combine this function with operator==
109     bool equals(const VisiblePosition&amp;) const;
110 
111 #if ENABLE(TREE_DEBUGGING)
112     void debugPosition(const char* msg = &quot;&quot;) const;
113     void formatForDebugger(char* buffer, unsigned length) const;
114     void showTreeForThis() const;
115 #endif
116 
117 private:
118     void init(const Position&amp;, EAffinity);
119     Position canonicalPosition(const Position&amp;);
120 
121     Position leftVisuallyDistinctCandidate() const;
122     Position rightVisuallyDistinctCandidate() const;
123 
124     Position m_deepPosition;
125     EAffinity m_affinity;
126 };
</pre>
<hr />
<pre>
150 {
151     return a.deepEquivalent() &lt;= b.deepEquivalent();
152 }
153 
154 inline bool operator&gt;=(const VisiblePosition&amp; a, const VisiblePosition&amp; b)
155 {
156     return a.deepEquivalent() &gt;= b.deepEquivalent();
157 }
158 
159 WEBCORE_EXPORT RefPtr&lt;Range&gt; makeRange(const VisiblePosition&amp;, const VisiblePosition&amp;);
160 bool setStart(Range*, const VisiblePosition&amp;);
161 bool setEnd(Range*, const VisiblePosition&amp;);
162 VisiblePosition startVisiblePosition(const Range*, EAffinity);
163 VisiblePosition endVisiblePosition(const Range*, EAffinity);
164 
165 WEBCORE_EXPORT Element* enclosingBlockFlowElement(const VisiblePosition&amp;);
166 
167 bool isFirstVisiblePositionInNode(const VisiblePosition&amp;, const Node*);
168 bool isLastVisiblePositionInNode(const VisiblePosition&amp;, const Node*);
169 
<span class="line-added">170 bool areVisiblePositionsInSameTreeScope(const VisiblePosition&amp;, const VisiblePosition&amp;);</span>
<span class="line-added">171 </span>
172 WTF::TextStream&amp; operator&lt;&lt;(WTF::TextStream&amp;, EAffinity);
173 WEBCORE_EXPORT WTF::TextStream&amp; operator&lt;&lt;(WTF::TextStream&amp;, const VisiblePosition&amp;);
174 
175 } // namespace WebCore
176 
177 #if ENABLE(TREE_DEBUGGING)
178 // Outside the WebCore namespace for ease of invocation from the debugger.
179 void showTree(const WebCore::VisiblePosition*);
180 void showTree(const WebCore::VisiblePosition&amp;);
181 #endif
</pre>
</td>
</tr>
</table>
<center><a href="VisiblePosition.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="VisibleSelection.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>