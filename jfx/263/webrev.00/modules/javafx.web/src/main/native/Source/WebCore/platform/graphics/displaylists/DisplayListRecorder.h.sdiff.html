<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/displaylists/DisplayListRecorder.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DisplayListRecorder.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="DisplayListReplayer.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/displaylists/DisplayListRecorder.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 34 namespace WebCore {
 35 
 36 class FloatPoint;
 37 class FloatRect;
 38 class GlyphBuffer;
 39 class FloatPoint;
 40 class Font;
 41 class Image;
 42 
 43 struct GraphicsContextState;
 44 struct ImagePaintingOptions;
 45 
 46 namespace DisplayList {
 47 
 48 class DrawingItem;
 49 
 50 class Recorder : public GraphicsContextImpl {
 51     WTF_MAKE_FAST_ALLOCATED;
 52     WTF_MAKE_NONCOPYABLE(Recorder);
 53 public:
<span class="line-modified"> 54     Recorder(GraphicsContext&amp;, DisplayList&amp;, const GraphicsContextState&amp;, const FloatRect&amp; initialClip, const AffineTransform&amp;);</span>
<span class="line-modified"> 55     virtual ~Recorder();</span>
 56 
 57     size_t itemCount() const { return m_displayList.itemCount(); }
 58 
 59 private:
 60     bool hasPlatformContext() const override { return false; }
 61     PlatformGraphicsContext* platformContext() const override { return nullptr; }
 62 
 63     void updateState(const GraphicsContextState&amp;, GraphicsContextState::StateChangeFlags) override;
 64     void clearShadow() override;
 65 
 66     void setLineCap(LineCap) override;
 67     void setLineDash(const DashArray&amp;, float dashOffset) override;
 68     void setLineJoin(LineJoin) override;
 69     void setMiterLimit(float) override;
 70 
 71     void fillRect(const FloatRect&amp;) override;
 72     void fillRect(const FloatRect&amp;, const Color&amp;) override;
 73     void fillRect(const FloatRect&amp;, Gradient&amp;) override;
 74     void fillRect(const FloatRect&amp;, const Color&amp;, CompositeOperator, BlendMode) override;
 75     void fillRoundedRect(const FloatRoundedRect&amp;, const Color&amp;, BlendMode) override;
</pre>
<hr />
<pre>
149 
150         ContextState(const GraphicsContextState&amp; state, const AffineTransform&amp; transform, const FloatRect&amp; clip)
151             : ctm(transform)
152             , clipBounds(clip)
153             , lastDrawingState(state)
154         {
155         }
156 
157         ContextState cloneForSave(size_t saveIndex) const
158         {
159             ContextState state(lastDrawingState, ctm, clipBounds);
160             state.stateChange = stateChange;
161             state.saveItemIndex = saveIndex;
162             return state;
163         }
164 
165         void translate(float x, float y);
166         void rotate(float angleInRadians);
167         void scale(const FloatSize&amp;);
168         void concatCTM(const AffineTransform&amp;);

169     };
170 
171     const ContextState&amp; currentState() const;
172     ContextState&amp; currentState();
173 
174     DisplayList&amp; m_displayList;
175 
176     Vector&lt;ContextState, 32&gt; m_stateStack;
177 };
178 
179 }
180 }
181 
</pre>
</td>
<td>
<hr />
<pre>
 34 namespace WebCore {
 35 
 36 class FloatPoint;
 37 class FloatRect;
 38 class GlyphBuffer;
 39 class FloatPoint;
 40 class Font;
 41 class Image;
 42 
 43 struct GraphicsContextState;
 44 struct ImagePaintingOptions;
 45 
 46 namespace DisplayList {
 47 
 48 class DrawingItem;
 49 
 50 class Recorder : public GraphicsContextImpl {
 51     WTF_MAKE_FAST_ALLOCATED;
 52     WTF_MAKE_NONCOPYABLE(Recorder);
 53 public:
<span class="line-modified"> 54     WEBCORE_EXPORT Recorder(GraphicsContext&amp;, DisplayList&amp;, const GraphicsContextState&amp;, const FloatRect&amp; initialClip, const AffineTransform&amp;);</span>
<span class="line-modified"> 55     WEBCORE_EXPORT virtual ~Recorder();</span>
 56 
 57     size_t itemCount() const { return m_displayList.itemCount(); }
 58 
 59 private:
 60     bool hasPlatformContext() const override { return false; }
 61     PlatformGraphicsContext* platformContext() const override { return nullptr; }
 62 
 63     void updateState(const GraphicsContextState&amp;, GraphicsContextState::StateChangeFlags) override;
 64     void clearShadow() override;
 65 
 66     void setLineCap(LineCap) override;
 67     void setLineDash(const DashArray&amp;, float dashOffset) override;
 68     void setLineJoin(LineJoin) override;
 69     void setMiterLimit(float) override;
 70 
 71     void fillRect(const FloatRect&amp;) override;
 72     void fillRect(const FloatRect&amp;, const Color&amp;) override;
 73     void fillRect(const FloatRect&amp;, Gradient&amp;) override;
 74     void fillRect(const FloatRect&amp;, const Color&amp;, CompositeOperator, BlendMode) override;
 75     void fillRoundedRect(const FloatRoundedRect&amp;, const Color&amp;, BlendMode) override;
</pre>
<hr />
<pre>
149 
150         ContextState(const GraphicsContextState&amp; state, const AffineTransform&amp; transform, const FloatRect&amp; clip)
151             : ctm(transform)
152             , clipBounds(clip)
153             , lastDrawingState(state)
154         {
155         }
156 
157         ContextState cloneForSave(size_t saveIndex) const
158         {
159             ContextState state(lastDrawingState, ctm, clipBounds);
160             state.stateChange = stateChange;
161             state.saveItemIndex = saveIndex;
162             return state;
163         }
164 
165         void translate(float x, float y);
166         void rotate(float angleInRadians);
167         void scale(const FloatSize&amp;);
168         void concatCTM(const AffineTransform&amp;);
<span class="line-added">169         void setCTM(const AffineTransform&amp;);</span>
170     };
171 
172     const ContextState&amp; currentState() const;
173     ContextState&amp; currentState();
174 
175     DisplayList&amp; m_displayList;
176 
177     Vector&lt;ContextState, 32&gt; m_stateStack;
178 };
179 
180 }
181 }
182 
</pre>
</td>
</tr>
</table>
<center><a href="DisplayListRecorder.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="DisplayListReplayer.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>