<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/JavaScriptCore/heap/HandleSet.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="HandleBlock.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="HandleSet.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/JavaScriptCore/heap/HandleSet.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 85     }
 86 
 87     m_strongList.push(node);
 88 #if ENABLE(GC_VALIDATION)
 89     RELEASE_ASSERT(isLiveNode(node));
 90 #endif
 91 }
 92 
 93 unsigned HandleSet::protectedGlobalObjectCount()
 94 {
 95     unsigned count = 0;
 96     Node* end = m_strongList.end();
 97     for (Node* node = m_strongList.begin(); node != end; node = node-&gt;next()) {
 98         JSValue value = *node-&gt;slot();
 99         if (value.isObject() &amp;&amp; asObject(value.asCell())-&gt;isGlobalObject())
100             count++;
101     }
102     return count;
103 }
104 
<span class="line-modified">105 #if ENABLE(GC_VALIDATION) || !ASSERT_DISABLED</span>
106 bool HandleSet::isLiveNode(Node* node)
107 {
108     if (node-&gt;prev()-&gt;next() != node)
109         return false;
110     if (node-&gt;next()-&gt;prev() != node)
111         return false;
112 
113     return true;
114 }
<span class="line-modified">115 #endif</span>
116 
117 } // namespace JSC
</pre>
</td>
<td>
<hr />
<pre>
 85     }
 86 
 87     m_strongList.push(node);
 88 #if ENABLE(GC_VALIDATION)
 89     RELEASE_ASSERT(isLiveNode(node));
 90 #endif
 91 }
 92 
 93 unsigned HandleSet::protectedGlobalObjectCount()
 94 {
 95     unsigned count = 0;
 96     Node* end = m_strongList.end();
 97     for (Node* node = m_strongList.begin(); node != end; node = node-&gt;next()) {
 98         JSValue value = *node-&gt;slot();
 99         if (value.isObject() &amp;&amp; asObject(value.asCell())-&gt;isGlobalObject())
100             count++;
101     }
102     return count;
103 }
104 
<span class="line-modified">105 #if ENABLE(GC_VALIDATION) || ASSERT_ENABLED</span>
106 bool HandleSet::isLiveNode(Node* node)
107 {
108     if (node-&gt;prev()-&gt;next() != node)
109         return false;
110     if (node-&gt;next()-&gt;prev() != node)
111         return false;
112 
113     return true;
114 }
<span class="line-modified">115 #endif // ENABLE(GC_VALIDATION) || ASSERT_ENABLED</span>
116 
117 } // namespace JSC
</pre>
</td>
</tr>
</table>
<center><a href="HandleBlock.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="HandleSet.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>