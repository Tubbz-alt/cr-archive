<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/glx/GLContextGLX.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../freetype/SimpleFontDataFreeType.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="GLContextGLX.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/platform/graphics/glx/GLContextGLX.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  3  *
  4  *  This library is free software; you can redistribute it and/or
  5  *  modify it under the terms of the GNU Lesser General Public
  6  *  License as published by the Free Software Foundation; either
  7  *  version 2 of the License, or (at your option) any later version.
  8  *
  9  *  This library is distributed in the hope that it will be useful,
 10  *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 11  *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 12  *  Lesser General Public License for more details.
 13  *
 14  *  You should have received a copy of the GNU Lesser General Public
 15  *  License along with this library; if not, write to the Free Software
 16  *  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
 17  */
 18 
 19 #include &quot;config.h&quot;
 20 #include &quot;GLContextGLX.h&quot;
 21 
 22 #if USE(GLX)
<span class="line-removed"> 23 #include &quot;GraphicsContext3D.h&quot;</span>
 24 #include &quot;OpenGLShims.h&quot;
 25 #include &quot;PlatformDisplayX11.h&quot;
 26 #include &quot;XErrorTrapper.h&quot;
 27 #include &lt;GL/glx.h&gt;
 28 #include &lt;cairo.h&gt;
 29 
 30 #if ENABLE(ACCELERATED_2D_CANVAS)
 31 #include &lt;cairo-gl.h&gt;
 32 #endif
 33 
 34 namespace WebCore {
 35 
 36 #if !defined(PFNGLXSWAPINTERVALSGIPROC)
 37 typedef int (*PFNGLXSWAPINTERVALSGIPROC) (int);
 38 #endif
 39 #if !defined(PFNGLXCREATECONTEXTATTRIBSARBPROC)
 40 typedef GLXContext (*PFNGLXCREATECONTEXTATTRIBSARBPROC) (Display *dpy, GLXFBConfig config, GLXContext share_context, Bool direct, const int *attrib_list);
 41 #endif
 42 
 43 static PFNGLXSWAPINTERVALSGIPROC glXSwapIntervalSGI;
</pre>
<hr />
<pre>
397 
398 void GLContextGLX::swapInterval(int interval)
399 {
400     if (!hasSGISwapControlExtension(m_x11Display))
401         return;
402     glXSwapIntervalSGI(interval);
403 }
404 
405 cairo_device_t* GLContextGLX::cairoDevice()
406 {
407     if (m_cairoDevice)
408         return m_cairoDevice;
409 
410 #if ENABLE(ACCELERATED_2D_CANVAS) &amp;&amp; CAIRO_HAS_GLX_FUNCTIONS
411     m_cairoDevice = cairo_glx_device_create(m_x11Display, m_context.get());
412 #endif
413 
414     return m_cairoDevice;
415 }
416 
<span class="line-modified">417 #if ENABLE(GRAPHICS_CONTEXT_3D)</span>
<span class="line-modified">418 PlatformGraphicsContext3D GLContextGLX::platformContext()</span>
419 {
420     return m_context.get();
421 }
422 #endif
423 
424 } // namespace WebCore
425 
426 #endif // USE(GLX)
</pre>
</td>
<td>
<hr />
<pre>
  3  *
  4  *  This library is free software; you can redistribute it and/or
  5  *  modify it under the terms of the GNU Lesser General Public
  6  *  License as published by the Free Software Foundation; either
  7  *  version 2 of the License, or (at your option) any later version.
  8  *
  9  *  This library is distributed in the hope that it will be useful,
 10  *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 11  *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 12  *  Lesser General Public License for more details.
 13  *
 14  *  You should have received a copy of the GNU Lesser General Public
 15  *  License along with this library; if not, write to the Free Software
 16  *  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
 17  */
 18 
 19 #include &quot;config.h&quot;
 20 #include &quot;GLContextGLX.h&quot;
 21 
 22 #if USE(GLX)

 23 #include &quot;OpenGLShims.h&quot;
 24 #include &quot;PlatformDisplayX11.h&quot;
 25 #include &quot;XErrorTrapper.h&quot;
 26 #include &lt;GL/glx.h&gt;
 27 #include &lt;cairo.h&gt;
 28 
 29 #if ENABLE(ACCELERATED_2D_CANVAS)
 30 #include &lt;cairo-gl.h&gt;
 31 #endif
 32 
 33 namespace WebCore {
 34 
 35 #if !defined(PFNGLXSWAPINTERVALSGIPROC)
 36 typedef int (*PFNGLXSWAPINTERVALSGIPROC) (int);
 37 #endif
 38 #if !defined(PFNGLXCREATECONTEXTATTRIBSARBPROC)
 39 typedef GLXContext (*PFNGLXCREATECONTEXTATTRIBSARBPROC) (Display *dpy, GLXFBConfig config, GLXContext share_context, Bool direct, const int *attrib_list);
 40 #endif
 41 
 42 static PFNGLXSWAPINTERVALSGIPROC glXSwapIntervalSGI;
</pre>
<hr />
<pre>
396 
397 void GLContextGLX::swapInterval(int interval)
398 {
399     if (!hasSGISwapControlExtension(m_x11Display))
400         return;
401     glXSwapIntervalSGI(interval);
402 }
403 
404 cairo_device_t* GLContextGLX::cairoDevice()
405 {
406     if (m_cairoDevice)
407         return m_cairoDevice;
408 
409 #if ENABLE(ACCELERATED_2D_CANVAS) &amp;&amp; CAIRO_HAS_GLX_FUNCTIONS
410     m_cairoDevice = cairo_glx_device_create(m_x11Display, m_context.get());
411 #endif
412 
413     return m_cairoDevice;
414 }
415 
<span class="line-modified">416 #if ENABLE(GRAPHICS_CONTEXT_GL)</span>
<span class="line-modified">417 PlatformGraphicsContextGL GLContextGLX::platformContext()</span>
418 {
419     return m_context.get();
420 }
421 #endif
422 
423 } // namespace WebCore
424 
425 #endif // USE(GLX)
</pre>
</td>
</tr>
</table>
<center><a href="../freetype/SimpleFontDataFreeType.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="GLContextGLX.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>