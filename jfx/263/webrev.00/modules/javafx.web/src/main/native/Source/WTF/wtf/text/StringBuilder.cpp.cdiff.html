<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/WTF/wtf/text/StringBuilder.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="StringBuffer.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="StringBuilder.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WTF/wtf/text/StringBuilder.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 34,11 ***</span>
  
  static constexpr unsigned maxCapacity = String::MaxLength;
  
  static unsigned expandedCapacity(unsigned capacity, unsigned requiredLength)
  {
<span class="line-modified">!     static const unsigned minimumCapacity = 16;</span>
      return std::max(requiredLength, std::max(minimumCapacity, std::min(capacity * 2, maxCapacity)));
  }
  
  void StringBuilder::reifyString() const
  {
<span class="line-new-header">--- 34,11 ---</span>
  
  static constexpr unsigned maxCapacity = String::MaxLength;
  
  static unsigned expandedCapacity(unsigned capacity, unsigned requiredLength)
  {
<span class="line-modified">!     static constexpr unsigned minimumCapacity = 16;</span>
      return std::max(requiredLength, std::max(minimumCapacity, std::min(capacity * 2, maxCapacity)));
  }
  
  void StringBuilder::reifyString() const
  {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 48,11 ***</span>
      if (!m_string.isNull()) {
          ASSERT(m_string.length() == m_length.unsafeGet&lt;unsigned&gt;());
          return;
      }
  
<span class="line-modified">! #if !ASSERT_DISABLED</span>
      m_isReified = true;
  #endif
  
      // Check for empty.
      if (!m_length) {
<span class="line-new-header">--- 48,11 ---</span>
      if (!m_string.isNull()) {
          ASSERT(m_string.length() == m_length.unsafeGet&lt;unsigned&gt;());
          return;
      }
  
<span class="line-modified">! #if ASSERT_ENABLED</span>
      m_isReified = true;
  #endif
  
      // Check for empty.
      if (!m_length) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 420,22 ***</span>
  void StringBuilder::appendNumber(unsigned long long number)
  {
      numberToStringUnsigned&lt;StringBuilder&gt;(number, this);
  }
  
<span class="line-removed">- void StringBuilder::appendFixedPrecisionNumber(float number, unsigned precision, TrailingZerosTruncatingPolicy policy)</span>
<span class="line-removed">- {</span>
<span class="line-removed">-     NumberToStringBuffer buffer;</span>
<span class="line-removed">-     append(numberToFixedPrecisionString(number, precision, buffer, policy == TruncateTrailingZeros));</span>
<span class="line-removed">- }</span>
<span class="line-removed">- </span>
<span class="line-removed">- void StringBuilder::appendFixedPrecisionNumber(double number, unsigned precision, TrailingZerosTruncatingPolicy policy)</span>
<span class="line-removed">- {</span>
<span class="line-removed">-     NumberToStringBuffer buffer;</span>
<span class="line-removed">-     append(numberToFixedPrecisionString(number, precision, buffer, policy == TruncateTrailingZeros));</span>
<span class="line-removed">- }</span>
<span class="line-removed">- </span>
  void StringBuilder::appendNumber(float number)
  {
      NumberToStringBuffer buffer;
      append(numberToString(number, buffer));
  }
<span class="line-new-header">--- 420,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 444,22 ***</span>
  {
      NumberToStringBuffer buffer;
      append(numberToString(number, buffer));
  }
  
<span class="line-removed">- void StringBuilder::appendFixedWidthNumber(float number, unsigned decimalPlaces)</span>
<span class="line-removed">- {</span>
<span class="line-removed">-     NumberToStringBuffer buffer;</span>
<span class="line-removed">-     append(numberToFixedWidthString(number, decimalPlaces, buffer));</span>
<span class="line-removed">- }</span>
<span class="line-removed">- </span>
<span class="line-removed">- void StringBuilder::appendFixedWidthNumber(double number, unsigned decimalPlaces)</span>
<span class="line-removed">- {</span>
<span class="line-removed">-     NumberToStringBuffer buffer;</span>
<span class="line-removed">-     append(numberToFixedWidthString(number, decimalPlaces, buffer));</span>
<span class="line-removed">- }</span>
<span class="line-removed">- </span>
  bool StringBuilder::canShrink() const
  {
      if (hasOverflowed())
          return false;
      // Only shrink the buffer if it&#39;s less than 80% full.
<span class="line-new-header">--- 432,10 ---</span>
</pre>
<center><a href="StringBuffer.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="StringBuilder.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>