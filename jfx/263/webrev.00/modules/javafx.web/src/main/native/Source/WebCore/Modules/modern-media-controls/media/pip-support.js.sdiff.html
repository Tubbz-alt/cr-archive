<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/Modules/modern-media-controls/media/pip-support.js</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../gesture-recognizers/gesture-recognizer.js.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="placard-support.js.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/Modules/modern-media-controls/media/pip-support.js</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
32     // Protected
33 
34     get control()
35     {
36         return this.mediaController.controls.pipButton;
37     }
38 
39     get mediaEvents()
40     {
41         return [&quot;loadedmetadata&quot;, &quot;error&quot;, &quot;webkitpresentationmodechanged&quot;, &quot;webkitcurrentplaybacktargetiswirelesschanged&quot;];
42     }
43 
44     get tracksToMonitor()
45     {
46         return [this.mediaController.media.videoTracks];
47     }
48 
49     buttonWasPressed(control)
50     {
51         const media = this.mediaController.media;
<span class="line-modified">52         media.webkitSetPresentationMode(media.webkitPresentationMode === PiPMode ? InlineMode : PiPMode);</span>








53     }
54 
55     syncControl()
56     {
57         const media = this.mediaController.media;
58         if (media.webkitSupportsPresentationMode)
59             this.control.enabled = !this.mediaController.isAudio &amp;&amp; media.webkitSupportsPresentationMode(PiPMode) &amp;&amp; !media.webkitCurrentPlaybackTargetIsWireless;
60         else
61             this.control.enabled = false;
62     }
63 
64 }
</pre>
</td>
<td>
<hr />
<pre>
32     // Protected
33 
34     get control()
35     {
36         return this.mediaController.controls.pipButton;
37     }
38 
39     get mediaEvents()
40     {
41         return [&quot;loadedmetadata&quot;, &quot;error&quot;, &quot;webkitpresentationmodechanged&quot;, &quot;webkitcurrentplaybacktargetiswirelesschanged&quot;];
42     }
43 
44     get tracksToMonitor()
45     {
46         return [this.mediaController.media.videoTracks];
47     }
48 
49     buttonWasPressed(control)
50     {
51         const media = this.mediaController.media;
<span class="line-modified">52         if (!document.pictureInPictureEnabled) {</span>
<span class="line-added">53             media.webkitSetPresentationMode(media.webkitPresentationMode === PiPMode ? InlineMode : PiPMode);</span>
<span class="line-added">54             return;</span>
<span class="line-added">55         }</span>
<span class="line-added">56 </span>
<span class="line-added">57         if (!document.pictureInPictureElement)</span>
<span class="line-added">58             media.requestPictureInPicture();</span>
<span class="line-added">59         else</span>
<span class="line-added">60             document.exitPictureInPicture();</span>
61     }
62 
63     syncControl()
64     {
65         const media = this.mediaController.media;
66         if (media.webkitSupportsPresentationMode)
67             this.control.enabled = !this.mediaController.isAudio &amp;&amp; media.webkitSupportsPresentationMode(PiPMode) &amp;&amp; !media.webkitCurrentPlaybackTargetIsWireless;
68         else
69             this.control.enabled = false;
70     }
71 
72 }
</pre>
</td>
</tr>
</table>
<center><a href="../gesture-recognizers/gesture-recognizer.js.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="placard-support.js.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>