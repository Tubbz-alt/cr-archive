<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff tests/system/src/test/java/test/javafx/scene/Snapshot2Test.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>tests/system/src/test/java/test/javafx/scene/Snapshot2Test.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -27,10 +27,12 @@</span>
  
  import java.util.ArrayList;
  import java.util.Collection;
  import java.util.concurrent.ThreadLocalRandom;
  import java.util.stream.IntStream;
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ import javafx.animation.Interpolator;</span>
  import javafx.geometry.Rectangle2D;
  import javafx.scene.Group;
  import javafx.scene.Node;
  import javafx.scene.Scene;
  import javafx.scene.SnapshotParameters;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -249,20 +251,29 @@</span>
      }
  
      private void setupImageScene(int width, int height) {
          Util.runAndWait(() -&gt; {
              WritableImage image = new WritableImage(width, height);
<span class="udiff-line-modified-removed">-             // Initialize image with noise</span>
<span class="udiff-line-modified-added">+             // Initialize image with a bilinear gradient</span>
              var pixWriter = image.getPixelWriter();
              assertNotNull(pixWriter);
<span class="udiff-line-added">+             double stepX = 1.0 / (width - 1);</span>
<span class="udiff-line-added">+             double stepY = 1.0 / (height - 1);</span>
<span class="udiff-line-added">+             double tX = 0;</span>
<span class="udiff-line-added">+             double tY = 0;</span>
              for (int x = 0; x &lt; width; x++) {
                  for (int y = 0; y &lt; height; y++) {
<span class="udiff-line-modified-removed">-                     pixWriter.setColor(x, y, Color.rgb(</span>
<span class="udiff-line-modified-removed">-                             ThreadLocalRandom.current().nextInt(0, 256),</span>
<span class="udiff-line-modified-removed">-                             ThreadLocalRandom.current().nextInt(0, 256),</span>
<span class="udiff-line-modified-removed">-                             ThreadLocalRandom.current().nextInt(0, 256)));</span>
<span class="udiff-line-modified-added">+                     pixWriter.setColor(x, y, (Color) Interpolator.LINEAR.interpolate(</span>
<span class="udiff-line-modified-added">+                             Interpolator.LINEAR.interpolate(Color.CYAN, Color.YELLOW, tX),</span>
<span class="udiff-line-modified-added">+                             Interpolator.LINEAR.interpolate(Color.MAGENTA, Color.WHITE, tX),</span>
<span class="udiff-line-modified-added">+                             tY));</span>
<span class="udiff-line-added">+                     tX += stepX;</span>
<span class="udiff-line-added">+                     tX = tX &gt; 1 ? 1 : tX;</span>
                  }
<span class="udiff-line-added">+                 tY += stepY;</span>
<span class="udiff-line-added">+                 tY = tY &gt; 1 ? 1 : tY;</span>
<span class="udiff-line-added">+                 tX = 0;</span>
              }
              tmpNode = new ImageView(image);
              Group root = new Group();
              tmpScene = new Scene(root, width, height);
              root.getChildren().add(tmpNode);
</pre>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>