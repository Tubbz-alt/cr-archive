<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.graphics/src/main/java/com/sun/javafx/tk/quantum/QuantumToolkit.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.graphics/src/main/java/com/sun/javafx/tk/quantum/QuantumToolkit.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
1507                 Graphics g = rt.createGraphics();
1508                 draw(g, x, y, w, h);
1509                 int[] pixels = rt.getPixels();
1510                 if (pixels != null) {
1511                     pImage.setImage(com.sun.prism.Image.fromIntArgbPreData(pixels, w, h));
1512                 }
1513                 else {
1514                     IntBuffer ib = IntBuffer.allocate(w * h);
1515                     if (rt.readPixels(ib, rt.getContentX(), rt.getContentY(), w, h)) {
1516                         pImage.setImage(com.sun.prism.Image.fromIntArgbPreData(ib, w, h));
1517                     }
1518                     else {
1519                         pImage.dispose();
1520                         pImage = null;
1521                     }
1522                 }
1523                 rt.unlock();
1524             }
1525 
1526             private int computeOptimumTileSize(int size, int maxSize, AtomicBoolean isDivExact) {





1527                 for (int n = 2; n &lt;= 6; n++) {
1528                     int optimumSize = size / n;
1529                     if (optimumSize &lt;= maxSize &amp;&amp; optimumSize * n == size) {
1530                         isDivExact.set(true);
1531                         return optimumSize;
1532                     }
1533                 }

1534                 return maxSize;
1535             }
1536 
1537             @Override
1538             public void run() {
1539 
1540                 ResourceFactory rf = GraphicsPipeline.getDefaultResourceFactory();
1541 
1542                 if (!rf.isDeviceReady()) {
1543                     return;
1544                 }
1545 
1546                 int x = params.x;
1547                 int y = params.y;
1548                 int w = params.width;
1549                 int h = params.height;
1550 
1551                 if (w &lt;= 0 || h &lt;= 0) {
1552                     return;
1553                 }
</pre>
</td>
<td>
<hr />
<pre>
1507                 Graphics g = rt.createGraphics();
1508                 draw(g, x, y, w, h);
1509                 int[] pixels = rt.getPixels();
1510                 if (pixels != null) {
1511                     pImage.setImage(com.sun.prism.Image.fromIntArgbPreData(pixels, w, h));
1512                 }
1513                 else {
1514                     IntBuffer ib = IntBuffer.allocate(w * h);
1515                     if (rt.readPixels(ib, rt.getContentX(), rt.getContentY(), w, h)) {
1516                         pImage.setImage(com.sun.prism.Image.fromIntArgbPreData(ib, w, h));
1517                     }
1518                     else {
1519                         pImage.dispose();
1520                         pImage = null;
1521                     }
1522                 }
1523                 rt.unlock();
1524             }
1525 
1526             private int computeOptimumTileSize(int size, int maxSize, AtomicBoolean isDivExact) {
<span class="line-added">1527                 // This methods attempts to find the smallest integer divider for the provided `size`</span>
<span class="line-added">1528                 // while the result of the division is less than `maxSize`.</span>
<span class="line-added">1529                 // It tests all potential dividers from 2 to 6 and returns the result of the division</span>
<span class="line-added">1530                 // if all conditions can be satisfied or, failing that, `maxSize`.</span>
<span class="line-added">1531                 // The value for `isDivExact` reflects whether or not an exact divider could be found.</span>
1532                 for (int n = 2; n &lt;= 6; n++) {
1533                     int optimumSize = size / n;
1534                     if (optimumSize &lt;= maxSize &amp;&amp; optimumSize * n == size) {
1535                         isDivExact.set(true);
1536                         return optimumSize;
1537                     }
1538                 }
<span class="line-added">1539                 isDivExact.set(false);</span>
1540                 return maxSize;
1541             }
1542 
1543             @Override
1544             public void run() {
1545 
1546                 ResourceFactory rf = GraphicsPipeline.getDefaultResourceFactory();
1547 
1548                 if (!rf.isDeviceReady()) {
1549                     return;
1550                 }
1551 
1552                 int x = params.x;
1553                 int y = params.y;
1554                 int w = params.width;
1555                 int h = params.height;
1556 
1557                 if (w &lt;= 0 || h &lt;= 0) {
1558                     return;
1559                 }
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>