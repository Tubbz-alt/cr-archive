<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.base/src/main/java/javafx/beans/binding/ListBinding.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="IntegerBinding.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="LongBinding.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.base/src/main/java/javafx/beans/binding/ListBinding.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 58  * @see Binding
 59  * @see ListExpression
 60  *
 61  * @param &lt;E&gt;
 62  *            the type of the {@code List} element
 63  * @since JavaFX 2.1
 64  */
 65 public abstract class ListBinding&lt;E&gt; extends ListExpression&lt;E&gt; implements Binding&lt;ObservableList&lt;E&gt;&gt; {
 66 
 67     private final ListChangeListener&lt;E&gt; listChangeListener = new ListChangeListener&lt;E&gt;() {
 68         @Override
 69         public void onChanged(Change&lt;? extends E&gt; change) {
 70             invalidateProperties();
 71             onInvalidating();
 72             ListExpressionHelper.fireValueChangedEvent(helper, change);
 73         }
 74     };
 75 
 76     private ObservableList&lt;E&gt; value;
 77     private boolean valid = false;







 78     private BindingHelperObserver observer;
 79     private ListExpressionHelper&lt;E&gt; helper = null;
 80 
 81     private SizeProperty size0;
 82     private EmptyProperty empty0;
 83 
 84     @Override
 85     public ReadOnlyIntegerProperty sizeProperty() {
 86         if (size0 == null) {
 87             size0 = new SizeProperty();
 88         }
 89         return size0;
 90     }
 91 
 92     private class SizeProperty extends ReadOnlyIntegerPropertyBase {
 93         @Override
 94         public int get() {
 95             return size();
 96         }
 97 
</pre>
<hr />
<pre>
186                 if (dep != null) {
187                     dep.addListener(observer);
188                 }
189             }
190         }
191     }
192 
193     /**
194      * Stop observing the dependencies for changes.
195      *
196      * @param dependencies
197      *            the dependencies to stop observing
198      */
199     protected final void unbind(Observable... dependencies) {
200         if (observer != null) {
201             for (final Observable dep : dependencies) {
202                 if (dep != null) {
203                     dep.removeListener(observer);
204                 }
205             }
<span class="line-removed">206             observer = null;</span>
207         }
208     }
209 
210     /**
211      * A default implementation of {@code dispose()} that is empty.
212      */
213     @Override
214     public void dispose() {
215     }
216 
217     /**
218      * A default implementation of {@code getDependencies()} that returns an
219      * empty {@link javafx.collections.ObservableList}.
220      *
221      * @return an empty {@code ObservableList}
222      */
223     @Override
224     public ObservableList&lt;?&gt; getDependencies() {
225         return FXCollections.emptyObservableList();
226     }
</pre>
</td>
<td>
<hr />
<pre>
 58  * @see Binding
 59  * @see ListExpression
 60  *
 61  * @param &lt;E&gt;
 62  *            the type of the {@code List} element
 63  * @since JavaFX 2.1
 64  */
 65 public abstract class ListBinding&lt;E&gt; extends ListExpression&lt;E&gt; implements Binding&lt;ObservableList&lt;E&gt;&gt; {
 66 
 67     private final ListChangeListener&lt;E&gt; listChangeListener = new ListChangeListener&lt;E&gt;() {
 68         @Override
 69         public void onChanged(Change&lt;? extends E&gt; change) {
 70             invalidateProperties();
 71             onInvalidating();
 72             ListExpressionHelper.fireValueChangedEvent(helper, change);
 73         }
 74     };
 75 
 76     private ObservableList&lt;E&gt; value;
 77     private boolean valid = false;
<span class="line-added"> 78 </span>
<span class="line-added"> 79     /**</span>
<span class="line-added"> 80      * Invalidation listener used for observing dependencies.  This</span>
<span class="line-added"> 81      * is never cleared once created as there is no way to determine</span>
<span class="line-added"> 82      * when all dependencies that were previously bound were removed</span>
<span class="line-added"> 83      * in one or more calls to {@link #unbind(Observable...)}.</span>
<span class="line-added"> 84      */</span>
 85     private BindingHelperObserver observer;
 86     private ListExpressionHelper&lt;E&gt; helper = null;
 87 
 88     private SizeProperty size0;
 89     private EmptyProperty empty0;
 90 
 91     @Override
 92     public ReadOnlyIntegerProperty sizeProperty() {
 93         if (size0 == null) {
 94             size0 = new SizeProperty();
 95         }
 96         return size0;
 97     }
 98 
 99     private class SizeProperty extends ReadOnlyIntegerPropertyBase {
100         @Override
101         public int get() {
102             return size();
103         }
104 
</pre>
<hr />
<pre>
193                 if (dep != null) {
194                     dep.addListener(observer);
195                 }
196             }
197         }
198     }
199 
200     /**
201      * Stop observing the dependencies for changes.
202      *
203      * @param dependencies
204      *            the dependencies to stop observing
205      */
206     protected final void unbind(Observable... dependencies) {
207         if (observer != null) {
208             for (final Observable dep : dependencies) {
209                 if (dep != null) {
210                     dep.removeListener(observer);
211                 }
212             }

213         }
214     }
215 
216     /**
217      * A default implementation of {@code dispose()} that is empty.
218      */
219     @Override
220     public void dispose() {
221     }
222 
223     /**
224      * A default implementation of {@code getDependencies()} that returns an
225      * empty {@link javafx.collections.ObservableList}.
226      *
227      * @return an empty {@code ObservableList}
228      */
229     @Override
230     public ObservableList&lt;?&gt; getDependencies() {
231         return FXCollections.emptyObservableList();
232     }
</pre>
</td>
</tr>
</table>
<center><a href="IntegerBinding.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="LongBinding.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>