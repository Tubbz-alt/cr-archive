<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.controls/src/test/java/test/javafx/scene/control/TableViewHorizontalArrowsTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.controls/src/test/java/test/javafx/scene/control/TableViewHorizontalArrowsTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 98         col1 = new TableColumn&lt;String, String&gt;(&quot;col1&quot;);
 99         col2 = new TableColumn&lt;String, String&gt;(&quot;col2&quot;);
100         col3 = new TableColumn&lt;String, String&gt;(&quot;col3&quot;);
101         col4 = new TableColumn&lt;String, String&gt;(&quot;col4&quot;);
102         tableView.getColumns().setAll(col0, col1, col2, col3, col4);
103 
104         keyboard = new KeyEventFirer(tableView);
105 
106         stageLoader = new StageLoader(tableView);
107         stageLoader.getStage().show();
108     }
109 
110     @After
111     public void tearDown() {
112         tableView.getSkin().dispose();
113         stageLoader.dispose();
114     }
115 
116     // ---------------- Helper methods -------------------------
117     /**
<span class="line-modified">118      * Toggles the nodeOrientation of tableView.</span>

119      */
<span class="line-modified">120     private void changeNodeOrientation() {</span>
121         orientation = (orientation == NodeOrientation.LEFT_TO_RIGHT?
122             NodeOrientation.RIGHT_TO_LEFT : NodeOrientation.LEFT_TO_RIGHT);
123         tableView.setNodeOrientation(orientation);
124     }
125 
126     /**
127      * Orientation-aware forward horizontal navigation with arrow keys.
128      * @param modifiers the modifiers to use on keyboard
129      */
130     private void forward(KeyModifier... modifiers) {
131         if (orientation == NodeOrientation.LEFT_TO_RIGHT) {
132             keyboard.doRightArrowPress(modifiers);
133         } else if (orientation == NodeOrientation.RIGHT_TO_LEFT) {
134             keyboard.doLeftArrowPress(modifiers);
135         }
136     }
137 
138     /**
139      * Orientation-aware backward horizontal navigation with arrow keys.
140      * @param modifiers the modifiers to use on keyboard
</pre>
<hr />
<pre>
183     @Test
184     public void testForwardFocus() {
185         sm.select(0, col0);
186         forward(getShortcutKey());
187         assertTrue(&quot;selected cell must still be selected&quot;, sm.isSelected(0, col0));
188         assertFalse(&quot;next cell must not be selected&quot;, sm.isSelected(0, col1));
189         TablePosition&lt;?, ?&gt; focusedCell = fm.getFocusedCell();
190         assertEquals(&quot;focused cell must moved to next&quot;, col1, focusedCell.getTableColumn());
191     }
192 
193     @Test
194     public void testBackwardFocus() {
195         sm.select(0, col4);
196         backward(getShortcutKey());
197         assertTrue(&quot;selected cell must still be selected&quot;, sm.isSelected(0, col4));
198         assertFalse(&quot;previous cell must not be selected&quot;, sm.isSelected(0, col3));
199         TablePosition&lt;?, ?&gt; focusedCell = fm.getFocusedCell();
200         assertEquals(&quot;focused cell must moved to prev&quot;, col3, focusedCell.getTableColumn());
201     }
202 
<span class="line-removed">203 </span>
<span class="line-removed">204     // Note : Any test that changs NodeOrientation must restore it back at the end of it</span>
205     @Test
206     public void testChangeOrientationSimpleForwardSelect() {
207         sm.select(0, col0);
208         forward();
209         assertTrue(sm.isSelected(0, col1));
210         assertFalse(sm.isSelected(0, col0));
211 
<span class="line-modified">212         changeNodeOrientation();</span>
213 
214         // Now, test that the forward select respects change in NodeOrientation
215         forward();
216 
217         assertFalse(sm.isSelected(0, col1));
218         assertTrue(sm.isSelected(0, col2));
<span class="line-removed">219 </span>
<span class="line-removed">220         // Restore Node orientation</span>
<span class="line-removed">221         changeNodeOrientation();</span>
222     }
223 
<span class="line-removed">224     // Note : Any test that changs NodeOrientation must restore it back at the end of it</span>
225     @Test
226     public void testChangeOrientationSimpleBackwardSelect() {
227         sm.select(0, col4);
228         backward();
229         assertTrue(sm.isSelected(0, col3));
230         assertFalse(sm.isSelected(0, col4));
231 
<span class="line-modified">232         changeNodeOrientation();</span>
233 
234         // Now, test that the backward select respects change in NodeOrientation
235         backward();
236         assertFalse(sm.isSelected(0, col3));
237         assertTrue(sm.isSelected(0, col2));
<span class="line-removed">238 </span>
<span class="line-removed">239         // Restore Node orientation</span>
<span class="line-removed">240         changeNodeOrientation();</span>
241     }
242 
243     @Test public void testShiftBackwardWhenAtFirstCol() {
244         sm.select(0, col0);
245         backward(KeyModifier.SHIFT);
246 
247         assertTrue(&quot;Selected cell remains selected&quot;, sm.isSelected(0, col0));
248 
249         // We are at the first colum, there is no backward cell
250         assertFalse(&quot;sanity - forward cell must not be selected&quot;, sm.isSelected(0, col1));
251     }
252 
253     @Test public void testShiftForwardWhenAtFirstCol() {
254         sm.select(0, col0);
255         forward(KeyModifier.SHIFT);
256 
257         assertTrue(&quot;Selected cell remains selected&quot;, sm.isSelected(0, col0));
258         assertTrue(&quot;forward cell must also be selected&quot;, sm.isSelected(0, col1));
259     }
260 
</pre>
</td>
<td>
<hr />
<pre>
 98         col1 = new TableColumn&lt;String, String&gt;(&quot;col1&quot;);
 99         col2 = new TableColumn&lt;String, String&gt;(&quot;col2&quot;);
100         col3 = new TableColumn&lt;String, String&gt;(&quot;col3&quot;);
101         col4 = new TableColumn&lt;String, String&gt;(&quot;col4&quot;);
102         tableView.getColumns().setAll(col0, col1, col2, col3, col4);
103 
104         keyboard = new KeyEventFirer(tableView);
105 
106         stageLoader = new StageLoader(tableView);
107         stageLoader.getStage().show();
108     }
109 
110     @After
111     public void tearDown() {
112         tableView.getSkin().dispose();
113         stageLoader.dispose();
114     }
115 
116     // ---------------- Helper methods -------------------------
117     /**
<span class="line-modified">118      * Toggles the parameter nodeOrientation and</span>
<span class="line-added">119      * sets the tableView&#39;s orientation to the new toggled value</span>
120      */
<span class="line-modified">121     private void toggleNodeOrientation() {</span>
122         orientation = (orientation == NodeOrientation.LEFT_TO_RIGHT?
123             NodeOrientation.RIGHT_TO_LEFT : NodeOrientation.LEFT_TO_RIGHT);
124         tableView.setNodeOrientation(orientation);
125     }
126 
127     /**
128      * Orientation-aware forward horizontal navigation with arrow keys.
129      * @param modifiers the modifiers to use on keyboard
130      */
131     private void forward(KeyModifier... modifiers) {
132         if (orientation == NodeOrientation.LEFT_TO_RIGHT) {
133             keyboard.doRightArrowPress(modifiers);
134         } else if (orientation == NodeOrientation.RIGHT_TO_LEFT) {
135             keyboard.doLeftArrowPress(modifiers);
136         }
137     }
138 
139     /**
140      * Orientation-aware backward horizontal navigation with arrow keys.
141      * @param modifiers the modifiers to use on keyboard
</pre>
<hr />
<pre>
184     @Test
185     public void testForwardFocus() {
186         sm.select(0, col0);
187         forward(getShortcutKey());
188         assertTrue(&quot;selected cell must still be selected&quot;, sm.isSelected(0, col0));
189         assertFalse(&quot;next cell must not be selected&quot;, sm.isSelected(0, col1));
190         TablePosition&lt;?, ?&gt; focusedCell = fm.getFocusedCell();
191         assertEquals(&quot;focused cell must moved to next&quot;, col1, focusedCell.getTableColumn());
192     }
193 
194     @Test
195     public void testBackwardFocus() {
196         sm.select(0, col4);
197         backward(getShortcutKey());
198         assertTrue(&quot;selected cell must still be selected&quot;, sm.isSelected(0, col4));
199         assertFalse(&quot;previous cell must not be selected&quot;, sm.isSelected(0, col3));
200         TablePosition&lt;?, ?&gt; focusedCell = fm.getFocusedCell();
201         assertEquals(&quot;focused cell must moved to prev&quot;, col3, focusedCell.getTableColumn());
202     }
203 


204     @Test
205     public void testChangeOrientationSimpleForwardSelect() {
206         sm.select(0, col0);
207         forward();
208         assertTrue(sm.isSelected(0, col1));
209         assertFalse(sm.isSelected(0, col0));
210 
<span class="line-modified">211         toggleNodeOrientation();</span>
212 
213         // Now, test that the forward select respects change in NodeOrientation
214         forward();
215 
216         assertFalse(sm.isSelected(0, col1));
217         assertTrue(sm.isSelected(0, col2));



218     }
219 

220     @Test
221     public void testChangeOrientationSimpleBackwardSelect() {
222         sm.select(0, col4);
223         backward();
224         assertTrue(sm.isSelected(0, col3));
225         assertFalse(sm.isSelected(0, col4));
226 
<span class="line-modified">227         toggleNodeOrientation();</span>
228 
229         // Now, test that the backward select respects change in NodeOrientation
230         backward();
231         assertFalse(sm.isSelected(0, col3));
232         assertTrue(sm.isSelected(0, col2));



233     }
234 
235     @Test public void testShiftBackwardWhenAtFirstCol() {
236         sm.select(0, col0);
237         backward(KeyModifier.SHIFT);
238 
239         assertTrue(&quot;Selected cell remains selected&quot;, sm.isSelected(0, col0));
240 
241         // We are at the first colum, there is no backward cell
242         assertFalse(&quot;sanity - forward cell must not be selected&quot;, sm.isSelected(0, col1));
243     }
244 
245     @Test public void testShiftForwardWhenAtFirstCol() {
246         sm.select(0, col0);
247         forward(KeyModifier.SHIFT);
248 
249         assertTrue(&quot;Selected cell remains selected&quot;, sm.isSelected(0, col0));
250         assertTrue(&quot;forward cell must also be selected&quot;, sm.isSelected(0, col1));
251     }
252 
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>