<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.graphics/src/main/native-glass/ios/GlassViewDelegate.m</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="GlassViewDelegate.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="GlassViewGL.m.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/native-glass/ios/GlassViewDelegate.m</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 552,21 ***</span>
                             modifiers, isPopupTrigger, isSynthesized);
      GLASS_CHECK_EXCEPTION(env);
  }
  
  
<span class="line-modified">! - (void)sendJavaKeyEventWithType:(int)type keyCode:(int)code chars:(char)chr modifiers:(int)modif;</span>
  {
      GET_MAIN_JENV;
  
<span class="line-modified">!     jchar jc[1] = {(jchar) chr};</span>
<span class="line-removed">-     jcharArray jChars = (*env)-&gt;NewCharArray(env, 1);</span>
<span class="line-removed">-     (*env)-&gt;SetCharArrayRegion(env, jChars, 0, 1, jc);</span>
<span class="line-removed">- </span>
<span class="line-removed">-     (*env)-&gt;CallVoidMethod(env, self.jView, mat_jViewNotifyKey, type, code, jChars, modif);</span>
<span class="line-removed">- </span>
<span class="line-removed">-     (*env)-&gt;DeleteLocalRef(env, jChars);</span>
  
      GLASS_CHECK_EXCEPTION(env);
  }
  
  -(void) sendJavaInputMethodEvent:(NSString *) text clauseBoundary:(int[])clsBndr attrBoundary:(int[])attrBndr attrValue:(Byte[])attrVal
<span class="line-new-header">--- 552,15 ---</span>
                             modifiers, isPopupTrigger, isSynthesized);
      GLASS_CHECK_EXCEPTION(env);
  }
  
  
<span class="line-modified">! - (void)sendJavaKeyEventWithType:(int)type keyCode:(int)code unicode:(int)unicode modifiers:(int)modif</span>
  {
      GET_MAIN_JENV;
  
<span class="line-modified">!     (*env)-&gt;CallVoidMethod(env, self.jView, mat_jViewNotifyKey, type, code, unicode, modif);</span>
  
      GLASS_CHECK_EXCEPTION(env);
  }
  
  -(void) sendJavaInputMethodEvent:(NSString *) text clauseBoundary:(int[])clsBndr attrBoundary:(int[])attrBndr attrValue:(Byte[])attrVal
</pre>
<hr />
<pre>
<span class="line-old-header">*** 713,11 ***</span>
  #pragma mark --- UITextFieldDelegate
  
  -(BOOL)textFieldShouldReturn:(UITextField *)textField{
      [self sendJavaKeyEventWithType:com_sun_glass_events_KeyEvent_PRESS
                                            keyCode:com_sun_glass_events_KeyEvent_VK_ENTER
<span class="line-modified">!                                             chars:(char)13</span>
                                          modifiers:0];
  
      [[GlassWindow getMasterWindow] resignFocusOwner];
  
      return YES;
<span class="line-new-header">--- 707,11 ---</span>
  #pragma mark --- UITextFieldDelegate
  
  -(BOOL)textFieldShouldReturn:(UITextField *)textField{
      [self sendJavaKeyEventWithType:com_sun_glass_events_KeyEvent_PRESS
                                            keyCode:com_sun_glass_events_KeyEvent_VK_ENTER
<span class="line-modified">!                                           unicode:(char)13</span>
                                          modifiers:0];
  
      [[GlassWindow getMasterWindow] resignFocusOwner];
  
      return YES;
</pre>
<center><a href="GlassViewDelegate.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="GlassViewGL.m.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>