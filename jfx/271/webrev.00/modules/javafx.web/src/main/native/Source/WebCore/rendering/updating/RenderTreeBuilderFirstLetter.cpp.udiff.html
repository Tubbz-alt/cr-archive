<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/WebCore/rendering/updating/RenderTreeBuilderFirstLetter.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../svg/RenderSVGResourceContainer.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../svg/SVGClipPathElement.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/rendering/updating/RenderTreeBuilderFirstLetter.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -249,11 +249,11 @@</span>
              if (isPunctuationForFirstLetter(c))
                  length = scanLength + numCodeUnits;
          }
  
          auto* textNode = currentTextChild.textNode();
<span class="udiff-line-modified-removed">-         auto* beforeChild = currentTextChild.nextSibling();</span>
<span class="udiff-line-modified-added">+         auto beforeChild = makeWeakPtr(currentTextChild.nextSibling());</span>
          auto inlineWrapperForDisplayContents = makeWeakPtr(currentTextChild.inlineWrapperForDisplayContents());
          auto hasInlineWrapperForDisplayContents = inlineWrapperForDisplayContents.get();
          m_builder.destroy(currentTextChild);
  
          // Construct a text fragment for the text after the first letter.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -266,11 +266,11 @@</span>
              newRemainingText = createRenderer&lt;RenderTextFragment&gt;(firstLetterBlock.document(), oldText, length, oldText.length() - length);
  
          RenderTextFragment&amp; remainingText = *newRemainingText;
          ASSERT_UNUSED(hasInlineWrapperForDisplayContents, hasInlineWrapperForDisplayContents == inlineWrapperForDisplayContents.get());
          remainingText.setInlineWrapperForDisplayContents(inlineWrapperForDisplayContents.get());
<span class="udiff-line-modified-removed">-         m_builder.attach(*textContentParent, WTFMove(newRemainingText), beforeChild);</span>
<span class="udiff-line-modified-added">+         m_builder.attach(*textContentParent, WTFMove(newRemainingText), beforeChild.get());</span>
  
          // FIXME: Make attach the final step so that we don&#39;t need to keep firstLetter around.
          auto&amp; firstLetter = *newFirstLetter;
          remainingText.setFirstLetter(firstLetter);
          firstLetter.setFirstLetterRemainingText(remainingText);
</pre>
<center><a href="../svg/RenderSVGResourceContainer.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../svg/SVGClipPathElement.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>