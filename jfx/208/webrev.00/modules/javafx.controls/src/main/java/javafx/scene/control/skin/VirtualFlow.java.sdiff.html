<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.controls/src/main/java/javafx/scene/control/skin/VirtualFlow.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.controls/src/main/java/javafx/scene/control/skin/VirtualFlow.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
2331         // accordingly. If during layout we find that one or the other of the
2332         // bars actually is needed, then we will perform a cleanup pass
2333 
2334         if (!Properties.IS_TOUCH_SUPPORTED) {
2335             updateViewportDimensions();
2336             breadthBar.setVisible(needBreadthBar);
2337             lengthBar.setVisible(needLengthBar);
2338         } else {
2339             breadthBar.setVisible(needBreadthBar &amp;&amp; tempVisibility);
2340             lengthBar.setVisible(needLengthBar &amp;&amp; tempVisibility);
2341         }
2342 
2343         return barVisibilityChanged;
2344     }
2345 
2346     private void updateViewportDimensions() {
2347         final boolean isVertical = isVertical();
2348         final double breadthBarLength = isVertical ? snapSizeY(hbar.prefHeight(-1)) : snapSizeX(vbar.prefWidth(-1));
2349         final double lengthBarBreadth = isVertical ? snapSizeX(vbar.prefWidth(-1)) : snapSizeY(hbar.prefHeight(-1));
2350 
<span class="line-modified">2351         setViewportBreadth((isVertical ? getWidth() : getHeight()) - (needLengthBar ? lengthBarBreadth : 0));</span>
<span class="line-modified">2352         setViewportLength((isVertical ? getHeight() : getWidth()) - (needBreadthBar ? breadthBarLength : 0));</span>





2353     }
2354 
2355     private void initViewport() {
2356         // Initialize the viewportLength and viewportBreadth to match the
2357         // width/height of the flow
2358         final boolean isVertical = isVertical();
2359 
2360         updateViewportDimensions();
2361 
2362         VirtualScrollBar breadthBar = isVertical ? hbar : vbar;
2363         VirtualScrollBar lengthBar = isVertical ? vbar : hbar;
2364 
2365         // If there has been a switch between the virtualized bar, then we
2366         // will want to do some stuff TODO.
2367         breadthBar.setVirtual(false);
2368         lengthBar.setVirtual(true);
2369     }
2370 
2371     private void updateScrollBarsAndCells(boolean recreate) {
2372         // Assign the hbar and vbar to the breadthBar and lengthBar so as
</pre>
</td>
<td>
<hr />
<pre>
2331         // accordingly. If during layout we find that one or the other of the
2332         // bars actually is needed, then we will perform a cleanup pass
2333 
2334         if (!Properties.IS_TOUCH_SUPPORTED) {
2335             updateViewportDimensions();
2336             breadthBar.setVisible(needBreadthBar);
2337             lengthBar.setVisible(needLengthBar);
2338         } else {
2339             breadthBar.setVisible(needBreadthBar &amp;&amp; tempVisibility);
2340             lengthBar.setVisible(needLengthBar &amp;&amp; tempVisibility);
2341         }
2342 
2343         return barVisibilityChanged;
2344     }
2345 
2346     private void updateViewportDimensions() {
2347         final boolean isVertical = isVertical();
2348         final double breadthBarLength = isVertical ? snapSizeY(hbar.prefHeight(-1)) : snapSizeX(vbar.prefWidth(-1));
2349         final double lengthBarBreadth = isVertical ? snapSizeX(vbar.prefWidth(-1)) : snapSizeY(hbar.prefHeight(-1));
2350 
<span class="line-modified">2351         if (!Properties.IS_TOUCH_SUPPORTED) {</span>
<span class="line-modified">2352             setViewportBreadth((isVertical ? getWidth() : getHeight()) - (needLengthBar ? lengthBarBreadth : 0));</span>
<span class="line-added">2353             setViewportLength((isVertical ? getHeight() : getWidth()) - (needBreadthBar ? breadthBarLength : 0));</span>
<span class="line-added">2354         } else {</span>
<span class="line-added">2355             setViewportBreadth((isVertical ? getWidth() : getHeight()));</span>
<span class="line-added">2356             setViewportLength((isVertical ? getHeight() : getWidth()));</span>
<span class="line-added">2357         }</span>
2358     }
2359 
2360     private void initViewport() {
2361         // Initialize the viewportLength and viewportBreadth to match the
2362         // width/height of the flow
2363         final boolean isVertical = isVertical();
2364 
2365         updateViewportDimensions();
2366 
2367         VirtualScrollBar breadthBar = isVertical ? hbar : vbar;
2368         VirtualScrollBar lengthBar = isVertical ? vbar : hbar;
2369 
2370         // If there has been a switch between the virtualized bar, then we
2371         // will want to do some stuff TODO.
2372         breadthBar.setVirtual(false);
2373         lengthBar.setVirtual(true);
2374     }
2375 
2376     private void updateScrollBarsAndCells(boolean recreate) {
2377         // Assign the hbar and vbar to the breadthBar and lengthBar so as
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>