<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/ThirdParty/libxml/src/parserInternals.c</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="parser.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="pattern.c.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/ThirdParty/libxml/src/parserInternals.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 701,11 ***</span>
      return((int) *ctxt-&gt;input-&gt;cur);
  encoding_error:
      /*
       * An encoding problem may arise from a truncated input buffer
       * splitting a character in the middle. In that case do not raise
<span class="line-modified">!      * an error but return 0 to endicate an end of stream problem</span>
       */
      if (ctxt-&gt;input-&gt;end - ctxt-&gt;input-&gt;cur &lt; 4) {
      *len = 0;
      return(0);
      }
<span class="line-new-header">--- 701,11 ---</span>
      return((int) *ctxt-&gt;input-&gt;cur);
  encoding_error:
      /*
       * An encoding problem may arise from a truncated input buffer
       * splitting a character in the middle. In that case do not raise
<span class="line-modified">!      * an error but return 0 to indicate an end of stream problem</span>
       */
      if (ctxt-&gt;input-&gt;end - ctxt-&gt;input-&gt;cur &lt; 4) {
      *len = 0;
      return(0);
      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 814,11 ***</span>
  encoding_error:
  
      /*
       * An encoding problem may arise from a truncated input buffer
       * splitting a character in the middle. In that case do not raise
<span class="line-modified">!      * an error but return 0 to endicate an end of stream problem</span>
       */
      if ((ctxt == NULL) || (ctxt-&gt;input == NULL) ||
          (ctxt-&gt;input-&gt;end - ctxt-&gt;input-&gt;cur &lt; 4)) {
      *len = 0;
      return(0);
<span class="line-new-header">--- 814,11 ---</span>
  encoding_error:
  
      /*
       * An encoding problem may arise from a truncated input buffer
       * splitting a character in the middle. In that case do not raise
<span class="line-modified">!      * an error but return 0 to indicate an end of stream problem</span>
       */
      if ((ctxt == NULL) || (ctxt-&gt;input == NULL) ||
          (ctxt-&gt;input-&gt;end - ctxt-&gt;input-&gt;cur &lt; 4)) {
      *len = 0;
      return(0);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1091,11 ***</span>
          default:
              break;
      }
      }
      /*
<span class="line-modified">!      * TODO: We could recover from errors in external entites if we</span>
       * didn&#39;t stop the parser. But most callers of this function don&#39;t
       * check the return value.
       */
      if (handler == NULL) {
          xmlStopParser(ctxt);
<span class="line-new-header">--- 1091,11 ---</span>
          default:
              break;
      }
      }
      /*
<span class="line-modified">!      * TODO: We could recover from errors in external entities if we</span>
       * didn&#39;t stop the parser. But most callers of this function don&#39;t
       * check the return value.
       */
      if (handler == NULL) {
          xmlStopParser(ctxt);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1136,11 ***</span>
      if (input == NULL)
          return (-1);
      if (input-&gt;buf != NULL) {
          if (input-&gt;buf-&gt;encoder != NULL) {
              /*
<span class="line-modified">!              * Check in case the auto encoding detetection triggered</span>
               * in already.
               */
              if (input-&gt;buf-&gt;encoder == handler)
                  return (0);
  
<span class="line-new-header">--- 1136,11 ---</span>
      if (input == NULL)
          return (-1);
      if (input-&gt;buf != NULL) {
          if (input-&gt;buf-&gt;encoder != NULL) {
              /*
<span class="line-modified">!              * Check in case the auto encoding detection triggered</span>
               * in already.
               */
              if (input-&gt;buf-&gt;encoder == handler)
                  return (0);
  
</pre>
<center><a href="parser.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="pattern.c.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>