<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/ThirdParty/libxml/src/timsort.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="threads.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="tree.c.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/ThirdParty/libxml/src/timsort.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 57,11 ***</span>
  #endif
  
  #define SORT_SWAP(x,y) {SORT_TYPE __SORT_SWAP_t = (x); (x) = (y); (y) = __SORT_SWAP_t;}
  
  
<span class="line-modified">! /* Common, type-agnosting functions and constants that we don&#39;t want to declare twice. */</span>
  #ifndef SORT_COMMON_H
  #define SORT_COMMON_H
  
  #ifndef MAX
  #define MAX(x,y) (((x) &gt; (y) ? (x) : (y)))
<span class="line-new-header">--- 57,11 ---</span>
  #endif
  
  #define SORT_SWAP(x,y) {SORT_TYPE __SORT_SWAP_t = (x); (x) = (y); (y) = __SORT_SWAP_t;}
  
  
<span class="line-modified">! /* Common, type-agnostic functions and constants that we don&#39;t want to declare twice. */</span>
  #ifndef SORT_COMMON_H
  #define SORT_COMMON_H
  
  #ifndef MAX
  #define MAX(x,y) (((x) &gt; (y) ? (x) : (y)))
</pre>
<hr />
<pre>
<span class="line-old-header">*** 72,11 ***</span>
  #endif
  
  static int compute_minrun(const uint64_t);
  
  #ifndef CLZ
<span class="line-modified">! #ifdef __GNUC__</span>
  #define CLZ __builtin_clzll
  #else
  
  static int clzll(uint64_t);
  
<span class="line-new-header">--- 72,11 ---</span>
  #endif
  
  static int compute_minrun(const uint64_t);
  
  #ifndef CLZ
<span class="line-modified">! #if defined(__GNUC__) &amp;&amp; ((__GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &gt;= 4) || (__GNUC__ &gt; 3))</span>
  #define CLZ __builtin_clzll
  #else
  
  static int clzll(uint64_t);
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 402,11 ***</span>
      memcpy(storage, &amp;dst[curr + A], B * sizeof(SORT_TYPE));
      i = B;
      j = curr + A;
      k = curr + A + B;
  
<span class="line-modified">!     while (k-- &gt; curr) {</span>
        if ((i &gt; 0) &amp;&amp; (j &gt; curr)) {
          if (SORT_CMP(dst[j - 1], storage[i - 1]) &gt; 0) {
            dst[k] = dst[--j];
          } else {
            dst[k] = storage[--i];
<span class="line-new-header">--- 402,12 ---</span>
      memcpy(storage, &amp;dst[curr + A], B * sizeof(SORT_TYPE));
      i = B;
      j = curr + A;
      k = curr + A + B;
  
<span class="line-modified">!     while (k &gt; curr) {</span>
<span class="line-added">+       k--;</span>
        if ((i &gt; 0) &amp;&amp; (j &gt; curr)) {
          if (SORT_CMP(dst[j - 1], storage[i - 1]) &gt; 0) {
            dst[k] = dst[--j];
          } else {
            dst[k] = storage[--i];
</pre>
<center><a href="threads.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="tree.c.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>