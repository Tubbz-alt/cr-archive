<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.controls/src/main/java/javafx/scene/control/skin/VirtualFlow.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.controls/src/main/java/javafx/scene/control/skin/VirtualFlow.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
2429         final double viewportBreadth = getViewportBreadth();
2430         final double viewportLength = getViewportLength();
2431 
2432         // Now position and update the scroll bars
2433         if (breadthBar.isVisible()) {
2434             /*
2435             ** Positioning the ScrollBar
2436             */
2437             if (!Properties.IS_TOUCH_SUPPORTED) {
2438                 if (isVertical) {
2439                     hbar.resizeRelocate(0, viewportLength,
2440                             viewportBreadth, hbar.prefHeight(viewportBreadth));
2441                 } else {
2442                     vbar.resizeRelocate(viewportLength, 0,
2443                             vbar.prefWidth(viewportBreadth), viewportBreadth);
2444                 }
2445             }
2446             else {
2447                 if (isVertical) {
2448                     double prefHeight = hbar.prefHeight(viewportBreadth);
<span class="line-modified">2449                     hbar.resizeRelocate(0, viewportLength-prefHeight,</span>
2450                             viewportBreadth, prefHeight);
2451                 } else {
2452                     double prefWidth = vbar.prefWidth(viewportBreadth);
<span class="line-modified">2453                     vbar.resizeRelocate(viewportLength-prefWidth, 0,</span>
2454                             prefWidth, viewportBreadth);
2455                 }
2456             }
2457 
2458             if (getMaxPrefBreadth() != -1) {
2459                 double newMax = Math.max(1, getMaxPrefBreadth() - viewportBreadth);
2460                 if (newMax != breadthBar.getMax()) {
2461                     breadthBar.setMax(newMax);
2462 
2463                     double breadthBarValue = breadthBar.getValue();
2464                     boolean maxed = breadthBarValue != 0 &amp;&amp; newMax == breadthBarValue;
2465                     if (maxed || breadthBarValue &gt; newMax) {
2466                         breadthBar.setValue(newMax);
2467                     }
2468 
2469                     breadthBar.setVisibleAmount((viewportBreadth / getMaxPrefBreadth()) * newMax);
2470                 }
2471             }
2472         }
2473 
</pre>
<hr />
<pre>
2508             // whether RT-11873 can be recreated. It could not, and therefore
2509             // for now this code will remained uncommented until it is deleted
2510             // following further testing.
2511 //            if (lengthBar.getValue() == 1.0 &amp;&amp; lastCellCount != cellCount) {
2512 //                lengthBar.setValue(0.99);
2513 //            }
2514 
2515             /*
2516             ** Positioning the ScrollBar
2517             */
2518             if (!Properties.IS_TOUCH_SUPPORTED) {
2519                 if (isVertical) {
2520                     vbar.resizeRelocate(viewportBreadth, 0, vbar.prefWidth(viewportLength), viewportLength);
2521                 } else {
2522                     hbar.resizeRelocate(0, viewportBreadth, viewportLength, hbar.prefHeight(-1));
2523                 }
2524             }
2525             else {
2526                 if (isVertical) {
2527                     double prefWidth = vbar.prefWidth(viewportLength);
<span class="line-modified">2528                     vbar.resizeRelocate(viewportBreadth-prefWidth, 0, prefWidth, viewportLength);</span>
2529                 } else {
2530                     double prefHeight = hbar.prefHeight(-1);
<span class="line-modified">2531                     hbar.resizeRelocate(0, viewportBreadth-prefHeight, viewportLength, prefHeight);</span>
2532                 }
2533             }
2534         }
2535 
2536         if (corner.isVisible()) {
2537             if (!Properties.IS_TOUCH_SUPPORTED) {
2538                 corner.resize(vbar.getWidth(), hbar.getHeight());
2539                 corner.relocate(hbar.getLayoutX() + hbar.getWidth(), vbar.getLayoutY() + vbar.getHeight());
2540             }
2541             else {
2542                 corner.resize(vbar.getWidth(), hbar.getHeight());
2543                 corner.relocate(hbar.getLayoutX() + (hbar.getWidth()-vbar.getWidth()), vbar.getLayoutY() + (vbar.getHeight()-hbar.getHeight()));
2544                 hbar.resize(hbar.getWidth()-vbar.getWidth(), hbar.getHeight());
2545                 vbar.resize(vbar.getWidth(), vbar.getHeight()-hbar.getHeight());
2546             }
2547         }
2548 
2549         clipView.resize(snapSizeX(isVertical ? viewportBreadth : viewportLength),
2550                         snapSizeY(isVertical ? viewportLength : viewportBreadth));
2551 
</pre>
</td>
<td>
<hr />
<pre>
2429         final double viewportBreadth = getViewportBreadth();
2430         final double viewportLength = getViewportLength();
2431 
2432         // Now position and update the scroll bars
2433         if (breadthBar.isVisible()) {
2434             /*
2435             ** Positioning the ScrollBar
2436             */
2437             if (!Properties.IS_TOUCH_SUPPORTED) {
2438                 if (isVertical) {
2439                     hbar.resizeRelocate(0, viewportLength,
2440                             viewportBreadth, hbar.prefHeight(viewportBreadth));
2441                 } else {
2442                     vbar.resizeRelocate(viewportLength, 0,
2443                             vbar.prefWidth(viewportBreadth), viewportBreadth);
2444                 }
2445             }
2446             else {
2447                 if (isVertical) {
2448                     double prefHeight = hbar.prefHeight(viewportBreadth);
<span class="line-modified">2449                     hbar.resizeRelocate(0, viewportLength - prefHeight,</span>
2450                             viewportBreadth, prefHeight);
2451                 } else {
2452                     double prefWidth = vbar.prefWidth(viewportBreadth);
<span class="line-modified">2453                     vbar.resizeRelocate(viewportLength - prefWidth, 0,</span>
2454                             prefWidth, viewportBreadth);
2455                 }
2456             }
2457 
2458             if (getMaxPrefBreadth() != -1) {
2459                 double newMax = Math.max(1, getMaxPrefBreadth() - viewportBreadth);
2460                 if (newMax != breadthBar.getMax()) {
2461                     breadthBar.setMax(newMax);
2462 
2463                     double breadthBarValue = breadthBar.getValue();
2464                     boolean maxed = breadthBarValue != 0 &amp;&amp; newMax == breadthBarValue;
2465                     if (maxed || breadthBarValue &gt; newMax) {
2466                         breadthBar.setValue(newMax);
2467                     }
2468 
2469                     breadthBar.setVisibleAmount((viewportBreadth / getMaxPrefBreadth()) * newMax);
2470                 }
2471             }
2472         }
2473 
</pre>
<hr />
<pre>
2508             // whether RT-11873 can be recreated. It could not, and therefore
2509             // for now this code will remained uncommented until it is deleted
2510             // following further testing.
2511 //            if (lengthBar.getValue() == 1.0 &amp;&amp; lastCellCount != cellCount) {
2512 //                lengthBar.setValue(0.99);
2513 //            }
2514 
2515             /*
2516             ** Positioning the ScrollBar
2517             */
2518             if (!Properties.IS_TOUCH_SUPPORTED) {
2519                 if (isVertical) {
2520                     vbar.resizeRelocate(viewportBreadth, 0, vbar.prefWidth(viewportLength), viewportLength);
2521                 } else {
2522                     hbar.resizeRelocate(0, viewportBreadth, viewportLength, hbar.prefHeight(-1));
2523                 }
2524             }
2525             else {
2526                 if (isVertical) {
2527                     double prefWidth = vbar.prefWidth(viewportLength);
<span class="line-modified">2528                     vbar.resizeRelocate(viewportBreadth - prefWidth, 0, prefWidth, viewportLength);</span>
2529                 } else {
2530                     double prefHeight = hbar.prefHeight(-1);
<span class="line-modified">2531                     hbar.resizeRelocate(0, viewportBreadth - prefHeight, viewportLength, prefHeight);</span>
2532                 }
2533             }
2534         }
2535 
2536         if (corner.isVisible()) {
2537             if (!Properties.IS_TOUCH_SUPPORTED) {
2538                 corner.resize(vbar.getWidth(), hbar.getHeight());
2539                 corner.relocate(hbar.getLayoutX() + hbar.getWidth(), vbar.getLayoutY() + vbar.getHeight());
2540             }
2541             else {
2542                 corner.resize(vbar.getWidth(), hbar.getHeight());
2543                 corner.relocate(hbar.getLayoutX() + (hbar.getWidth()-vbar.getWidth()), vbar.getLayoutY() + (vbar.getHeight()-hbar.getHeight()));
2544                 hbar.resize(hbar.getWidth()-vbar.getWidth(), hbar.getHeight());
2545                 vbar.resize(vbar.getWidth(), vbar.getHeight()-hbar.getHeight());
2546             }
2547         }
2548 
2549         clipView.resize(snapSizeX(isVertical ? viewportBreadth : viewportLength),
2550                         snapSizeY(isVertical ? viewportLength : viewportBreadth));
2551 
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>