<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff tests/system/src/test/java/test/robot/com/sun/glass/ui/monocle/RobotTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>tests/system/src/test/java/test/robot/com/sun/glass/ui/monocle/RobotTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -59,43 +59,43 @@</span>
      public void setUpScreen() throws Exception {
          TestLogShim.reset();
          TestLogShim.log(name.getMethodName());
          TestApplication.showFullScreenScene();
      }
<span class="udiff-line-modified-removed">-     </span>
<span class="udiff-line-modified-added">+ </span>
      @Test
      public void clickKeyModifierTest() throws Exception {
<span class="udiff-line-modified-removed">-     	runWithKeyPress(KeyCode.CONTROL, MouseButton.PRIMARY, &quot;Clicked at 300, 400 with modifier &#39;CTRL&#39;&quot;, evt -&gt; {</span>
<span class="udiff-line-modified-added">+         runWithKeyPress(KeyCode.CONTROL, MouseButton.PRIMARY, &quot;Clicked at 300, 400 with modifier &#39;CTRL&#39;&quot;, evt -&gt; {</span>
              assertTrue(&quot;Ctrl should be down&quot;,evt.isControlDown());
          });
          runWithKeyPress(KeyCode.SHIFT, MouseButton.PRIMARY, &quot;Clicked at 300, 400 with modifier &#39;SHIFT&#39;&quot;, evt -&gt; {
              assertTrue(&quot;Shift should be down&quot;,evt.isShiftDown());
          });
          runWithKeyPress(KeyCode.ALT, MouseButton.PRIMARY, &quot;Clicked at 300, 400 with modifier &#39;ALT&#39;&quot;, evt -&gt; {
              assertTrue(&quot;Alt should be down&quot;,evt.isAltDown());
          });
      }
<span class="udiff-line-modified-removed">-     </span>
<span class="udiff-line-modified-added">+ </span>
      private void runWithKeyPress(KeyCode code, MouseButton button, String message, Consumer&lt;MouseEvent&gt; test) throws Exception {
          TestApplication.getStage().getScene().setOnMouseClicked(
                  (e) -&gt; {
<span class="udiff-line-modified-removed">-                 	test.accept(e);</span>
<span class="udiff-line-modified-removed">-                 	TestLogShim.format(&quot;Clicked at %.0f, %.0f with modifier &#39;%s&#39;&quot;, e.getScreenX(), e.getScreenY(), modifierString(e));</span>
<span class="udiff-line-modified-added">+                     test.accept(e);</span>
<span class="udiff-line-modified-added">+                     TestLogShim.format(&quot;Clicked at %.0f, %.0f with modifier &#39;%s&#39;&quot;, e.getScreenX(), e.getScreenY(), modifierString(e));</span>
                  }
          );
<span class="udiff-line-modified-removed">-     	</span>
<span class="udiff-line-modified-removed">-     	Platform.runLater(() -&gt; {</span>
<span class="udiff-line-modified-added">+ </span>
<span class="udiff-line-modified-added">+         Platform.runLater(() -&gt; {</span>
              Robot robot = new Robot();
              robot.mouseMove(300, 400);
              robot.keyPress(code);
              robot.mousePress(button);
              robot.mouseRelease(button);
              robot.keyRelease(code);
          });
<span class="udiff-line-modified-removed">-     	TestLogShim.waitForLog(message);</span>
<span class="udiff-line-modified-added">+         TestLogShim.waitForLog(message);</span>
      }
<span class="udiff-line-modified-removed">-     </span>
<span class="udiff-line-modified-added">+ </span>
      private static String modifierString(MouseEvent evt) {
      	List&lt;String&gt; modifiers = new ArrayList&lt;&gt;();
      	if(evt.isAltDown()) {
      		modifiers.add(&quot;ALT&quot;);
      	}
</pre>
<center>&lt; prev <a href="../../../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>