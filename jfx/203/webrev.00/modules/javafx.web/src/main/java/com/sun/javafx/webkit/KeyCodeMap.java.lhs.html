<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.web/src/main/java/com/sun/javafx/webkit/KeyCodeMap.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /*
<a name="1" id="anc1"></a><span class="line-modified">  2  * Copyright (c) 2011, 2014, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package com.sun.javafx.webkit;
 27 
 28 import com.sun.webkit.event.WCKeyEvent;
 29 import java.util.Map;
 30 import javafx.scene.input.KeyCode;
 31 
 32 /**
 33  * The static mapping from JavaFX {@code KeyCode}s to Windows virtual key
 34  * codes and WebKit key identifiers.
 35  * For why there is a need to map to Windows virtual key codes and WebKit
 36  * key identifiers, see Source/WebCore/platform/PlatformKeyboardEvent.h,
 37  * Source/WebKit/chromium/public/WebInputEvent.h
 38  * (WebKeyboardEvent::windowsKeyCode and WebKeyboardEvent::nativeKeyCode),
 39  * and Source/WebCore/platform/chromium/KeyboardCodes.h.
 40  */
 41 public final class KeyCodeMap {
 42 
 43     /**
 44      * The information associated with a {@code KeyCode}.
 45      */
 46     public static final class Entry {
 47         private final int windowsVirtualKeyCode;
 48         private final String keyIdentifier;
 49 
 50         private Entry(int windowsVirtualKeyCode, String keyIdentifier) {
 51             this.windowsVirtualKeyCode = windowsVirtualKeyCode;
 52             this.keyIdentifier = keyIdentifier;
 53         }
 54 
 55         public int getWindowsVirtualKeyCode() {
 56             return windowsVirtualKeyCode;
 57         }
 58 
 59         public String getKeyIdentifier() {
 60             return keyIdentifier;
 61         }
 62     };
 63 
 64     private static final Map&lt;KeyCode, Entry&gt; MAP = Map.ofEntries(
 65         entry(KeyCode.ENTER,             WCKeyEvent.VK_RETURN, &quot;Enter&quot;),
 66         entry(KeyCode.BACK_SPACE,        WCKeyEvent.VK_BACK),
 67         entry(KeyCode.TAB,               WCKeyEvent.VK_TAB),
 68         entry(KeyCode.CANCEL,            0x03),
 69         entry(KeyCode.CLEAR,             0x0C, &quot;Clear&quot;),
 70         entry(KeyCode.SHIFT,             0x10, &quot;Shift&quot;),
 71         entry(KeyCode.CONTROL,           0x11, &quot;Control&quot;),
 72         entry(KeyCode.ALT,               0x12, &quot;Alt&quot;),
 73         entry(KeyCode.PAUSE,             0x13, &quot;Pause&quot;),
 74         entry(KeyCode.CAPS,              0x14, &quot;CapsLock&quot;),
 75         entry(KeyCode.ESCAPE,            WCKeyEvent.VK_ESCAPE),
 76         entry(KeyCode.SPACE,             0x20),
 77         entry(KeyCode.PAGE_UP,           WCKeyEvent.VK_PRIOR, &quot;PageUp&quot;),
 78         entry(KeyCode.PAGE_DOWN,         WCKeyEvent.VK_NEXT, &quot;PageDown&quot;),
 79         entry(KeyCode.END,               WCKeyEvent.VK_END, &quot;End&quot;),
 80         entry(KeyCode.HOME,              WCKeyEvent.VK_HOME, &quot;Home&quot;),
 81         entry(KeyCode.LEFT,              WCKeyEvent.VK_LEFT, &quot;Left&quot;),
 82         entry(KeyCode.UP,                WCKeyEvent.VK_UP, &quot;Up&quot;),
 83         entry(KeyCode.RIGHT,             WCKeyEvent.VK_RIGHT, &quot;Right&quot;),
 84         entry(KeyCode.DOWN,              WCKeyEvent.VK_DOWN, &quot;Down&quot;),
 85         entry(KeyCode.COMMA,             0xBC),
 86         entry(KeyCode.MINUS,             0xBD),
 87         entry(KeyCode.PERIOD,            WCKeyEvent.VK_OEM_PERIOD),
 88         entry(KeyCode.SLASH,             0xBF),
 89         entry(KeyCode.DIGIT0,            0x30),
 90         entry(KeyCode.DIGIT1,            0x31),
 91         entry(KeyCode.DIGIT2,            0x32),
 92         entry(KeyCode.DIGIT3,            0x33),
 93         entry(KeyCode.DIGIT4,            0x34),
 94         entry(KeyCode.DIGIT5,            0x35),
 95         entry(KeyCode.DIGIT6,            0x36),
 96         entry(KeyCode.DIGIT7,            0x37),
 97         entry(KeyCode.DIGIT8,            0x38),
 98         entry(KeyCode.DIGIT9,            0x39),
 99         entry(KeyCode.SEMICOLON,         0xBA),
100         entry(KeyCode.EQUALS,            0xBB),
101         entry(KeyCode.A,                 0x41),
102         entry(KeyCode.B,                 0x42),
103         entry(KeyCode.C,                 0x43),
104         entry(KeyCode.D,                 0x44),
105         entry(KeyCode.E,                 0x45),
106         entry(KeyCode.F,                 0x46),
107         entry(KeyCode.G,                 0x47),
108         entry(KeyCode.H,                 0x48),
109         entry(KeyCode.I,                 0x49),
110         entry(KeyCode.J,                 0x4A),
111         entry(KeyCode.K,                 0x4B),
112         entry(KeyCode.L,                 0x4C),
113         entry(KeyCode.M,                 0x4D),
114         entry(KeyCode.N,                 0x4E),
115         entry(KeyCode.O,                 0x4F),
116         entry(KeyCode.P,                 0x50),
117         entry(KeyCode.Q,                 0x51),
118         entry(KeyCode.R,                 0x52),
119         entry(KeyCode.S,                 0x53),
120         entry(KeyCode.T,                 0x54),
121         entry(KeyCode.U,                 0x55),
122         entry(KeyCode.V,                 0x56),
123         entry(KeyCode.W,                 0x57),
124         entry(KeyCode.X,                 0x58),
125         entry(KeyCode.Y,                 0x59),
126         entry(KeyCode.Z,                 0x5A),
127         entry(KeyCode.OPEN_BRACKET,      0xDB),
128         entry(KeyCode.BACK_SLASH,        0xDC),
129         entry(KeyCode.CLOSE_BRACKET,     0xDD),
130         entry(KeyCode.NUMPAD0,           0x60),
131         entry(KeyCode.NUMPAD1,           0x61),
132         entry(KeyCode.NUMPAD2,           0x62),
133         entry(KeyCode.NUMPAD3,           0x63),
134         entry(KeyCode.NUMPAD4,           0x64),
135         entry(KeyCode.NUMPAD5,           0x65),
136         entry(KeyCode.NUMPAD6,           0x66),
137         entry(KeyCode.NUMPAD7,           0x67),
138         entry(KeyCode.NUMPAD8,           0x68),
139         entry(KeyCode.NUMPAD9,           0x69),
140         entry(KeyCode.MULTIPLY,          0x6A),
141         entry(KeyCode.ADD,               0x6B),
142         entry(KeyCode.SEPARATOR,         0x6C),
143         entry(KeyCode.SUBTRACT,          0x6D),
144         entry(KeyCode.DECIMAL,           0x6E),
145         entry(KeyCode.DIVIDE,            0x6F),
146         entry(KeyCode.DELETE,            WCKeyEvent.VK_DELETE, &quot;U+007F&quot;),
147         entry(KeyCode.NUM_LOCK,          0x90),
148         entry(KeyCode.SCROLL_LOCK,       0x91, &quot;Scroll&quot;),
149         entry(KeyCode.F1,                0x70, &quot;F1&quot;),
150         entry(KeyCode.F2,                0x71, &quot;F2&quot;),
151         entry(KeyCode.F3,                0x72, &quot;F3&quot;),
152         entry(KeyCode.F4,                0x73, &quot;F4&quot;),
153         entry(KeyCode.F5,                0x74, &quot;F5&quot;),
154         entry(KeyCode.F6,                0x75, &quot;F6&quot;),
155         entry(KeyCode.F7,                0x76, &quot;F7&quot;),
156         entry(KeyCode.F8,                0x77, &quot;F8&quot;),
157         entry(KeyCode.F9,                0x78, &quot;F9&quot;),
158         entry(KeyCode.F10,               0x79, &quot;F10&quot;),
159         entry(KeyCode.F11,               0x7A, &quot;F11&quot;),
160         entry(KeyCode.F12,               0x7B, &quot;F12&quot;),
161         entry(KeyCode.F13,               0x7C, &quot;F13&quot;),
162         entry(KeyCode.F14,               0x7D, &quot;F14&quot;),
163         entry(KeyCode.F15,               0x7E, &quot;F15&quot;),
164         entry(KeyCode.F16,               0x7F, &quot;F16&quot;),
165         entry(KeyCode.F17,               0x80, &quot;F17&quot;),
166         entry(KeyCode.F18,               0x81, &quot;F18&quot;),
167         entry(KeyCode.F19,               0x82, &quot;F19&quot;),
168         entry(KeyCode.F20,               0x83, &quot;F20&quot;),
169         entry(KeyCode.F21,               0x84, &quot;F21&quot;),
170         entry(KeyCode.F22,               0x85, &quot;F22&quot;),
171         entry(KeyCode.F23,               0x86, &quot;F23&quot;),
172         entry(KeyCode.F24,               0x87, &quot;F24&quot;),
173         entry(KeyCode.PRINTSCREEN,       0x2C, &quot;PrintScreen&quot;),
174         entry(KeyCode.INSERT,            WCKeyEvent.VK_INSERT, &quot;Insert&quot;),
175         entry(KeyCode.HELP,              0x2F, &quot;Help&quot;),
176         entry(KeyCode.META,              0x00, &quot;Meta&quot;),
177         entry(KeyCode.BACK_QUOTE,        0xC0),
178         entry(KeyCode.QUOTE,             0xDE),
179         entry(KeyCode.KP_UP,             WCKeyEvent.VK_UP, &quot;Up&quot;),
180         entry(KeyCode.KP_DOWN,           WCKeyEvent.VK_DOWN, &quot;Down&quot;),
181         entry(KeyCode.KP_LEFT,           WCKeyEvent.VK_LEFT, &quot;Left&quot;),
182         entry(KeyCode.KP_RIGHT,          WCKeyEvent.VK_RIGHT, &quot;Right&quot;),
183         entry(KeyCode.AMPERSAND,         0x37),
184         entry(KeyCode.ASTERISK,          0x38),
185         entry(KeyCode.QUOTEDBL,          0xDE),
186         entry(KeyCode.LESS,              0xBC),
187         entry(KeyCode.GREATER,           WCKeyEvent.VK_OEM_PERIOD),
188         entry(KeyCode.BRACELEFT,         0xDB),
189         entry(KeyCode.BRACERIGHT,        0xDD),
190         entry(KeyCode.AT,                0x32),
191         entry(KeyCode.COLON,             0xBA),
192         entry(KeyCode.CIRCUMFLEX,        0x36),
193         entry(KeyCode.DOLLAR,            0x34),
194         entry(KeyCode.EXCLAMATION_MARK,  0x31),
195         entry(KeyCode.LEFT_PARENTHESIS,  0x39),
196         entry(KeyCode.NUMBER_SIGN,       0x33),
197         entry(KeyCode.PLUS,              0xBB),
198         entry(KeyCode.RIGHT_PARENTHESIS, 0x30),
199         entry(KeyCode.UNDERSCORE,        0xBD),
200         entry(KeyCode.WINDOWS,           0x5B, &quot;Win&quot;),
201         entry(KeyCode.CONTEXT_MENU,      0x5D),
202         entry(KeyCode.FINAL,             0x18),
203         entry(KeyCode.CONVERT,           0x1C),
204         entry(KeyCode.NONCONVERT,        0x1D),
205         entry(KeyCode.ACCEPT,            0x1E),
206         entry(KeyCode.MODECHANGE,        0x1F),
207         entry(KeyCode.KANA,              0x15),
208         entry(KeyCode.KANJI,             0x19),
209         entry(KeyCode.ALT_GRAPH,         0xA5),
210         entry(KeyCode.PLAY,              0xFA),
211         entry(KeyCode.TRACK_PREV,        0xB1),
212         entry(KeyCode.TRACK_NEXT,        0xB0),
213         entry(KeyCode.VOLUME_UP,         0xAF),
214         entry(KeyCode.VOLUME_DOWN,       0xAE),
215         entry(KeyCode.MUTE,              0xAD));
216 
217     private static Map.Entry&lt;KeyCode, Entry&gt; entry(KeyCode keyCode, int windowsVirtualKeyCode, String keyIdentifier) {
218         return Map.entry(keyCode, new Entry(windowsVirtualKeyCode, keyIdentifier));
219     }
220 
221     private static Map.Entry&lt;KeyCode, Entry&gt; entry(KeyCode keyCode, int windowsVirtualKeyCode) {
222         return entry(keyCode, windowsVirtualKeyCode, null);
223     }
224 
225     /**
226      * Returns an {@link Entry} object containing the Windows
227      * virtual key code and the key identifier associated with
228      * a given {@link KeyCode}.
229      */
230     public static Entry lookup(KeyCode keyCode) {
231         Entry entry = MAP.get(keyCode);
232         if (entry == null || entry.getKeyIdentifier() == null) {
233             int windowsVirtualKeyCode = entry != null
234                     ? entry.getWindowsVirtualKeyCode() : 0;
235             String keyIdentifier =
236                     String.format(&quot;U+%04X&quot;, windowsVirtualKeyCode);
237             entry = new Entry(windowsVirtualKeyCode, keyIdentifier);
238         }
239         return entry;
240     }
241 }
<a name="2" id="anc2"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="2" type="hidden" />
</body>
</html>