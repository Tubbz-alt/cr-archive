<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff tests/system/src/testscriptapp1/java/mymod/pseudoScriptEngine/RgfPseudoScriptEngine.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="InvocationInfos.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../resources/mymod/META-INF/services/javax.script.ScriptEngineFactory.cdiff.html" target="_top">next &gt;</a></center>    <h2>tests/system/src/testscriptapp1/java/mymod/pseudoScriptEngine/RgfPseudoScriptEngine.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 41,12 ***</span>
  import java.io.BufferedReader;
  import java.io.IOException;
  
  import java.time.Instant;
  
<span class="line-modified">! public class RgfPseudoScriptEngine extends AbstractScriptEngine</span>
<span class="line-removed">- {</span>
      static final boolean bDebug = false; // true;
  
      /** Allows to log and access the ScriptEngine instances with their evalDataList. */
      static final ArrayList&lt;RgfPseudoScriptEngine&gt; enginesUsed = new ArrayList();
      public static ArrayList&lt;RgfPseudoScriptEngine&gt; getEnginesUsed() {
<span class="line-new-header">--- 41,11 ---</span>
  import java.io.BufferedReader;
  import java.io.IOException;
  
  import java.time.Instant;
  
<span class="line-modified">! public class RgfPseudoScriptEngine extends AbstractScriptEngine {</span>
      static final boolean bDebug = false; // true;
  
      /** Allows to log and access the ScriptEngine instances with their evalDataList. */
      static final ArrayList&lt;RgfPseudoScriptEngine&gt; enginesUsed = new ArrayList();
      public static ArrayList&lt;RgfPseudoScriptEngine&gt; getEnginesUsed() {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 83,12 ***</span>
  
  
      public Object eval(String script, ScriptContext context) {
          if (bDebug) System.err.print(&quot;[debug: &quot; + this + &quot;.eval(String,ScriptContext), ScriptContext=&quot; + context + &quot;]&quot;);
  
<span class="line-modified">!             // create copies of the Bindings for later inspection as they may</span>
<span class="line-modified">!             // get reused and changed on each eval() invocation</span>
          TreeMap&lt;Integer,TreeMap&gt; bindings = new TreeMap();
          for (Integer scope : context.getScopes()) {
              Bindings binding = context.getBindings(scope);
              bindings.put(scope, binding == null ? new TreeMap&lt;String,Object&gt;() : new TreeMap&lt;String,Object&gt;(binding));
          }
<span class="line-new-header">--- 82,12 ---</span>
  
  
      public Object eval(String script, ScriptContext context) {
          if (bDebug) System.err.print(&quot;[debug: &quot; + this + &quot;.eval(String,ScriptContext), ScriptContext=&quot; + context + &quot;]&quot;);
  
<span class="line-modified">!         // create copies of the Bindings for later inspection as they may</span>
<span class="line-modified">!         // get reused and changed on each eval() invocation</span>
          TreeMap&lt;Integer,TreeMap&gt; bindings = new TreeMap();
          for (Integer scope : context.getScopes()) {
              Bindings binding = context.getBindings(scope);
              bindings.put(scope, binding == null ? new TreeMap&lt;String,Object&gt;() : new TreeMap&lt;String,Object&gt;(binding));
          }
</pre>
<center><a href="InvocationInfos.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="../../../resources/mymod/META-INF/services/javax.script.ScriptEngineFactory.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>