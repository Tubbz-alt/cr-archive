<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.graphics/src/main/native-font/directwrite.cpp</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../buildSrc/win.gradle.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="fontpath.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/native-font/directwrite.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  34 
  35 #include &lt;com_sun_javafx_font_directwrite_OS.h&gt;
  36 
  37 #define OS_NATIVE(func) Java_com_sun_javafx_font_directwrite_OS_##func
  38 
  39 /* DirectWrite is not available on all platforms. */
  40 typedef HRESULT (WINAPI*DWriteCreateFactoryProc)(
  41   DWRITE_FACTORY_TYPE factoryType,
  42   REFIID iid,
  43   IUnknown **factory
  44 );
  45 
  46 /* Direct2D is not available on all platforms. */
  47 typedef HRESULT (WINAPI*D2D1CreateFactoryProc)(
  48   D2D1_FACTORY_TYPE factoryType,
  49   REFIID iid,
  50   const D2D1_FACTORY_OPTIONS *pFactoryOptions,
  51   void **factory
  52 );
  53 
<span class="line-modified">  54 jboolean checkAndClearException(JNIEnv* env)</span>
  55 {
  56     jthrowable t = env-&gt;ExceptionOccurred();
  57     if (!t) {
  58         return JNI_FALSE;
  59     }
  60     env-&gt;ExceptionClear();
  61     return JNI_TRUE;
  62 }
  63 
  64 /**************************************************************************/
  65 /*                                                                        */
  66 /*                            Structs                                     */
  67 /*                                                                        */
  68 /**************************************************************************/
  69 
  70 typedef struct DWRITE_GLYPH_METRICS_FID_CACHE {
  71     int cached;
  72     jclass clazz;
  73     jfieldID leftSideBearing, advanceWidth, rightSideBearing, topSideBearing, advanceHeight, bottomSideBearing, verticalOriginY;
  74     jmethodID init;
</pre>
</td>
<td>
<hr />
<pre>
  34 
  35 #include &lt;com_sun_javafx_font_directwrite_OS.h&gt;
  36 
  37 #define OS_NATIVE(func) Java_com_sun_javafx_font_directwrite_OS_##func
  38 
  39 /* DirectWrite is not available on all platforms. */
  40 typedef HRESULT (WINAPI*DWriteCreateFactoryProc)(
  41   DWRITE_FACTORY_TYPE factoryType,
  42   REFIID iid,
  43   IUnknown **factory
  44 );
  45 
  46 /* Direct2D is not available on all platforms. */
  47 typedef HRESULT (WINAPI*D2D1CreateFactoryProc)(
  48   D2D1_FACTORY_TYPE factoryType,
  49   REFIID iid,
  50   const D2D1_FACTORY_OPTIONS *pFactoryOptions,
  51   void **factory
  52 );
  53 
<span class="line-modified">  54 static jboolean checkAndClearException(JNIEnv* env)</span>
  55 {
  56     jthrowable t = env-&gt;ExceptionOccurred();
  57     if (!t) {
  58         return JNI_FALSE;
  59     }
  60     env-&gt;ExceptionClear();
  61     return JNI_TRUE;
  62 }
  63 
  64 /**************************************************************************/
  65 /*                                                                        */
  66 /*                            Structs                                     */
  67 /*                                                                        */
  68 /**************************************************************************/
  69 
  70 typedef struct DWRITE_GLYPH_METRICS_FID_CACHE {
  71     int cached;
  72     jclass clazz;
  73     jfieldID leftSideBearing, advanceWidth, rightSideBearing, topSideBearing, advanceHeight, bottomSideBearing, verticalOriginY;
  74     jmethodID init;
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../buildSrc/win.gradle.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="fontpath.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>