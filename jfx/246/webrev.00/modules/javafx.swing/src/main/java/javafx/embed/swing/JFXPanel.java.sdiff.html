<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.swing/src/main/java/javafx/embed/swing/JFXPanel.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.swing/src/main/java/javafx/embed/swing/JFXPanel.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 659     /**
 660      * Overrides the
 661      * {@link java.awt.Component#processFocusEvent(FocusEvent)}
 662      * method to dispatch focus events to the JavaFX scene attached to this
 663      * {@code JFXPanel}.
 664      *
 665      * @param e the focus event to dispatch to the JavaFX scene
 666      */
 667     @Override
 668     protected void processFocusEvent(FocusEvent e) {
 669         sendFocusEventToFX(e);
 670         super.processFocusEvent(e);
 671     }
 672 
 673     // called on EDT only
 674     private void createResizePixelBuffer(double newScaleFactorX, double newScaleFactorY) {
 675         if (scenePeer == null || pWidth &lt;= 0 || pHeight &lt;= 0) {
 676             pixelsIm = null;
 677         } else {
 678             BufferedImage oldIm = pixelsIm;
<span class="line-modified"> 679             int newPixelW = (int) Math.ceil(pWidth * newScaleFactorX);</span>
<span class="line-modified"> 680             int newPixelH = (int) Math.ceil(pHeight * newScaleFactorY);</span>
 681             pixelsIm = new BufferedImage(newPixelW, newPixelH,
 682                                          SwingFXUtils.getBestBufferedImageType(
 683                                              scenePeer.getPixelFormat(), null, false));
 684             if (oldIm != null) {
 685                 double ratioX = newScaleFactorX / scaleFactorX;
 686                 double ratioY = newScaleFactorY / scaleFactorY;
 687                 // Transform old size to the new coordinate space.
 688                 int oldW = (int)Math.round(oldIm.getWidth() * ratioX);
 689                 int oldH = (int)Math.round(oldIm.getHeight() * ratioY);
 690 
 691                 Graphics g = pixelsIm.getGraphics();
 692                 try {
 693                     g.drawImage(oldIm, 0, 0, oldW, oldH, null);
 694                 } finally {
 695                     g.dispose();
 696                 }
 697             }
 698         }
 699     }
 700 
</pre>
</td>
<td>
<hr />
<pre>
 659     /**
 660      * Overrides the
 661      * {@link java.awt.Component#processFocusEvent(FocusEvent)}
 662      * method to dispatch focus events to the JavaFX scene attached to this
 663      * {@code JFXPanel}.
 664      *
 665      * @param e the focus event to dispatch to the JavaFX scene
 666      */
 667     @Override
 668     protected void processFocusEvent(FocusEvent e) {
 669         sendFocusEventToFX(e);
 670         super.processFocusEvent(e);
 671     }
 672 
 673     // called on EDT only
 674     private void createResizePixelBuffer(double newScaleFactorX, double newScaleFactorY) {
 675         if (scenePeer == null || pWidth &lt;= 0 || pHeight &lt;= 0) {
 676             pixelsIm = null;
 677         } else {
 678             BufferedImage oldIm = pixelsIm;
<span class="line-modified"> 679             int newPixelW = (int) Math.round(pWidth * newScaleFactorX);</span>
<span class="line-modified"> 680             int newPixelH = (int) Math.round(pHeight * newScaleFactorY);</span>
 681             pixelsIm = new BufferedImage(newPixelW, newPixelH,
 682                                          SwingFXUtils.getBestBufferedImageType(
 683                                              scenePeer.getPixelFormat(), null, false));
 684             if (oldIm != null) {
 685                 double ratioX = newScaleFactorX / scaleFactorX;
 686                 double ratioY = newScaleFactorY / scaleFactorY;
 687                 // Transform old size to the new coordinate space.
 688                 int oldW = (int)Math.round(oldIm.getWidth() * ratioX);
 689                 int oldH = (int)Math.round(oldIm.getHeight() * ratioY);
 690 
 691                 Graphics g = pixelsIm.getGraphics();
 692                 try {
 693                     g.drawImage(oldIm, 0, 0, oldW, oldH, null);
 694                 } finally {
 695                     g.dispose();
 696                 }
 697             }
 698         }
 699     }
 700 
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>