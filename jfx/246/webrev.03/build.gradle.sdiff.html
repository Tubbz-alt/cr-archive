<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff build.gradle</title>
    <link rel="stylesheet" href="style.css" />
  </head>
<body>
<center>&lt; prev <a href="index.html" target="_top">index</a> <a href="modules/javafx.graphics/src/main/java/com/sun/javafx/tk/quantum/EmbeddedScene.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>build.gradle</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
2549     })
2550 
2551     addMavenPublication(project, [ &#39;graphics&#39; ])
2552 
2553     addValidateSourceSets(project, sourceSets)
2554 }
2555 
2556 project(&quot;:swing&quot;) {
2557 
2558     tasks.all {
2559         if (!COMPILE_SWING) it.enabled = false
2560     }
2561 
2562     project.ext.buildModule = COMPILE_SWING
2563     project.ext.includeSources = true
2564     project.ext.moduleRuntime = true
2565     project.ext.moduleName = &quot;javafx.swing&quot;
2566 
2567     sourceSets {
2568         main
<span class="line-modified">2569         //shims // no test shims needed</span>
<span class="line-modified">2570         test</span>










2571     }
2572 
2573     project.ext.moduleSourcePath = defaultModuleSourcePath
2574     project.ext.moduleSourcePathShim = defaultModuleSourcePathShim
2575 
2576     commonModuleSetup(project, [ &#39;base&#39;, &#39;graphics&#39;, &#39;swing&#39; ])
2577 
2578     dependencies {
2579         compile project(&quot;:base&quot;)
2580         compile project(&quot;:graphics&quot;)
2581     }
2582 
2583     test {
2584         enabled = IS_FULL_TEST &amp;&amp; IS_AWT_TEST
2585     }
2586 
2587     if (COMPILE_SWING) {
2588         addMavenPublication(project, [ &#39;graphics&#39; ])
2589     }
2590 
</pre>
<hr />
<pre>
3580     ]
3581 
3582     def modSrcSets = [
3583         sourceSets.testapp2,
3584         sourceSets.testapp3,
3585         sourceSets.testapp4,
3586         sourceSets.testapp5,
3587         sourceSets.testapp6,
3588         sourceSets.testscriptapp1
3589     ]
3590 
3591     project.ext.buildModule = false
3592     project.ext.moduleRuntime = false
3593     project.ext.moduleName = &quot;systemTests&quot;
3594 
3595     dependencies {
3596         testCompile project(&quot;:graphics&quot;).sourceSets.test.output
3597         testCompile project(&quot;:base&quot;).sourceSets.test.output
3598         testCompile project(&quot;:controls&quot;).sourceSets.test.output
3599         testCompile project(&quot;:swing&quot;).sourceSets.test.output


3600     }
3601 
<span class="line-modified">3602     def dependentProjects = [ &#39;base&#39;, &#39;graphics&#39;, &#39;controls&#39;, &#39;media&#39;, &#39;web&#39;, &#39;swing&#39;, &#39;fxml&#39; ]</span>
3603     commonModuleSetup(project, dependentProjects)
3604 
3605     File testJavaPolicyFile = new File(rootProject.buildDir, TESTJAVAPOLICYFILE);
3606     File testRunArgsFile = new File(rootProject.buildDir,TESTRUNARGSFILE);
3607 
3608     File stRunArgsFile = new File(project.buildDir,&quot;st.run.args&quot;);
3609 
3610     def sts = task(&quot;systemTestSetup&quot;) {
3611         outputs.file(stRunArgsFile)
3612 
3613         doLast() {
3614             stRunArgsFile.delete()
3615 
3616             logger.info(&quot;Creating patchmodule.args file ${stRunArgsFile}&quot;)
3617 
3618             // Create an argfile with the information needed to launch
3619             // the stand alone system unit tests.
3620 
3621             //First add in all of the patch-module args we use for the
3622             //normal unit tests, copied from test.run.args
</pre>
</td>
<td>
<hr />
<pre>
2549     })
2550 
2551     addMavenPublication(project, [ &#39;graphics&#39; ])
2552 
2553     addValidateSourceSets(project, sourceSets)
2554 }
2555 
2556 project(&quot;:swing&quot;) {
2557 
2558     tasks.all {
2559         if (!COMPILE_SWING) it.enabled = false
2560     }
2561 
2562     project.ext.buildModule = COMPILE_SWING
2563     project.ext.includeSources = true
2564     project.ext.moduleRuntime = true
2565     project.ext.moduleName = &quot;javafx.swing&quot;
2566 
2567     sourceSets {
2568         main
<span class="line-modified">2569         shims {</span>
<span class="line-modified">2570             java {</span>
<span class="line-added">2571                 compileClasspath += sourceSets.main.output</span>
<span class="line-added">2572                 runtimeClasspath += sourceSets.main.output</span>
<span class="line-added">2573             }</span>
<span class="line-added">2574         }</span>
<span class="line-added">2575         test {</span>
<span class="line-added">2576             java {</span>
<span class="line-added">2577                 compileClasspath += sourceSets.shims.output</span>
<span class="line-added">2578                 runtimeClasspath += sourceSets.shims.output</span>
<span class="line-added">2579             }</span>
<span class="line-added">2580         }</span>
2581     }
2582 
2583     project.ext.moduleSourcePath = defaultModuleSourcePath
2584     project.ext.moduleSourcePathShim = defaultModuleSourcePathShim
2585 
2586     commonModuleSetup(project, [ &#39;base&#39;, &#39;graphics&#39;, &#39;swing&#39; ])
2587 
2588     dependencies {
2589         compile project(&quot;:base&quot;)
2590         compile project(&quot;:graphics&quot;)
2591     }
2592 
2593     test {
2594         enabled = IS_FULL_TEST &amp;&amp; IS_AWT_TEST
2595     }
2596 
2597     if (COMPILE_SWING) {
2598         addMavenPublication(project, [ &#39;graphics&#39; ])
2599     }
2600 
</pre>
<hr />
<pre>
3590     ]
3591 
3592     def modSrcSets = [
3593         sourceSets.testapp2,
3594         sourceSets.testapp3,
3595         sourceSets.testapp4,
3596         sourceSets.testapp5,
3597         sourceSets.testapp6,
3598         sourceSets.testscriptapp1
3599     ]
3600 
3601     project.ext.buildModule = false
3602     project.ext.moduleRuntime = false
3603     project.ext.moduleName = &quot;systemTests&quot;
3604 
3605     dependencies {
3606         testCompile project(&quot;:graphics&quot;).sourceSets.test.output
3607         testCompile project(&quot;:base&quot;).sourceSets.test.output
3608         testCompile project(&quot;:controls&quot;).sourceSets.test.output
3609         testCompile project(&quot;:swing&quot;).sourceSets.test.output
<span class="line-added">3610         testCompile project(&quot;:swt&quot;)</span>
<span class="line-added">3611         testCompile name: SWT_FILE_NAME</span>
3612     }
3613 
<span class="line-modified">3614     def dependentProjects = [ &#39;base&#39;, &#39;graphics&#39;, &#39;controls&#39;, &#39;media&#39;, &#39;web&#39;, &#39;swing&#39;, &#39;fxml&#39;, &#39;swt&#39; ]</span>
3615     commonModuleSetup(project, dependentProjects)
3616 
3617     File testJavaPolicyFile = new File(rootProject.buildDir, TESTJAVAPOLICYFILE);
3618     File testRunArgsFile = new File(rootProject.buildDir,TESTRUNARGSFILE);
3619 
3620     File stRunArgsFile = new File(project.buildDir,&quot;st.run.args&quot;);
3621 
3622     def sts = task(&quot;systemTestSetup&quot;) {
3623         outputs.file(stRunArgsFile)
3624 
3625         doLast() {
3626             stRunArgsFile.delete()
3627 
3628             logger.info(&quot;Creating patchmodule.args file ${stRunArgsFile}&quot;)
3629 
3630             // Create an argfile with the information needed to launch
3631             // the stand alone system unit tests.
3632 
3633             //First add in all of the patch-module args we use for the
3634             //normal unit tests, copied from test.run.args
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="index.html" target="_top">index</a> <a href="modules/javafx.graphics/src/main/java/com/sun/javafx/tk/quantum/EmbeddedScene.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>