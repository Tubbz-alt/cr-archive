<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.media/src/main/native/jfxmedia/platform/osx/avf/AVFAudioSpectrumUnit.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="AVFAudioSpectrumUnit.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="AVFMediaPlayer.mm.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/jfxmedia/platform/osx/avf/AVFAudioSpectrumUnit.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -47,11 +47,12 @@</span>
   *
   * callbackContext: user specified context pointer
   * timeStamp: the beginning time in seconds of the sample period (from beginning of stream)
   * duration: the length of time in seconds of the sample period
   */
<span class="udiff-line-modified-removed">- typedef void (*AVFSpectrumUnitCallbackProc)(void *callbackContext, double duration);</span>
<span class="udiff-line-modified-added">+ typedef void (*AVFSpectrumUnitCallbackProc)(void *callbackContext, double duration,</span>
<span class="udiff-line-added">+                                             double timestamp);</span>
  
  class AVFAudioSpectrumUnit : public CAudioSpectrum {
  public:
      AVFAudioSpectrumUnit();
      virtual ~AVFAudioSpectrumUnit();
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -78,10 +79,11 @@</span>
  
      void SetSampleRate(UInt32 rate);
      void SetChannels(UInt32 count);
      void SetMaxFrames(UInt32 maxFrames);
      void SetSpectrumCallbackProc(AVFSpectrumUnitCallbackProc proc, void *context);
<span class="udiff-line-added">+     void SetFirstBufferDelivered(bool isFirstBufferDelivered);</span>
  
  private:
      AVFSpectrumUnitCallbackProc mSpectrumCallbackProc;
      void *mSpectrumCallbackContext;
      bool mEnabled;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -100,10 +102,11 @@</span>
      UInt32 mChannels;
      UInt32 mMaxFrames;
      UInt32 mSamplesPerInterval;
  
      bool mRebuildCrunch;
<span class="udiff-line-added">+     bool mFirstBufferDelivered;</span>
  
      // GStreamer
      GstElement *mSpectrumElement;
      GstSpectrum *mSpectrum;
  
</pre>
<center><a href="AVFAudioSpectrumUnit.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="AVFMediaPlayer.mm.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>