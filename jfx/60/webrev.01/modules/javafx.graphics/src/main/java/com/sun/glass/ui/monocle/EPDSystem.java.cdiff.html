<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.graphics/src/main/java/com/sun/glass/ui/monocle/EPDSystem.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="EPDSettings.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="FramebufferY8.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/java/com/sun/glass/ui/monocle/EPDSystem.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 175,11 ***</span>
       * display power supplies.
       */
      static final int FB_POWERDOWN_DISABLE = -1;
  
      /**
<span class="line-modified">!      * Initialization waveform (0x0...0xF → 0xF in ~4000 ms). Clears the screen</span>
       * to all white.
       * &lt;p&gt;
       * &quot;A first exemplary drive scheme provides waveforms that may be used to
       * change the display state of a pixel from any initial display state to a
       * new display state of white. The first drive scheme may be referred to as
<span class="line-new-header">--- 175,11 ---</span>
       * display power supplies.
       */
      static final int FB_POWERDOWN_DISABLE = -1;
  
      /**
<span class="line-modified">!      * Initialization waveform (0x0...0xF to 0xF in ~4000 ms). Clears the screen</span>
       * to all white.
       * &lt;p&gt;
       * &quot;A first exemplary drive scheme provides waveforms that may be used to
       * change the display state of a pixel from any initial display state to a
       * new display state of white. The first drive scheme may be referred to as
</pre>
<hr />
<pre>
<span class="line-old-header">*** 187,11 ***</span>
       * 9,280,955&lt;/cite&gt;]&lt;/p&gt;
       */
      static final int WAVEFORM_MODE_INIT = 0;
  
      /**
<span class="line-modified">!      * Direct update waveform (0x0...0xF → 0x0 or 0xF in ~260 ms). Changes gray</span>
       * pixels to black or white.
       * &lt;p&gt;
       * &quot;A second exemplary drive scheme provides waveforms that may be used to
       * change the display state of a pixel from any initial display state to a
       * new display state of either white or black. The second drive scheme may
<span class="line-new-header">--- 187,11 ---</span>
       * 9,280,955&lt;/cite&gt;]&lt;/p&gt;
       */
      static final int WAVEFORM_MODE_INIT = 0;
  
      /**
<span class="line-modified">!      * Direct update waveform (0x0...0xF to 0x0 or 0xF in ~260 ms). Changes gray</span>
       * pixels to black or white.
       * &lt;p&gt;
       * &quot;A second exemplary drive scheme provides waveforms that may be used to
       * change the display state of a pixel from any initial display state to a
       * new display state of either white or black. The second drive scheme may
</pre>
<hr />
<pre>
<span class="line-old-header">*** 199,11 ***</span>
       * 9,280,955&lt;/cite&gt;]&lt;/p&gt;
       */
      static final int WAVEFORM_MODE_DU = 1;
  
      /**
<span class="line-modified">!      * Gray 4-level waveform (0x0...0xF → 0x0, 0x5, 0xA, or 0xF in ~500 ms).</span>
       * Supports 2-bit grayscale images and text with lower quality.
       * &lt;p&gt;
       * &quot;A third exemplary drive scheme provides waveforms that may be used to
       * change the display state of a pixel from any initial display state to a
       * new display state. The initial state may be any four-bit (16 gray states)
<span class="line-new-header">--- 199,11 ---</span>
       * 9,280,955&lt;/cite&gt;]&lt;/p&gt;
       */
      static final int WAVEFORM_MODE_DU = 1;
  
      /**
<span class="line-modified">!      * Gray 4-level waveform (0x0...0xF to 0x0, 0x5, 0xA, or 0xF in ~500 ms).</span>
       * Supports 2-bit grayscale images and text with lower quality.
       * &lt;p&gt;
       * &quot;A third exemplary drive scheme provides waveforms that may be used to
       * change the display state of a pixel from any initial display state to a
       * new display state. The initial state may be any four-bit (16 gray states)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 212,12 ***</span>
       * [&lt;cite&gt;United States Patent 9,280,955&lt;/cite&gt;]&lt;/p&gt;
       */
      static final int WAVEFORM_MODE_GC4 = 3;
  
      /**
<span class="line-modified">!      * Gray 16-level waveform (0x0...0xF → 0x0...0xF in ~760 ms). Supports 4-bit</span>
<span class="line-modified">!      * grayscale images and text with high quality.</span>
       * &lt;p&gt;
       * &quot;A fourth exemplary drive scheme provides waveforms that may be used to
       * change the display state of a pixel from any initial display state to a
       * new display state. The initial state may be any four-bit (16 gray states)
       * value. The new display state may be any four-bit (16 gray states) value.
<span class="line-new-header">--- 212,12 ---</span>
       * [&lt;cite&gt;United States Patent 9,280,955&lt;/cite&gt;]&lt;/p&gt;
       */
      static final int WAVEFORM_MODE_GC4 = 3;
  
      /**
<span class="line-modified">!      * Gray 16-level waveform (0x0...0xF to 0x0...0xF in ~760 ms). Supports</span>
<span class="line-modified">!      * 4-bit grayscale images and text with high quality.</span>
       * &lt;p&gt;
       * &quot;A fourth exemplary drive scheme provides waveforms that may be used to
       * change the display state of a pixel from any initial display state to a
       * new display state. The initial state may be any four-bit (16 gray states)
       * value. The new display state may be any four-bit (16 gray states) value.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 225,11 ***</span>
       * [&lt;cite&gt;United States Patent 9,280,955&lt;/cite&gt;]&lt;/p&gt;
       */
      static final int WAVEFORM_MODE_GC16 = 2;
  
      /**
<span class="line-modified">!      * Animation waveform (0x0 or 0xF → 0x0 or 0xF in ~120 ms). Provides a fast</span>
       * 1-bit black-and-white animation mode of up to eight frames per second.
       * &lt;p&gt;
       * &quot;A fifth exemplary drive scheme provides waveforms that may be used to
       * change the display state of a pixel from an initial display state to a
       * new display state. The initial state must be white or black. The new
<span class="line-new-header">--- 225,11 ---</span>
       * [&lt;cite&gt;United States Patent 9,280,955&lt;/cite&gt;]&lt;/p&gt;
       */
      static final int WAVEFORM_MODE_GC16 = 2;
  
      /**
<span class="line-modified">!      * Animation waveform (0x0 or 0xF to 0x0 or 0xF in ~120 ms). Provides a fast</span>
       * 1-bit black-and-white animation mode of up to eight frames per second.
       * &lt;p&gt;
       * &quot;A fifth exemplary drive scheme provides waveforms that may be used to
       * change the display state of a pixel from an initial display state to a
       * new display state. The initial state must be white or black. The new
</pre>
<hr />
<pre>
<span class="line-old-header">*** 343,24 ***</span>
      void loadLibrary() {
          NativeLibLoader.loadLibrary(&quot;glass_monocle_epd&quot;);
      }
  
      /**
<span class="line-modified">!      * Passes an integer parameter by value to the device driver through the</span>
<span class="line-modified">!      * IOCTL interface. ({@link LinuxSystem#ioctl}, instead, takes a pointer as</span>
<span class="line-modified">!      * its third parameter, passing its data by reference.)</span>
       *
       * @param fd an open file descriptor
       * @param request a device-dependent request code
       * @param value the integer value
       * @return 0 if successful; otherwise -1 with {@code errno} set
       * appropriately
       */
      native int ioctl(long fd, int request, int value);
  
      /**
<span class="line-modified">!      * A structure for passing an integer by value in an IOCTL call.</span>
       */
      static class IntStructure extends C.Structure {
  
          private static final int VALUE = 0;
  
<span class="line-new-header">--- 343,26 ---</span>
      void loadLibrary() {
          NativeLibLoader.loadLibrary(&quot;glass_monocle_epd&quot;);
      }
  
      /**
<span class="line-modified">!      * Calls the {@code ioctl} system function, passing a &lt;i&gt;write&lt;/i&gt; integer</span>
<span class="line-modified">!      * parameter. This method is more convenient than passing the pointer to an</span>
<span class="line-modified">!      * {@code IntStructure} with {@link LinuxSystem#ioctl} and can be used when</span>
<span class="line-added">+      * the request code is created by {@link LinuxSystem#IOW} for setting an</span>
<span class="line-added">+      * integer value.</span>
       *
       * @param fd an open file descriptor
       * @param request a device-dependent request code
       * @param value the integer value
       * @return 0 if successful; otherwise -1 with {@code errno} set
       * appropriately
       */
      native int ioctl(long fd, int request, int value);
  
      /**
<span class="line-modified">!      * A structure for passing the pointer to an integer in an IOCTL call.</span>
       */
      static class IntStructure extends C.Structure {
  
          private static final int VALUE = 0;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 377,15 ***</span>
          @Override
          int sizeof() {
              return BYTES;
          }
  
<span class="line-modified">!         int getInteger(long p) {</span>
              return data.get(VALUE);
          }
  
<span class="line-modified">!         void setInteger(long p, int value) {</span>
              data.put(VALUE, value);
          }
      }
  
      /**
<span class="line-new-header">--- 379,15 ---</span>
          @Override
          int sizeof() {
              return BYTES;
          }
  
<span class="line-modified">!         int get(long p) {</span>
              return data.get(VALUE);
          }
  
<span class="line-modified">!         void set(long p, int value) {</span>
              data.put(VALUE, value);
          }
      }
  
      /**
</pre>
<center><a href="EPDSettings.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="FramebufferY8.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>