<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.graphics/src/main/native-glass/mac/GlassPasteboard.m</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.graphics/src/main/native-glass/mac/GlassPasteboard.m</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
442  * Class:     com_sun_glass_ui_mac_MacPasteboard
443  * Method:    _getUTFs
444  * Signature: (J)[[Ljava/lang/String;
445  */
446 JNIEXPORT jobjectArray JNICALL Java_com_sun_glass_ui_mac_MacPasteboard__1getUTFs
447 (JNIEnv *env, jobject jPasteboard, jlong jPtr)
448 {
449     LOG(&quot;Java_com_sun_glass_ui_mac_MacPasteboard__1getUTFs&quot;);
450 
451     jobjectArray utfs = NULL;
452 
453     GLASS_ASSERT_MAIN_JAVA_THREAD(env);
454     GLASS_POOL_ENTER;
455     {
456         NSPasteboard *pasteboard = (NSPasteboard*)jlong_to_ptr(jPtr);
457         //DumpPasteboard(pasteboard);
458 
459         NSArray *items = [pasteboard pasteboardItems];
460         if ([items count] &gt; 0)
461         {
<span class="line-modified">462             jclass jcls = (*env)-&gt;FindClass(env, &quot;java/lang/Object&quot;);</span>
463             GLASS_CHECK_EXCEPTION(env);
464             utfs = (*env)-&gt;NewObjectArray(env, (jsize)[items count], jcls, NULL);
465             GLASS_CHECK_EXCEPTION(env);
466             for (NSUInteger i=0; i&lt;[items count]; i++)
467             {
468                 NSPasteboardItem *item = [items objectAtIndex:i];
469 
470                 NSArray *types = [item types];
471                 if ([types count] &gt; 0)
472                 {
473                     jcls = (*env)-&gt;FindClass(env, &quot;java/lang/String&quot;);
474                     GLASS_CHECK_EXCEPTION(env);
475                     jobjectArray array = (*env)-&gt;NewObjectArray(env, (jsize)[types count], jcls, NULL);
476                     GLASS_CHECK_EXCEPTION(env);
477                     for (NSUInteger j=0; j&lt;[types count]; j++)
478                     {
479                         NSString *type = [types objectAtIndex:j];
480                         //id property = [item stringForType:type];
481                         //if (property != nil) // allow null as the platform itself does
482                         {
</pre>
</td>
<td>
<hr />
<pre>
442  * Class:     com_sun_glass_ui_mac_MacPasteboard
443  * Method:    _getUTFs
444  * Signature: (J)[[Ljava/lang/String;
445  */
446 JNIEXPORT jobjectArray JNICALL Java_com_sun_glass_ui_mac_MacPasteboard__1getUTFs
447 (JNIEnv *env, jobject jPasteboard, jlong jPtr)
448 {
449     LOG(&quot;Java_com_sun_glass_ui_mac_MacPasteboard__1getUTFs&quot;);
450 
451     jobjectArray utfs = NULL;
452 
453     GLASS_ASSERT_MAIN_JAVA_THREAD(env);
454     GLASS_POOL_ENTER;
455     {
456         NSPasteboard *pasteboard = (NSPasteboard*)jlong_to_ptr(jPtr);
457         //DumpPasteboard(pasteboard);
458 
459         NSArray *items = [pasteboard pasteboardItems];
460         if ([items count] &gt; 0)
461         {
<span class="line-modified">462             jclass jcls = (*env)-&gt;FindClass(env, &quot;[Ljava/lang/String;&quot;);</span>
463             GLASS_CHECK_EXCEPTION(env);
464             utfs = (*env)-&gt;NewObjectArray(env, (jsize)[items count], jcls, NULL);
465             GLASS_CHECK_EXCEPTION(env);
466             for (NSUInteger i=0; i&lt;[items count]; i++)
467             {
468                 NSPasteboardItem *item = [items objectAtIndex:i];
469 
470                 NSArray *types = [item types];
471                 if ([types count] &gt; 0)
472                 {
473                     jcls = (*env)-&gt;FindClass(env, &quot;java/lang/String&quot;);
474                     GLASS_CHECK_EXCEPTION(env);
475                     jobjectArray array = (*env)-&gt;NewObjectArray(env, (jsize)[types count], jcls, NULL);
476                     GLASS_CHECK_EXCEPTION(env);
477                     for (NSUInteger j=0; j&lt;[types count]; j++)
478                     {
479                         NSString *type = [types objectAtIndex:j];
480                         //id property = [item stringForType:type];
481                         //if (property != nil) // allow null as the platform itself does
482                         {
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>