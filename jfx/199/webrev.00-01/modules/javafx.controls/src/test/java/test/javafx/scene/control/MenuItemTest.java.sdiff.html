<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.controls/src/test/java/test/javafx/scene/control/MenuItemTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.controls/src/test/java/test/javafx/scene/control/MenuItemTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
596         item.setAccelerator(KeyCombination.valueOf(&quot;alt+1&quot;));
597 
598         MenuButton menuButton = new MenuButton();
599         menuButton.getItems().add(item);
600 
601         StageLoader s = new StageLoader(menuButton);
602         Scene scene = s.getStage().getScene();
603         KeyEventFirer keyboard = new KeyEventFirer(item, scene);
604 
605         // Invoke MenuItem&#39;s action listener twice by using accelerator KeyCombination
606         keyboard.doKeyPress(KeyCode.DIGIT1, KeyModifier.ALT);
607         assertEquals(1, eventCounter);
608 
609         keyboard.doKeyPress(KeyCode.DIGIT1, KeyModifier.ALT);
610         assertEquals(2, eventCounter);
611 
612         // Remove all children from the scene
613         Group root = (Group)scene.getRoot();
614         root.getChildren().clear();
615 
<span class="line-modified">616         // Assert that the MenuItem&#39;s action listner is not invoked</span>
617         // after MenuItem has been removed from the scene
618         keyboard.doKeyPress(KeyCode.DIGIT1, KeyModifier.ALT);
619         assertEquals(2, eventCounter);
620 
621         // Assert that key combination does not remain in the scene&#39;s list of accelerators
622         assertFalse(scene.getAccelerators().containsKey(KeyCombination.keyCombination(&quot;alt+1&quot;)));
623     }
624 }
</pre>
</td>
<td>
<hr />
<pre>
596         item.setAccelerator(KeyCombination.valueOf(&quot;alt+1&quot;));
597 
598         MenuButton menuButton = new MenuButton();
599         menuButton.getItems().add(item);
600 
601         StageLoader s = new StageLoader(menuButton);
602         Scene scene = s.getStage().getScene();
603         KeyEventFirer keyboard = new KeyEventFirer(item, scene);
604 
605         // Invoke MenuItem&#39;s action listener twice by using accelerator KeyCombination
606         keyboard.doKeyPress(KeyCode.DIGIT1, KeyModifier.ALT);
607         assertEquals(1, eventCounter);
608 
609         keyboard.doKeyPress(KeyCode.DIGIT1, KeyModifier.ALT);
610         assertEquals(2, eventCounter);
611 
612         // Remove all children from the scene
613         Group root = (Group)scene.getRoot();
614         root.getChildren().clear();
615 
<span class="line-modified">616         // Assert that the MenuItem&#39;s action listener is not invoked</span>
617         // after MenuItem has been removed from the scene
618         keyboard.doKeyPress(KeyCode.DIGIT1, KeyModifier.ALT);
619         assertEquals(2, eventCounter);
620 
621         // Assert that key combination does not remain in the scene&#39;s list of accelerators
622         assertFalse(scene.getAccelerators().containsKey(KeyCombination.keyCombination(&quot;alt+1&quot;)));
623     }
624 }
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>