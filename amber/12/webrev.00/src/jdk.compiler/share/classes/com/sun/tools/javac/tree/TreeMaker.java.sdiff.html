<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.compiler/share/classes/com/sun/tools/javac/tree/TreeMaker.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="TreeCopier.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="TreeScanner.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/tree/TreeMaker.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  25 
  26 package com.sun.tools.javac.tree;
  27 
  28 import java.util.Iterator;
  29 
  30 import com.sun.source.tree.CaseTree;
  31 import com.sun.source.tree.CaseTree.CaseKind;
  32 import com.sun.source.tree.ModuleTree.ModuleKind;
  33 import com.sun.tools.javac.code.*;
  34 import com.sun.tools.javac.code.Attribute.UnresolvedClass;
  35 import com.sun.tools.javac.code.Symbol.*;
  36 import com.sun.tools.javac.code.Type.*;
  37 import com.sun.tools.javac.util.*;
  38 import com.sun.tools.javac.util.JCDiagnostic.DiagnosticPosition;
  39 
  40 import com.sun.tools.javac.tree.JCTree.*;
  41 
  42 import static com.sun.tools.javac.code.Flags.*;
  43 import static com.sun.tools.javac.code.Kinds.Kind.*;
  44 import static com.sun.tools.javac.code.TypeTag.*;
<span class="line-removed">  45 import com.sun.tools.javac.tree.JCTree;</span>
<span class="line-removed">  46 import com.sun.tools.javac.tree.JCTree.JCExpression;</span>
<span class="line-removed">  47 import com.sun.tools.javac.tree.JCTree.JCPattern;</span>
<span class="line-removed">  48 import com.sun.tools.javac.util.List;</span>
<span class="line-removed">  49 import com.sun.tools.javac.util.Name;</span>
  50 
  51 /** Factory class for trees.
  52  *
  53  *  &lt;p&gt;&lt;b&gt;This is NOT part of any supported API.
  54  *  If you write code that depends on this, you do so at your own risk.
  55  *  This code and its internal interfaces are subject to change or
  56  *  deletion without notice.&lt;/b&gt;
  57  */
  58 public class TreeMaker implements JCTree.Factory {
  59 
  60     /** The context key for the tree factory. */
  61     protected static final Context.Key&lt;TreeMaker&gt; treeMakerKey = new Context.Key&lt;&gt;();
  62 
  63     /** Get the TreeMaker instance. */
  64     public static TreeMaker instance(Context context) {
  65         TreeMaker instance = context.get(treeMakerKey);
  66         if (instance == null)
  67             instance = new TreeMaker(context);
  68         return instance;
  69     }
</pre>
<hr />
<pre>
 465     }
 466 
 467     public JCInstanceOf TypeTest(JCExpression expr, JCTree clazz) {
 468         JCInstanceOf tree = new JCInstanceOf(expr, clazz);
 469         tree.pos = pos;
 470         return tree;
 471     }
 472 
 473     public JCAnyPattern AnyPattern() {
 474         JCAnyPattern tree = new JCAnyPattern();
 475         tree.pos = pos;
 476         return tree;
 477     }
 478 
 479     public JCBindingPattern BindingPattern(Name name, JCTree vartype) {
 480         JCBindingPattern tree = new JCBindingPattern(name, null, vartype);
 481         tree.pos = pos;
 482         return tree;
 483     }
 484 
<span class="line-modified"> 485     public JCDeconstructionPattern DeconstructionPattern(Name name, JCExpression deconstructor, List&lt;JCPattern&gt; nested) {</span>
<span class="line-modified"> 486         JCDeconstructionPattern tree = new JCDeconstructionPattern(name, deconstructor, nested);</span>
 487         tree.pos = pos;
 488         return tree;
 489     }
 490 
 491     public JCLiteralPattern LiteralPattern(JCExpression cexp) {
 492         JCLiteralPattern tree = new JCLiteralPattern(cexp);
 493         tree.pos = pos;
 494         return tree;
 495     }
 496 
 497     public JCArrayAccess Indexed(JCExpression indexed, JCExpression index) {
 498         JCArrayAccess tree = new JCArrayAccess(indexed, index);
 499         tree.pos = pos;
 500         return tree;
 501     }
 502 
 503     public JCFieldAccess Select(JCExpression selected, Name selector) {
 504         JCFieldAccess tree = new JCFieldAccess(selected, selector, null);
 505         tree.pos = pos;
 506         return tree;
</pre>
<hr />
<pre>
 642         tree.pos = pos;
 643         return tree;
 644     }
 645 
 646     public JCAnnotatedType AnnotatedType(List&lt;JCAnnotation&gt; annotations, JCExpression underlyingType) {
 647         JCAnnotatedType tree = new JCAnnotatedType(annotations, underlyingType);
 648         tree.pos = pos;
 649         return tree;
 650     }
 651 
 652     public JCErroneous Erroneous() {
 653         return Erroneous(List.nil());
 654     }
 655 
 656     public JCErroneous Erroneous(List&lt;? extends JCTree&gt; errs) {
 657         JCErroneous tree = new JCErroneous(errs);
 658         tree.pos = pos;
 659         return tree;
 660     }
 661 
<span class="line-modified"> 662     public LetExpr LetExpr(List&lt;? extends JCStatement&gt; defs, JCExpression expr) {</span>
 663         LetExpr tree = new LetExpr(defs, expr);
 664         tree.pos = pos;
 665         return tree;
 666     }
 667 
 668 /* ***************************************************************************
 669  * Derived building blocks.
 670  ****************************************************************************/
 671 
 672     public JCClassDecl AnonymousClassDef(JCModifiers mods,
 673                                          List&lt;JCTree&gt; defs)
 674     {
 675         return ClassDef(mods,
 676                         names.empty,
 677                         List.nil(),
 678                         null,
 679                         List.nil(),
 680                         defs);
 681     }
 682 
</pre>
</td>
<td>
<hr />
<pre>
  25 
  26 package com.sun.tools.javac.tree;
  27 
  28 import java.util.Iterator;
  29 
  30 import com.sun.source.tree.CaseTree;
  31 import com.sun.source.tree.CaseTree.CaseKind;
  32 import com.sun.source.tree.ModuleTree.ModuleKind;
  33 import com.sun.tools.javac.code.*;
  34 import com.sun.tools.javac.code.Attribute.UnresolvedClass;
  35 import com.sun.tools.javac.code.Symbol.*;
  36 import com.sun.tools.javac.code.Type.*;
  37 import com.sun.tools.javac.util.*;
  38 import com.sun.tools.javac.util.JCDiagnostic.DiagnosticPosition;
  39 
  40 import com.sun.tools.javac.tree.JCTree.*;
  41 
  42 import static com.sun.tools.javac.code.Flags.*;
  43 import static com.sun.tools.javac.code.Kinds.Kind.*;
  44 import static com.sun.tools.javac.code.TypeTag.*;





  45 
  46 /** Factory class for trees.
  47  *
  48  *  &lt;p&gt;&lt;b&gt;This is NOT part of any supported API.
  49  *  If you write code that depends on this, you do so at your own risk.
  50  *  This code and its internal interfaces are subject to change or
  51  *  deletion without notice.&lt;/b&gt;
  52  */
  53 public class TreeMaker implements JCTree.Factory {
  54 
  55     /** The context key for the tree factory. */
  56     protected static final Context.Key&lt;TreeMaker&gt; treeMakerKey = new Context.Key&lt;&gt;();
  57 
  58     /** Get the TreeMaker instance. */
  59     public static TreeMaker instance(Context context) {
  60         TreeMaker instance = context.get(treeMakerKey);
  61         if (instance == null)
  62             instance = new TreeMaker(context);
  63         return instance;
  64     }
</pre>
<hr />
<pre>
 460     }
 461 
 462     public JCInstanceOf TypeTest(JCExpression expr, JCTree clazz) {
 463         JCInstanceOf tree = new JCInstanceOf(expr, clazz);
 464         tree.pos = pos;
 465         return tree;
 466     }
 467 
 468     public JCAnyPattern AnyPattern() {
 469         JCAnyPattern tree = new JCAnyPattern();
 470         tree.pos = pos;
 471         return tree;
 472     }
 473 
 474     public JCBindingPattern BindingPattern(Name name, JCTree vartype) {
 475         JCBindingPattern tree = new JCBindingPattern(name, null, vartype);
 476         tree.pos = pos;
 477         return tree;
 478     }
 479 
<span class="line-modified"> 480     public JCDeconstructionPattern DeconstructionPattern(JCExpression deconstructor, List&lt;JCPattern&gt; nested) {</span>
<span class="line-modified"> 481         JCDeconstructionPattern tree = new JCDeconstructionPattern(deconstructor, nested);</span>
 482         tree.pos = pos;
 483         return tree;
 484     }
 485 
 486     public JCLiteralPattern LiteralPattern(JCExpression cexp) {
 487         JCLiteralPattern tree = new JCLiteralPattern(cexp);
 488         tree.pos = pos;
 489         return tree;
 490     }
 491 
 492     public JCArrayAccess Indexed(JCExpression indexed, JCExpression index) {
 493         JCArrayAccess tree = new JCArrayAccess(indexed, index);
 494         tree.pos = pos;
 495         return tree;
 496     }
 497 
 498     public JCFieldAccess Select(JCExpression selected, Name selector) {
 499         JCFieldAccess tree = new JCFieldAccess(selected, selector, null);
 500         tree.pos = pos;
 501         return tree;
</pre>
<hr />
<pre>
 637         tree.pos = pos;
 638         return tree;
 639     }
 640 
 641     public JCAnnotatedType AnnotatedType(List&lt;JCAnnotation&gt; annotations, JCExpression underlyingType) {
 642         JCAnnotatedType tree = new JCAnnotatedType(annotations, underlyingType);
 643         tree.pos = pos;
 644         return tree;
 645     }
 646 
 647     public JCErroneous Erroneous() {
 648         return Erroneous(List.nil());
 649     }
 650 
 651     public JCErroneous Erroneous(List&lt;? extends JCTree&gt; errs) {
 652         JCErroneous tree = new JCErroneous(errs);
 653         tree.pos = pos;
 654         return tree;
 655     }
 656 
<span class="line-modified"> 657     public LetExpr LetExpr(List&lt;JCStatement&gt; defs, JCExpression expr) {</span>
 658         LetExpr tree = new LetExpr(defs, expr);
 659         tree.pos = pos;
 660         return tree;
 661     }
 662 
 663 /* ***************************************************************************
 664  * Derived building blocks.
 665  ****************************************************************************/
 666 
 667     public JCClassDecl AnonymousClassDef(JCModifiers mods,
 668                                          List&lt;JCTree&gt; defs)
 669     {
 670         return ClassDef(mods,
 671                         names.empty,
 672                         List.nil(),
 673                         null,
 674                         List.nil(),
 675                         defs);
 676     }
 677 
</pre>
</td>
</tr>
</table>
<center><a href="TreeCopier.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="TreeScanner.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>