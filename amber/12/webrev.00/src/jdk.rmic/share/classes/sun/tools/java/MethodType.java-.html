<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old src/jdk.rmic/share/classes/sun/tools/java/MethodType.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 1994, 2019, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
 23  * questions.
 24  */
 25 
 26 package sun.tools.java;
 27 
 28 /**
 29  * This class represents an Java method type.
 30  * It overrides the relevant methods in class Type.
 31  *
 32  * WARNING: The contents of this source file are not part of any
 33  * supported API.  Code that depends on them does so at its own risk:
 34  * they are subject to change or removal without notice.
 35  *
 36  * @author      Arthur van Hoff
 37  */
 38 public final
 39 class MethodType extends Type {
 40     /**
 41      * The return type.
 42      */
 43     Type returnType;
 44 
 45     /**
 46      * The argument types.
 47      */
 48     Type argTypes[];
 49 
 50     /**
 51      * Construct a method type. Use Type.tMethod to create
 52      * a new method type.
 53      * @see Type.tMethod
 54      */
 55     MethodType(String typeSig, Type returnType, Type argTypes[]) {
 56         super(TC_METHOD, typeSig);
 57         this.returnType = returnType;
 58         this.argTypes = argTypes;
 59     }
 60 
 61     public Type getReturnType() {
 62         return returnType;
 63     }
 64 
 65     public Type[] getArgumentTypes() {
 66         return argTypes;
 67     }
 68 
 69     public boolean equalArguments(Type t) {
 70         if (t.typeCode != TC_METHOD) {
 71             return false;
 72         }
 73         MethodType m = (MethodType)t;
 74         if (argTypes.length != m.argTypes.length) {
 75             return false;
 76         }
 77         for (int i = argTypes.length - 1 ; i &gt;= 0 ; i--) {
 78             if (argTypes[i] != m.argTypes[i]) {
 79                 return false;
 80             }
 81         }
 82         return true;
 83     }
 84 
 85     public int stackSize() {
 86         int n = 0;
 87         for (int i = 0 ; i &lt; argTypes.length ; i++) {
 88             n += argTypes[i].stackSize();
 89         }
 90         return n;
 91     }
 92 
 93     public String typeString(String id, boolean abbrev, boolean ret) {
 94         StringBuilder sb = new StringBuilder();
 95         sb.append(id);
 96         sb.append(&#39;(&#39;);
 97         for (int i = 0 ; i &lt; argTypes.length ; i++) {
 98             if (i &gt; 0) {
 99                 sb.append(&quot;, &quot;);
100             }
101             sb.append(argTypes[i].typeString(&quot;&quot;, abbrev, ret));
102         }
103         sb.append(&#39;)&#39;);
104 
105         return ret ? getReturnType().typeString(sb.toString(), abbrev, ret) : sb.toString();
106     }
107 }
    </pre>
  </body>
</html>