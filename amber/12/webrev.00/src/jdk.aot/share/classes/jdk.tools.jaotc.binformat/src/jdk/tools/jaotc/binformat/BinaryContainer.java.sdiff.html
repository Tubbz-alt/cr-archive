<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.aot/share/classes/jdk.tools.jaotc.binformat/src/jdk/tools/jaotc/binformat/BinaryContainer.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../../jdk.accessibility/windows/classes/com/sun/java/accessibility/internal/AccessBridge.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../jdk.tools.jaotc/src/jdk/tools/jaotc/CallInfo.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.aot/share/classes/jdk.tools.jaotc.binformat/src/jdk/tools/jaotc/binformat/BinaryContainer.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
415      * symbol in DSO and link it with VM&#39;s corresponding symbol: store VM&#39;s symbol address or value
416      * in the named GOT cell.
417      */
418 
419     public static String getCardTableAddressSymbolName() {
420         return &quot;_aot_card_table_address&quot;;
421     }
422 
423     public static String getHeapTopAddressSymbolName() {
424         return &quot;_aot_heap_top_address&quot;;
425     }
426 
427     public static String getHeapEndAddressSymbolName() {
428         return &quot;_aot_heap_end_address&quot;;
429     }
430 
431     public static String getCrcTableAddressSymbolName() {
432         return &quot;_aot_stub_routines_crc_table_adr&quot;;
433     }
434 
<span class="line-removed">435     public static String getPollingPageSymbolName() {</span>
<span class="line-removed">436         return &quot;_aot_polling_page&quot;;</span>
<span class="line-removed">437     }</span>
<span class="line-removed">438 </span>
439     public static String getResolveStaticEntrySymbolName() {
440         return &quot;_resolve_static_entry&quot;;
441     }
442 
443     public static String getResolveVirtualEntrySymbolName() {
444         return &quot;_resolve_virtual_entry&quot;;
445     }
446 
447     public static String getResolveOptVirtualEntrySymbolName() {
448         return &quot;_resolve_opt_virtual_entry&quot;;
449     }
450 
451     public static String getNarrowKlassBaseAddressSymbolName() {
452         return &quot;_aot_narrow_klass_base_address&quot;;
453     }
454 
455     public static String getNarrowOopBaseAddressSymbolName() {
456         return &quot;_aot_narrow_oop_base_address&quot;;
457     }
458 
</pre>
<hr />
<pre>
495         createContainerSymbol(klassesDependenciesContainer);
496         createContainerSymbol(klassesGotContainer);
497         createContainerSymbol(countersGotContainer);
498         createContainerSymbol(metadataGotContainer);
499         createContainerSymbol(methodStateContainer);
500         createContainerSymbol(oopGotContainer);
501         createContainerSymbol(metaspaceNamesContainer);
502         createContainerSymbol(methodMetadataContainer);
503         createContainerSymbol(stubsOffsetsContainer);
504         createContainerSymbol(headerContainer.getContainer());
505         createContainerSymbol(codeSegmentsContainer);
506 
507         createGotSymbol(getResolveStaticEntrySymbolName());
508         createGotSymbol(getResolveVirtualEntrySymbolName());
509         createGotSymbol(getResolveOptVirtualEntrySymbolName());
510         createGotSymbol(getCardTableAddressSymbolName());
511         createGotSymbol(getHeapTopAddressSymbolName());
512         createGotSymbol(getHeapEndAddressSymbolName());
513         createGotSymbol(getNarrowKlassBaseAddressSymbolName());
514         createGotSymbol(getNarrowOopBaseAddressSymbolName());
<span class="line-removed">515         createGotSymbol(getPollingPageSymbolName());</span>
516         createGotSymbol(getLogOfHeapRegionGrainBytesSymbolName());
517         createGotSymbol(getInlineContiguousAllocationSupportedSymbolName());
518 
519         for (HashMap.Entry&lt;String, String&gt; entry : functionNamesToAOTSymbols.entrySet()) {
520             createGotSymbol(entry.getValue());
521         }
522     }
523 
524     /**
525      * Creates a global symbol of the form {@code &quot;A&quot; + container name}. Note, linker on Windows
526      * does not allow names which start with &#39;.&#39;
527      *
528      * @param container container to create a symbol for
529      */
530     private static void createContainerSymbol(ByteContainer container) {
531         container.createSymbol(0, Kind.OBJECT, Binding.GLOBAL, 0, &quot;A&quot; + container.getContainerName());
532     }
533 
534     /**
535      * Creates a global GOT symbol of the form {@code &quot;got.&quot; + name}.
</pre>
</td>
<td>
<hr />
<pre>
415      * symbol in DSO and link it with VM&#39;s corresponding symbol: store VM&#39;s symbol address or value
416      * in the named GOT cell.
417      */
418 
419     public static String getCardTableAddressSymbolName() {
420         return &quot;_aot_card_table_address&quot;;
421     }
422 
423     public static String getHeapTopAddressSymbolName() {
424         return &quot;_aot_heap_top_address&quot;;
425     }
426 
427     public static String getHeapEndAddressSymbolName() {
428         return &quot;_aot_heap_end_address&quot;;
429     }
430 
431     public static String getCrcTableAddressSymbolName() {
432         return &quot;_aot_stub_routines_crc_table_adr&quot;;
433     }
434 




435     public static String getResolveStaticEntrySymbolName() {
436         return &quot;_resolve_static_entry&quot;;
437     }
438 
439     public static String getResolveVirtualEntrySymbolName() {
440         return &quot;_resolve_virtual_entry&quot;;
441     }
442 
443     public static String getResolveOptVirtualEntrySymbolName() {
444         return &quot;_resolve_opt_virtual_entry&quot;;
445     }
446 
447     public static String getNarrowKlassBaseAddressSymbolName() {
448         return &quot;_aot_narrow_klass_base_address&quot;;
449     }
450 
451     public static String getNarrowOopBaseAddressSymbolName() {
452         return &quot;_aot_narrow_oop_base_address&quot;;
453     }
454 
</pre>
<hr />
<pre>
491         createContainerSymbol(klassesDependenciesContainer);
492         createContainerSymbol(klassesGotContainer);
493         createContainerSymbol(countersGotContainer);
494         createContainerSymbol(metadataGotContainer);
495         createContainerSymbol(methodStateContainer);
496         createContainerSymbol(oopGotContainer);
497         createContainerSymbol(metaspaceNamesContainer);
498         createContainerSymbol(methodMetadataContainer);
499         createContainerSymbol(stubsOffsetsContainer);
500         createContainerSymbol(headerContainer.getContainer());
501         createContainerSymbol(codeSegmentsContainer);
502 
503         createGotSymbol(getResolveStaticEntrySymbolName());
504         createGotSymbol(getResolveVirtualEntrySymbolName());
505         createGotSymbol(getResolveOptVirtualEntrySymbolName());
506         createGotSymbol(getCardTableAddressSymbolName());
507         createGotSymbol(getHeapTopAddressSymbolName());
508         createGotSymbol(getHeapEndAddressSymbolName());
509         createGotSymbol(getNarrowKlassBaseAddressSymbolName());
510         createGotSymbol(getNarrowOopBaseAddressSymbolName());

511         createGotSymbol(getLogOfHeapRegionGrainBytesSymbolName());
512         createGotSymbol(getInlineContiguousAllocationSupportedSymbolName());
513 
514         for (HashMap.Entry&lt;String, String&gt; entry : functionNamesToAOTSymbols.entrySet()) {
515             createGotSymbol(entry.getValue());
516         }
517     }
518 
519     /**
520      * Creates a global symbol of the form {@code &quot;A&quot; + container name}. Note, linker on Windows
521      * does not allow names which start with &#39;.&#39;
522      *
523      * @param container container to create a symbol for
524      */
525     private static void createContainerSymbol(ByteContainer container) {
526         container.createSymbol(0, Kind.OBJECT, Binding.GLOBAL, 0, &quot;A&quot; + container.getContainerName());
527     }
528 
529     /**
530      * Creates a global GOT symbol of the form {@code &quot;got.&quot; + name}.
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../../../jdk.accessibility/windows/classes/com/sun/java/accessibility/internal/AccessBridge.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../jdk.tools.jaotc/src/jdk/tools/jaotc/CallInfo.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>