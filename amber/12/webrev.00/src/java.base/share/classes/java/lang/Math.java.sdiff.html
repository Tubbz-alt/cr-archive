<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/lang/Math.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="Float.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="Module.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/lang/Math.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 1994, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
1338      * @param y the divisor
1339      * @return the floor modulus {@code x - (floorDiv(x, y) * y)}
1340      * @throws ArithmeticException if the divisor {@code y} is zero
1341      * @see #floorDiv(long, long)
1342      * @since 1.8
1343      */
1344     public static long floorMod(long x, long y) {
1345         long mod = x % y;
1346         // if the signs are different and modulo not zero, adjust result
1347         if ((x ^ y) &lt; 0 &amp;&amp; mod != 0) {
1348             mod += y;
1349         }
1350         return mod;
1351     }
1352 
1353     /**
1354      * Returns the absolute value of an {@code int} value.
1355      * If the argument is not negative, the argument is returned.
1356      * If the argument is negative, the negation of the argument is returned.
1357      *
<span class="line-modified">1358      * &lt;p&gt;Note that if the argument is equal to the value of</span>
<span class="line-modified">1359      * {@link Integer#MIN_VALUE}, the most negative representable</span>
<span class="line-modified">1360      * {@code int} value, the result is that same value, which is</span>
<span class="line-modified">1361      * negative.</span>

1362      *
1363      * @param   a   the argument whose absolute value is to be determined
1364      * @return  the absolute value of the argument.

1365      */
1366     @HotSpotIntrinsicCandidate
1367     public static int abs(int a) {
1368         return (a &lt; 0) ? -a : a;
1369     }
1370 


























1371     /**
1372      * Returns the absolute value of a {@code long} value.
1373      * If the argument is not negative, the argument is returned.
1374      * If the argument is negative, the negation of the argument is returned.
1375      *
<span class="line-modified">1376      * &lt;p&gt;Note that if the argument is equal to the value of</span>
<span class="line-modified">1377      * {@link Long#MIN_VALUE}, the most negative representable</span>
<span class="line-modified">1378      * {@code long} value, the result is that same value, which</span>
<span class="line-modified">1379      * is negative.</span>

1380      *
1381      * @param   a   the argument whose absolute value is to be determined
1382      * @return  the absolute value of the argument.

1383      */
1384     @HotSpotIntrinsicCandidate
1385     public static long abs(long a) {
1386         return (a &lt; 0) ? -a : a;
1387     }
1388 


























1389     /**
1390      * Returns the absolute value of a {@code float} value.
1391      * If the argument is not negative, the argument is returned.
1392      * If the argument is negative, the negation of the argument is returned.
1393      * Special cases:
1394      * &lt;ul&gt;&lt;li&gt;If the argument is positive zero or negative zero, the
1395      * result is positive zero.
1396      * &lt;li&gt;If the argument is infinite, the result is positive infinity.
1397      * &lt;li&gt;If the argument is NaN, the result is NaN.&lt;/ul&gt;
1398      *
1399      * @apiNote As implied by the above, one valid implementation of
1400      * this method is given by the expression below which computes a
1401      * {@code float} with the same exponent and significand as the
1402      * argument but with a guaranteed zero sign bit indicating a
1403      * positive value:&lt;br&gt;
1404      * {@code Float.intBitsToFloat(0x7fffffff &amp; Float.floatToRawIntBits(a))}
1405      *
1406      * @param   a   the argument whose absolute value is to be determined
1407      * @return  the absolute value of the argument.
1408      */
</pre>
</td>
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 1994, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
1338      * @param y the divisor
1339      * @return the floor modulus {@code x - (floorDiv(x, y) * y)}
1340      * @throws ArithmeticException if the divisor {@code y} is zero
1341      * @see #floorDiv(long, long)
1342      * @since 1.8
1343      */
1344     public static long floorMod(long x, long y) {
1345         long mod = x % y;
1346         // if the signs are different and modulo not zero, adjust result
1347         if ((x ^ y) &lt; 0 &amp;&amp; mod != 0) {
1348             mod += y;
1349         }
1350         return mod;
1351     }
1352 
1353     /**
1354      * Returns the absolute value of an {@code int} value.
1355      * If the argument is not negative, the argument is returned.
1356      * If the argument is negative, the negation of the argument is returned.
1357      *
<span class="line-modified">1358      * &lt;p&gt;Note that if the argument is equal to the value of {@link</span>
<span class="line-modified">1359      * Integer#MIN_VALUE}, the most negative representable {@code int}</span>
<span class="line-modified">1360      * value, the result is that same value, which is negative. In</span>
<span class="line-modified">1361      * contrast, the {@link Math#absExact(int)} method throws an</span>
<span class="line-added">1362      * {@code ArithmeticException} for this value.</span>
1363      *
1364      * @param   a   the argument whose absolute value is to be determined
1365      * @return  the absolute value of the argument.
<span class="line-added">1366      * @see Math#absExact(int)</span>
1367      */
1368     @HotSpotIntrinsicCandidate
1369     public static int abs(int a) {
1370         return (a &lt; 0) ? -a : a;
1371     }
1372 
<span class="line-added">1373     /**</span>
<span class="line-added">1374      * Returns the mathematical absolute value of an {@code int} value</span>
<span class="line-added">1375      * if it is exactly representable as an {@code int}, throwing</span>
<span class="line-added">1376      * {@code ArithmeticException} if the result overflows the</span>
<span class="line-added">1377      * positive {@code int} range.</span>
<span class="line-added">1378      *</span>
<span class="line-added">1379      * &lt;p&gt;Since the range of two&#39;s complement integers is asymmetric</span>
<span class="line-added">1380      * with one additional negative value (JLS {@jls 4.2.1}), the</span>
<span class="line-added">1381      * mathematical absolute value of {@link Integer#MIN_VALUE}</span>
<span class="line-added">1382      * overflows the positive {@code int} range, so an exception is</span>
<span class="line-added">1383      * thrown for that argument.</span>
<span class="line-added">1384      *</span>
<span class="line-added">1385      * @param  a  the argument whose absolute value is to be determined</span>
<span class="line-added">1386      * @return the absolute value of the argument, unless overflow occurs</span>
<span class="line-added">1387      * @throws ArithmeticException if the argument is {@link Integer#MIN_VALUE}</span>
<span class="line-added">1388      * @see Math#abs(int)</span>
<span class="line-added">1389      * @since 15</span>
<span class="line-added">1390      */</span>
<span class="line-added">1391     public static int absExact(int a) {</span>
<span class="line-added">1392         if (a == Integer.MIN_VALUE)</span>
<span class="line-added">1393             throw new ArithmeticException(</span>
<span class="line-added">1394                 &quot;Overflow to represent absolute value of Integer.MIN_VALUE&quot;);</span>
<span class="line-added">1395         else</span>
<span class="line-added">1396             return abs(a);</span>
<span class="line-added">1397     }</span>
<span class="line-added">1398 </span>
1399     /**
1400      * Returns the absolute value of a {@code long} value.
1401      * If the argument is not negative, the argument is returned.
1402      * If the argument is negative, the negation of the argument is returned.
1403      *
<span class="line-modified">1404      * &lt;p&gt;Note that if the argument is equal to the value of {@link</span>
<span class="line-modified">1405      * Long#MIN_VALUE}, the most negative representable {@code long}</span>
<span class="line-modified">1406      * value, the result is that same value, which is negative. In</span>
<span class="line-modified">1407      * contrast, the {@link Math#absExact(long)} method throws an</span>
<span class="line-added">1408      * {@code ArithmeticException} for this value.</span>
1409      *
1410      * @param   a   the argument whose absolute value is to be determined
1411      * @return  the absolute value of the argument.
<span class="line-added">1412      * @see Math#absExact(long)</span>
1413      */
1414     @HotSpotIntrinsicCandidate
1415     public static long abs(long a) {
1416         return (a &lt; 0) ? -a : a;
1417     }
1418 
<span class="line-added">1419     /**</span>
<span class="line-added">1420      * Returns the mathematical absolute value of an {@code long} value</span>
<span class="line-added">1421      * if it is exactly representable as an {@code long}, throwing</span>
<span class="line-added">1422      * {@code ArithmeticException} if the result overflows the</span>
<span class="line-added">1423      * positive {@code long} range.</span>
<span class="line-added">1424      *</span>
<span class="line-added">1425      * &lt;p&gt;Since the range of two&#39;s complement integers is asymmetric</span>
<span class="line-added">1426      * with one additional negative value (JLS {@jls 4.2.1}), the</span>
<span class="line-added">1427      * mathematical absolute value of {@link Long#MIN_VALUE} overflows</span>
<span class="line-added">1428      * the positive {@code long} range, so an exception is thrown for</span>
<span class="line-added">1429      * that argument.</span>
<span class="line-added">1430      *</span>
<span class="line-added">1431      * @param  a  the argument whose absolute value is to be determined</span>
<span class="line-added">1432      * @return the absolute value of the argument, unless overflow occurs</span>
<span class="line-added">1433      * @throws ArithmeticException if the argument is {@link Long#MIN_VALUE}</span>
<span class="line-added">1434      * @see Math#abs(long)</span>
<span class="line-added">1435      * @since 15</span>
<span class="line-added">1436      */</span>
<span class="line-added">1437     public static long absExact(long a) {</span>
<span class="line-added">1438         if (a == Long.MIN_VALUE)</span>
<span class="line-added">1439             throw new ArithmeticException(</span>
<span class="line-added">1440                 &quot;Overflow to represent absolute value of Long.MIN_VALUE&quot;);</span>
<span class="line-added">1441         else</span>
<span class="line-added">1442             return abs(a);</span>
<span class="line-added">1443     }</span>
<span class="line-added">1444 </span>
1445     /**
1446      * Returns the absolute value of a {@code float} value.
1447      * If the argument is not negative, the argument is returned.
1448      * If the argument is negative, the negation of the argument is returned.
1449      * Special cases:
1450      * &lt;ul&gt;&lt;li&gt;If the argument is positive zero or negative zero, the
1451      * result is positive zero.
1452      * &lt;li&gt;If the argument is infinite, the result is positive infinity.
1453      * &lt;li&gt;If the argument is NaN, the result is NaN.&lt;/ul&gt;
1454      *
1455      * @apiNote As implied by the above, one valid implementation of
1456      * this method is given by the expression below which computes a
1457      * {@code float} with the same exponent and significand as the
1458      * argument but with a guaranteed zero sign bit indicating a
1459      * positive value:&lt;br&gt;
1460      * {@code Float.intBitsToFloat(0x7fffffff &amp; Float.floatToRawIntBits(a))}
1461      *
1462      * @param   a   the argument whose absolute value is to be determined
1463      * @return  the absolute value of the argument.
1464      */
</pre>
</td>
</tr>
</table>
<center><a href="Float.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="Module.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>