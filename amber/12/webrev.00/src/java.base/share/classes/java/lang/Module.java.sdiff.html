<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/lang/Module.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="Math.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="Package.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/lang/Module.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
1364                                      List&lt;ModuleLayer&gt; parents) {
1365         Module m = nameToSource.get(target);
1366         if (m == null) {
1367             m = nameToModule.get(target);
1368             if (m == null) {
1369                 for (ModuleLayer parent : parents) {
1370                     m = parent.findModule(target).orElse(null);
1371                     if (m != null) break;
1372                 }
1373             }
1374         }
1375         return m;
1376     }
1377 
1378 
1379     // -- annotations --
1380 
1381     /**
1382      * {@inheritDoc}
1383      * This method returns {@code null} when invoked on an unnamed module.



1384      */
1385     @Override
1386     public &lt;T extends Annotation&gt; T getAnnotation(Class&lt;T&gt; annotationClass) {
1387         return moduleInfoClass().getDeclaredAnnotation(annotationClass);
1388     }
1389 
1390     /**
1391      * {@inheritDoc}
1392      * This method returns an empty array when invoked on an unnamed module.



1393      */
1394     @Override
1395     public Annotation[] getAnnotations() {
1396         return moduleInfoClass().getAnnotations();
1397     }
1398 
1399     /**
1400      * {@inheritDoc}
1401      * This method returns an empty array when invoked on an unnamed module.



1402      */
1403     @Override
1404     public Annotation[] getDeclaredAnnotations() {
1405         return moduleInfoClass().getDeclaredAnnotations();
1406     }
1407 
1408     // cached class file with annotations
1409     private volatile Class&lt;?&gt; moduleInfoClass;
1410 
1411     private Class&lt;?&gt; moduleInfoClass() {
1412         Class&lt;?&gt; clazz = this.moduleInfoClass;
1413         if (clazz != null)
1414             return clazz;
1415 
1416         synchronized (this) {
1417             clazz = this.moduleInfoClass;
1418             if (clazz == null) {
1419                 if (isNamed()) {
1420                     PrivilegedAction&lt;Class&lt;?&gt;&gt; pa = this::loadModuleInfoClass;
1421                     clazz = AccessController.doPrivileged(pa);
</pre>
</td>
<td>
<hr />
<pre>
1364                                      List&lt;ModuleLayer&gt; parents) {
1365         Module m = nameToSource.get(target);
1366         if (m == null) {
1367             m = nameToModule.get(target);
1368             if (m == null) {
1369                 for (ModuleLayer parent : parents) {
1370                     m = parent.findModule(target).orElse(null);
1371                     if (m != null) break;
1372                 }
1373             }
1374         }
1375         return m;
1376     }
1377 
1378 
1379     // -- annotations --
1380 
1381     /**
1382      * {@inheritDoc}
1383      * This method returns {@code null} when invoked on an unnamed module.
<span class="line-added">1384      *</span>
<span class="line-added">1385      * &lt;p&gt; Note that any annotation returned by this method is a</span>
<span class="line-added">1386      * declaration annotation.</span>
1387      */
1388     @Override
1389     public &lt;T extends Annotation&gt; T getAnnotation(Class&lt;T&gt; annotationClass) {
1390         return moduleInfoClass().getDeclaredAnnotation(annotationClass);
1391     }
1392 
1393     /**
1394      * {@inheritDoc}
1395      * This method returns an empty array when invoked on an unnamed module.
<span class="line-added">1396      *</span>
<span class="line-added">1397      * &lt;p&gt; Note that any annotations returned by this method are</span>
<span class="line-added">1398      * declaration annotations.</span>
1399      */
1400     @Override
1401     public Annotation[] getAnnotations() {
1402         return moduleInfoClass().getAnnotations();
1403     }
1404 
1405     /**
1406      * {@inheritDoc}
1407      * This method returns an empty array when invoked on an unnamed module.
<span class="line-added">1408      *</span>
<span class="line-added">1409      * &lt;p&gt; Note that any annotations returned by this method are</span>
<span class="line-added">1410      * declaration annotations.</span>
1411      */
1412     @Override
1413     public Annotation[] getDeclaredAnnotations() {
1414         return moduleInfoClass().getDeclaredAnnotations();
1415     }
1416 
1417     // cached class file with annotations
1418     private volatile Class&lt;?&gt; moduleInfoClass;
1419 
1420     private Class&lt;?&gt; moduleInfoClass() {
1421         Class&lt;?&gt; clazz = this.moduleInfoClass;
1422         if (clazz != null)
1423             return clazz;
1424 
1425         synchronized (this) {
1426             clazz = this.moduleInfoClass;
1427             if (clazz == null) {
1428                 if (isNamed()) {
1429                     PrivilegedAction&lt;Class&lt;?&gt;&gt; pa = this::loadModuleInfoClass;
1430                     clazz = AccessController.doPrivileged(pa);
</pre>
</td>
</tr>
</table>
<center><a href="Math.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="Package.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>