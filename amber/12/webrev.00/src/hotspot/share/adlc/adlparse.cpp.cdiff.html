<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/hotspot/share/adlc/adlparse.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../../os_cpu/windows_x86/bytes_windows_x86.inline.hpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="formssel.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/adlc/adlparse.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 2879,11 ***</span>
    if (!inst._is_postalloc_expand) {
      // Define a MacroAssembler instance for use by the encoding.  The
      // name is chosen to match the __ idiom used for assembly in other
      // parts of hotspot and assumes the existence of the standard
      // #define __ _masm.
<span class="line-modified">!     encoding-&gt;add_code(&quot;    MacroAssembler _masm(&amp;cbuf);\n&quot;);</span>
    }
  
    // Parse the following %{ }% block
    ins_encode_parse_block_impl(inst, encoding, ec_name);
  
<span class="line-new-header">--- 2879,11 ---</span>
    if (!inst._is_postalloc_expand) {
      // Define a MacroAssembler instance for use by the encoding.  The
      // name is chosen to match the __ idiom used for assembly in other
      // parts of hotspot and assumes the existence of the standard
      // #define __ _masm.
<span class="line-modified">!     encoding-&gt;add_code(&quot;    C2_MacroAssembler _masm(&amp;cbuf);\n&quot;);</span>
    }
  
    // Parse the following %{ }% block
    ins_encode_parse_block_impl(inst, encoding, ec_name);
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 3002,13 ***</span>
  //   %}
  //
  // which synthesizes a new encoding class taking the same arguments as
  // the InstructForm, and automatically prefixes the definition with:
  //
<span class="line-modified">! //    MacroAssembler masm(&amp;cbuf);\n&quot;);</span>
  //
<span class="line-modified">! //  making it more compact to take advantage of the MacroAssembler and</span>
  //  placing the assembly closer to it&#39;s use by instructions.
  void ADLParser::ins_encode_parse(InstructForm&amp; inst) {
  
    // Parse encode class name
    skipws();                        // Skip whitespace
<span class="line-new-header">--- 3002,13 ---</span>
  //   %}
  //
  // which synthesizes a new encoding class taking the same arguments as
  // the InstructForm, and automatically prefixes the definition with:
  //
<span class="line-modified">! //    C2_MacroAssembler masm(&amp;cbuf);\n&quot;);</span>
  //
<span class="line-modified">! //  making it more compact to take advantage of the C2_MacroAssembler and</span>
  //  placing the assembly closer to it&#39;s use by instructions.
  void ADLParser::ins_encode_parse(InstructForm&amp; inst) {
  
    // Parse encode class name
    skipws();                        // Skip whitespace
</pre>
<hr />
<pre>
<span class="line-old-header">*** 3372,11 ***</span>
    if (_AD._adlocation_debug) {
      encoding-&gt;add_code(get_line_string());
    }
  
    // Start code line.
<span class="line-modified">!   encoding-&gt;add_code(&quot;    _constant = C-&gt;constant_table().add&quot;);</span>
  
    // Parse everything in ( ) expression.
    encoding-&gt;add_code(&quot;(this, &quot;);
    next_char();  // Skip &#39;(&#39;
    int parens_depth = 1;
<span class="line-new-header">--- 3372,11 ---</span>
    if (_AD._adlocation_debug) {
      encoding-&gt;add_code(get_line_string());
    }
  
    // Start code line.
<span class="line-modified">!   encoding-&gt;add_code(&quot;    _constant = C-&gt;output()-&gt;constant_table().add&quot;);</span>
  
    // Parse everything in ( ) expression.
    encoding-&gt;add_code(&quot;(this, &quot;);
    next_char();  // Skip &#39;(&#39;
    int parens_depth = 1;
</pre>
<center><a href="../../os_cpu/windows_x86/bytes_windows_x86.inline.hpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="formssel.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>