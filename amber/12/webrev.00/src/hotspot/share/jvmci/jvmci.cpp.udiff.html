<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff src/hotspot/share/jvmci/jvmci.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../jfr/utilities/jfrThreadIterator.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="jvmciCodeInstaller.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/jvmci/jvmci.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -34,10 +34,12 @@</span>
  
  MetadataHandleBlock* JVMCI::_metadata_handles = NULL;
  JVMCIRuntime* JVMCI::_compiler_runtime = NULL;
  JVMCIRuntime* JVMCI::_java_runtime = NULL;
  
<span class="udiff-line-added">+ void jvmci_vmStructs_init() NOT_DEBUG_RETURN;</span>
<span class="udiff-line-added">+ </span>
  bool JVMCI::can_initialize_JVMCI() {
    // Initializing JVMCI requires the module system to be initialized past phase 3.
    // The JVMCI API itself isn&#39;t available until phase 2 and ServiceLoader (which
    // JVMCI initialization requires) isn&#39;t usable until after phase 3. Testing
    // whether the system loader is initialized satisfies all these invariants.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -56,10 +58,11 @@</span>
  
    JVMCI::compiler_runtime()-&gt;call_getCompiler(CHECK);
  }
  
  void JVMCI::initialize_globals() {
<span class="udiff-line-added">+   jvmci_vmStructs_init();</span>
    _metadata_handles = MetadataHandleBlock::allocate_block();
    if (UseJVMCINativeLibrary) {
      // There are two runtimes.
      _compiler_runtime = new JVMCIRuntime();
      _java_runtime = new JVMCIRuntime();
</pre>
<center><a href="../jfr/utilities/jfrThreadIterator.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="jvmciCodeInstaller.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>