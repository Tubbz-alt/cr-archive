<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/hotspot/jtreg/gc/shenandoah/options/TestRegionSizeArgs.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="TestHeuristicsUnlock.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="TestSelectiveBarrierFlags.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/hotspot/jtreg/gc/shenandoah/options/TestRegionSizeArgs.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 53                     &quot;-version&quot;);
 54             OutputAnalyzer output = new OutputAnalyzer(pb.start());
 55             output.shouldHaveExitValue(0);
 56         }
 57 
 58         {
 59             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
 60                     &quot;-XX:+UseShenandoahGC&quot;,
 61                     &quot;-Xms8m&quot;,
 62                     &quot;-Xmx1g&quot;,
 63                     &quot;-version&quot;);
 64             OutputAnalyzer output = new OutputAnalyzer(pb.start());
 65             output.shouldHaveExitValue(0);
 66         }
 67 
 68         {
 69             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
 70                     &quot;-XX:+UseShenandoahGC&quot;,
 71                     &quot;-Xms100m&quot;,
 72                     &quot;-Xmx1g&quot;,
<span class="line-modified"> 73                     &quot;-XX:ShenandoahHeapRegionSize=200m&quot;,</span>
 74                     &quot;-version&quot;);
 75             OutputAnalyzer output = new OutputAnalyzer(pb.start());
<span class="line-modified"> 76             output.shouldMatch(&quot;Invalid -XX:ShenandoahHeapRegionSize option&quot;);</span>
 77             output.shouldHaveExitValue(1);
 78         }
 79 
 80         {
 81             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
 82                     &quot;-XX:+UseShenandoahGC&quot;,
 83                     &quot;-Xms100m&quot;,
 84                     &quot;-Xmx1g&quot;,
<span class="line-modified"> 85                     &quot;-XX:ShenandoahHeapRegionSize=9m&quot;,</span>
 86                     &quot;-version&quot;);
 87             OutputAnalyzer output = new OutputAnalyzer(pb.start());
 88             output.shouldHaveExitValue(0);
 89         }
 90 
 91         {
 92             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
 93                     &quot;-XX:+UseShenandoahGC&quot;,
 94                     &quot;-Xms100m&quot;,
 95                     &quot;-Xmx1g&quot;,
<span class="line-modified"> 96                     &quot;-XX:ShenandoahHeapRegionSize=255K&quot;,</span>
 97                     &quot;-version&quot;);
 98             OutputAnalyzer output = new OutputAnalyzer(pb.start());
<span class="line-modified"> 99             output.shouldMatch(&quot;Invalid -XX:ShenandoahHeapRegionSize option&quot;);</span>
100             output.shouldHaveExitValue(1);
101         }
102 
103         {
104             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
105                     &quot;-XX:+UseShenandoahGC&quot;,
106                     &quot;-Xms100m&quot;,
107                     &quot;-Xmx1g&quot;,
<span class="line-modified">108                     &quot;-XX:ShenandoahHeapRegionSize=260K&quot;,</span>
109                     &quot;-version&quot;);
110             OutputAnalyzer output = new OutputAnalyzer(pb.start());
111             output.shouldHaveExitValue(0);
112         }
113 
114         {
115             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
116                     &quot;-XX:+UseShenandoahGC&quot;,
117                     &quot;-Xms1g&quot;,
118                     &quot;-Xmx1g&quot;,
<span class="line-modified">119                     &quot;-XX:ShenandoahHeapRegionSize=32M&quot;,</span>
120                     &quot;-version&quot;);
121             OutputAnalyzer output = new OutputAnalyzer(pb.start());
122             output.shouldHaveExitValue(0);
123         }
124 
125         {
126             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
127                     &quot;-XX:+UseShenandoahGC&quot;,
128                     &quot;-Xms1g&quot;,
129                     &quot;-Xmx1g&quot;,
<span class="line-modified">130                     &quot;-XX:ShenandoahHeapRegionSize=64M&quot;,</span>
131                     &quot;-version&quot;);
132             OutputAnalyzer output = new OutputAnalyzer(pb.start());
<span class="line-modified">133             output.shouldMatch(&quot;Invalid -XX:ShenandoahHeapRegionSize option&quot;);</span>
134             output.shouldHaveExitValue(1);
135         }
136 
137         {
138             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
139                     &quot;-XX:+UseShenandoahGC&quot;,
140                     &quot;-Xms1g&quot;,
141                     &quot;-Xmx1g&quot;,
<span class="line-modified">142                     &quot;-XX:ShenandoahHeapRegionSize=256K&quot;,</span>
143                     &quot;-version&quot;);
144             OutputAnalyzer output = new OutputAnalyzer(pb.start());
145             output.shouldHaveExitValue(0);
146         }
147 
148         {
149             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
150                     &quot;-XX:+UseShenandoahGC&quot;,
151                     &quot;-Xms1g&quot;,
152                     &quot;-Xmx1g&quot;,
<span class="line-modified">153                     &quot;-XX:ShenandoahHeapRegionSize=128K&quot;,</span>
154                     &quot;-version&quot;);
155             OutputAnalyzer output = new OutputAnalyzer(pb.start());
<span class="line-modified">156             output.shouldMatch(&quot;Invalid -XX:ShenandoahHeapRegionSize option&quot;);</span>
157             output.shouldHaveExitValue(1);
158         }
159     }
160 
161     private static void testMinRegionSize() throws Exception {
162 
163         {
164             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
165                     &quot;-XX:+UseShenandoahGC&quot;,
166                     &quot;-Xms100m&quot;,
167                     &quot;-Xmx1g&quot;,
168                     &quot;-XX:ShenandoahMinRegionSize=255K&quot;,
169                     &quot;-version&quot;);
170             OutputAnalyzer output = new OutputAnalyzer(pb.start());
171             output.shouldMatch(&quot;Invalid -XX:ShenandoahMinRegionSize option&quot;);
172             output.shouldHaveExitValue(1);
173         }
174 
175         {
176             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
</pre>
</td>
<td>
<hr />
<pre>
 53                     &quot;-version&quot;);
 54             OutputAnalyzer output = new OutputAnalyzer(pb.start());
 55             output.shouldHaveExitValue(0);
 56         }
 57 
 58         {
 59             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
 60                     &quot;-XX:+UseShenandoahGC&quot;,
 61                     &quot;-Xms8m&quot;,
 62                     &quot;-Xmx1g&quot;,
 63                     &quot;-version&quot;);
 64             OutputAnalyzer output = new OutputAnalyzer(pb.start());
 65             output.shouldHaveExitValue(0);
 66         }
 67 
 68         {
 69             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
 70                     &quot;-XX:+UseShenandoahGC&quot;,
 71                     &quot;-Xms100m&quot;,
 72                     &quot;-Xmx1g&quot;,
<span class="line-modified"> 73                     &quot;-XX:ShenandoahRegionSize=200m&quot;,</span>
 74                     &quot;-version&quot;);
 75             OutputAnalyzer output = new OutputAnalyzer(pb.start());
<span class="line-modified"> 76             output.shouldMatch(&quot;Invalid -XX:ShenandoahRegionSize option&quot;);</span>
 77             output.shouldHaveExitValue(1);
 78         }
 79 
 80         {
 81             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
 82                     &quot;-XX:+UseShenandoahGC&quot;,
 83                     &quot;-Xms100m&quot;,
 84                     &quot;-Xmx1g&quot;,
<span class="line-modified"> 85                     &quot;-XX:ShenandoahRegionSize=9m&quot;,</span>
 86                     &quot;-version&quot;);
 87             OutputAnalyzer output = new OutputAnalyzer(pb.start());
 88             output.shouldHaveExitValue(0);
 89         }
 90 
 91         {
 92             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
 93                     &quot;-XX:+UseShenandoahGC&quot;,
 94                     &quot;-Xms100m&quot;,
 95                     &quot;-Xmx1g&quot;,
<span class="line-modified"> 96                     &quot;-XX:ShenandoahRegionSize=255K&quot;,</span>
 97                     &quot;-version&quot;);
 98             OutputAnalyzer output = new OutputAnalyzer(pb.start());
<span class="line-modified"> 99             output.shouldMatch(&quot;Invalid -XX:ShenandoahRegionSize option&quot;);</span>
100             output.shouldHaveExitValue(1);
101         }
102 
103         {
104             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
105                     &quot;-XX:+UseShenandoahGC&quot;,
106                     &quot;-Xms100m&quot;,
107                     &quot;-Xmx1g&quot;,
<span class="line-modified">108                     &quot;-XX:ShenandoahRegionSize=260K&quot;,</span>
109                     &quot;-version&quot;);
110             OutputAnalyzer output = new OutputAnalyzer(pb.start());
111             output.shouldHaveExitValue(0);
112         }
113 
114         {
115             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
116                     &quot;-XX:+UseShenandoahGC&quot;,
117                     &quot;-Xms1g&quot;,
118                     &quot;-Xmx1g&quot;,
<span class="line-modified">119                     &quot;-XX:ShenandoahRegionSize=32M&quot;,</span>
120                     &quot;-version&quot;);
121             OutputAnalyzer output = new OutputAnalyzer(pb.start());
122             output.shouldHaveExitValue(0);
123         }
124 
125         {
126             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
127                     &quot;-XX:+UseShenandoahGC&quot;,
128                     &quot;-Xms1g&quot;,
129                     &quot;-Xmx1g&quot;,
<span class="line-modified">130                     &quot;-XX:ShenandoahRegionSize=64M&quot;,</span>
131                     &quot;-version&quot;);
132             OutputAnalyzer output = new OutputAnalyzer(pb.start());
<span class="line-modified">133             output.shouldMatch(&quot;Invalid -XX:ShenandoahRegionSize option&quot;);</span>
134             output.shouldHaveExitValue(1);
135         }
136 
137         {
138             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
139                     &quot;-XX:+UseShenandoahGC&quot;,
140                     &quot;-Xms1g&quot;,
141                     &quot;-Xmx1g&quot;,
<span class="line-modified">142                     &quot;-XX:ShenandoahRegionSize=256K&quot;,</span>
143                     &quot;-version&quot;);
144             OutputAnalyzer output = new OutputAnalyzer(pb.start());
145             output.shouldHaveExitValue(0);
146         }
147 
148         {
149             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
150                     &quot;-XX:+UseShenandoahGC&quot;,
151                     &quot;-Xms1g&quot;,
152                     &quot;-Xmx1g&quot;,
<span class="line-modified">153                     &quot;-XX:ShenandoahRegionSize=128K&quot;,</span>
154                     &quot;-version&quot;);
155             OutputAnalyzer output = new OutputAnalyzer(pb.start());
<span class="line-modified">156             output.shouldMatch(&quot;Invalid -XX:ShenandoahRegionSize option&quot;);</span>
157             output.shouldHaveExitValue(1);
158         }
159     }
160 
161     private static void testMinRegionSize() throws Exception {
162 
163         {
164             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
165                     &quot;-XX:+UseShenandoahGC&quot;,
166                     &quot;-Xms100m&quot;,
167                     &quot;-Xmx1g&quot;,
168                     &quot;-XX:ShenandoahMinRegionSize=255K&quot;,
169                     &quot;-version&quot;);
170             OutputAnalyzer output = new OutputAnalyzer(pb.start());
171             output.shouldMatch(&quot;Invalid -XX:ShenandoahMinRegionSize option&quot;);
172             output.shouldHaveExitValue(1);
173         }
174 
175         {
176             ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(&quot;-XX:+UnlockExperimentalVMOptions&quot;,
</pre>
</td>
</tr>
</table>
<center><a href="TestHeuristicsUnlock.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="TestSelectiveBarrierFlags.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>