<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames test/langtools/tools/javac/patterns/DeconstructionPatternErrors.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
    <script type="text/javascript" src="../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre> 1 /**
 2  * @test /nodynamiccopyright/
 3  * @summary Verify error reports for erroneous deconstruction patterns are sensible
<a name="1" id="anc1"></a><span class="line-modified"> 4  * @compile/fail/ref=DeconstructionPatternErrors.out --enable-preview -source ${jdk.version} -XDrawDiagnostics DeconstructionPatternErrors.java</span>
 5  */
 6 
<a name="2" id="anc2"></a>


 7 public class DeconstructionPatternErrors {
 8 
 9     public static void main(String... args) throws Throwable {
10         Object p;
11         p = new P(42);
<a name="3" id="anc3"></a>



12         if (p instanceof P(String s));
<a name="4" id="anc4"></a><span class="line-modified">13         p = new P2(() -&gt; {}, () -&gt; {});</span>
<span class="line-modified">14         if (p instanceof P2(String s, Runnable r)) {</span>
<span class="line-modified">15             System.err.println(&quot;s=&quot; + s);</span>
<span class="line-modified">16             System.err.println(&quot;r=&quot; + r);</span>
<span class="line-modified">17         }</span>




18     }
19 
20     public record P(int i) {
21     }
22 
23     public record P2(Runnable r1, Runnable r2) {}
<a name="5" id="anc5"></a>




24 }
<a name="6" id="anc6"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="6" type="hidden" />
</body>
</html>