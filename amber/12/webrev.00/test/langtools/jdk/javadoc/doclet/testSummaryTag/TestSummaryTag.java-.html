<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old test/langtools/jdk/javadoc/doclet/testSummaryTag/TestSummaryTag.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /*
  2  * Copyright (c) 2017, 2020, Oracle and/or its affiliates. All rights reserved.
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.
  8  *
  9  * This code is distributed in the hope that it will be useful, but WITHOUT
 10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 12  * version 2 for more details (a copy is included in the LICENSE file that
 13  * accompanied this code).
 14  *
 15  * You should have received a copy of the GNU General Public License version
 16  * 2 along with this work; if not, write to the Free Software Foundation,
 17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 18  *
 19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 20  * or visit www.oracle.com if you need additional information or have any
 21  * questions.
 22  */
 23 
 24 /*
 25  * @test
 26  * @bug      8173425 8186332 8182765 8196202
 27  * @summary  tests for the summary tag behavior
 28  * @library  ../../lib
 29  * @modules jdk.javadoc/jdk.javadoc.internal.tool
 30  * @build    javadoc.tester.*
 31  * @run main TestSummaryTag
 32  */
 33 
 34 import javadoc.tester.JavadocTester;
 35 
 36 public class TestSummaryTag extends JavadocTester {
 37 
 38     public static void main(String... args) throws Exception {
 39         TestSummaryTag tester = new TestSummaryTag();
 40         tester.runTests();
 41     }
 42 
 43     @Test
 44     public void test1() {
 45         javadoc(&quot;-d&quot;, &quot;out1&quot;,
 46                 &quot;-sourcepath&quot;, testSrc,
 47                 &quot;p1&quot;);
 48         checkExit(Exit.OK);
 49 
 50         checkOutput(&quot;index-all.html&quot;, true,
 51             &quot;&lt;dl class=\&quot;index\&quot;&gt;\n&quot;
 52             + &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;p1/A.html#m()\&quot;&gt;m()&quot;
 53             + &quot;&lt;/a&gt;&lt;/span&gt; - Method in class p1.&lt;a href=\&quot;p1/A.html\&quot; title=\&quot;class in p1\&quot;&gt;A&lt;/a&gt;&lt;/dt&gt;\n&quot;
 54             + &quot;&lt;dd&gt;\n&quot;
 55             + &quot;&lt;div class=\&quot;block\&quot;&gt;First sentence&lt;/div&gt;\n&quot;
 56             + &quot;&lt;/dd&gt;\n&quot;
 57             + &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;p1/B.html#m()\&quot;&gt;m()&quot;
 58             + &quot;&lt;/a&gt;&lt;/span&gt; - Method in class p1.&lt;a href=\&quot;p1/B.html\&quot; title=\&quot;class in p1\&quot;&gt;B&lt;/a&gt;&lt;/dt&gt;\n&quot;
 59             + &quot;&lt;dd&gt;\n&quot;
 60             + &quot;&lt;div class=\&quot;block\&quot;&gt;First sentence&lt;/div&gt;\n&quot;
 61             + &quot;&lt;/dd&gt;\n&quot;
 62             + &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;p1/A.html#m1()\&quot;&gt;m1()&quot;
 63             + &quot;&lt;/a&gt;&lt;/span&gt; - Method in class p1.&lt;a href=\&quot;p1/A.html\&quot; title=\&quot;class in p1\&quot;&gt;A&lt;/a&gt;&lt;/dt&gt;\n&quot;
 64             + &quot;&lt;dd&gt;\n&quot;
 65             + &quot;&lt;div class=\&quot;block\&quot;&gt; First sentence &lt;/div&gt;\n&quot;
 66             + &quot;&lt;/dd&gt;\n&quot;
 67             + &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;p1/A.html#m2()\&quot;&gt;m2()&quot;
 68             + &quot;&lt;/a&gt;&lt;/span&gt; - Method in class p1.&lt;a href=\&quot;p1/A.html\&quot; title=\&quot;class in p1\&quot;&gt;A&lt;/a&gt;&lt;/dt&gt;\n&quot;
 69             + &quot;&lt;dd&gt;\n&quot;
 70             + &quot;&lt;div class=\&quot;block\&quot;&gt;Some html &amp;lt;foo&amp;gt; &amp;nbsp; codes&lt;/div&gt;\n&quot;
 71             + &quot;&lt;/dd&gt;\n&quot;
 72             + &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;p1/A.html#m3()\&quot;&gt;m3()&quot;
 73             + &quot;&lt;/a&gt;&lt;/span&gt; - Method in class p1.&lt;a href=\&quot;p1/A.html\&quot; title=\&quot;class in p1\&quot;&gt;A&lt;/a&gt;&lt;/dt&gt;\n&quot;
 74             + &quot;&lt;dd&gt;\n&quot;
 75             + &quot;&lt;div class=\&quot;block\&quot;&gt;First sentence &lt;/div&gt;\n&quot;
 76             + &quot;&lt;/dd&gt;\n&quot;
 77             + &quot;&lt;dt&gt;&lt;span class=\&quot;memberNameLink\&quot;&gt;&lt;a href=\&quot;p1/A.html#m4()\&quot;&gt;m4()&quot;
 78             + &quot;&lt;/a&gt;&lt;/span&gt; - Method in class p1.&lt;a href=\&quot;p1/A.html\&quot; title=\&quot;class in p1\&quot;&gt;A&lt;/a&gt;&lt;/dt&gt;\n&quot;
 79             + &quot;&lt;dd&gt;\n&quot;
 80             + &quot;&lt;div class=\&quot;block\&quot;&gt;First sentence i.e. the first sentence&lt;/div&gt;\n&quot;
 81             + &quot;&lt;/dd&gt;\n&quot;
 82             + &quot;&lt;/dl&gt;\n&quot;,
 83             &quot;&lt;div class=\&quot;block\&quot;&gt;The first... line&lt;/div&gt;\n&quot;
 84         );
 85 
 86         // make sure the second @summary&#39;s content is displayed correctly
 87         checkOutput(&quot;p1/A.html&quot;, true,
 88              &quot;&lt;section class=\&quot;detail\&quot; id=\&quot;m3()\&quot;&gt;\n&quot;
 89              + &quot;&lt;h3&gt;m3&lt;/h3&gt;\n&quot;
 90              + &quot;&lt;div class=\&quot;memberSignature\&quot;&gt;&lt;span class=\&quot;modifiers\&quot;&gt;public&lt;/span&gt;&amp;nbsp;&quot;
 91              + &quot;&lt;span class=\&quot;returnType\&quot;&gt;void&lt;/span&gt;&amp;nbsp;&lt;span class=\&quot;memberName\&quot;&gt;m3&lt;/span&gt;()&lt;/div&gt;\n&quot;
 92              + &quot;&lt;div class=\&quot;block\&quot;&gt;First sentence  some text maybe second sentence.&lt;/div&gt;\n&quot;
 93              + &quot;&lt;/section&gt;\n&quot;
 94         );
 95 
 96         checkOutput(&quot;p1/package-summary.html&quot;, true,
 97                 &quot;&lt;div class=\&quot;block\&quot;&gt;The first... line second from ...&lt;/div&gt;&quot;);
 98     }
 99 
100     @Test
101     public void test2() {
102         javadoc(&quot;-d&quot;, &quot;out2&quot;,
103                 &quot;-sourcepath&quot;, testSrc,
104                 &quot;p2&quot;);
105         checkExit(Exit.OK);
106 
107         checkOutput(Output.OUT, true, &quot;package.html:3: warning: invalid use of @summary&quot;);
108 
109         checkOutput(&quot;index-all.html&quot;, true, &quot;&lt;div class=\&quot;block\&quot;&gt;foo bar&lt;/div&gt;\n&quot;);
110 
111         checkOutput(&quot;p2/package-summary.html&quot;, true, &quot;&lt;div class=\&quot;block\&quot;&gt;foo bar baz.&lt;/div&gt;\n&quot;);
112     }
113 
114     @Test
115     public void test3() {
116         javadoc(&quot;-d&quot;, &quot;out3&quot;,
117                 &quot;-sourcepath&quot;, testSrc,
118                 &quot;-overview&quot;, testSrc(&quot;p3/overview.html&quot;),
119                 &quot;p3&quot;);
120         checkExit(Exit.OK);
121 
122         checkOutput(&quot;index.html&quot;, true,
123                 &quot;&lt;div class=\&quot;block\&quot;&gt;The first... line second from ...&lt;/div&gt;&quot;);
124     }
125 }
    </pre>
  </body>
</html>