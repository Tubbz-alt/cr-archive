<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/jdk/jdk/jfr/api/consumer/streaming/TestChunkGap.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../internal/platform/docker/MetricsMemoryTester.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="TestCrossProcessStreaming.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/jdk/jdk/jfr/api/consumer/streaming/TestChunkGap.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 23  * questions.
 24  */
 25 
 26 package jdk.jfr.api.consumer.streaming;
 27 
 28 import java.time.Instant;
 29 import java.util.concurrent.CountDownLatch;
 30 import java.util.concurrent.atomic.AtomicInteger;
 31 
 32 import jdk.jfr.Event;
 33 import jdk.jfr.Recording;
 34 import jdk.jfr.consumer.EventStream;
 35 
 36 /**
 37  * @test
 38  * @summary Tests that a stream can gracefully handle chunk being removed in the
 39  *          middle
 40  * @key jfr
 41  * @requires vm.hasJFR
 42  * @library /test/lib
<span class="line-modified"> 43  * @run main/othervm jdk.jfr.api.consumer.streaming.TestFilledChunks</span>
 44  */
 45 public class TestChunkGap {
 46 
 47     static class StartEvent extends Event {
 48     }
 49 
 50     static class TestGapEvent extends Event {
 51     }
 52 
 53     static class EndEvent extends Event {
 54     }
 55 
 56     private final static AtomicInteger count = new AtomicInteger(0);
 57 
 58     public static void main(String... args) throws Exception {
 59 
 60         CountDownLatch gap = new CountDownLatch(1);
 61         CountDownLatch receivedEvent = new CountDownLatch(1);
 62 
 63         try (EventStream s = EventStream.openRepository()) {
</pre>
</td>
<td>
<hr />
<pre>
 23  * questions.
 24  */
 25 
 26 package jdk.jfr.api.consumer.streaming;
 27 
 28 import java.time.Instant;
 29 import java.util.concurrent.CountDownLatch;
 30 import java.util.concurrent.atomic.AtomicInteger;
 31 
 32 import jdk.jfr.Event;
 33 import jdk.jfr.Recording;
 34 import jdk.jfr.consumer.EventStream;
 35 
 36 /**
 37  * @test
 38  * @summary Tests that a stream can gracefully handle chunk being removed in the
 39  *          middle
 40  * @key jfr
 41  * @requires vm.hasJFR
 42  * @library /test/lib
<span class="line-modified"> 43  * @run main/othervm jdk.jfr.api.consumer.streaming.TestChunkGap</span>
 44  */
 45 public class TestChunkGap {
 46 
 47     static class StartEvent extends Event {
 48     }
 49 
 50     static class TestGapEvent extends Event {
 51     }
 52 
 53     static class EndEvent extends Event {
 54     }
 55 
 56     private final static AtomicInteger count = new AtomicInteger(0);
 57 
 58     public static void main(String... args) throws Exception {
 59 
 60         CountDownLatch gap = new CountDownLatch(1);
 61         CountDownLatch receivedEvent = new CountDownLatch(1);
 62 
 63         try (EventStream s = EventStream.openRepository()) {
</pre>
</td>
</tr>
</table>
<center><a href="../../../../internal/platform/docker/MetricsMemoryTester.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../index.html" target="_top">index</a> <a href="TestCrossProcessStreaming.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>