<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/langtools/jdk/jshell/ClassesTest.java</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../../../../src/jdk.jshell/share/classes/jdk/jshell/TreeDependencyScanner.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="ErrorTranslationTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/jdk/jshell/ClassesTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
234         assertActiveKeys();
235     }
236 
237     public void classesCyclic3() {
238         Snippet outer = classKey(assertEval(&quot;class Outer { class Inner extends Foo { } }&quot;,
239                 added(RECOVERABLE_NOT_DEFINED)));
240         Snippet foo = classKey(assertEval(&quot;class Foo { } &quot;,
241                 added(VALID),
242                 ste(outer, RECOVERABLE_NOT_DEFINED, VALID, true, MAIN_SNIPPET)));
243         assertEval(&quot; class Foo extends Outer { }&quot;,
244                 ste(MAIN_SNIPPET, VALID, VALID, true, null),
245                 ste(foo, VALID, OVERWRITTEN, false, MAIN_SNIPPET),
246                 ste(outer, VALID, VALID, true, MAIN_SNIPPET));
247         assertActiveKeys();
248     }
249 
250     public void classesIgnoredModifiers() {
251         assertEval(&quot;public interface A { }&quot;);
252         assertDeclareWarn1(&quot;static class B implements A { }&quot;,
253                 new ExpectedDiagnostic(&quot;jdk.eval.warn.illegal.modifiers&quot;, 0, 6, 0, -1, -1, Diagnostic.Kind.WARNING));
<span class="line-modified">254         assertDeclareWarn1(&quot;final interface C extends A { }&quot;,</span>
<span class="line-modified">255                 new ExpectedDiagnostic(&quot;jdk.eval.warn.illegal.modifiers&quot;, 0, 5, 0, -1, -1, Diagnostic.Kind.WARNING));</span>
256         assertActiveKeys();
257     }
258 
259     public void classesIgnoredModifiersAnnotation() {
260         assertEval(&quot;public @interface X { }&quot;);
261         assertEval(&quot;@X public interface A { }&quot;);
262         assertDeclareWarn1(&quot;@X static class B implements A { }&quot;,
263                 new ExpectedDiagnostic(&quot;jdk.eval.warn.illegal.modifiers&quot;, 0, 9, 0, -1, -1, Diagnostic.Kind.WARNING));
<span class="line-modified">264         assertDeclareWarn1(&quot;@X final interface C extends A { }&quot;,</span>
<span class="line-modified">265                 new ExpectedDiagnostic(&quot;jdk.eval.warn.illegal.modifiers&quot;, 0, 8, 0, -1, -1, Diagnostic.Kind.WARNING));</span>
266         assertActiveKeys();
267     }
268 
269     public void classesIgnoredModifiersOtherModifiers() {
270         assertEval(&quot;strictfp public interface A { }&quot;);
271         assertDeclareWarn1(&quot;strictfp static class B implements A { }&quot;,
272                 new ExpectedDiagnostic(&quot;jdk.eval.warn.illegal.modifiers&quot;, 0, 15, 0, -1, -1, Diagnostic.Kind.WARNING));
<span class="line-modified">273         assertDeclareWarn1(&quot;strictfp final interface C extends A { }&quot;,</span>
<span class="line-modified">274                 new ExpectedDiagnostic(&quot;jdk.eval.warn.illegal.modifiers&quot;, 0, 14, 0, -1, -1, Diagnostic.Kind.WARNING));</span>
275         assertActiveKeys();
276     }
277 
278     public void ignoreModifierSpaceIssue() {
279         assertEval(&quot;interface I { void f(); } &quot;);
280         // there should not be a space between &#39;I&#39; and &#39;{&#39; to reproduce the failure
281         assertEval(&quot;class C implements I{ public void f() {}}&quot;);
282         assertClasses(clazz(KullaTesting.ClassType.CLASS, &quot;C&quot;), clazz(KullaTesting.ClassType.INTERFACE, &quot;I&quot;));
283         assertActiveKeys();
284     }
285 
286     @DataProvider(name = &quot;innerClasses&quot;)
287     public Object[][] innerClasses() {
288         List&lt;Object[]&gt; list = new ArrayList&lt;&gt;();
289         for (ClassType outerClassType : ClassType.values()) {
290             for (ClassType innerClassType : ClassType.values()) {
291                 list.add(new Object[]{outerClassType, innerClassType});
292             }
293         }
294         return list.toArray(new Object[list.size()][]);
</pre>
</td>
<td>
<hr />
<pre>
234         assertActiveKeys();
235     }
236 
237     public void classesCyclic3() {
238         Snippet outer = classKey(assertEval(&quot;class Outer { class Inner extends Foo { } }&quot;,
239                 added(RECOVERABLE_NOT_DEFINED)));
240         Snippet foo = classKey(assertEval(&quot;class Foo { } &quot;,
241                 added(VALID),
242                 ste(outer, RECOVERABLE_NOT_DEFINED, VALID, true, MAIN_SNIPPET)));
243         assertEval(&quot; class Foo extends Outer { }&quot;,
244                 ste(MAIN_SNIPPET, VALID, VALID, true, null),
245                 ste(foo, VALID, OVERWRITTEN, false, MAIN_SNIPPET),
246                 ste(outer, VALID, VALID, true, MAIN_SNIPPET));
247         assertActiveKeys();
248     }
249 
250     public void classesIgnoredModifiers() {
251         assertEval(&quot;public interface A { }&quot;);
252         assertDeclareWarn1(&quot;static class B implements A { }&quot;,
253                 new ExpectedDiagnostic(&quot;jdk.eval.warn.illegal.modifiers&quot;, 0, 6, 0, -1, -1, Diagnostic.Kind.WARNING));
<span class="line-modified">254         assertDeclareWarn1(&quot;static interface C extends A { }&quot;,</span>
<span class="line-modified">255                 new ExpectedDiagnostic(&quot;jdk.eval.warn.illegal.modifiers&quot;, 0, 6, 0, -1, -1, Diagnostic.Kind.WARNING));</span>
256         assertActiveKeys();
257     }
258 
259     public void classesIgnoredModifiersAnnotation() {
260         assertEval(&quot;public @interface X { }&quot;);
261         assertEval(&quot;@X public interface A { }&quot;);
262         assertDeclareWarn1(&quot;@X static class B implements A { }&quot;,
263                 new ExpectedDiagnostic(&quot;jdk.eval.warn.illegal.modifiers&quot;, 0, 9, 0, -1, -1, Diagnostic.Kind.WARNING));
<span class="line-modified">264         assertDeclareWarn1(&quot;@X static interface C extends A { }&quot;,</span>
<span class="line-modified">265                 new ExpectedDiagnostic(&quot;jdk.eval.warn.illegal.modifiers&quot;, 0, 9, 0, -1, -1, Diagnostic.Kind.WARNING));</span>
266         assertActiveKeys();
267     }
268 
269     public void classesIgnoredModifiersOtherModifiers() {
270         assertEval(&quot;strictfp public interface A { }&quot;);
271         assertDeclareWarn1(&quot;strictfp static class B implements A { }&quot;,
272                 new ExpectedDiagnostic(&quot;jdk.eval.warn.illegal.modifiers&quot;, 0, 15, 0, -1, -1, Diagnostic.Kind.WARNING));
<span class="line-modified">273         assertDeclareWarn1(&quot;strictfp static interface C extends A { }&quot;,</span>
<span class="line-modified">274                 new ExpectedDiagnostic(&quot;jdk.eval.warn.illegal.modifiers&quot;, 0, 15, 0, -1, -1, Diagnostic.Kind.WARNING));</span>
275         assertActiveKeys();
276     }
277 
278     public void ignoreModifierSpaceIssue() {
279         assertEval(&quot;interface I { void f(); } &quot;);
280         // there should not be a space between &#39;I&#39; and &#39;{&#39; to reproduce the failure
281         assertEval(&quot;class C implements I{ public void f() {}}&quot;);
282         assertClasses(clazz(KullaTesting.ClassType.CLASS, &quot;C&quot;), clazz(KullaTesting.ClassType.INTERFACE, &quot;I&quot;));
283         assertActiveKeys();
284     }
285 
286     @DataProvider(name = &quot;innerClasses&quot;)
287     public Object[][] innerClasses() {
288         List&lt;Object[]&gt; list = new ArrayList&lt;&gt;();
289         for (ClassType outerClassType : ClassType.values()) {
290             for (ClassType innerClassType : ClassType.values()) {
291                 list.add(new Object[]{outerClassType, innerClassType});
292             }
293         }
294         return list.toArray(new Object[list.size()][]);
</pre>
</td>
</tr>
</table>
<center><a href="../../../../src/jdk.jshell/share/classes/jdk/jshell/TreeDependencyScanner.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="ErrorTranslationTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>