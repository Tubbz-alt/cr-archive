<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/langtools/jdk/jshell/SealedClassesTest.java</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../../../../src/jdk.compiler/share/classes/com/sun/tools/javac/comp/Attr.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../tools/javac/sealed/SealedCompilationTests.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/jdk/jshell/SealedClassesTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 21,11 ***</span>
   * questions.
   */
  
  /*
   * @test
<span class="line-removed">-  * @bug 9999999</span>
   * @summary Test sealed class in jshell
   * @modules jdk.jshell
   * @build KullaTesting TestingInputStream ExpectedDiagnostic
   * @run testng SealedClassesTest
   */
<span class="line-new-header">--- 21,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 48,10 ***</span>
<span class="line-new-header">--- 47,22 ---</span>
                  assertEval(&quot;sealed class B permits I {}&quot;,
                             ste(MAIN_SNIPPET, Status.NONEXISTENT, Status.RECOVERABLE_NOT_DEFINED, false, null)));
          assertEval(&quot;final class I extends B {}&quot;,
                     added(VALID),
                     ste(base, Status.RECOVERABLE_NOT_DEFINED, Status.VALID, true, null));
<span class="line-added">+         assertEval(&quot;new I()&quot;);</span>
<span class="line-added">+     }</span>
<span class="line-added">+ </span>
<span class="line-added">+     public void testNonSealed() {</span>
<span class="line-added">+         TypeDeclSnippet base = classKey(</span>
<span class="line-added">+                 assertEval(&quot;sealed class B permits I {}&quot;,</span>
<span class="line-added">+                            ste(MAIN_SNIPPET, Status.NONEXISTENT, Status.RECOVERABLE_NOT_DEFINED, false, null)));</span>
<span class="line-added">+         assertEval(&quot;non-sealed class I extends B {}&quot;,</span>
<span class="line-added">+                    added(VALID),</span>
<span class="line-added">+                    ste(base, Status.RECOVERABLE_NOT_DEFINED, Status.VALID, true, null));</span>
<span class="line-added">+         assertEval(&quot;class I2 extends I {}&quot;);</span>
<span class="line-added">+         assertEval(&quot;new I2()&quot;);</span>
      }
  
      @BeforeMethod
      public void setUp() {
          setUp(b -&gt; b.compilerOptions(&quot;--enable-preview&quot;, &quot;-source&quot;, String.valueOf(SourceVersion.latest().ordinal()))
</pre>
<center><a href="../../../../src/jdk.compiler/share/classes/com/sun/tools/javac/comp/Attr.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../tools/javac/sealed/SealedCompilationTests.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>