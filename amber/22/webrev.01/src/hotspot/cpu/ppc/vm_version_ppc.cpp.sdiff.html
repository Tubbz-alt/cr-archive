<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/cpu/ppc/vm_version_ppc.cpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="templateTable_ppc_64.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vtableStubs_ppc_64.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/cpu/ppc/vm_version_ppc.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  85   bool PowerArchitecturePPC64_ok = false;
  86   switch (PowerArchitecturePPC64) {
  87     case 9: if (!VM_Version::has_darn()   ) break;
  88     case 8: if (!VM_Version::has_lqarx()  ) break;
  89     case 7: if (!VM_Version::has_popcntw()) break;
  90     case 6: if (!VM_Version::has_cmpb()   ) break;
  91     case 5: if (!VM_Version::has_popcntb()) break;
  92     case 0: PowerArchitecturePPC64_ok = true; break;
  93     default: break;
  94   }
  95   guarantee(PowerArchitecturePPC64_ok, &quot;PowerArchitecturePPC64 cannot be set to &quot;
  96             UINTX_FORMAT &quot; on this machine&quot;, PowerArchitecturePPC64);
  97 
  98   // Power 8: Configure Data Stream Control Register.
  99   if (PowerArchitecturePPC64 &gt;= 8 &amp;&amp; has_mfdscr()) {
 100     config_dscr();
 101   }
 102 
 103   if (!UseSIGTRAP) {
 104     MSG(TrapBasedICMissChecks);
<span class="line-removed"> 105     MSG(TrapBasedNotEntrantChecks);</span>
 106     MSG(TrapBasedNullChecks);
<span class="line-removed"> 107     FLAG_SET_ERGO(TrapBasedNotEntrantChecks, false);</span>
 108     FLAG_SET_ERGO(TrapBasedNullChecks,       false);
 109     FLAG_SET_ERGO(TrapBasedICMissChecks,     false);
 110   }
 111 
 112 #ifdef COMPILER2
 113   if (!UseSIGTRAP) {
 114     MSG(TrapBasedRangeChecks);
 115     FLAG_SET_ERGO(TrapBasedRangeChecks, false);
 116   }
 117 
 118   // On Power6 test for section size.
 119   if (PowerArchitecturePPC64 == 6) {
 120     determine_section_size();
 121   // TODO: PPC port } else {
 122   // TODO: PPC port PdScheduling::power6SectorSize = 0x20;
 123   }
 124 
 125   if (PowerArchitecturePPC64 &gt;= 8) {
 126     if (FLAG_IS_DEFAULT(SuperwordUseVSX)) {
 127       FLAG_SET_ERGO(SuperwordUseVSX, true);
</pre>
</td>
<td>
<hr />
<pre>
  85   bool PowerArchitecturePPC64_ok = false;
  86   switch (PowerArchitecturePPC64) {
  87     case 9: if (!VM_Version::has_darn()   ) break;
  88     case 8: if (!VM_Version::has_lqarx()  ) break;
  89     case 7: if (!VM_Version::has_popcntw()) break;
  90     case 6: if (!VM_Version::has_cmpb()   ) break;
  91     case 5: if (!VM_Version::has_popcntb()) break;
  92     case 0: PowerArchitecturePPC64_ok = true; break;
  93     default: break;
  94   }
  95   guarantee(PowerArchitecturePPC64_ok, &quot;PowerArchitecturePPC64 cannot be set to &quot;
  96             UINTX_FORMAT &quot; on this machine&quot;, PowerArchitecturePPC64);
  97 
  98   // Power 8: Configure Data Stream Control Register.
  99   if (PowerArchitecturePPC64 &gt;= 8 &amp;&amp; has_mfdscr()) {
 100     config_dscr();
 101   }
 102 
 103   if (!UseSIGTRAP) {
 104     MSG(TrapBasedICMissChecks);

 105     MSG(TrapBasedNullChecks);

 106     FLAG_SET_ERGO(TrapBasedNullChecks,       false);
 107     FLAG_SET_ERGO(TrapBasedICMissChecks,     false);
 108   }
 109 
 110 #ifdef COMPILER2
 111   if (!UseSIGTRAP) {
 112     MSG(TrapBasedRangeChecks);
 113     FLAG_SET_ERGO(TrapBasedRangeChecks, false);
 114   }
 115 
 116   // On Power6 test for section size.
 117   if (PowerArchitecturePPC64 == 6) {
 118     determine_section_size();
 119   // TODO: PPC port } else {
 120   // TODO: PPC port PdScheduling::power6SectorSize = 0x20;
 121   }
 122 
 123   if (PowerArchitecturePPC64 &gt;= 8) {
 124     if (FLAG_IS_DEFAULT(SuperwordUseVSX)) {
 125       FLAG_SET_ERGO(SuperwordUseVSX, true);
</pre>
</td>
</tr>
</table>
<center><a href="templateTable_ppc_64.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="vtableStubs_ppc_64.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>