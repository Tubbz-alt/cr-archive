<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/sun/net/www/protocol/file/FileURLConnection.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../URLConnection.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../nio/ch/FileChannelImpl.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/sun/net/www/protocol/file/FileURLConnection.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
121 
122                 /*
123                  * Format the last-modified field into the preferred
124                  * Internet standard - ie: fixed-length subset of that
125                  * defined by RFC 1123
126                  */
127                 if (lastModified != 0) {
128                     Date date = new Date(lastModified);
129                     SimpleDateFormat fo =
130                         new SimpleDateFormat (&quot;EEE, dd MMM yyyy HH:mm:ss &#39;GMT&#39;&quot;, Locale.US);
131                     fo.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));
132                     properties.add(LAST_MODIFIED, fo.format(date));
133                 }
134             } else {
135                 properties.add(CONTENT_TYPE, TEXT_PLAIN);
136             }
137             initializedHeaders = true;
138         }
139     }
140 





141     public String getHeaderField(String name) {
142         initializeHeaders();
143         return super.getHeaderField(name);
144     }
145 
146     public String getHeaderField(int n) {
147         initializeHeaders();
148         return super.getHeaderField(n);
149     }
150 
151     public int getContentLength() {
152         initializeHeaders();
153         if (length &gt; Integer.MAX_VALUE)
154             return -1;
155         return (int) length;
156     }
157 
158     public long getContentLengthLong() {
159         initializeHeaders();
160         return length;
</pre>
</td>
<td>
<hr />
<pre>
121 
122                 /*
123                  * Format the last-modified field into the preferred
124                  * Internet standard - ie: fixed-length subset of that
125                  * defined by RFC 1123
126                  */
127                 if (lastModified != 0) {
128                     Date date = new Date(lastModified);
129                     SimpleDateFormat fo =
130                         new SimpleDateFormat (&quot;EEE, dd MMM yyyy HH:mm:ss &#39;GMT&#39;&quot;, Locale.US);
131                     fo.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));
132                     properties.add(LAST_MODIFIED, fo.format(date));
133                 }
134             } else {
135                 properties.add(CONTENT_TYPE, TEXT_PLAIN);
136             }
137             initializedHeaders = true;
138         }
139     }
140 
<span class="line-added">141     public Map&lt;String,List&lt;String&gt;&gt; getHeaderFields() {</span>
<span class="line-added">142         initializeHeaders();</span>
<span class="line-added">143         return super.getHeaderFields();</span>
<span class="line-added">144     }</span>
<span class="line-added">145 </span>
146     public String getHeaderField(String name) {
147         initializeHeaders();
148         return super.getHeaderField(name);
149     }
150 
151     public String getHeaderField(int n) {
152         initializeHeaders();
153         return super.getHeaderField(n);
154     }
155 
156     public int getContentLength() {
157         initializeHeaders();
158         if (length &gt; Integer.MAX_VALUE)
159             return -1;
160         return (int) length;
161     }
162 
163     public long getContentLengthLong() {
164         initializeHeaders();
165         return length;
</pre>
</td>
</tr>
</table>
<center><a href="../../URLConnection.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../nio/ch/FileChannelImpl.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>