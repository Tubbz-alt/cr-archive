diff a/src/jdk.jfr/share/classes/jdk/jfr/internal/consumer/ConstantMap.java b/src/jdk.jfr/share/classes/jdk/jfr/internal/consumer/ConstantMap.java
--- a/src/jdk.jfr/share/classes/jdk/jfr/internal/consumer/ConstantMap.java
+++ b/src/jdk.jfr/share/classes/jdk/jfr/internal/consumer/ConstantMap.java
@@ -154,10 +154,13 @@
     public void resolve() {
         objects.forEachKey(k -> get(k));
     }
 
     public void put(long key, Object value) {
+        if (objects.hasKey(key)) {
+            objects.clearId(key);
+        }
         objects.put(key, value);
     }
 
     public void setResolving() {
         resolving = true;
