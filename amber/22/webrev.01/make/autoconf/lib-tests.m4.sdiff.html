<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/autoconf/lib-tests.m4</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="hotspot.m4.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="libraries.m4.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/lib-tests.m4</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 #
<span class="line-modified">  2 # Copyright (c) 2018, Oracle and/or its affiliates. All rights reserved.</span>
  3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 #
  5 # This code is free software; you can redistribute it and/or modify it
  6 # under the terms of the GNU General Public License version 2 only, as
  7 # published by the Free Software Foundation.  Oracle designates this
  8 # particular file as subject to the &quot;Classpath&quot; exception as provided
  9 # by Oracle in the LICENSE file that accompanied this code.
 10 #
 11 # This code is distributed in the hope that it will be useful, but WITHOUT
 12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14 # version 2 for more details (a copy is included in the LICENSE file that
 15 # accompanied this code).
 16 #
 17 # You should have received a copy of the GNU General Public License version
 18 # 2 along with this work; if not, write to the Free Software Foundation,
 19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20 #
 21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22 # or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 38     if test &quot;x${with_graalunit_lib}&quot; = xno; then
 39       AC_MSG_RESULT([disabled, graalunit tests can not be run])
 40     elif test &quot;x${with_graalunit_lib}&quot; = xyes; then
 41       AC_MSG_RESULT([not specified])
 42       AC_MSG_ERROR([You must specify the path to 3rd party libraries used by Graal unit tests])
 43     else
 44       GRAALUNIT_LIB=&quot;${with_graalunit_lib}&quot;
 45       if test ! -d &quot;${GRAALUNIT_LIB}&quot;; then
 46         AC_MSG_RESULT([no])
 47         AC_MSG_ERROR([Could not find graalunit 3rd party libraries as specified. (${with_graalunit_lib})])
 48       else
 49         AC_MSG_RESULT([$GRAALUNIT_LIB])
 50       fi
 51     fi
 52   fi
 53 
 54   UTIL_FIXUP_PATH([GRAALUNIT_LIB])
 55   AC_SUBST(GRAALUNIT_LIB)
 56 ])
 57 


































 58 ###############################################################################
 59 #
 60 # Setup and check the Java Microbenchmark Harness
 61 #
 62 AC_DEFUN_ONCE([LIB_TESTS_SETUP_JMH],
 63 [
 64   AC_ARG_WITH(jmh, [AS_HELP_STRING([--with-jmh],
 65       [Java Microbenchmark Harness for building the OpenJDK Microbenchmark Suite])])
 66 
 67   AC_MSG_CHECKING([for jmh (Java Microbenchmark Harness)])
 68   if test &quot;x$with_jmh&quot; = xno || test &quot;x$with_jmh&quot; = x; then
 69     AC_MSG_RESULT([no, disabled])
 70   elif test &quot;x$with_jmh&quot; = xyes; then
 71     AC_MSG_RESULT([no, error])
 72     AC_MSG_ERROR([--with-jmh requires a directory containing all jars needed by JMH])
 73   else
 74     # Path specified
 75     JMH_HOME=&quot;$with_jmh&quot;
 76     if test ! -d [$JMH_HOME]; then
 77       AC_MSG_RESULT([no, error])
</pre>
</td>
<td>
<hr />
<pre>
  1 #
<span class="line-modified">  2 # Copyright (c) 2018, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3 # DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4 #
  5 # This code is free software; you can redistribute it and/or modify it
  6 # under the terms of the GNU General Public License version 2 only, as
  7 # published by the Free Software Foundation.  Oracle designates this
  8 # particular file as subject to the &quot;Classpath&quot; exception as provided
  9 # by Oracle in the LICENSE file that accompanied this code.
 10 #
 11 # This code is distributed in the hope that it will be useful, but WITHOUT
 12 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14 # version 2 for more details (a copy is included in the LICENSE file that
 15 # accompanied this code).
 16 #
 17 # You should have received a copy of the GNU General Public License version
 18 # 2 along with this work; if not, write to the Free Software Foundation,
 19 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20 #
 21 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22 # or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 38     if test &quot;x${with_graalunit_lib}&quot; = xno; then
 39       AC_MSG_RESULT([disabled, graalunit tests can not be run])
 40     elif test &quot;x${with_graalunit_lib}&quot; = xyes; then
 41       AC_MSG_RESULT([not specified])
 42       AC_MSG_ERROR([You must specify the path to 3rd party libraries used by Graal unit tests])
 43     else
 44       GRAALUNIT_LIB=&quot;${with_graalunit_lib}&quot;
 45       if test ! -d &quot;${GRAALUNIT_LIB}&quot;; then
 46         AC_MSG_RESULT([no])
 47         AC_MSG_ERROR([Could not find graalunit 3rd party libraries as specified. (${with_graalunit_lib})])
 48       else
 49         AC_MSG_RESULT([$GRAALUNIT_LIB])
 50       fi
 51     fi
 52   fi
 53 
 54   UTIL_FIXUP_PATH([GRAALUNIT_LIB])
 55   AC_SUBST(GRAALUNIT_LIB)
 56 ])
 57 
<span class="line-added"> 58 ###############################################################################</span>
<span class="line-added"> 59 #</span>
<span class="line-added"> 60 # Setup and check for gtest framework source files</span>
<span class="line-added"> 61 #</span>
<span class="line-added"> 62 AC_DEFUN_ONCE([LIB_TESTS_SETUP_GTEST],</span>
<span class="line-added"> 63 [</span>
<span class="line-added"> 64   AC_ARG_WITH(gtest, [AS_HELP_STRING([--with-gtest],</span>
<span class="line-added"> 65       [specify prefix directory for the gtest framework])])</span>
<span class="line-added"> 66 </span>
<span class="line-added"> 67   if test &quot;x${with_gtest}&quot; != x; then</span>
<span class="line-added"> 68     AC_MSG_CHECKING([for gtest])</span>
<span class="line-added"> 69     if test &quot;x${with_gtest}&quot; = xno; then</span>
<span class="line-added"> 70       AC_MSG_RESULT([no, disabled])</span>
<span class="line-added"> 71     elif test &quot;x${with_gtest}&quot; = xyes; then</span>
<span class="line-added"> 72       AC_MSG_RESULT([no, error])</span>
<span class="line-added"> 73       AC_MSG_ERROR([--with-gtest must have a value])</span>
<span class="line-added"> 74     else</span>
<span class="line-added"> 75       if ! test -s &quot;${with_gtest}/googletest/include/gtest/gtest.h&quot;; then</span>
<span class="line-added"> 76         AC_MSG_RESULT([no])</span>
<span class="line-added"> 77         AC_MSG_ERROR([Can&#39;t find &#39;googletest/include/gtest/gtest.h&#39; under ${with_gtest} given with the --with-gtest option.])</span>
<span class="line-added"> 78       elif ! test -s &quot;${with_gtest}/googlemock/include/gmock/gmock.h&quot;; then</span>
<span class="line-added"> 79         AC_MSG_RESULT([no])</span>
<span class="line-added"> 80         AC_MSG_ERROR([Can&#39;t find &#39;googlemock/include/gmock/gmock.h&#39; under ${with_gtest} given with the --with-gtest option.])</span>
<span class="line-added"> 81       else</span>
<span class="line-added"> 82         GTEST_FRAMEWORK_SRC=${with_gtest}</span>
<span class="line-added"> 83         AC_MSG_RESULT([$GTEST_FRAMEWORK_SRC])</span>
<span class="line-added"> 84         UTIL_FIXUP_PATH([GTEST_FRAMEWORK_SRC])</span>
<span class="line-added"> 85       fi</span>
<span class="line-added"> 86     fi</span>
<span class="line-added"> 87   fi</span>
<span class="line-added"> 88 </span>
<span class="line-added"> 89   AC_SUBST(GTEST_FRAMEWORK_SRC)</span>
<span class="line-added"> 90 ])</span>
<span class="line-added"> 91 </span>
 92 ###############################################################################
 93 #
 94 # Setup and check the Java Microbenchmark Harness
 95 #
 96 AC_DEFUN_ONCE([LIB_TESTS_SETUP_JMH],
 97 [
 98   AC_ARG_WITH(jmh, [AS_HELP_STRING([--with-jmh],
 99       [Java Microbenchmark Harness for building the OpenJDK Microbenchmark Suite])])
100 
101   AC_MSG_CHECKING([for jmh (Java Microbenchmark Harness)])
102   if test &quot;x$with_jmh&quot; = xno || test &quot;x$with_jmh&quot; = x; then
103     AC_MSG_RESULT([no, disabled])
104   elif test &quot;x$with_jmh&quot; = xyes; then
105     AC_MSG_RESULT([no, error])
106     AC_MSG_ERROR([--with-jmh requires a directory containing all jars needed by JMH])
107   else
108     # Path specified
109     JMH_HOME=&quot;$with_jmh&quot;
110     if test ! -d [$JMH_HOME]; then
111       AC_MSG_RESULT([no, error])
</pre>
</td>
</tr>
</table>
<center><a href="hotspot.m4.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="libraries.m4.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>