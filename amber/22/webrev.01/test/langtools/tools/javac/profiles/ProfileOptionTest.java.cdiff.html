<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/langtools/tools/javac/profiles/ProfileOptionTest.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../api/TestGetScopeResult.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../../lib/jdk/test/lib/security/CertUtils.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/langtools/tools/javac/profiles/ProfileOptionTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 145,32 ***</span>
                  switch (t) {
                      case JDK1_8:
                          if (ise != null)
                              error(&quot;unexpected exception from compiler: &quot; + ise);
                          break;
<span class="line-removed">-                     case JDK1_9:</span>
<span class="line-removed">-                     case JDK1_10:</span>
<span class="line-removed">-                     case JDK1_11:</span>
<span class="line-removed">-                     case JDK1_12:</span>
<span class="line-removed">-                     case JDK1_13:</span>
<span class="line-removed">-                     case JDK1_14:</span>
<span class="line-removed">-                     case JDK1_15:</span>
<span class="line-removed">-                         if (p == Profile.DEFAULT)</span>
<span class="line-removed">-                             break;</span>
<span class="line-removed">-                         if (ise == null)</span>
<span class="line-removed">-                             error(&quot;IllegalStateException not thrown as expected&quot;);</span>
<span class="line-removed">-                         else if (!ise.getMessage().contains(&quot;option -profile &quot; +</span>
<span class="line-removed">-                                 &quot;not allowed with target &quot; + t.name)) {</span>
<span class="line-removed">-                             error(&quot;exception not thrown as expected: &quot; + ise);</span>
<span class="line-removed">-                         }</span>
<span class="line-removed">-                         break;</span>
                      default:
                          if (p == Profile.DEFAULT)
                              break;
                          if (ise == null)
                              error(&quot;IllegalStateException not thrown as expected&quot;);
<span class="line-modified">!                         else if (!ise.getMessage().contains(&quot;profile &quot; + p.name</span>
                                      + &quot; is not valid for target release &quot; + t.name)) {
                              error(&quot;exception not thrown as expected: &quot; + ise);
                          }
                          break;
                  }
<span class="line-new-header">--- 145,21 ---</span>
                  switch (t) {
                      case JDK1_8:
                          if (ise != null)
                              error(&quot;unexpected exception from compiler: &quot; + ise);
                          break;
                      default:
                          if (p == Profile.DEFAULT)
                              break;
                          if (ise == null)
                              error(&quot;IllegalStateException not thrown as expected&quot;);
<span class="line-modified">!                         else if (t.compareTo(Target.JDK1_9) &gt;= 0) {</span>
<span class="line-added">+                             if (!ise.getMessage().contains(&quot;option -profile &quot; +</span>
<span class="line-added">+                                     &quot;not allowed with target &quot; + t.name)) {</span>
<span class="line-added">+                                 error(&quot;exception not thrown as expected: &quot; + ise);</span>
<span class="line-added">+                             }</span>
<span class="line-added">+                         } else if (!ise.getMessage().contains(&quot;profile &quot; + p.name</span>
                                      + &quot; is not valid for target release &quot; + t.name)) {
                              error(&quot;exception not thrown as expected: &quot; + ise);
                          }
                          break;
                  }
</pre>
<center><a href="../api/TestGetScopeResult.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../../lib/jdk/test/lib/security/CertUtils.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>