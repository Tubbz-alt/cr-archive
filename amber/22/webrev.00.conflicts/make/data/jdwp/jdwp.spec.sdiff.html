<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/data/jdwp/jdwp.spec</title>
    <link rel="stylesheet" href="../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../index.html" target="_top">index</a> <a href="../../../src/java.instrument/share/classes/java/lang/instrument/Instrumentation.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/data/jdwp/jdwp.spec</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 444             (boolean reserved32
 445                      &quot;Reserved for future capability&quot;)
 446         )
 447         (ErrorSet
 448             (Error VM_DEAD)
 449         )
 450     )
 451     (Command RedefineClasses=18
 452         &quot;Installs new class definitions. &quot;
 453         &quot;If there are active stack frames in methods of the redefined classes in the &quot;
 454         &quot;target VM then those active frames continue to run the bytecodes of the &quot;
 455         &quot;original method. These methods are considered obsolete - see &quot;
 456         &quot;&lt;a href=\&quot;#JDWP_Method_IsObsolete\&quot;&gt;IsObsolete&lt;/a&gt;. The methods in the &quot;
 457         &quot;redefined classes will be used for new invokes in the target VM. &quot;
 458         &quot;The original method ID refers to the redefined method. &quot;
 459         &quot;All breakpoints in the redefined classes are cleared.&quot;
 460         &quot;If resetting of stack frames is desired, the &quot;
 461         &quot;&lt;a href=\&quot;#JDWP_StackFrame_PopFrames\&quot;&gt;PopFrames&lt;/a&gt; command can be used &quot;
 462         &quot;to pop frames with obsolete methods.&quot;
 463         &quot;&lt;p&gt;&quot;

 464         &quot;Unless the canUnrestrictedlyRedefineClasses capability is present &quot;
 465         &quot;the redefinition must follow the restrictions described in &quot;
 466         &quot;&lt;a href=\&quot;../jvmti.html#RedefineClasses\&quot;&gt;JVM TI RedefineClasses&lt;/a&gt;.&quot;












 467         &quot;&lt;p&gt;&quot;
 468         &quot;Requires canRedefineClasses capability - see &quot;
 469         &quot;&lt;a href=\&quot;#JDWP_VirtualMachine_CapabilitiesNew\&quot;&gt;CapabilitiesNew&lt;/a&gt;. &quot;
 470         &quot;In addition to the canRedefineClasses capability, the target VM must &quot;
 471         &quot;have the canAddMethod capability to add methods when redefining classes, &quot;
 472         &quot;or the canUnrestrictedlyRedefineClasses capability to redefine classes in ways &quot;
 473         &quot;that are normally restricted.&quot;
 474         (Out
 475             (Repeat classes &quot;Number of reference types that follow.&quot;
 476                 (Group ClassDef
 477                     (referenceType refType &quot;The reference type.&quot;)
 478                     (Repeat classfile &quot;Number of bytes defining class (below)&quot;
 479                          (byte classbyte &quot;byte in JVM class file &quot;
 480                                          &quot;format.&quot;)
 481                     )
 482                 )
 483             )
 484         )
 485         (Reply
 486         )
</pre>
<hr />
<pre>
3143                                           &quot;interfaces is different &quot;
3144                                           &quot;and canUnrestrictedlyRedefineClasses is false.&quot;)
3145     (Constant DELETE_METHOD_NOT_IMPLEMENTED
3146                                      =67  &quot;The new class version does not declare a method &quot;
3147                                           &quot;declared in the old class version &quot;
3148                                           &quot;and canUnrestrictedlyRedefineClasses is false.&quot;)
3149     (Constant UNSUPPORTED_VERSION    =68  &quot;A class file has a version number not supported &quot;
3150                                           &quot;by this VM.&quot;)
3151     (Constant NAMES_DONT_MATCH       =69  &quot;The class name defined in the new class file is &quot;
3152                                           &quot;different from the name in the old class object.&quot;)
3153     (Constant CLASS_MODIFIERS_CHANGE_NOT_IMPLEMENTED
3154                                      =70  &quot;The new class version has different modifiers and &quot;
3155                                           &quot;canUnrestrictedlyRedefineClasses is false.&quot;)
3156     (Constant METHOD_MODIFIERS_CHANGE_NOT_IMPLEMENTED
3157                                      =71  &quot;A method in the new class version has &quot;
3158                                           &quot;different modifiers &quot;
3159                                           &quot;than its counterpart in the old class version and &quot;
3160                                           &quot;canUnrestrictedlyRedefineClasses is false.&quot;)
3161     (Constant CLASS_ATTRIBUTE_CHANGE_NOT_IMPLEMENTED
3162                                      =72  &quot;The new class version has a different NestHost, &quot;
<span class="line-modified">3163                                           &quot;NestMembers, or Record class attribute and &quot;</span>
<span class="line-modified">3164                                           &quot;canUnrestrictedlyRedefineClasses is false.&quot;)</span>
3165     (Constant NOT_IMPLEMENTED        =99  &quot;The functionality is not implemented in &quot;
3166                                           &quot;this virtual machine.&quot;)
3167     (Constant NULL_POINTER           =100 &quot;Invalid pointer.&quot;)
3168     (Constant ABSENT_INFORMATION     =101 &quot;Desired information is not available.&quot;)
3169     (Constant INVALID_EVENT_TYPE     =102 &quot;The specified event type id is not recognized.&quot;)
3170     (Constant ILLEGAL_ARGUMENT       =103 &quot;Illegal argument.&quot;)
3171     (Constant OUT_OF_MEMORY          =110 &quot;The function needed to allocate memory and &quot;
3172                                           &quot;no more memory was available for allocation.&quot;)
3173     (Constant ACCESS_DENIED          =111 &quot;Debugging has not been enabled in this &quot;
3174                                           &quot;virtual machine. JVMTI cannot be used.&quot;)
3175     (Constant VM_DEAD                =112 &quot;The virtual machine is not running.&quot;)
3176     (Constant INTERNAL               =113 &quot;An unexpected internal error has occurred.&quot;)
3177     (Constant UNATTACHED_THREAD      =115 &quot;The thread being used to call this function &quot;
3178                                           &quot;is not attached to the virtual machine. &quot;
3179                                           &quot;Calls must be made from attached threads.&quot;)
3180     (Constant INVALID_TAG            =500 &quot;object type id or class tag.&quot;)
3181     (Constant ALREADY_INVOKING       =502 &quot;Previous invoke not complete.&quot;)
3182     (Constant INVALID_INDEX          =503 &quot;Index is invalid.&quot;)
3183     (Constant INVALID_LENGTH         =504 &quot;The length is invalid.&quot;)
3184     (Constant INVALID_STRING         =506 &quot;The string is invalid.&quot;)
</pre>
</td>
<td>
<hr />
<pre>
 444             (boolean reserved32
 445                      &quot;Reserved for future capability&quot;)
 446         )
 447         (ErrorSet
 448             (Error VM_DEAD)
 449         )
 450     )
 451     (Command RedefineClasses=18
 452         &quot;Installs new class definitions. &quot;
 453         &quot;If there are active stack frames in methods of the redefined classes in the &quot;
 454         &quot;target VM then those active frames continue to run the bytecodes of the &quot;
 455         &quot;original method. These methods are considered obsolete - see &quot;
 456         &quot;&lt;a href=\&quot;#JDWP_Method_IsObsolete\&quot;&gt;IsObsolete&lt;/a&gt;. The methods in the &quot;
 457         &quot;redefined classes will be used for new invokes in the target VM. &quot;
 458         &quot;The original method ID refers to the redefined method. &quot;
 459         &quot;All breakpoints in the redefined classes are cleared.&quot;
 460         &quot;If resetting of stack frames is desired, the &quot;
 461         &quot;&lt;a href=\&quot;#JDWP_StackFrame_PopFrames\&quot;&gt;PopFrames&lt;/a&gt; command can be used &quot;
 462         &quot;to pop frames with obsolete methods.&quot;
 463         &quot;&lt;p&gt;&quot;
<span class="line-added"> 464 &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span>
 465         &quot;Unless the canUnrestrictedlyRedefineClasses capability is present &quot;
 466         &quot;the redefinition must follow the restrictions described in &quot;
 467         &quot;&lt;a href=\&quot;../jvmti.html#RedefineClasses\&quot;&gt;JVM TI RedefineClasses&lt;/a&gt;.&quot;
<span class="line-added"> 468 =======</span>
<span class="line-added"> 469         &quot;Unless the canUnrestrictedlyRedefineClasses capability is present the following &quot;</span>
<span class="line-added"> 470         &quot;redefinitions are restricted: &quot;</span>
<span class="line-added"> 471         &quot;&lt;ul&gt;&quot;</span>
<span class="line-added"> 472         &quot;&lt;li&gt;changing the schema (the fields)&lt;/li&gt;&quot;</span>
<span class="line-added"> 473         &quot;&lt;li&gt;changing the hierarchy (superclasses, interfaces)&lt;/li&gt;&quot;</span>
<span class="line-added"> 474         &quot;&lt;li&gt;deleting a method&lt;/li&gt;&quot;</span>
<span class="line-added"> 475         &quot;&lt;li&gt;changing class modifiers&lt;/li&gt;&quot;</span>
<span class="line-added"> 476         &quot;&lt;li&gt;changing method modifiers&lt;/li&gt;&quot;</span>
<span class="line-added"> 477         &quot;&lt;li&gt;changing the &lt;code&gt;NestHost&lt;/code&gt;, &lt;code&gt;NestMembers&lt;/code&gt;, &lt;code&gt;PermittedSubclasses&lt;/code&gt;, or &lt;code&gt;Record&lt;/code&gt; class attributes&lt;/li&gt;&quot;</span>
<span class="line-added"> 478         &quot;&lt;/ul&gt;&quot;</span>
<span class="line-added"> 479 &gt;&gt;&gt;&gt;&gt;&gt;&gt; 926ea22b56c80bf0e4ce5f1d92bc1d31ac91e978</span>
 480         &quot;&lt;p&gt;&quot;
 481         &quot;Requires canRedefineClasses capability - see &quot;
 482         &quot;&lt;a href=\&quot;#JDWP_VirtualMachine_CapabilitiesNew\&quot;&gt;CapabilitiesNew&lt;/a&gt;. &quot;
 483         &quot;In addition to the canRedefineClasses capability, the target VM must &quot;
 484         &quot;have the canAddMethod capability to add methods when redefining classes, &quot;
 485         &quot;or the canUnrestrictedlyRedefineClasses capability to redefine classes in ways &quot;
 486         &quot;that are normally restricted.&quot;
 487         (Out
 488             (Repeat classes &quot;Number of reference types that follow.&quot;
 489                 (Group ClassDef
 490                     (referenceType refType &quot;The reference type.&quot;)
 491                     (Repeat classfile &quot;Number of bytes defining class (below)&quot;
 492                          (byte classbyte &quot;byte in JVM class file &quot;
 493                                          &quot;format.&quot;)
 494                     )
 495                 )
 496             )
 497         )
 498         (Reply
 499         )
</pre>
<hr />
<pre>
3156                                           &quot;interfaces is different &quot;
3157                                           &quot;and canUnrestrictedlyRedefineClasses is false.&quot;)
3158     (Constant DELETE_METHOD_NOT_IMPLEMENTED
3159                                      =67  &quot;The new class version does not declare a method &quot;
3160                                           &quot;declared in the old class version &quot;
3161                                           &quot;and canUnrestrictedlyRedefineClasses is false.&quot;)
3162     (Constant UNSUPPORTED_VERSION    =68  &quot;A class file has a version number not supported &quot;
3163                                           &quot;by this VM.&quot;)
3164     (Constant NAMES_DONT_MATCH       =69  &quot;The class name defined in the new class file is &quot;
3165                                           &quot;different from the name in the old class object.&quot;)
3166     (Constant CLASS_MODIFIERS_CHANGE_NOT_IMPLEMENTED
3167                                      =70  &quot;The new class version has different modifiers and &quot;
3168                                           &quot;canUnrestrictedlyRedefineClasses is false.&quot;)
3169     (Constant METHOD_MODIFIERS_CHANGE_NOT_IMPLEMENTED
3170                                      =71  &quot;A method in the new class version has &quot;
3171                                           &quot;different modifiers &quot;
3172                                           &quot;than its counterpart in the old class version and &quot;
3173                                           &quot;canUnrestrictedlyRedefineClasses is false.&quot;)
3174     (Constant CLASS_ATTRIBUTE_CHANGE_NOT_IMPLEMENTED
3175                                      =72  &quot;The new class version has a different NestHost, &quot;
<span class="line-modified">3176                                           &quot;NestMembers, PermittedSubclasses, or Record class attribute &quot;</span>
<span class="line-modified">3177                                           &quot;and canUnrestrictedlyRedefineClasses is false.&quot;)</span>
3178     (Constant NOT_IMPLEMENTED        =99  &quot;The functionality is not implemented in &quot;
3179                                           &quot;this virtual machine.&quot;)
3180     (Constant NULL_POINTER           =100 &quot;Invalid pointer.&quot;)
3181     (Constant ABSENT_INFORMATION     =101 &quot;Desired information is not available.&quot;)
3182     (Constant INVALID_EVENT_TYPE     =102 &quot;The specified event type id is not recognized.&quot;)
3183     (Constant ILLEGAL_ARGUMENT       =103 &quot;Illegal argument.&quot;)
3184     (Constant OUT_OF_MEMORY          =110 &quot;The function needed to allocate memory and &quot;
3185                                           &quot;no more memory was available for allocation.&quot;)
3186     (Constant ACCESS_DENIED          =111 &quot;Debugging has not been enabled in this &quot;
3187                                           &quot;virtual machine. JVMTI cannot be used.&quot;)
3188     (Constant VM_DEAD                =112 &quot;The virtual machine is not running.&quot;)
3189     (Constant INTERNAL               =113 &quot;An unexpected internal error has occurred.&quot;)
3190     (Constant UNATTACHED_THREAD      =115 &quot;The thread being used to call this function &quot;
3191                                           &quot;is not attached to the virtual machine. &quot;
3192                                           &quot;Calls must be made from attached threads.&quot;)
3193     (Constant INVALID_TAG            =500 &quot;object type id or class tag.&quot;)
3194     (Constant ALREADY_INVOKING       =502 &quot;Previous invoke not complete.&quot;)
3195     (Constant INVALID_INDEX          =503 &quot;Index is invalid.&quot;)
3196     (Constant INVALID_LENGTH         =504 &quot;The length is invalid.&quot;)
3197     (Constant INVALID_STRING         =506 &quot;The string is invalid.&quot;)
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../index.html" target="_top">index</a> <a href="../../../src/java.instrument/share/classes/java/lang/instrument/Instrumentation.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>