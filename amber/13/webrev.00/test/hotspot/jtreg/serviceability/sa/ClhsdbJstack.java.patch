diff a/test/hotspot/jtreg/serviceability/sa/ClhsdbJstack.java b/test/hotspot/jtreg/serviceability/sa/ClhsdbJstack.java
--- a/test/hotspot/jtreg/serviceability/sa/ClhsdbJstack.java
+++ b/test/hotspot/jtreg/serviceability/sa/ClhsdbJstack.java
@@ -32,11 +32,21 @@
  * @test
  * @bug 8190198
  * @summary Test clhsdb Jstack command
  * @requires vm.hasSA
  * @library /test/lib
- * @run main/othervm/timeout=480 ClhsdbJstack
+ * @run main/othervm/timeout=480 ClhsdbJstack true
+ */
+
+/**
+ * @test
+ * @bug 8190198
+ * @requires vm.compMode != "Xcomp"
+ * @summary Test clhsdb Jstack command
+ * @requires vm.hasSA
+ * @library /test/lib
+ * @run main/othervm/timeout=480 ClhsdbJstack false
  */
 
 public class ClhsdbJstack {
 
     private static void testJstack(boolean withXcomp) throws Exception {
@@ -72,11 +82,11 @@
             LingeredApp.stopApp(theApp);
         }
     }
 
     public static void main(String[] args) throws Exception {
+        boolean xComp = Boolean.parseBoolean(args[0]);
         System.out.println("Starting ClhsdbJstack test");
-        testJstack(false);
-        testJstack(true);
+        testJstack(xComp);
         System.out.println("Test PASSED");
     }
 }
