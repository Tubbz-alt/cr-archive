<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old test/langtools/tools/javac/patterns/DeconstructionPatternErrors.java</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 /**
 2  * @test /nodynamiccopyright/
 3  * @summary Verify error reports for erroneous deconstruction patterns are sensible
 4  * @compile/fail/ref=DeconstructionPatternErrors.out --enable-preview -source ${jdk.version} -XDrawDiagnostics DeconstructionPatternErrors.java
 5  */
 6 
 7 public class DeconstructionPatternErrors {
 8 
 9     public static void main(String... args) throws Throwable {
10         Object p;
11         p = new P(42);
12         if (p instanceof P(String s));
13         p = new P2(() -&gt; {}, () -&gt; {});
14         if (p instanceof P2(String s, Runnable r)) {
15             System.err.println(&quot;s=&quot; + s);
16             System.err.println(&quot;r=&quot; + r);
17         }
18     }
19 
20     public record P(int i) {
21     }
22 
23     public record P2(Runnable r1, Runnable r2) {}
24 }
    </pre>
  </body>
</html>