<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/launcher/LauncherCommon.gmk</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center><a href="../jdk/src/classes/build/tools/x11wrappergen/WrapperGenerator.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="../lib/Lib-jdk.incubator.jpackage.gmk.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/launcher/LauncherCommon.gmk</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
127     endif
128   endif
129 
130   ifeq ($(USE_EXTERNAL_LIBZ), true)
131     $1_LIBS += -lz
132   endif
133 
134   $1_WINDOWS_JLI_LIB := $(call FindStaticLib, java.base, jli, /libjli)
135 
136   $$(eval $$(call SetupJdkExecutable, BUILD_LAUNCHER_$1, \
137       NAME := $1, \
138       EXTRA_FILES := $(LAUNCHER_SRC)/main.c, \
139       OPTIMIZATION := $$($1_OPTIMIZATION), \
140       CFLAGS := $$(CFLAGS_JDKEXE) \
141           $(LAUNCHER_CFLAGS) \
142           $(VERSION_CFLAGS) \
143           -DLAUNCHER_NAME=&#39;&quot;$(LAUNCHER_NAME)&quot;&#39; \
144           -DPROGNAME=&#39;&quot;$1&quot;&#39; \
145           $$($1_CFLAGS), \
146       CFLAGS_linux := -fPIC, \
<span class="line-modified">147       CFLAGS_solaris := -KPIC -DHAVE_GETHRTIME, \</span>
148       CFLAGS_windows := $$($1_CFLAGS_windows), \
149       DISABLED_WARNINGS_gcc := unused-function, \
150       LDFLAGS := $$(LDFLAGS_JDKEXE) \
151           $$(call SET_EXECUTABLE_ORIGIN) \
152           $$($1_LDFLAGS), \
153       LDFLAGS_linux := $$(call SET_EXECUTABLE_ORIGIN,/../lib) \
154           -L$(call FindLibDirForModule, java.base), \
155       LDFLAGS_macosx := $$(call SET_EXECUTABLE_ORIGIN,/../lib) \
156           -L$(call FindLibDirForModule, java.base), \
157       LDFLAGS_solaris := $$(call SET_EXECUTABLE_ORIGIN,/../lib) \
158           -L$(call FindLibDirForModule, java.base), \
159       LDFLAGS_aix := -L$(SUPPORT_OUTPUTDIR)/native/java.base, \
160       LIBS := $(JDKEXE_LIBS) $$($1_LIBS), \
161       LIBS_linux := -ljli -lpthread $(LIBDL), \
162       LIBS_macosx := -ljli -framework Cocoa -framework Security \
163           -framework ApplicationServices, \
164       LIBS_solaris := -ljli -lthread $(LIBDL), \
165       LIBS_aix := -ljli_static, \
166       LIBS_windows := $$($1_WINDOWS_JLI_LIB) \
167           $(SUPPORT_OUTPUTDIR)/native/java.base/libjava/java.lib, \
</pre>
</td>
<td>
<hr />
<pre>
127     endif
128   endif
129 
130   ifeq ($(USE_EXTERNAL_LIBZ), true)
131     $1_LIBS += -lz
132   endif
133 
134   $1_WINDOWS_JLI_LIB := $(call FindStaticLib, java.base, jli, /libjli)
135 
136   $$(eval $$(call SetupJdkExecutable, BUILD_LAUNCHER_$1, \
137       NAME := $1, \
138       EXTRA_FILES := $(LAUNCHER_SRC)/main.c, \
139       OPTIMIZATION := $$($1_OPTIMIZATION), \
140       CFLAGS := $$(CFLAGS_JDKEXE) \
141           $(LAUNCHER_CFLAGS) \
142           $(VERSION_CFLAGS) \
143           -DLAUNCHER_NAME=&#39;&quot;$(LAUNCHER_NAME)&quot;&#39; \
144           -DPROGNAME=&#39;&quot;$1&quot;&#39; \
145           $$($1_CFLAGS), \
146       CFLAGS_linux := -fPIC, \
<span class="line-modified">147       CFLAGS_solaris := -KPIC, \</span>
148       CFLAGS_windows := $$($1_CFLAGS_windows), \
149       DISABLED_WARNINGS_gcc := unused-function, \
150       LDFLAGS := $$(LDFLAGS_JDKEXE) \
151           $$(call SET_EXECUTABLE_ORIGIN) \
152           $$($1_LDFLAGS), \
153       LDFLAGS_linux := $$(call SET_EXECUTABLE_ORIGIN,/../lib) \
154           -L$(call FindLibDirForModule, java.base), \
155       LDFLAGS_macosx := $$(call SET_EXECUTABLE_ORIGIN,/../lib) \
156           -L$(call FindLibDirForModule, java.base), \
157       LDFLAGS_solaris := $$(call SET_EXECUTABLE_ORIGIN,/../lib) \
158           -L$(call FindLibDirForModule, java.base), \
159       LDFLAGS_aix := -L$(SUPPORT_OUTPUTDIR)/native/java.base, \
160       LIBS := $(JDKEXE_LIBS) $$($1_LIBS), \
161       LIBS_linux := -ljli -lpthread $(LIBDL), \
162       LIBS_macosx := -ljli -framework Cocoa -framework Security \
163           -framework ApplicationServices, \
164       LIBS_solaris := -ljli -lthread $(LIBDL), \
165       LIBS_aix := -ljli_static, \
166       LIBS_windows := $$($1_WINDOWS_JLI_LIB) \
167           $(SUPPORT_OUTPUTDIR)/native/java.base/libjava/java.lib, \
</pre>
</td>
</tr>
</table>
<center><a href="../jdk/src/classes/build/tools/x11wrappergen/WrapperGenerator.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../index.html" target="_top">index</a> <a href="../lib/Lib-jdk.incubator.jpackage.gmk.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>