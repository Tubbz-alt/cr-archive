<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.charsets/share/classes/sun/nio/cs/ext/ISCII91.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../jdk.aot/share/classes/jdk.tools.jaotc/src/jdk/tools/jaotc/MarkProcessor.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ISO2022_JP.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.charsets/share/classes/sun/nio/cs/ext/ISCII91.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2002, 2011, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
472         private boolean needFlushing = false;
473 
474 
475         private Decoder(Charset cs) {
476             super(cs, 1.0f, 1.0f);
477         }
478 
479         protected CoderResult implFlush(CharBuffer out) {
480             if(needFlushing) {
481                 if (out.remaining() &lt; 1) {
482                     return CoderResult.OVERFLOW;
483                 } else {
484                     out.put(contextChar);
485                 }
486             }
487             contextChar = INVALID_CHAR;
488             needFlushing = false;
489             return CoderResult.UNDERFLOW;
490         }
491 
<span class="line-modified">492         /*Rules:</span>
<span class="line-modified">493          * 1)ATR,EXT,following character to be replaced with &#39;\ufffd&#39;</span>
<span class="line-modified">494          * 2)Halant + Halant =&gt; &#39;\u094d&#39; (Virama) + &#39;\u200c&#39;(ZWNJ)</span>
<span class="line-modified">495          * 3)Halant + Nukta =&gt; &#39;\u094d&#39; (Virama) + &#39;\u200d&#39;(ZWJ)</span>
<span class="line-modified">496         */</span>
497         private CoderResult decodeArrayLoop(ByteBuffer src,
498                                              CharBuffer dst)
499         {
500             byte[] sa = src.array();
501             int sp = src.arrayOffset() + src.position();
502             int sl = src.arrayOffset() + src.limit();
503             assert (sp &lt;= sl);
504             sp = (sp &lt;= sl ? sp : sl);
505 
506             char[] da = dst.array();
507             int dp = dst.arrayOffset() + dst.position();
508             int dl = dst.arrayOffset() + dst.limit();
509             assert (dp &lt;= dl);
510             dp = (dp &lt;= dl ? dp : dl);
511 
512             try {
513                 while (sp &lt; sl) {
514                     int index = sa[sp];
515                     index = ( index &lt; 0 )? ( index + 255 ):index;
516                     char currentChar = directMapTable[index];
</pre>
</td>
<td>
<hr />
<pre>
  1 /*
<span class="line-modified">  2  * Copyright (c) 2002, 2020, Oracle and/or its affiliates. All rights reserved.</span>
  3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  4  *
  5  * This code is free software; you can redistribute it and/or modify it
  6  * under the terms of the GNU General Public License version 2 only, as
  7  * published by the Free Software Foundation.  Oracle designates this
  8  * particular file as subject to the &quot;Classpath&quot; exception as provided
  9  * by Oracle in the LICENSE file that accompanied this code.
 10  *
 11  * This code is distributed in the hope that it will be useful, but WITHOUT
 12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 14  * version 2 for more details (a copy is included in the LICENSE file that
 15  * accompanied this code).
 16  *
 17  * You should have received a copy of the GNU General Public License version
 18  * 2 along with this work; if not, write to the Free Software Foundation,
 19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 20  *
 21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
472         private boolean needFlushing = false;
473 
474 
475         private Decoder(Charset cs) {
476             super(cs, 1.0f, 1.0f);
477         }
478 
479         protected CoderResult implFlush(CharBuffer out) {
480             if(needFlushing) {
481                 if (out.remaining() &lt; 1) {
482                     return CoderResult.OVERFLOW;
483                 } else {
484                     out.put(contextChar);
485                 }
486             }
487             contextChar = INVALID_CHAR;
488             needFlushing = false;
489             return CoderResult.UNDERFLOW;
490         }
491 
<span class="line-modified">492         /* Rules:</span>
<span class="line-modified">493          * 1) ATR,EXT,following character to be replaced with &#39;\ufffd&#39;</span>
<span class="line-modified">494          * 2) Halant + Halant =&gt; &#39;\u094d&#39; (Virama) + &#39;\u200c&#39;(ZWNJ)</span>
<span class="line-modified">495          * 3) Halant + Nukta =&gt; &#39;\u094d&#39; (Virama) + &#39;\u200d&#39;(ZWJ)</span>
<span class="line-modified">496          */</span>
497         private CoderResult decodeArrayLoop(ByteBuffer src,
498                                              CharBuffer dst)
499         {
500             byte[] sa = src.array();
501             int sp = src.arrayOffset() + src.position();
502             int sl = src.arrayOffset() + src.limit();
503             assert (sp &lt;= sl);
504             sp = (sp &lt;= sl ? sp : sl);
505 
506             char[] da = dst.array();
507             int dp = dst.arrayOffset() + dst.position();
508             int dl = dst.arrayOffset() + dst.limit();
509             assert (dp &lt;= dl);
510             dp = (dp &lt;= dl ? dp : dl);
511 
512             try {
513                 while (sp &lt; sl) {
514                     int index = sa[sp];
515                     index = ( index &lt; 0 )? ( index + 255 ):index;
516                     char currentChar = directMapTable[index];
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../jdk.aot/share/classes/jdk.tools.jaotc/src/jdk/tools/jaotc/MarkProcessor.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ISO2022_JP.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>