<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.internal.vm.compiler/share/classes/org.graalvm.compiler.hotspot/src/org/graalvm/compiler/hotspot/GraalHotSpotVMConfig.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../org.graalvm.compiler.hotspot.test/src/org/graalvm/compiler/hotspot/test/NodeCostDumpUtil.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="HotSpotReplacementsImpl.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.internal.vm.compiler/share/classes/org.graalvm.compiler.hotspot/src/org/graalvm/compiler/hotspot/GraalHotSpotVMConfig.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
505                     Integer.class);
506 
507     public final int constantPoolSize = getFieldValue(&quot;CompilerToVM::Data::sizeof_ConstantPool&quot;, Integer.class, &quot;int&quot;);
508     public final int constantPoolLengthOffset = getFieldOffset(&quot;ConstantPool::_length&quot;,
509                     Integer.class, &quot;int&quot;);
510 
511     public final int heapWordSize = getConstant(&quot;HeapWordSize&quot;, Integer.class);
512 
513     /**
514      * Bit pattern that represents a non-oop. Neither the high bits nor the low bits of this value
515      * are allowed to look like (respectively) the high or low bits of a real oop.
516      */
517     public final long nonOopBits = getFieldValue(&quot;CompilerToVM::Data::Universe_non_oop_bits&quot;, Long.class, &quot;void*&quot;);
518 
519     public final long verifyOopCounterAddress = getFieldAddress(&quot;StubRoutines::_verify_oop_count&quot;, &quot;jint&quot;);
520     public final long verifyOopMask = getFieldValue(&quot;CompilerToVM::Data::Universe_verify_oop_mask&quot;, Long.class, &quot;uintptr_t&quot;);
521     public final long verifyOopBits = getFieldValue(&quot;CompilerToVM::Data::Universe_verify_oop_bits&quot;, Long.class, &quot;uintptr_t&quot;);
522 
523     public final int logOfHRGrainBytes = getFieldValue(&quot;HeapRegion::LogOfHRGrainBytes&quot;, Integer.class, &quot;int&quot;);
524 
<span class="line-modified">525     public final long cardtableStartAddress = getFieldValue(&quot;CompilerToVM::Data::cardtable_start_address&quot;, Long.class, &quot;jbyte*&quot;);</span>
526     public final int cardtableShift = getFieldValue(&quot;CompilerToVM::Data::cardtable_shift&quot;, Integer.class, &quot;int&quot;);
527 
528     /**
529      * This is the largest stack offset encodeable in an OopMapValue. Offsets larger than this will
530      * throw an exception during code installation.
531      */
532     public final int maxOopMapStackOffset = getFieldValue(&quot;CompilerToVM::Data::_max_oop_map_stack_offset&quot;, Integer.class, &quot;int&quot;);
533 
534     public final long safepointPollingAddress = getFieldValue(&quot;os::_polling_page&quot;, Long.class, &quot;address&quot;);
535 
536     // G1 Collector Related Values.
537 
538     public final byte dirtyCardValue = versioned.dirtyCardValue;
539     public final byte g1YoungCardValue = versioned.g1YoungCardValue;
540 
541     public final int g1SATBQueueMarkingOffset = versioned.g1SATBQueueMarkingOffset;
542     public final int g1SATBQueueIndexOffset = versioned.g1SATBQueueIndexOffset;
543     public final int g1SATBQueueBufferOffset = versioned.g1SATBQueueBufferOffset;
544     public final int g1CardQueueIndexOffset = versioned.g1CardQueueIndexOffset;
545     public final int g1CardQueueBufferOffset = versioned.g1CardQueueBufferOffset;
546 
547     public final int klassOffset = getFieldValue(&quot;java_lang_Class::_klass_offset&quot;, Integer.class, &quot;int&quot;);
548     public final int arrayKlassOffset = getFieldValue(&quot;java_lang_Class::_array_klass_offset&quot;, Integer.class, &quot;int&quot;);
549 
550     public final int basicLockSize = getFieldValue(&quot;CompilerToVM::Data::sizeof_BasicLock&quot;, Integer.class, &quot;int&quot;);
551     public final int basicLockDisplacedHeaderOffset = getFieldOffset(&quot;BasicLock::_displaced_header&quot;, Integer.class, markWord);
552 
<span class="line-modified">553     public final int threadPollingPageOffset = getFieldOffset(&quot;Thread::_polling_page&quot;, Integer.class, &quot;address&quot;, -1);</span>
554     public final int threadAllocatedBytesOffset = getFieldOffset(&quot;Thread::_allocated_bytes&quot;, Integer.class, &quot;jlong&quot;);
555 
556     public final int tlabRefillWasteIncrement = getFlag(&quot;TLABWasteIncrement&quot;, Integer.class);
557 
558     private final int threadLocalAllocBufferStartOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_start&quot;, Integer.class, &quot;HeapWord*&quot;);
559     private final int threadLocalAllocBufferEndOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_end&quot;, Integer.class, &quot;HeapWord*&quot;);
560     private final int threadLocalAllocBufferTopOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_top&quot;, Integer.class, &quot;HeapWord*&quot;);
561     private final int threadLocalAllocBufferPfTopOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_pf_top&quot;, Integer.class, &quot;HeapWord*&quot;);
562     private final int threadLocalAllocBufferSlowAllocationsOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_slow_allocations&quot;, Integer.class, &quot;unsigned&quot;);
563     private final int threadLocalAllocBufferFastRefillWasteOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_fast_refill_waste&quot;, Integer.class, &quot;unsigned&quot;);
564     private final int threadLocalAllocBufferNumberOfRefillsOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_number_of_refills&quot;, Integer.class, &quot;unsigned&quot;);
565     private final int threadLocalAllocBufferRefillWasteLimitOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_refill_waste_limit&quot;, Integer.class, &quot;size_t&quot;);
566     private final int threadLocalAllocBufferDesiredSizeOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_desired_size&quot;, Integer.class, &quot;size_t&quot;);
567 
568     public int tlabSlowAllocationsOffset() {
569         return threadTlabOffset + threadLocalAllocBufferSlowAllocationsOffset;
570     }
571 
572     public int tlabFastRefillWasteOffset() {
573         return threadTlabOffset + threadLocalAllocBufferFastRefillWasteOffset;
</pre>
</td>
<td>
<hr />
<pre>
505                     Integer.class);
506 
507     public final int constantPoolSize = getFieldValue(&quot;CompilerToVM::Data::sizeof_ConstantPool&quot;, Integer.class, &quot;int&quot;);
508     public final int constantPoolLengthOffset = getFieldOffset(&quot;ConstantPool::_length&quot;,
509                     Integer.class, &quot;int&quot;);
510 
511     public final int heapWordSize = getConstant(&quot;HeapWordSize&quot;, Integer.class);
512 
513     /**
514      * Bit pattern that represents a non-oop. Neither the high bits nor the low bits of this value
515      * are allowed to look like (respectively) the high or low bits of a real oop.
516      */
517     public final long nonOopBits = getFieldValue(&quot;CompilerToVM::Data::Universe_non_oop_bits&quot;, Long.class, &quot;void*&quot;);
518 
519     public final long verifyOopCounterAddress = getFieldAddress(&quot;StubRoutines::_verify_oop_count&quot;, &quot;jint&quot;);
520     public final long verifyOopMask = getFieldValue(&quot;CompilerToVM::Data::Universe_verify_oop_mask&quot;, Long.class, &quot;uintptr_t&quot;);
521     public final long verifyOopBits = getFieldValue(&quot;CompilerToVM::Data::Universe_verify_oop_bits&quot;, Long.class, &quot;uintptr_t&quot;);
522 
523     public final int logOfHRGrainBytes = getFieldValue(&quot;HeapRegion::LogOfHRGrainBytes&quot;, Integer.class, &quot;int&quot;);
524 
<span class="line-modified">525     public final long cardtableStartAddress = getFieldValue(&quot;CompilerToVM::Data::cardtable_start_address&quot;, Long.class, &quot;CardTable::CardValue*&quot;);</span>
526     public final int cardtableShift = getFieldValue(&quot;CompilerToVM::Data::cardtable_shift&quot;, Integer.class, &quot;int&quot;);
527 
528     /**
529      * This is the largest stack offset encodeable in an OopMapValue. Offsets larger than this will
530      * throw an exception during code installation.
531      */
532     public final int maxOopMapStackOffset = getFieldValue(&quot;CompilerToVM::Data::_max_oop_map_stack_offset&quot;, Integer.class, &quot;int&quot;);
533 
534     public final long safepointPollingAddress = getFieldValue(&quot;os::_polling_page&quot;, Long.class, &quot;address&quot;);
535 
536     // G1 Collector Related Values.
537 
538     public final byte dirtyCardValue = versioned.dirtyCardValue;
539     public final byte g1YoungCardValue = versioned.g1YoungCardValue;
540 
541     public final int g1SATBQueueMarkingOffset = versioned.g1SATBQueueMarkingOffset;
542     public final int g1SATBQueueIndexOffset = versioned.g1SATBQueueIndexOffset;
543     public final int g1SATBQueueBufferOffset = versioned.g1SATBQueueBufferOffset;
544     public final int g1CardQueueIndexOffset = versioned.g1CardQueueIndexOffset;
545     public final int g1CardQueueBufferOffset = versioned.g1CardQueueBufferOffset;
546 
547     public final int klassOffset = getFieldValue(&quot;java_lang_Class::_klass_offset&quot;, Integer.class, &quot;int&quot;);
548     public final int arrayKlassOffset = getFieldValue(&quot;java_lang_Class::_array_klass_offset&quot;, Integer.class, &quot;int&quot;);
549 
550     public final int basicLockSize = getFieldValue(&quot;CompilerToVM::Data::sizeof_BasicLock&quot;, Integer.class, &quot;int&quot;);
551     public final int basicLockDisplacedHeaderOffset = getFieldOffset(&quot;BasicLock::_displaced_header&quot;, Integer.class, markWord);
552 
<span class="line-modified">553     public final int threadPollingPageOffset = getFieldOffset(&quot;Thread::_polling_page&quot;, Integer.class, &quot;volatile void*&quot;, -1);</span>
554     public final int threadAllocatedBytesOffset = getFieldOffset(&quot;Thread::_allocated_bytes&quot;, Integer.class, &quot;jlong&quot;);
555 
556     public final int tlabRefillWasteIncrement = getFlag(&quot;TLABWasteIncrement&quot;, Integer.class);
557 
558     private final int threadLocalAllocBufferStartOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_start&quot;, Integer.class, &quot;HeapWord*&quot;);
559     private final int threadLocalAllocBufferEndOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_end&quot;, Integer.class, &quot;HeapWord*&quot;);
560     private final int threadLocalAllocBufferTopOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_top&quot;, Integer.class, &quot;HeapWord*&quot;);
561     private final int threadLocalAllocBufferPfTopOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_pf_top&quot;, Integer.class, &quot;HeapWord*&quot;);
562     private final int threadLocalAllocBufferSlowAllocationsOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_slow_allocations&quot;, Integer.class, &quot;unsigned&quot;);
563     private final int threadLocalAllocBufferFastRefillWasteOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_fast_refill_waste&quot;, Integer.class, &quot;unsigned&quot;);
564     private final int threadLocalAllocBufferNumberOfRefillsOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_number_of_refills&quot;, Integer.class, &quot;unsigned&quot;);
565     private final int threadLocalAllocBufferRefillWasteLimitOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_refill_waste_limit&quot;, Integer.class, &quot;size_t&quot;);
566     private final int threadLocalAllocBufferDesiredSizeOffset = getFieldOffset(&quot;ThreadLocalAllocBuffer::_desired_size&quot;, Integer.class, &quot;size_t&quot;);
567 
568     public int tlabSlowAllocationsOffset() {
569         return threadTlabOffset + threadLocalAllocBufferSlowAllocationsOffset;
570     }
571 
572     public int tlabFastRefillWasteOffset() {
573         return threadTlabOffset + threadLocalAllocBufferFastRefillWasteOffset;
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../org.graalvm.compiler.hotspot.test/src/org/graalvm/compiler/hotspot/test/NodeCostDumpUtil.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="HotSpotReplacementsImpl.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>