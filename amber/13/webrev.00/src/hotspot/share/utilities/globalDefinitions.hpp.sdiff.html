<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/hotspot/share/utilities/globalDefinitions.hpp</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="bitMap.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="macros.hpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/hotspot/share/utilities/globalDefinitions.hpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
1005 //* largest i such that 2^i &lt;= x
1006 inline int log2_long(julong x) {
1007   int i = -1;
1008   julong p =  1;
1009   while (p != 0 &amp;&amp; p &lt;= x) {
1010     // p = 2^(i+1) &amp;&amp; p &lt;= x (i.e., 2^(i+1) &lt;= x)
1011     i++; p *= 2;
1012   }
1013   // p = 2^(i+1) &amp;&amp; x &lt; p (i.e., 2^i &lt;= x &lt; 2^(i+1))
1014   // (if p = 0 then overflow occurred and i = 63)
1015   return i;
1016 }
1017 
1018 // If x &lt; 0, the function returns 31 on a 32-bit machine and 63 on a 64-bit machine.
1019 inline int log2_intptr(intptr_t x) {
1020   return log2_intptr((uintptr_t)x);
1021 }
1022 
1023 inline int log2_int(int x) {
1024   STATIC_ASSERT(sizeof(int) &lt;= sizeof(uintptr_t));
<span class="line-modified">1025   return log2_intptr((uintptr_t)x);</span>
1026 }
1027 
1028 inline int log2_jint(jint x) {
1029   STATIC_ASSERT(sizeof(jint) &lt;= sizeof(uintptr_t));
<span class="line-modified">1030   return log2_intptr((uintptr_t)x);</span>
1031 }
1032 
1033 inline int log2_uint(uint x) {
1034   STATIC_ASSERT(sizeof(uint) &lt;= sizeof(uintptr_t));
1035   return log2_intptr((uintptr_t)x);
1036 }
1037 
1038 //  A negative value of &#39;x&#39; will return &#39;63&#39;
1039 inline int log2_jlong(jlong x) {
1040   STATIC_ASSERT(sizeof(jlong) &lt;= sizeof(julong));
1041   return log2_long((julong)x);
1042 }
1043 
1044 inline bool is_odd (intx x) { return x &amp; 1;      }
1045 inline bool is_even(intx x) { return !is_odd(x); }
1046 
1047 // abs methods which cannot overflow and so are well-defined across
1048 // the entire domain of integer types.
1049 static inline unsigned int uabs(unsigned int n) {
1050   union {
</pre>
</td>
<td>
<hr />
<pre>
1005 //* largest i such that 2^i &lt;= x
1006 inline int log2_long(julong x) {
1007   int i = -1;
1008   julong p =  1;
1009   while (p != 0 &amp;&amp; p &lt;= x) {
1010     // p = 2^(i+1) &amp;&amp; p &lt;= x (i.e., 2^(i+1) &lt;= x)
1011     i++; p *= 2;
1012   }
1013   // p = 2^(i+1) &amp;&amp; x &lt; p (i.e., 2^i &lt;= x &lt; 2^(i+1))
1014   // (if p = 0 then overflow occurred and i = 63)
1015   return i;
1016 }
1017 
1018 // If x &lt; 0, the function returns 31 on a 32-bit machine and 63 on a 64-bit machine.
1019 inline int log2_intptr(intptr_t x) {
1020   return log2_intptr((uintptr_t)x);
1021 }
1022 
1023 inline int log2_int(int x) {
1024   STATIC_ASSERT(sizeof(int) &lt;= sizeof(uintptr_t));
<span class="line-modified">1025   return log2_intptr((uintptr_t)(unsigned int)x);</span>
1026 }
1027 
1028 inline int log2_jint(jint x) {
1029   STATIC_ASSERT(sizeof(jint) &lt;= sizeof(uintptr_t));
<span class="line-modified">1030   return log2_intptr((uintptr_t)(juint)x);</span>
1031 }
1032 
1033 inline int log2_uint(uint x) {
1034   STATIC_ASSERT(sizeof(uint) &lt;= sizeof(uintptr_t));
1035   return log2_intptr((uintptr_t)x);
1036 }
1037 
1038 //  A negative value of &#39;x&#39; will return &#39;63&#39;
1039 inline int log2_jlong(jlong x) {
1040   STATIC_ASSERT(sizeof(jlong) &lt;= sizeof(julong));
1041   return log2_long((julong)x);
1042 }
1043 
1044 inline bool is_odd (intx x) { return x &amp; 1;      }
1045 inline bool is_even(intx x) { return !is_odd(x); }
1046 
1047 // abs methods which cannot overflow and so are well-defined across
1048 // the entire domain of integer types.
1049 static inline unsigned int uabs(unsigned int n) {
1050   union {
</pre>
</td>
</tr>
</table>
<center><a href="bitMap.hpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="macros.hpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>