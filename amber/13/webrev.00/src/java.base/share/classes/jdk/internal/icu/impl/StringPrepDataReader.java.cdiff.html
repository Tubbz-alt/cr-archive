<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/jdk/internal/icu/impl/StringPrepDataReader.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ICUBinary.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Trie.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/jdk/internal/icu/impl/StringPrepDataReader.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 74,14 ***</span>
  
      public void read(byte[] idnaBytes,
                          char[] mappingTable)
                          throws IOException{
  
<span class="line-modified">!         //Read the bytes that make up the idnaTrie</span>
          dataInputStream.read(idnaBytes);
  
<span class="line-modified">!         //Read the extra data</span>
          for(int i=0;i&lt;mappingTable.length;i++){
              mappingTable[i]=dataInputStream.readChar();
          }
      }
  
<span class="line-new-header">--- 74,14 ---</span>
  
      public void read(byte[] idnaBytes,
                          char[] mappingTable)
                          throws IOException{
  
<span class="line-modified">!         // Read the bytes that make up the idnaTrie</span>
          dataInputStream.read(idnaBytes);
  
<span class="line-modified">!         // Read the extra data</span>
          for(int i=0;i&lt;mappingTable.length;i++){
              mappingTable[i]=dataInputStream.readChar();
          }
      }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 92,13 ***</span>
      public boolean isDataVersionAcceptable(byte version[]){
          return version[0] == DATA_FORMAT_VERSION[0]
                 &amp;&amp; version[2] == DATA_FORMAT_VERSION[2]
                 &amp;&amp; version[3] == DATA_FORMAT_VERSION[3];
      }
<span class="line-modified">!     public int[] readIndexes(int length)throws IOException{</span>
          int[] indexes = new int[length];
<span class="line-modified">!         //Read the indexes</span>
          for (int i = 0; i &lt;length ; i++) {
               indexes[i] = dataInputStream.readInt();
          }
          return indexes;
      }
<span class="line-new-header">--- 92,13 ---</span>
      public boolean isDataVersionAcceptable(byte version[]){
          return version[0] == DATA_FORMAT_VERSION[0]
                 &amp;&amp; version[2] == DATA_FORMAT_VERSION[2]
                 &amp;&amp; version[3] == DATA_FORMAT_VERSION[3];
      }
<span class="line-modified">!     public int[] readIndexes(int length) throws IOException{</span>
          int[] indexes = new int[length];
<span class="line-modified">!         // Read the indexes</span>
          for (int i = 0; i &lt;length ; i++) {
               indexes[i] = dataInputStream.readInt();
          }
          return indexes;
      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 108,19 ***</span>
      }
      // private data members -------------------------------------------------
  
  
      /**
<span class="line-modified">!     * ICU data file input stream</span>
<span class="line-modified">!     */</span>
      private DataInputStream dataInputStream;
      private byte[] unicodeVersion;
      /**
<span class="line-modified">!     * File format version that this class understands.</span>
<span class="line-modified">!     * No guarantees are made if a older version is used</span>
<span class="line-modified">!     * see store.c of gennorm for more information and values</span>
<span class="line-modified">!     */</span>
      ///* dataFormat=&quot;SPRP&quot; 0x53, 0x50, 0x52, 0x50  */
      private static final byte DATA_FORMAT_ID[] = {(byte)0x53, (byte)0x50,
                                                      (byte)0x52, (byte)0x50};
      private static final byte DATA_FORMAT_VERSION[] = {(byte)0x3, (byte)0x2,
                                                          (byte)0x5, (byte)0x2};
<span class="line-new-header">--- 108,19 ---</span>
      }
      // private data members -------------------------------------------------
  
  
      /**
<span class="line-modified">!      * ICU data file input stream</span>
<span class="line-modified">!      */</span>
      private DataInputStream dataInputStream;
      private byte[] unicodeVersion;
      /**
<span class="line-modified">!      * File format version that this class understands.</span>
<span class="line-modified">!      * No guarantees are made if a older version is used</span>
<span class="line-modified">!      * see store.c of gennorm for more information and values</span>
<span class="line-modified">!      */</span>
      ///* dataFormat=&quot;SPRP&quot; 0x53, 0x50, 0x52, 0x50  */
      private static final byte DATA_FORMAT_ID[] = {(byte)0x53, (byte)0x50,
                                                      (byte)0x52, (byte)0x50};
      private static final byte DATA_FORMAT_VERSION[] = {(byte)0x3, (byte)0x2,
                                                          (byte)0x5, (byte)0x2};
</pre>
<center><a href="ICUBinary.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Trie.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>