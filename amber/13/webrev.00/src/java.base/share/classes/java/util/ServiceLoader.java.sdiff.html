<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/share/classes/java/util/ServiceLoader.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="Scanner.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="SimpleTimeZone.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/util/ServiceLoader.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 2005, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 182  * advantage of developing a service provider in a module is that the provider
 183  * can be fully encapsulated to hide all details of its implementation.
 184  *
 185  * &lt;p&gt; An application that obtains a service loader for a given service is
 186  * indifferent to whether providers of the service are deployed in modules or
 187  * packaged as JAR files. The application instantiates service providers via
 188  * the service loader&#39;s iterator, or via {@link Provider Provider} objects in
 189  * the service loader&#39;s stream, without knowledge of the service providers&#39;
 190  * locations.
 191  *
 192  * &lt;h2&gt; Deploying service providers as modules &lt;/h2&gt;
 193  *
 194  * &lt;p&gt; A service provider that is developed in a module must be specified in a
 195  * &lt;i&gt;provides&lt;/i&gt; directive in the module declaration. The provides directive
 196  * specifies both the service and the service provider; this helps to locate the
 197  * provider when another module, with a &lt;i&gt;uses&lt;/i&gt; directive for the service,
 198  * obtains a service loader for the service. It is strongly recommended that the
 199  * module does not export the package containing the service provider. There is
 200  * no support for a module specifying, in a &lt;i&gt;provides&lt;/i&gt; directive, a service
 201  * provider in another module.
<span class="line-modified"> 202 </span>
 203  * &lt;p&gt; A service provider that is developed in a module has no control over when
 204  * it is instantiated, since that occurs at the behest of the application, but it
 205  * does have control over how it is instantiated:
 206  *
 207  * &lt;ul&gt;
 208  *
 209  *   &lt;li&gt; If the service provider declares a provider method, then the service
 210  *   loader invokes that method to obtain an instance of the service provider. A
 211  *   provider method is a public static method named &quot;provider&quot; with no formal
 212  *   parameters and a return type that is assignable to the service&#39;s interface
 213  *   or class.
 214  *   &lt;p&gt; In this case, the service provider itself need not be assignable to the
 215  *   service&#39;s interface or class. &lt;/li&gt;
 216  *
 217  *   &lt;li&gt; If the service provider does not declare a provider method, then the
 218  *   service provider is instantiated directly, via its provider constructor. A
 219  *   provider constructor is a public constructor with no formal parameters.
 220  *   &lt;p&gt; In this case, the service provider must be assignable to the service&#39;s
 221  *   interface or class &lt;/li&gt;
 222  *
</pre>
</td>
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 2005, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 182  * advantage of developing a service provider in a module is that the provider
 183  * can be fully encapsulated to hide all details of its implementation.
 184  *
 185  * &lt;p&gt; An application that obtains a service loader for a given service is
 186  * indifferent to whether providers of the service are deployed in modules or
 187  * packaged as JAR files. The application instantiates service providers via
 188  * the service loader&#39;s iterator, or via {@link Provider Provider} objects in
 189  * the service loader&#39;s stream, without knowledge of the service providers&#39;
 190  * locations.
 191  *
 192  * &lt;h2&gt; Deploying service providers as modules &lt;/h2&gt;
 193  *
 194  * &lt;p&gt; A service provider that is developed in a module must be specified in a
 195  * &lt;i&gt;provides&lt;/i&gt; directive in the module declaration. The provides directive
 196  * specifies both the service and the service provider; this helps to locate the
 197  * provider when another module, with a &lt;i&gt;uses&lt;/i&gt; directive for the service,
 198  * obtains a service loader for the service. It is strongly recommended that the
 199  * module does not export the package containing the service provider. There is
 200  * no support for a module specifying, in a &lt;i&gt;provides&lt;/i&gt; directive, a service
 201  * provider in another module.
<span class="line-modified"> 202  *</span>
 203  * &lt;p&gt; A service provider that is developed in a module has no control over when
 204  * it is instantiated, since that occurs at the behest of the application, but it
 205  * does have control over how it is instantiated:
 206  *
 207  * &lt;ul&gt;
 208  *
 209  *   &lt;li&gt; If the service provider declares a provider method, then the service
 210  *   loader invokes that method to obtain an instance of the service provider. A
 211  *   provider method is a public static method named &quot;provider&quot; with no formal
 212  *   parameters and a return type that is assignable to the service&#39;s interface
 213  *   or class.
 214  *   &lt;p&gt; In this case, the service provider itself need not be assignable to the
 215  *   service&#39;s interface or class. &lt;/li&gt;
 216  *
 217  *   &lt;li&gt; If the service provider does not declare a provider method, then the
 218  *   service provider is instantiated directly, via its provider constructor. A
 219  *   provider constructor is a public constructor with no formal parameters.
 220  *   &lt;p&gt; In this case, the service provider must be assignable to the service&#39;s
 221  *   interface or class &lt;/li&gt;
 222  *
</pre>
</td>
</tr>
</table>
<center><a href="Scanner.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="SimpleTimeZone.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>