<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/java.base/share/classes/java/net/URLConnection.java</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="URL.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="URLStreamHandler.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/share/classes/java/net/URLConnection.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 1995, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 1995, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 155,11 ***</span>
   * @see     java.net.URLConnection#setUseCaches(boolean)
   * @since   1.0
   */
  public abstract class URLConnection {
  
<span class="line-modified">!    /**</span>
       * The URL represents the remote object on the World Wide Web to
       * which this connection is opened.
       * &lt;p&gt;
       * The value of this field can be accessed by the
       * {@code getURL} method.
<span class="line-new-header">--- 155,11 ---</span>
   * @see     java.net.URLConnection#setUseCaches(boolean)
   * @since   1.0
   */
  public abstract class URLConnection {
  
<span class="line-modified">!     /**</span>
       * The URL represents the remote object on the World Wide Web to
       * which this connection is opened.
       * &lt;p&gt;
       * The value of this field can be accessed by the
       * {@code getURL} method.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 170,11 ***</span>
       * @see     java.net.URLConnection#getURL()
       * @see     java.net.URLConnection#url
       */
      protected URL url;
  
<span class="line-modified">!    /**</span>
       * This variable is set by the {@code setDoInput} method. Its
       * value is returned by the {@code getDoInput} method.
       * &lt;p&gt;
       * A URL connection can be used for input and/or output. Setting the
       * {@code doInput} flag to {@code true} indicates that
<span class="line-new-header">--- 170,11 ---</span>
       * @see     java.net.URLConnection#getURL()
       * @see     java.net.URLConnection#url
       */
      protected URL url;
  
<span class="line-modified">!     /**</span>
       * This variable is set by the {@code setDoInput} method. Its
       * value is returned by the {@code getDoInput} method.
       * &lt;p&gt;
       * A URL connection can be used for input and/or output. Setting the
       * {@code doInput} flag to {@code true} indicates that
</pre>
<hr />
<pre>
<span class="line-old-header">*** 185,11 ***</span>
       * @see     java.net.URLConnection#getDoInput()
       * @see     java.net.URLConnection#setDoInput(boolean)
       */
      protected boolean doInput = true;
  
<span class="line-modified">!    /**</span>
       * This variable is set by the {@code setDoOutput} method. Its
       * value is returned by the {@code getDoOutput} method.
       * &lt;p&gt;
       * A URL connection can be used for input and/or output. Setting the
       * {@code doOutput} flag to {@code true} indicates
<span class="line-new-header">--- 185,11 ---</span>
       * @see     java.net.URLConnection#getDoInput()
       * @see     java.net.URLConnection#setDoInput(boolean)
       */
      protected boolean doInput = true;
  
<span class="line-modified">!     /**</span>
       * This variable is set by the {@code setDoOutput} method. Its
       * value is returned by the {@code getDoOutput} method.
       * &lt;p&gt;
       * A URL connection can be used for input and/or output. Setting the
       * {@code doOutput} flag to {@code true} indicates
</pre>
<hr />
<pre>
<span class="line-old-header">*** 202,11 ***</span>
       */
      protected boolean doOutput = false;
  
      private static boolean defaultAllowUserInteraction = false;
  
<span class="line-modified">!    /**</span>
       * If {@code true}, this {@code URL} is being examined in
       * a context in which it makes sense to allow user interactions such
       * as popping up an authentication dialog. If {@code false},
       * then no user interaction is allowed.
       * &lt;p&gt;
<span class="line-new-header">--- 202,11 ---</span>
       */
      protected boolean doOutput = false;
  
      private static boolean defaultAllowUserInteraction = false;
  
<span class="line-modified">!     /**</span>
       * If {@code true}, this {@code URL} is being examined in
       * a context in which it makes sense to allow user interactions such
       * as popping up an authentication dialog. If {@code false},
       * then no user interaction is allowed.
       * &lt;p&gt;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 223,11 ***</span>
       */
      protected boolean allowUserInteraction = defaultAllowUserInteraction;
  
      private static volatile boolean defaultUseCaches = true;
  
<span class="line-modified">!    /**</span>
       * If {@code true}, the protocol is allowed to use caching
       * whenever it can. If {@code false}, the protocol must always
       * try to get a fresh copy of the object.
       * &lt;p&gt;
       * This field is set by the {@code setUseCaches} method. Its
<span class="line-new-header">--- 223,11 ---</span>
       */
      protected boolean allowUserInteraction = defaultAllowUserInteraction;
  
      private static volatile boolean defaultUseCaches = true;
  
<span class="line-modified">!     /**</span>
       * If {@code true}, the protocol is allowed to use caching
       * whenever it can. If {@code false}, the protocol must always
       * try to get a fresh copy of the object.
       * &lt;p&gt;
       * This field is set by the {@code setUseCaches} method. Its
</pre>
<hr />
<pre>
<span class="line-old-header">*** 246,11 ***</span>
      protected boolean useCaches;
  
      private static final ConcurrentHashMap&lt;String,Boolean&gt; defaultCaching =
          new ConcurrentHashMap&lt;&gt;();
  
<span class="line-modified">!    /**</span>
       * Some protocols support skipping the fetching of the object unless
       * the object has been modified more recently than a certain time.
       * &lt;p&gt;
       * A nonzero value gives a time as the number of milliseconds since
       * January 1, 1970, GMT. The object is fetched only if it has been
<span class="line-new-header">--- 246,11 ---</span>
      protected boolean useCaches;
  
      private static final ConcurrentHashMap&lt;String,Boolean&gt; defaultCaching =
          new ConcurrentHashMap&lt;&gt;();
  
<span class="line-modified">!     /**</span>
       * Some protocols support skipping the fetching of the object unless
       * the object has been modified more recently than a certain time.
       * &lt;p&gt;
       * A nonzero value gives a time as the number of milliseconds since
       * January 1, 1970, GMT. The object is fetched only if it has been
</pre>
<hr />
<pre>
<span class="line-old-header">*** 266,11 ***</span>
       * @see     java.net.URLConnection#getIfModifiedSince()
       * @see     java.net.URLConnection#setIfModifiedSince(long)
       */
      protected long ifModifiedSince = 0;
  
<span class="line-modified">!    /**</span>
       * If {@code false}, this connection object has not created a
       * communications link to the specified URL. If {@code true},
       * the communications link has been established.
       */
      protected boolean connected = false;
<span class="line-new-header">--- 266,11 ---</span>
       * @see     java.net.URLConnection#getIfModifiedSince()
       * @see     java.net.URLConnection#setIfModifiedSince(long)
       */
      protected long ifModifiedSince = 0;
  
<span class="line-modified">!     /**</span>
       * If {@code false}, this connection object has not created a
       * communications link to the specified URL. If {@code true},
       * the communications link has been established.
       */
      protected boolean connected = false;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 284,13 ***</span>
      /**
       * @since 1.6
       */
      private MessageHeader requests;
  
<span class="line-modified">!    /**</span>
<span class="line-modified">!     * @since   1.1</span>
<span class="line-modified">!     */</span>
      private static volatile FileNameMap fileNameMap;
  
      /**
       * Loads filename map (a mimetable) from a data file. It will
       * first try to load the user-specific table, defined
<span class="line-new-header">--- 284,13 ---</span>
      /**
       * @since 1.6
       */
      private MessageHeader requests;
  
<span class="line-modified">!     /**</span>
<span class="line-modified">!      * @since 1.1</span>
<span class="line-modified">!      */</span>
      private static volatile FileNameMap fileNameMap;
  
      /**
       * Loads filename map (a mimetable) from a data file. It will
       * first try to load the user-specific table, defined
</pre>
<hr />
<pre>
<span class="line-old-header">*** 370,11 ***</span>
       * when opening a communications link to the resource referenced
       * by this URLConnection.  If the timeout expires before the
       * connection can be established, a
       * java.net.SocketTimeoutException is raised. A timeout of zero is
       * interpreted as an infinite timeout.
<span class="line-modified">! </span>
       * &lt;p&gt; Some non-standard implementation of this method may ignore
       * the specified timeout. To see the connect timeout set, please
       * call getConnectTimeout().
       *
       * @param timeout an {@code int} that specifies the connect
<span class="line-new-header">--- 370,11 ---</span>
       * when opening a communications link to the resource referenced
       * by this URLConnection.  If the timeout expires before the
       * connection can be established, a
       * java.net.SocketTimeoutException is raised. A timeout of zero is
       * interpreted as an infinite timeout.
<span class="line-modified">!      *</span>
       * &lt;p&gt; Some non-standard implementation of this method may ignore
       * the specified timeout. To see the connect timeout set, please
       * call getConnectTimeout().
       *
       * @param timeout an {@code int} that specifies the connect
</pre>
<hr />
<pre>
<span class="line-old-header">*** 414,11 ***</span>
       * reading from Input stream when a connection is established to a
       * resource. If the timeout expires before there is data available
       * for read, a java.net.SocketTimeoutException is raised. A
       * timeout of zero is interpreted as an infinite timeout.
       *
<span class="line-modified">!      *&lt;p&gt; Some non-standard implementation of this method ignores the</span>
       * specified timeout. To see the read timeout set, please call
       * getReadTimeout().
       *
       * @param timeout an {@code int} that specifies the timeout
       * value to be used in milliseconds
<span class="line-new-header">--- 414,11 ---</span>
       * reading from Input stream when a connection is established to a
       * resource. If the timeout expires before there is data available
       * for read, a java.net.SocketTimeoutException is raised. A
       * timeout of zero is interpreted as an infinite timeout.
       *
<span class="line-modified">!      * &lt;p&gt; Some non-standard implementation of this method ignores the</span>
       * specified timeout. To see the read timeout set, please call
       * getReadTimeout().
       *
       * @param timeout an {@code int} that specifies the timeout
       * value to be used in milliseconds
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1030,11 ***</span>
       */
      public long getIfModifiedSince() {
          return ifModifiedSince;
      }
  
<span class="line-modified">!    /**</span>
       * Returns the default value of a {@code URLConnection}&#39;s
       * {@code useCaches} flag.
       * &lt;p&gt;
       * This default is &quot;sticky&quot;, being a part of the static state of all
       * URLConnections.  This flag applies to the next, and all following
<span class="line-new-header">--- 1030,11 ---</span>
       */
      public long getIfModifiedSince() {
          return ifModifiedSince;
      }
  
<span class="line-modified">!     /**</span>
       * Returns the default value of a {@code URLConnection}&#39;s
       * {@code useCaches} flag.
       * &lt;p&gt;
       * This default is &quot;sticky&quot;, being a part of the static state of all
       * URLConnections.  This flag applies to the next, and all following
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1047,11 ***</span>
       */
      public boolean getDefaultUseCaches() {
          return defaultUseCaches;
      }
  
<span class="line-modified">!    /**</span>
       * Sets the default value of the {@code useCaches} field to the
       * specified value. This default value can be over-ridden
       * per protocol using {@link #setDefaultUseCaches(String,boolean)}
       *
       * @param   defaultusecaches   the new value.
<span class="line-new-header">--- 1047,11 ---</span>
       */
      public boolean getDefaultUseCaches() {
          return defaultUseCaches;
      }
  
<span class="line-modified">!     /**</span>
       * Sets the default value of the {@code useCaches} field to the
       * specified value. This default value can be over-ridden
       * per protocol using {@link #setDefaultUseCaches(String,boolean)}
       *
       * @param   defaultusecaches   the new value.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1059,11 ***</span>
       */
      public void setDefaultUseCaches(boolean defaultusecaches) {
          defaultUseCaches = defaultusecaches;
      }
  
<span class="line-modified">!    /**</span>
       * Sets the default value of the {@code useCaches} field for the named
       * protocol to the given value. This value overrides any default setting
       * set by {@link #setDefaultUseCaches(boolean)} for the given protocol.
       * Successive calls to this method change the setting and affect the
       * default value for all future connections of that protocol. The protocol
<span class="line-new-header">--- 1059,11 ---</span>
       */
      public void setDefaultUseCaches(boolean defaultusecaches) {
          defaultUseCaches = defaultusecaches;
      }
  
<span class="line-modified">!     /**</span>
       * Sets the default value of the {@code useCaches} field for the named
       * protocol to the given value. This value overrides any default setting
       * set by {@link #setDefaultUseCaches(boolean)} for the given protocol.
       * Successive calls to this method change the setting and affect the
       * default value for all future connections of that protocol. The protocol
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1076,11 ***</span>
      public static void setDefaultUseCaches(String protocol, boolean defaultVal) {
          protocol = protocol.toLowerCase(Locale.US);
          defaultCaching.put(protocol, defaultVal);
      }
  
<span class="line-modified">!    /**</span>
       * Returns the default value of the {@code useCaches} flag for the given protocol. If
       * {@link #setDefaultUseCaches(String,boolean)} was called for the given protocol,
       * then that value is returned. Otherwise, if {@link #setDefaultUseCaches(boolean)}
       * was called, then that value is returned. If neither method was called,
       * the return value is {@code true}. The protocol name is case insensitive.
<span class="line-new-header">--- 1076,11 ---</span>
      public static void setDefaultUseCaches(String protocol, boolean defaultVal) {
          protocol = protocol.toLowerCase(Locale.US);
          defaultCaching.put(protocol, defaultVal);
      }
  
<span class="line-modified">!     /**</span>
       * Returns the default value of the {@code useCaches} flag for the given protocol. If
       * {@link #setDefaultUseCaches(String,boolean)} was called for the given protocol,
       * then that value is returned. Otherwise, if {@link #setDefaultUseCaches(boolean)}
       * was called, then that value is returned. If neither method was called,
       * the return value is {@code true}. The protocol name is case insensitive.
</pre>
<center><a href="URL.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="URLStreamHandler.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>