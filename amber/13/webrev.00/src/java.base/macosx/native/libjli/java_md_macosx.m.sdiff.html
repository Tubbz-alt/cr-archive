<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/java.base/macosx/native/libjli/java_md_macosx.m</title>
    <link rel="stylesheet" href="../../../../../style.css" />
  </head>
<body>
<center><a href="../../classes/java/net/DefaultInterface.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../share/classes/com/sun/crypto/provider/ChaCha20Poly1305Parameters.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/java.base/macosx/native/libjli/java_md_macosx.m</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
624                     JLI_MemFree(resolved);
625                 }
626             }
627         }
628     }
629     if (exec_path == NULL) {
630         exec_path = FindExecName(argv[0]);
631     }
632     execname = exec_path;
633     return exec_path;
634 }
635 
636 /*
637  * BSD&#39;s implementation of CounterGet()
638  */
639 int64_t
640 CounterGet()
641 {
642     struct timeval tv;
643     gettimeofday(&amp;tv, NULL);
<span class="line-modified">644     return (tv.tv_sec * 1000) + tv.tv_usec;</span>
645 }
646 
647 
648 /* --- Splash Screen shared library support --- */
649 
650 static JavaVM* SetJavaVMValue()
651 {
652     JavaVM * jvm = NULL;
653 
654     // The handle is good for both the launcher and the libosxapp.dylib
655     void * handle = dlopen(NULL, RTLD_LAZY | RTLD_GLOBAL);
656     if (handle) {
657         typedef JavaVM* (*JLI_GetJavaVMInstance_t)();
658 
659         JLI_GetJavaVMInstance_t JLI_GetJavaVMInstance =
660             (JLI_GetJavaVMInstance_t)dlsym(handle,
661                     &quot;JLI_GetJavaVMInstance&quot;);
662         if (JLI_GetJavaVMInstance) {
663             jvm = JLI_GetJavaVMInstance();
664         }
</pre>
</td>
<td>
<hr />
<pre>
624                     JLI_MemFree(resolved);
625                 }
626             }
627         }
628     }
629     if (exec_path == NULL) {
630         exec_path = FindExecName(argv[0]);
631     }
632     execname = exec_path;
633     return exec_path;
634 }
635 
636 /*
637  * BSD&#39;s implementation of CounterGet()
638  */
639 int64_t
640 CounterGet()
641 {
642     struct timeval tv;
643     gettimeofday(&amp;tv, NULL);
<span class="line-modified">644     return (tv.tv_sec * 1000000) + tv.tv_usec;</span>
645 }
646 
647 
648 /* --- Splash Screen shared library support --- */
649 
650 static JavaVM* SetJavaVMValue()
651 {
652     JavaVM * jvm = NULL;
653 
654     // The handle is good for both the launcher and the libosxapp.dylib
655     void * handle = dlopen(NULL, RTLD_LAZY | RTLD_GLOBAL);
656     if (handle) {
657         typedef JavaVM* (*JLI_GetJavaVMInstance_t)();
658 
659         JLI_GetJavaVMInstance_t JLI_GetJavaVMInstance =
660             (JLI_GetJavaVMInstance_t)dlsym(handle,
661                     &quot;JLI_GetJavaVMInstance&quot;);
662         if (JLI_GetJavaVMInstance) {
663             jvm = JLI_GetJavaVMInstance();
664         }
</pre>
</td>
</tr>
</table>
<center><a href="../../classes/java/net/DefaultInterface.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../index.html" target="_top">index</a> <a href="../../../share/classes/com/sun/crypto/provider/ChaCha20Poly1305Parameters.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>