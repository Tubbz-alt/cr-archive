diff a/src/jdk.internal.le/share/classes/jdk/internal/org/jline/utils/NonBlockingReaderImpl.java b/src/jdk.internal.le/share/classes/jdk/internal/org/jline/utils/NonBlockingReaderImpl.java
--- a/src/jdk.internal.le/share/classes/jdk/internal/org/jline/utils/NonBlockingReaderImpl.java
+++ b/src/jdk.internal.le/share/classes/jdk/internal/org/jline/utils/NonBlockingReaderImpl.java
@@ -88,10 +88,38 @@
     @Override
     public synchronized boolean ready() throws IOException {
         return ch >= 0 || in.ready();
     }
 
+    @Override
+    public int readBuffered(char[] b) throws IOException {
+        if (b == null) {
+            throw new NullPointerException();
+        } else if (b.length == 0) {
+            return 0;
+        } else if (exception != null) {
+            assert ch == READ_EXPIRED;
+            IOException toBeThrown = exception;
+            exception = null;
+            throw toBeThrown;
+        } else if (ch >= -1) {
+            b[0] = (char) ch;
+            ch = READ_EXPIRED;
+            return 1;
+        } else if (!threadIsReading) {
+            return in.read(b);
+        } else {
+            int c = read(-1, false);
+            if (c >= 0) {
+                b[0] = (char) c;
+                return 1;
+            } else {
+                return -1;
+            }
+        }
+    }
+
     /**
      * Attempts to read a character from the input stream for a specific
      * period of time.
      * @param timeout The amount of time to wait for the character
      * @return The character read, -1 if EOF is reached, or -2 if the
