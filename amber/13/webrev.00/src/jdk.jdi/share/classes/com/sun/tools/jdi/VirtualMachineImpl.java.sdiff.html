<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.jdi/share/classes/com/sun/tools/jdi/VirtualMachineImpl.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ClassLoaderReferenceImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../native/libdt_shmem/shmemBase.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.jdi/share/classes/com/sun/tools/jdi/VirtualMachineImpl.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 1998, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 300          * }
 301          */
 302     }
 303 
 304     public boolean equals(Object obj) {
 305         return this == obj;
 306     }
 307 
 308     public int hashCode() {
 309         return System.identityHashCode(this);
 310     }
 311 
 312     public List&lt;ModuleReference&gt; allModules() {
 313         validateVM();
 314         List&lt;ModuleReference&gt; modules = retrieveAllModules();
 315         return Collections.unmodifiableList(modules);
 316     }
 317 
 318     public List&lt;ReferenceType&gt; classesByName(String className) {
 319         validateVM();
<span class="line-modified"> 320         String signature = JNITypeParser.typeNameToSignature(className);</span>




 321         List&lt;ReferenceType&gt; list;
 322         if (retrievedAllTypes) {
<span class="line-modified"> 323            list = findReferenceTypes(signature);</span>
 324         } else {
<span class="line-modified"> 325            list = retrieveClassesBySignature(signature);</span>
 326         }
 327         return Collections.unmodifiableList(list);
 328     }
 329 
 330     public List&lt;ReferenceType&gt; allClasses() {
 331         validateVM();
 332 
 333         if (!retrievedAllTypes) {
 334             retrieveAllClasses();
 335         }
 336         ArrayList&lt;ReferenceType&gt; a;
 337         synchronized (this) {
 338             a = new ArrayList&lt;&gt;(typesBySignature);
 339         }
 340         return Collections.unmodifiableList(a);
 341     }
 342 
 343     /**
 344      * Performs an action for each loaded type.
 345      */
</pre>
</td>
<td>
<hr />
<pre>
   1 /*
<span class="line-modified">   2  * Copyright (c) 1998, 2020, Oracle and/or its affiliates. All rights reserved.</span>
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.  Oracle designates this
   8  * particular file as subject to the &quot;Classpath&quot; exception as provided
   9  * by Oracle in the LICENSE file that accompanied this code.
  10  *
  11  * This code is distributed in the hope that it will be useful, but WITHOUT
  12  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  13  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  14  * version 2 for more details (a copy is included in the LICENSE file that
  15  * accompanied this code).
  16  *
  17  * You should have received a copy of the GNU General Public License version
  18  * 2 along with this work; if not, write to the Free Software Foundation,
  19  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  20  *
  21  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  22  * or visit www.oracle.com if you need additional information or have any
</pre>
<hr />
<pre>
 300          * }
 301          */
 302     }
 303 
 304     public boolean equals(Object obj) {
 305         return this == obj;
 306     }
 307 
 308     public int hashCode() {
 309         return System.identityHashCode(this);
 310     }
 311 
 312     public List&lt;ModuleReference&gt; allModules() {
 313         validateVM();
 314         List&lt;ModuleReference&gt; modules = retrieveAllModules();
 315         return Collections.unmodifiableList(modules);
 316     }
 317 
 318     public List&lt;ReferenceType&gt; classesByName(String className) {
 319         validateVM();
<span class="line-modified"> 320         return classesBySignature(JNITypeParser.typeNameToSignature(className));</span>
<span class="line-added"> 321     }</span>
<span class="line-added"> 322 </span>
<span class="line-added"> 323     List&lt;ReferenceType&gt; classesBySignature(String signature) {</span>
<span class="line-added"> 324         validateVM();</span>
 325         List&lt;ReferenceType&gt; list;
 326         if (retrievedAllTypes) {
<span class="line-modified"> 327             list = findReferenceTypes(signature);</span>
 328         } else {
<span class="line-modified"> 329             list = retrieveClassesBySignature(signature);</span>
 330         }
 331         return Collections.unmodifiableList(list);
 332     }
 333 
 334     public List&lt;ReferenceType&gt; allClasses() {
 335         validateVM();
 336 
 337         if (!retrievedAllTypes) {
 338             retrieveAllClasses();
 339         }
 340         ArrayList&lt;ReferenceType&gt; a;
 341         synchronized (this) {
 342             a = new ArrayList&lt;&gt;(typesBySignature);
 343         }
 344         return Collections.unmodifiableList(a);
 345     }
 346 
 347     /**
 348      * Performs an action for each loaded type.
 349      */
</pre>
</td>
</tr>
</table>
<center><a href="ClassLoaderReferenceImpl.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../native/libdt_shmem/shmemBase.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>