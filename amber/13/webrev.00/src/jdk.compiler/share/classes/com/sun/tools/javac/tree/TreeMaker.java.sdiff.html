<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src/jdk.compiler/share/classes/com/sun/tools/javac/tree/TreeMaker.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="TreeCopier.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="TreeScanner.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.compiler/share/classes/com/sun/tools/javac/tree/TreeMaker.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  24  */
  25 
  26 package com.sun.tools.javac.tree;
  27 
  28 import java.util.Iterator;
  29 
  30 import com.sun.source.tree.CaseTree;
  31 import com.sun.source.tree.ModuleTree.ModuleKind;
  32 import com.sun.tools.javac.code.*;
  33 import com.sun.tools.javac.code.Attribute.UnresolvedClass;
  34 import com.sun.tools.javac.code.Symbol.*;
  35 import com.sun.tools.javac.code.Type.*;
  36 import com.sun.tools.javac.util.*;
  37 import com.sun.tools.javac.util.JCDiagnostic.DiagnosticPosition;
  38 
  39 import com.sun.tools.javac.tree.JCTree.*;
  40 
  41 import static com.sun.tools.javac.code.Flags.*;
  42 import static com.sun.tools.javac.code.Kinds.Kind.*;
  43 import static com.sun.tools.javac.code.TypeTag.*;
<span class="line-removed">  44 import com.sun.tools.javac.tree.JCTree.JCExpression;</span>
<span class="line-removed">  45 import com.sun.tools.javac.tree.JCTree.JCPattern;</span>
<span class="line-removed">  46 import com.sun.tools.javac.util.List;</span>
<span class="line-removed">  47 import com.sun.tools.javac.util.Name;</span>
  48 
  49 /** Factory class for trees.
  50  *
  51  *  &lt;p&gt;&lt;b&gt;This is NOT part of any supported API.
  52  *  If you write code that depends on this, you do so at your own risk.
  53  *  This code and its internal interfaces are subject to change or
  54  *  deletion without notice.&lt;/b&gt;
  55  */
  56 public class TreeMaker implements JCTree.Factory {
  57 
  58     /** The context key for the tree factory. */
  59     protected static final Context.Key&lt;TreeMaker&gt; treeMakerKey = new Context.Key&lt;&gt;();
  60 
  61     /** Get the TreeMaker instance. */
  62     public static TreeMaker instance(Context context) {
  63         TreeMaker instance = context.get(treeMakerKey);
  64         if (instance == null)
  65             instance = new TreeMaker(context);
  66         return instance;
  67     }
</pre>
<hr />
<pre>
 457     }
 458 
 459     public JCTypeCast TypeCast(JCTree clazz, JCExpression expr) {
 460         JCTypeCast tree = new JCTypeCast(clazz, expr);
 461         tree.pos = pos;
 462         return tree;
 463     }
 464 
 465     public JCInstanceOf TypeTest(JCExpression expr, JCTree clazz) {
 466         JCInstanceOf tree = new JCInstanceOf(expr, clazz);
 467         tree.pos = pos;
 468         return tree;
 469     }
 470 
 471     public JCBindingPattern BindingPattern(Name name, JCTree vartype) {
 472         JCBindingPattern tree = new JCBindingPattern(name, null, vartype);
 473         tree.pos = pos;
 474         return tree;
 475     }
 476 
<span class="line-modified"> 477     public JCDeconstructionPattern DeconstructionPattern(Name name, JCExpression deconstructor, List&lt;JCPattern&gt; nested) {</span>
<span class="line-modified"> 478         JCDeconstructionPattern tree = new JCDeconstructionPattern(name, deconstructor, nested);</span>
 479         tree.pos = pos;
 480         return tree;
 481     }
 482 
 483     public JCArrayAccess Indexed(JCExpression indexed, JCExpression index) {
 484         JCArrayAccess tree = new JCArrayAccess(indexed, index);
 485         tree.pos = pos;
 486         return tree;
 487     }
 488 
 489     public JCFieldAccess Select(JCExpression selected, Name selector) {
 490         JCFieldAccess tree = new JCFieldAccess(selected, selector, null);
 491         tree.pos = pos;
 492         return tree;
 493     }
 494 
 495     public JCMemberReference Reference(JCMemberReference.ReferenceMode mode, Name name,
 496             JCExpression expr, List&lt;JCExpression&gt; typeargs) {
 497         JCMemberReference tree = new JCMemberReference(mode, name, expr, typeargs);
 498         tree.pos = pos;
</pre>
<hr />
<pre>
 628         tree.pos = pos;
 629         return tree;
 630     }
 631 
 632     public JCAnnotatedType AnnotatedType(List&lt;JCAnnotation&gt; annotations, JCExpression underlyingType) {
 633         JCAnnotatedType tree = new JCAnnotatedType(annotations, underlyingType);
 634         tree.pos = pos;
 635         return tree;
 636     }
 637 
 638     public JCErroneous Erroneous() {
 639         return Erroneous(List.nil());
 640     }
 641 
 642     public JCErroneous Erroneous(List&lt;? extends JCTree&gt; errs) {
 643         JCErroneous tree = new JCErroneous(errs);
 644         tree.pos = pos;
 645         return tree;
 646     }
 647 
<span class="line-modified"> 648     public LetExpr LetExpr(List&lt;? extends JCStatement&gt; defs, JCExpression expr) {</span>
 649         LetExpr tree = new LetExpr(defs, expr);
 650         tree.pos = pos;
 651         return tree;
 652     }
 653 
 654 /* ***************************************************************************
 655  * Derived building blocks.
 656  ****************************************************************************/
 657 
 658     public JCClassDecl AnonymousClassDef(JCModifiers mods,
 659                                          List&lt;JCTree&gt; defs)
 660     {
 661         return ClassDef(mods,
 662                         names.empty,
 663                         List.nil(),
 664                         null,
 665                         List.nil(),
 666                         defs);
 667     }
 668 
</pre>
</td>
<td>
<hr />
<pre>
  24  */
  25 
  26 package com.sun.tools.javac.tree;
  27 
  28 import java.util.Iterator;
  29 
  30 import com.sun.source.tree.CaseTree;
  31 import com.sun.source.tree.ModuleTree.ModuleKind;
  32 import com.sun.tools.javac.code.*;
  33 import com.sun.tools.javac.code.Attribute.UnresolvedClass;
  34 import com.sun.tools.javac.code.Symbol.*;
  35 import com.sun.tools.javac.code.Type.*;
  36 import com.sun.tools.javac.util.*;
  37 import com.sun.tools.javac.util.JCDiagnostic.DiagnosticPosition;
  38 
  39 import com.sun.tools.javac.tree.JCTree.*;
  40 
  41 import static com.sun.tools.javac.code.Flags.*;
  42 import static com.sun.tools.javac.code.Kinds.Kind.*;
  43 import static com.sun.tools.javac.code.TypeTag.*;




  44 
  45 /** Factory class for trees.
  46  *
  47  *  &lt;p&gt;&lt;b&gt;This is NOT part of any supported API.
  48  *  If you write code that depends on this, you do so at your own risk.
  49  *  This code and its internal interfaces are subject to change or
  50  *  deletion without notice.&lt;/b&gt;
  51  */
  52 public class TreeMaker implements JCTree.Factory {
  53 
  54     /** The context key for the tree factory. */
  55     protected static final Context.Key&lt;TreeMaker&gt; treeMakerKey = new Context.Key&lt;&gt;();
  56 
  57     /** Get the TreeMaker instance. */
  58     public static TreeMaker instance(Context context) {
  59         TreeMaker instance = context.get(treeMakerKey);
  60         if (instance == null)
  61             instance = new TreeMaker(context);
  62         return instance;
  63     }
</pre>
<hr />
<pre>
 453     }
 454 
 455     public JCTypeCast TypeCast(JCTree clazz, JCExpression expr) {
 456         JCTypeCast tree = new JCTypeCast(clazz, expr);
 457         tree.pos = pos;
 458         return tree;
 459     }
 460 
 461     public JCInstanceOf TypeTest(JCExpression expr, JCTree clazz) {
 462         JCInstanceOf tree = new JCInstanceOf(expr, clazz);
 463         tree.pos = pos;
 464         return tree;
 465     }
 466 
 467     public JCBindingPattern BindingPattern(Name name, JCTree vartype) {
 468         JCBindingPattern tree = new JCBindingPattern(name, null, vartype);
 469         tree.pos = pos;
 470         return tree;
 471     }
 472 
<span class="line-modified"> 473     public JCDeconstructionPattern DeconstructionPattern(JCExpression deconstructor, List&lt;JCPattern&gt; nested) {</span>
<span class="line-modified"> 474         JCDeconstructionPattern tree = new JCDeconstructionPattern(deconstructor, nested);</span>
 475         tree.pos = pos;
 476         return tree;
 477     }
 478 
 479     public JCArrayAccess Indexed(JCExpression indexed, JCExpression index) {
 480         JCArrayAccess tree = new JCArrayAccess(indexed, index);
 481         tree.pos = pos;
 482         return tree;
 483     }
 484 
 485     public JCFieldAccess Select(JCExpression selected, Name selector) {
 486         JCFieldAccess tree = new JCFieldAccess(selected, selector, null);
 487         tree.pos = pos;
 488         return tree;
 489     }
 490 
 491     public JCMemberReference Reference(JCMemberReference.ReferenceMode mode, Name name,
 492             JCExpression expr, List&lt;JCExpression&gt; typeargs) {
 493         JCMemberReference tree = new JCMemberReference(mode, name, expr, typeargs);
 494         tree.pos = pos;
</pre>
<hr />
<pre>
 624         tree.pos = pos;
 625         return tree;
 626     }
 627 
 628     public JCAnnotatedType AnnotatedType(List&lt;JCAnnotation&gt; annotations, JCExpression underlyingType) {
 629         JCAnnotatedType tree = new JCAnnotatedType(annotations, underlyingType);
 630         tree.pos = pos;
 631         return tree;
 632     }
 633 
 634     public JCErroneous Erroneous() {
 635         return Erroneous(List.nil());
 636     }
 637 
 638     public JCErroneous Erroneous(List&lt;? extends JCTree&gt; errs) {
 639         JCErroneous tree = new JCErroneous(errs);
 640         tree.pos = pos;
 641         return tree;
 642     }
 643 
<span class="line-modified"> 644     public LetExpr LetExpr(List&lt;JCStatement&gt; defs, JCExpression expr) {</span>
 645         LetExpr tree = new LetExpr(defs, expr);
 646         tree.pos = pos;
 647         return tree;
 648     }
 649 
 650 /* ***************************************************************************
 651  * Derived building blocks.
 652  ****************************************************************************/
 653 
 654     public JCClassDecl AnonymousClassDef(JCModifiers mods,
 655                                          List&lt;JCTree&gt; defs)
 656     {
 657         return ClassDef(mods,
 658                         names.empty,
 659                         List.nil(),
 660                         null,
 661                         List.nil(),
 662                         defs);
 663     }
 664 
</pre>
</td>
</tr>
</table>
<center><a href="TreeCopier.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="TreeScanner.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>