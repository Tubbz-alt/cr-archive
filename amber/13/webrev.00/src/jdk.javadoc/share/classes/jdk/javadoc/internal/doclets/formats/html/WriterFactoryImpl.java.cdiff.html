<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/WriterFactoryImpl.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="TreeWriter.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="markup/BodyContents.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>src/jdk.javadoc/share/classes/jdk/javadoc/internal/doclets/formats/html/WriterFactoryImpl.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 29,14 ***</span>
  import javax.lang.model.element.Element;
  import javax.lang.model.element.ModuleElement;
  import javax.lang.model.element.PackageElement;
  import javax.lang.model.element.TypeElement;
  
<span class="line-removed">- import jdk.javadoc.internal.doclets.toolkit.AnnotationTypeFieldWriter;</span>
  import jdk.javadoc.internal.doclets.toolkit.AnnotationTypeOptionalMemberWriter;
  import jdk.javadoc.internal.doclets.toolkit.AnnotationTypeRequiredMemberWriter;
<span class="line-removed">- import jdk.javadoc.internal.doclets.toolkit.AnnotationTypeWriter;</span>
  import jdk.javadoc.internal.doclets.toolkit.ClassWriter;
  import jdk.javadoc.internal.doclets.toolkit.ConstantsSummaryWriter;
  import jdk.javadoc.internal.doclets.toolkit.DocFilesHandler;
  import jdk.javadoc.internal.doclets.toolkit.MemberSummaryWriter;
  import jdk.javadoc.internal.doclets.toolkit.ModuleSummaryWriter;
<span class="line-new-header">--- 29,12 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 79,64 ***</span>
      @Override
      public ClassWriter getClassWriter(TypeElement typeElement, ClassTree classTree) {
          return new ClassWriterImpl(configuration, typeElement, classTree);
      }
  
<span class="line-removed">-     @Override</span>
<span class="line-removed">-     public AnnotationTypeWriter getAnnotationTypeWriter(TypeElement annotationType) {</span>
<span class="line-removed">-         return new AnnotationTypeWriterImpl(configuration, annotationType);</span>
<span class="line-removed">-     }</span>
<span class="line-removed">- </span>
<span class="line-removed">-     @Override</span>
<span class="line-removed">-     public AnnotationTypeFieldWriter getAnnotationTypeFieldWriter(</span>
<span class="line-removed">-             AnnotationTypeWriter annotationTypeWriter) {</span>
<span class="line-removed">-         TypeElement te = annotationTypeWriter.getAnnotationTypeElement();</span>
<span class="line-removed">-         return new AnnotationTypeFieldWriterImpl(</span>
<span class="line-removed">-             (SubWriterHolderWriter) annotationTypeWriter, te);</span>
<span class="line-removed">-     }</span>
<span class="line-removed">- </span>
      @Override
      public AnnotationTypeOptionalMemberWriter getAnnotationTypeOptionalMemberWriter(
<span class="line-modified">!         AnnotationTypeWriter annotationTypeWriter) {</span>
<span class="line-modified">!         TypeElement te = annotationTypeWriter.getAnnotationTypeElement();</span>
          return new AnnotationTypeOptionalMemberWriterImpl(
<span class="line-modified">!             (SubWriterHolderWriter) annotationTypeWriter, te);</span>
      }
  
      @Override
      public AnnotationTypeRequiredMemberWriter getAnnotationTypeRequiredMemberWriter(
<span class="line-modified">!             AnnotationTypeWriter annotationTypeWriter) {</span>
<span class="line-modified">!         TypeElement te = annotationTypeWriter.getAnnotationTypeElement();</span>
          return new AnnotationTypeRequiredMemberWriterImpl(
<span class="line-modified">!             (SubWriterHolderWriter) annotationTypeWriter, te);</span>
      }
  
      @Override
      public EnumConstantWriterImpl getEnumConstantWriter(ClassWriter classWriter) {
<span class="line-modified">!         return new EnumConstantWriterImpl((SubWriterHolderWriter) classWriter,</span>
                  classWriter.getTypeElement());
      }
  
      @Override
      public FieldWriterImpl getFieldWriter(ClassWriter classWriter) {
<span class="line-modified">!         return new FieldWriterImpl((SubWriterHolderWriter) classWriter, classWriter.getTypeElement());</span>
      }
  
      @Override
      public PropertyWriterImpl getPropertyWriter(ClassWriter classWriter) {
<span class="line-modified">!         return new PropertyWriterImpl((SubWriterHolderWriter) classWriter,</span>
                  classWriter.getTypeElement());
      }
  
      @Override
      public MethodWriterImpl getMethodWriter(ClassWriter classWriter) {
<span class="line-modified">!         return new MethodWriterImpl((SubWriterHolderWriter) classWriter, classWriter.getTypeElement());</span>
      }
  
      @Override
      public ConstructorWriterImpl getConstructorWriter(ClassWriter classWriter) {
<span class="line-modified">!         return new ConstructorWriterImpl((SubWriterHolderWriter) classWriter,</span>
                  classWriter.getTypeElement());
      }
  
      @Override
      public MemberSummaryWriter getMemberSummaryWriter(ClassWriter classWriter,
<span class="line-new-header">--- 77,51 ---</span>
      @Override
      public ClassWriter getClassWriter(TypeElement typeElement, ClassTree classTree) {
          return new ClassWriterImpl(configuration, typeElement, classTree);
      }
  
      @Override
      public AnnotationTypeOptionalMemberWriter getAnnotationTypeOptionalMemberWriter(
<span class="line-modified">!             ClassWriter classWriter) {</span>
<span class="line-modified">!         TypeElement te = classWriter.getTypeElement();</span>
          return new AnnotationTypeOptionalMemberWriterImpl(
<span class="line-modified">!                 (ClassWriterImpl) classWriter, te);</span>
      }
  
      @Override
      public AnnotationTypeRequiredMemberWriter getAnnotationTypeRequiredMemberWriter(
<span class="line-modified">!             ClassWriter classWriter) {</span>
<span class="line-modified">!         TypeElement te = classWriter.getTypeElement();</span>
          return new AnnotationTypeRequiredMemberWriterImpl(
<span class="line-modified">!             (ClassWriterImpl) classWriter, te);</span>
      }
  
      @Override
      public EnumConstantWriterImpl getEnumConstantWriter(ClassWriter classWriter) {
<span class="line-modified">!         return new EnumConstantWriterImpl((ClassWriterImpl) classWriter,</span>
                  classWriter.getTypeElement());
      }
  
      @Override
      public FieldWriterImpl getFieldWriter(ClassWriter classWriter) {
<span class="line-modified">!         return new FieldWriterImpl((ClassWriterImpl) classWriter, classWriter.getTypeElement());</span>
      }
  
      @Override
      public PropertyWriterImpl getPropertyWriter(ClassWriter classWriter) {
<span class="line-modified">!         return new PropertyWriterImpl((ClassWriterImpl) classWriter,</span>
                  classWriter.getTypeElement());
      }
  
      @Override
      public MethodWriterImpl getMethodWriter(ClassWriter classWriter) {
<span class="line-modified">!         return new MethodWriterImpl((ClassWriterImpl) classWriter, classWriter.getTypeElement());</span>
      }
  
      @Override
      public ConstructorWriterImpl getConstructorWriter(ClassWriter classWriter) {
<span class="line-modified">!         return new ConstructorWriterImpl((ClassWriterImpl) classWriter,</span>
                  classWriter.getTypeElement());
      }
  
      @Override
      public MemberSummaryWriter getMemberSummaryWriter(ClassWriter classWriter,
</pre>
<hr />
<pre>
<span class="line-old-header">*** 144,10 ***</span>
<span class="line-new-header">--- 129,16 ---</span>
          switch (memberType) {
              case CONSTRUCTORS:
                  return getConstructorWriter(classWriter);
              case ENUM_CONSTANTS:
                  return getEnumConstantWriter(classWriter);
<span class="line-added">+             case ANNOTATION_TYPE_MEMBER_OPTIONAL:</span>
<span class="line-added">+                 return (AnnotationTypeOptionalMemberWriterImpl)</span>
<span class="line-added">+                         getAnnotationTypeOptionalMemberWriter(classWriter);</span>
<span class="line-added">+             case ANNOTATION_TYPE_MEMBER_REQUIRED:</span>
<span class="line-added">+                 return (AnnotationTypeRequiredMemberWriterImpl)</span>
<span class="line-added">+                         getAnnotationTypeRequiredMemberWriter(classWriter);</span>
              case FIELDS:
                  return getFieldWriter(classWriter);
              case PROPERTIES:
                  return getPropertyWriter(classWriter);
              case INNER_CLASSES:
</pre>
<hr />
<pre>
<span class="line-old-header">*** 158,28 ***</span>
              default:
                  return null;
          }
      }
  
<span class="line-removed">-     @Override</span>
<span class="line-removed">-     public MemberSummaryWriter getMemberSummaryWriter(AnnotationTypeWriter annotationTypeWriter,</span>
<span class="line-removed">-             VisibleMemberTable.Kind memberType) {</span>
<span class="line-removed">-         switch (memberType) {</span>
<span class="line-removed">-             case ANNOTATION_TYPE_FIELDS:</span>
<span class="line-removed">-                 return (AnnotationTypeFieldWriterImpl)</span>
<span class="line-removed">-                     getAnnotationTypeFieldWriter(annotationTypeWriter);</span>
<span class="line-removed">-             case ANNOTATION_TYPE_MEMBER_OPTIONAL:</span>
<span class="line-removed">-                 return (AnnotationTypeOptionalMemberWriterImpl)</span>
<span class="line-removed">-                     getAnnotationTypeOptionalMemberWriter(annotationTypeWriter);</span>
<span class="line-removed">-             case ANNOTATION_TYPE_MEMBER_REQUIRED:</span>
<span class="line-removed">-                 return (AnnotationTypeRequiredMemberWriterImpl)</span>
<span class="line-removed">-                     getAnnotationTypeRequiredMemberWriter(annotationTypeWriter);</span>
<span class="line-removed">-             default:</span>
<span class="line-removed">-                 return null;</span>
<span class="line-removed">-         }</span>
<span class="line-removed">-     }</span>
<span class="line-removed">- </span>
      @Override
      public SerializedFormWriter getSerializedFormWriter() {
          return new SerializedFormWriterImpl(configuration);
      }
  
<span class="line-new-header">--- 149,10 ---</span>
</pre>
<center><a href="TreeWriter.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="markup/BodyContents.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>