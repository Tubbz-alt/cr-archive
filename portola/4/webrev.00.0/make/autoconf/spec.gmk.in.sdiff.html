<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff make/autoconf/spec.gmk.in</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../index.html" target="_top">index</a> <a href="../conf/jib-profiles.js.sdiff.html" target="_top">next &gt;</a></center>    <h2>make/autoconf/spec.gmk.in</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
108 OPENJDK_BUILD_OS:=@OPENJDK_BUILD_OS@
109 OPENJDK_BUILD_OS_TYPE:=@OPENJDK_BUILD_OS_TYPE@
110 OPENJDK_BUILD_OS_ENV:=@OPENJDK_BUILD_OS_ENV@
111 
112 OPENJDK_BUILD_CPU:=@OPENJDK_BUILD_CPU@
113 OPENJDK_BUILD_CPU_ARCH:=@OPENJDK_BUILD_CPU_ARCH@
114 OPENJDK_BUILD_CPU_BITS:=@OPENJDK_BUILD_CPU_BITS@
115 OPENJDK_BUILD_CPU_ENDIAN:=@OPENJDK_BUILD_CPU_ENDIAN@
116 
117 OPENJDK_BUILD_LIBC:=@OPENJDK_BUILD_LIBC@
118 
119 OPENJDK_BUILD_OS_INCLUDE_SUBDIR:=@OPENJDK_TARGET_OS_INCLUDE_SUBDIR@
120 
121 # Target platform value in ModuleTarget class file attribute.
122 OPENJDK_MODULE_TARGET_PLATFORM:=@OPENJDK_MODULE_TARGET_PLATFORM@
123 
124 # OS_* properties in release file
125 RELEASE_FILE_OS_NAME:=@RELEASE_FILE_OS_NAME@
126 RELEASE_FILE_OS_ARCH:=@RELEASE_FILE_OS_ARCH@
127 



128 LIBM:=@LIBM@
129 LIBDL:=@LIBDL@
130 
131 # colon or semicolon
132 PATH_SEP:=@PATH_SEP@
133 
134 # Save the original path before replacing it with the Visual Studio tools
135 ORIGINAL_PATH:=@ORIGINAL_PATH@
136 ifeq ($(OPENJDK_TARGET_OS), windows)
137   # On Windows, the Visual Studio toolchain needs the PATH to be adjusted
138   # to include Visual Studio tools (this needs to be in cygwin/msys style).
139   ifeq ($(OPENJDK_TARGET_OS_ENV), windows.wsl)
140     export FIXPATH_PATH:=@VS_PATH_WINDOWS@
141     export WSLENV:=$(WSLENV):FIXPATH_PATH:DEBUG_FIXPATH
142   else
143     export PATH:=@VS_PATH@
144   endif
145 endif
146 
147 SYSROOT_CFLAGS := @SYSROOT_CFLAGS@
</pre>
<hr />
<pre>
344 
345 BUILD_CDS_ARCHIVE := @BUILD_CDS_ARCHIVE@
346 
347 ALLOW_ABSOLUTE_PATHS_IN_OUTPUT := @ALLOW_ABSOLUTE_PATHS_IN_OUTPUT@
348 
349 # The boot jdk to use. This is overridden in bootcycle-spec.gmk. Make sure to keep
350 # it in sync.
351 BOOT_JDK:=@BOOT_JDK@
352 
353 BUILD_JDK:=@BUILD_JDK@
354 CREATE_BUILDJDK:=@CREATE_BUILDJDK@
355 EXTERNAL_BUILDJDK:=@EXTERNAL_BUILDJDK@
356 
357 # When compiling Java source to be run by the boot jdk
358 # use these extra flags, eg -source 6 -target 6
359 BOOT_JDK_SOURCETARGET:=@BOOT_JDK_SOURCETARGET@
360 
361 # Information about the build system
362 NUM_CORES:=@NUM_CORES@
363 MEMORY_SIZE:=@MEMORY_SIZE@
<span class="line-modified">364 # Enable sjavac support = use a javac server,</span>
<span class="line-modified">365 # multi core javac compilation and dependency tracking.</span>
<span class="line-modified">366 ENABLE_SJAVAC:=@ENABLE_SJAVAC@</span>
<span class="line-removed">367 ENABLE_JAVAC_SERVER:=@ENABLE_JAVAC_SERVER@</span>
<span class="line-removed">368 # Store sjavac server synchronization files here, and</span>
<span class="line-removed">369 # the sjavac server log files.</span>
370 SJAVAC_SERVER_DIR=$(MAKESUPPORT_OUTPUTDIR)/javacservers
371 
372 # Number of parallel jobs to use for compilation
373 JOBS?=@JOBS@
374 TEST_JOBS?=@TEST_JOBS@
375 
376 # Default make target
377 DEFAULT_MAKE_TARGET:=@DEFAULT_MAKE_TARGET@
378 DEFAULT_LOG:=@DEFAULT_LOG@
379 
380 FREETYPE_TO_USE:=@FREETYPE_TO_USE@
381 FREETYPE_LIBS:=@FREETYPE_LIBS@
382 FREETYPE_CFLAGS:=@FREETYPE_CFLAGS@
383 FONTCONFIG_CFLAGS:=@FONTCONFIG_CFLAGS@
384 CUPS_CFLAGS:=@CUPS_CFLAGS@
385 ALSA_LIBS:=@ALSA_LIBS@
386 ALSA_CFLAGS:=@ALSA_CFLAGS@
387 LIBFFI_LIBS:=@LIBFFI_LIBS@
388 LIBFFI_CFLAGS:=@LIBFFI_CFLAGS@
389 ENABLE_LIBFFI_BUNDLING:=@ENABLE_LIBFFI_BUNDLING@
</pre>
<hr />
<pre>
609 SET_EXECUTABLE_ORIGIN=@SET_EXECUTABLE_ORIGIN@
610 
611 # Different OS:es have different ways of naming shared libraries.
612 # The SHARED_LIBRARY macro takes &quot;verify&quot; as and argument and returns:
613 #    &quot;libverify.so&quot; or &quot;libverify.dylib&quot; or &quot;verify.dll&quot; depending on platform.
614 # (Note absence of := assignment, because we do not want to evaluate the macro body here)
615 SHARED_LIBRARY=@SHARED_LIBRARY@
616 STATIC_LIBRARY=@STATIC_LIBRARY@
617 LIBRARY_PREFIX:=@LIBRARY_PREFIX@
618 SHARED_LIBRARY_SUFFIX:=@SHARED_LIBRARY_SUFFIX@
619 STATIC_LIBRARY_SUFFIX:=@STATIC_LIBRARY_SUFFIX@
620 EXE_SUFFIX:=@EXE_SUFFIX@
621 OBJ_SUFFIX:=@OBJ_SUFFIX@
622 STATIC_BUILD:=@STATIC_BUILD@
623 
624 STRIPFLAGS:=@STRIPFLAGS@
625 
626 JAVA_FLAGS:=@JAVA_FLAGS@
627 JAVA_FLAGS_BIG:=@JAVA_FLAGS_BIG@
628 JAVA_FLAGS_SMALL:=@JAVA_FLAGS_SMALL@
<span class="line-modified">629 JAVA_FLAGS_JAVAC:=@JAVA_FLAGS_JAVAC@</span>
630 JAVA_TOOL_FLAGS_SMALL:=@JAVA_TOOL_FLAGS_SMALL@
<span class="line-removed">631 SJAVAC_SERVER_JAVA_FLAGS:=@SJAVAC_SERVER_JAVA_FLAGS@</span>
632 
633 # The *_CMD variables are defined separately to be easily overridden in bootcycle-spec.gmk
634 # for bootcycle-images build. Make sure to keep them in sync. Do not use the *_CMD
635 # versions of the variables directly.
636 JAVA_CMD:=@JAVA@
637 JAVAC_CMD:=@JAVAC@
638 JAVADOC_CMD:=@JAVADOC@
639 JAR_CMD:=@JAR@
640 JLINK_CMD := @JLINK@
641 JMOD_CMD := @JMOD@
642 JARSIGNER_CMD:=@JARSIGNER@
<span class="line-modified">643 SJAVAC_SERVER_JAVA_CMD:=@SJAVAC_SERVER_JAVA@</span>
644 # These variables are meant to be used. They are defined with = instead of := to make
645 # it possible to override only the *_CMD variables.
646 JAVA=@FIXPATH@ $(JAVA_CMD) $(JAVA_FLAGS_BIG) $(JAVA_FLAGS)
647 JAVA_SMALL=@FIXPATH@ $(JAVA_CMD) $(JAVA_FLAGS_SMALL) $(JAVA_FLAGS)
<span class="line-modified">648 JAVA_JAVAC=@FIXPATH@ $(JAVA_CMD) $(JAVA_FLAGS_JAVAC) $(JAVA_FLAGS)</span>
649 JAVAC=@FIXPATH@ $(JAVAC_CMD)
650 JAVADOC=@FIXPATH@ $(JAVADOC_CMD)
651 JAR=@FIXPATH@ $(JAR_CMD)
652 JLINK = @FIXPATH@ $(JLINK_CMD) $(JAVA_TOOL_FLAGS_SMALL)
653 JMOD = @FIXPATH@ $(JMOD_CMD) $(JAVA_TOOL_FLAGS_SMALL)
654 JARSIGNER=@FIXPATH@ $(JARSIGNER_CMD)
<span class="line-modified">655 # A specific java binary with specific options can be used to run</span>
<span class="line-removed">656 # the long running background sjavac servers and other long running tasks.</span>
<span class="line-removed">657 SJAVAC_SERVER_JAVA=@FIXPATH@ @FIXPATH_DETACH_FLAG@ $(SJAVAC_SERVER_JAVA_CMD) \</span>
<span class="line-removed">658     $(SJAVAC_SERVER_JAVA_FLAGS)</span>
<span class="line-removed">659 </span>
<span class="line-removed">660 # Hotspot sets this variable before reading the SPEC when compiling sa-jdi.jar. Avoid</span>
<span class="line-removed">661 # overriding that value by using ?=.</span>
<span class="line-removed">662 JAVAC_FLAGS?=@JAVAC_FLAGS@</span>
<span class="line-removed">663 </span>
664 
665 BUILD_JAVA_FLAGS := @BOOTCYCLE_JVM_ARGS_BIG@
666 BUILD_JAVA=@FIXPATH@ $(BUILD_JDK)/bin/java $(BUILD_JAVA_FLAGS)
667 BUILD_JAR=@FIXPATH@ $(BUILD_JDK)/bin/jar
668 
669 # Interim langtools modules and arguments
670 INTERIM_LANGTOOLS_BASE_MODULES := java.compiler jdk.compiler jdk.javadoc
671 INTERIM_LANGTOOLS_MODULES := $(addsuffix .interim, $(INTERIM_LANGTOOLS_BASE_MODULES))
672 INTERIM_LANGTOOLS_ADD_EXPORTS := \
673     --add-exports java.base/sun.reflect.annotation=jdk.compiler.interim \
674     --add-exports java.base/jdk.internal.jmod=jdk.compiler.interim \
675     --add-exports java.base/jdk.internal.misc=jdk.compiler.interim \
676     #
677 INTERIM_LANGTOOLS_MODULES_COMMA := $(strip $(subst $(SPACE),$(COMMA),$(strip \
678     $(INTERIM_LANGTOOLS_MODULES))))
679 INTERIM_LANGTOOLS_ARGS := \
680     --limit-modules java.base,jdk.zipfs,$(INTERIM_LANGTOOLS_MODULES_COMMA) \
681     --add-modules $(INTERIM_LANGTOOLS_MODULES_COMMA) \
682     --module-path $(BUILDTOOLS_OUTPUTDIR)/interim_langtools_modules \
683     $(INTERIM_LANGTOOLS_ADD_EXPORTS) \
</pre>
</td>
<td>
<hr />
<pre>
108 OPENJDK_BUILD_OS:=@OPENJDK_BUILD_OS@
109 OPENJDK_BUILD_OS_TYPE:=@OPENJDK_BUILD_OS_TYPE@
110 OPENJDK_BUILD_OS_ENV:=@OPENJDK_BUILD_OS_ENV@
111 
112 OPENJDK_BUILD_CPU:=@OPENJDK_BUILD_CPU@
113 OPENJDK_BUILD_CPU_ARCH:=@OPENJDK_BUILD_CPU_ARCH@
114 OPENJDK_BUILD_CPU_BITS:=@OPENJDK_BUILD_CPU_BITS@
115 OPENJDK_BUILD_CPU_ENDIAN:=@OPENJDK_BUILD_CPU_ENDIAN@
116 
117 OPENJDK_BUILD_LIBC:=@OPENJDK_BUILD_LIBC@
118 
119 OPENJDK_BUILD_OS_INCLUDE_SUBDIR:=@OPENJDK_TARGET_OS_INCLUDE_SUBDIR@
120 
121 # Target platform value in ModuleTarget class file attribute.
122 OPENJDK_MODULE_TARGET_PLATFORM:=@OPENJDK_MODULE_TARGET_PLATFORM@
123 
124 # OS_* properties in release file
125 RELEASE_FILE_OS_NAME:=@RELEASE_FILE_OS_NAME@
126 RELEASE_FILE_OS_ARCH:=@RELEASE_FILE_OS_ARCH@
127 
<span class="line-added">128 SOURCE_DATE := @SOURCE_DATE@</span>
<span class="line-added">129 ENABLE_REPRODUCIBLE_BUILD := @ENABLE_REPRODUCIBLE_BUILD@</span>
<span class="line-added">130 </span>
131 LIBM:=@LIBM@
132 LIBDL:=@LIBDL@
133 
134 # colon or semicolon
135 PATH_SEP:=@PATH_SEP@
136 
137 # Save the original path before replacing it with the Visual Studio tools
138 ORIGINAL_PATH:=@ORIGINAL_PATH@
139 ifeq ($(OPENJDK_TARGET_OS), windows)
140   # On Windows, the Visual Studio toolchain needs the PATH to be adjusted
141   # to include Visual Studio tools (this needs to be in cygwin/msys style).
142   ifeq ($(OPENJDK_TARGET_OS_ENV), windows.wsl)
143     export FIXPATH_PATH:=@VS_PATH_WINDOWS@
144     export WSLENV:=$(WSLENV):FIXPATH_PATH:DEBUG_FIXPATH
145   else
146     export PATH:=@VS_PATH@
147   endif
148 endif
149 
150 SYSROOT_CFLAGS := @SYSROOT_CFLAGS@
</pre>
<hr />
<pre>
347 
348 BUILD_CDS_ARCHIVE := @BUILD_CDS_ARCHIVE@
349 
350 ALLOW_ABSOLUTE_PATHS_IN_OUTPUT := @ALLOW_ABSOLUTE_PATHS_IN_OUTPUT@
351 
352 # The boot jdk to use. This is overridden in bootcycle-spec.gmk. Make sure to keep
353 # it in sync.
354 BOOT_JDK:=@BOOT_JDK@
355 
356 BUILD_JDK:=@BUILD_JDK@
357 CREATE_BUILDJDK:=@CREATE_BUILDJDK@
358 EXTERNAL_BUILDJDK:=@EXTERNAL_BUILDJDK@
359 
360 # When compiling Java source to be run by the boot jdk
361 # use these extra flags, eg -source 6 -target 6
362 BOOT_JDK_SOURCETARGET:=@BOOT_JDK_SOURCETARGET@
363 
364 # Information about the build system
365 NUM_CORES:=@NUM_CORES@
366 MEMORY_SIZE:=@MEMORY_SIZE@
<span class="line-modified">367 ENABLE_JAVAC_SERVER:=@ENABLE_JAVAC_SERVER@</span>
<span class="line-modified">368 # Store javac server synchronization files here, and</span>
<span class="line-modified">369 # the javac server log files.</span>



370 JAVAC_SERVER_DIR=$(MAKESUPPORT_OUTPUTDIR)/javacservers
371 
372 # Number of parallel jobs to use for compilation
373 JOBS?=@JOBS@
374 TEST_JOBS?=@TEST_JOBS@
375 
376 # Default make target
377 DEFAULT_MAKE_TARGET:=@DEFAULT_MAKE_TARGET@
378 DEFAULT_LOG:=@DEFAULT_LOG@
379 
380 FREETYPE_TO_USE:=@FREETYPE_TO_USE@
381 FREETYPE_LIBS:=@FREETYPE_LIBS@
382 FREETYPE_CFLAGS:=@FREETYPE_CFLAGS@
383 FONTCONFIG_CFLAGS:=@FONTCONFIG_CFLAGS@
384 CUPS_CFLAGS:=@CUPS_CFLAGS@
385 ALSA_LIBS:=@ALSA_LIBS@
386 ALSA_CFLAGS:=@ALSA_CFLAGS@
387 LIBFFI_LIBS:=@LIBFFI_LIBS@
388 LIBFFI_CFLAGS:=@LIBFFI_CFLAGS@
389 ENABLE_LIBFFI_BUNDLING:=@ENABLE_LIBFFI_BUNDLING@
</pre>
<hr />
<pre>
609 SET_EXECUTABLE_ORIGIN=@SET_EXECUTABLE_ORIGIN@
610 
611 # Different OS:es have different ways of naming shared libraries.
612 # The SHARED_LIBRARY macro takes &quot;verify&quot; as and argument and returns:
613 #    &quot;libverify.so&quot; or &quot;libverify.dylib&quot; or &quot;verify.dll&quot; depending on platform.
614 # (Note absence of := assignment, because we do not want to evaluate the macro body here)
615 SHARED_LIBRARY=@SHARED_LIBRARY@
616 STATIC_LIBRARY=@STATIC_LIBRARY@
617 LIBRARY_PREFIX:=@LIBRARY_PREFIX@
618 SHARED_LIBRARY_SUFFIX:=@SHARED_LIBRARY_SUFFIX@
619 STATIC_LIBRARY_SUFFIX:=@STATIC_LIBRARY_SUFFIX@
620 EXE_SUFFIX:=@EXE_SUFFIX@
621 OBJ_SUFFIX:=@OBJ_SUFFIX@
622 STATIC_BUILD:=@STATIC_BUILD@
623 
624 STRIPFLAGS:=@STRIPFLAGS@
625 
626 JAVA_FLAGS:=@JAVA_FLAGS@
627 JAVA_FLAGS_BIG:=@JAVA_FLAGS_BIG@
628 JAVA_FLAGS_SMALL:=@JAVA_FLAGS_SMALL@
<span class="line-modified">629 BUILDJDK_JAVA_FLAGS_SMALL:=@BUILDJDK_JAVA_FLAGS_SMALL@</span>
630 JAVA_TOOL_FLAGS_SMALL:=@JAVA_TOOL_FLAGS_SMALL@

631 
632 # The *_CMD variables are defined separately to be easily overridden in bootcycle-spec.gmk
633 # for bootcycle-images build. Make sure to keep them in sync. Do not use the *_CMD
634 # versions of the variables directly.
635 JAVA_CMD:=@JAVA@
636 JAVAC_CMD:=@JAVAC@
637 JAVADOC_CMD:=@JAVADOC@
638 JAR_CMD:=@JAR@
639 JLINK_CMD := @JLINK@
640 JMOD_CMD := @JMOD@
641 JARSIGNER_CMD:=@JARSIGNER@
<span class="line-modified">642 JJS_CMD:=@JJS@</span>
643 # These variables are meant to be used. They are defined with = instead of := to make
644 # it possible to override only the *_CMD variables.
645 JAVA=@FIXPATH@ $(JAVA_CMD) $(JAVA_FLAGS_BIG) $(JAVA_FLAGS)
646 JAVA_SMALL=@FIXPATH@ $(JAVA_CMD) $(JAVA_FLAGS_SMALL) $(JAVA_FLAGS)
<span class="line-modified">647 JAVA_DETACH =@FIXPATH@ @FIXPATH_DETACH_FLAG@ $(JAVA_CMD) $(JAVA_FLAGS_BIG) $(JAVA_FLAGS)</span>
648 JAVAC=@FIXPATH@ $(JAVAC_CMD)
649 JAVADOC=@FIXPATH@ $(JAVADOC_CMD)
650 JAR=@FIXPATH@ $(JAR_CMD)
651 JLINK = @FIXPATH@ $(JLINK_CMD) $(JAVA_TOOL_FLAGS_SMALL)
652 JMOD = @FIXPATH@ $(JMOD_CMD) $(JAVA_TOOL_FLAGS_SMALL)
653 JARSIGNER=@FIXPATH@ $(JARSIGNER_CMD)
<span class="line-modified">654 JJS=@FIXPATH@ $(JJS_CMD) $(JAVA_TOOL_FLAGS_SMALL)</span>








655 
656 BUILD_JAVA_FLAGS := @BOOTCYCLE_JVM_ARGS_BIG@
657 BUILD_JAVA=@FIXPATH@ $(BUILD_JDK)/bin/java $(BUILD_JAVA_FLAGS)
658 BUILD_JAR=@FIXPATH@ $(BUILD_JDK)/bin/jar
659 
660 # Interim langtools modules and arguments
661 INTERIM_LANGTOOLS_BASE_MODULES := java.compiler jdk.compiler jdk.javadoc
662 INTERIM_LANGTOOLS_MODULES := $(addsuffix .interim, $(INTERIM_LANGTOOLS_BASE_MODULES))
663 INTERIM_LANGTOOLS_ADD_EXPORTS := \
664     --add-exports java.base/sun.reflect.annotation=jdk.compiler.interim \
665     --add-exports java.base/jdk.internal.jmod=jdk.compiler.interim \
666     --add-exports java.base/jdk.internal.misc=jdk.compiler.interim \
667     #
668 INTERIM_LANGTOOLS_MODULES_COMMA := $(strip $(subst $(SPACE),$(COMMA),$(strip \
669     $(INTERIM_LANGTOOLS_MODULES))))
670 INTERIM_LANGTOOLS_ARGS := \
671     --limit-modules java.base,jdk.zipfs,$(INTERIM_LANGTOOLS_MODULES_COMMA) \
672     --add-modules $(INTERIM_LANGTOOLS_MODULES_COMMA) \
673     --module-path $(BUILDTOOLS_OUTPUTDIR)/interim_langtools_modules \
674     $(INTERIM_LANGTOOLS_ADD_EXPORTS) \
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../index.html" target="_top">index</a> <a href="../conf/jib-profiles.js.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>